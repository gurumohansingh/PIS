(function(b,a){if(typeof exports==='object'){module.exports=a()}else {if(typeof define==='function'&&define.amd){define([],a)}else {b.ol=a()}}})(this,function(){var OPENLAYERS={};var goog=this.goog={};this.CLOSURE_NO_DEPS=!0;var COMPILED=!1;var goog=goog||{};goog.global=this;goog.global.CLOSURE_UNCOMPILED_DEFINES;goog.global.CLOSURE_DEFINES;goog.isDef=function(a){return a!==void 0};goog.isString=function(a){return typeof a=='string'};goog.isBoolean=function(a){return typeof a=='boolean'};goog.isNumber=function(a){return typeof a=='number'};goog.exportPath_=function(f,d,e){var c=f.split('.');var a=e||goog.global;if(!(c[0] in a)&&a.execScript){a.execScript('var '+c[0])}for(var b;c.length&&(b=c.shift());){if(!c.length&&goog.isDef(d)){a[b]=d}else {if(a[b]&&a[b]!==Object.prototype[b]){a=a[b]}else {a=a[b]={}}}}};goog.define=function(a,c){var b=c;if(!COMPILED){if(goog.global.CLOSURE_UNCOMPILED_DEFINES&&goog.global.CLOSURE_UNCOMPILED_DEFINES.nodeType===undefined&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)){b=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]}else {if(goog.global.CLOSURE_DEFINES&&goog.global.CLOSURE_DEFINES.nodeType===undefined&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)){b=goog.global.CLOSURE_DEFINES[a]}}}goog.exportPath_(a,b)};goog.define('goog.DEBUG',!0);goog.define('goog.LOCALE','en');goog.define('goog.TRUSTED_SITE',!0);goog.define('goog.STRICT_MODE_COMPATIBLE',!1);goog.define('goog.DISALLOW_TEST_ONLY_CODE',COMPILED&&!goog.DEBUG);goog.define('goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING',!1);goog.provide=function(a){if(goog.isInModuleLoader_()){throw new Error('goog.provide can not be used within a goog.module.')}if(!COMPILED){if(goog.isProvided_(a)){throw new Error('Namespace "'+a+'" already declared.')}}goog.constructNamespace_(a)};goog.constructNamespace_=function(b,c){if(!COMPILED){delete goog.implicitNamespaces_[b];var a=b;while(a=a.substring(0,a.lastIndexOf('.'))){if(goog.getObjectByName(a)){break}goog.implicitNamespaces_[a]=!0}}goog.exportPath_(b,c)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(a){if(!goog.isString(a)||!a||a.search(goog.VALID_MODULE_RE_)==-1){throw new Error('Invalid module identifier')}if(!goog.isInModuleLoader_()){throw new Error('Module '+a+' has been loaded incorrectly. Note, '+'modules cannot be loaded as normal scripts. They require some kind of '+"pre-processing step. You're likely trying to load a module via a "+'script tag or as a part of a concatenated bundle without rewriting the '+'module. For more info see: '+'https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.')}if(goog.moduleLoaderState_.moduleName){throw new Error('goog.module may only be called once per module.')}goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a)){throw new Error('Namespace "'+a+'" already declared.')}delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED){if(a in goog.loadedModules_){return goog.loadedModules_[a]}else {if(!goog.implicitNamespaces_[a]){var b=goog.getObjectByName(a);return b!=null?b:null}}}return null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_()){throw new Error('goog.module.declareLegacyNamespace must be called from '+'within a goog.module')}if(!COMPILED&&!goog.moduleLoaderState_.moduleName){throw new Error('goog.module must be called prior to '+'goog.module.declareLegacyNamespace.')}goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE){a=a||'';throw new Error('Importing test-only code into non-debug environment'+(a?': '+a:'.'))}};goog.forwardDeclare=function(a){};goog.forwardDeclare('Document');goog.forwardDeclare('HTMLScriptElement');goog.forwardDeclare('XMLHttpRequest');if(!COMPILED){goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))};goog.implicitNamespaces_={'goog.module':!0}}goog.getObjectByName=function(e,d){var c=e.split('.');var a=d||goog.global;for(var b=0;b<c.length;b++){a=a[c[b]];if(!goog.isDefAndNotNull(a)){return null}}return a};goog.globalize=function(a,c){var d=c||goog.global;for(var b in a){d[b]=a[b]}};goog.addDependency=function(j,h,i,a){if(goog.DEPENDENCIES_ENABLED){var d,e;var c=j.replace(/\\/g,'/');var b=goog.dependencies_;if(!a||typeof a==='boolean'){a=a?{'module':'goog'}:{}}for(var f=0;d=h[f];f++){b.nameToPath[d]=c;b.loadFlags[c]=a}for(var g=0;e=i[g];g++){if(!(c in b.requires)){b.requires[c]={}}b.requires[c][e]=!0}}};goog.define('goog.ENABLE_DEBUG_LOADER',!0);goog.logToConsole_=function(a){if(goog.global.console){goog.global.console['error'](a)}};goog.require=function(a){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_){goog.maybeProcessDeferredDep_(a)}if(goog.isProvided_(a)){if(goog.isInModuleLoader_()){return goog.module.getInternal_(a)}}else {if(goog.ENABLE_DEBUG_LOADER){var c=goog.getPathFromDeps_(a);if(c){goog.writeScripts_(c)}else {var b='goog.require could not find: '+a;goog.logToConsole_(b);throw new Error(b)}}}return null}};goog.basePath='';goog.global.CLOSURE_BASE_PATH;goog.global.CLOSURE_NO_DEPS;goog.global.CLOSURE_IMPORT_SCRIPT;goog.nullFunction=function(){};goog.abstractMethod=function(){throw new Error('unimplemented abstract method')};goog.addSingletonGetter=function(a){a.instance_=undefined;a.getInstance=function(){if(a.instance_){return a.instance_}if(goog.DEBUG){goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a}return a.instance_=new a()}};goog.instantiatedSingletons_=[];goog.define('goog.LOAD_MODULE_USING_EVAL',!0);goog.define('goog.SEAL_MODULE_EXPORTS',goog.DEBUG);goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.define('goog.TRANSPILE','detect');goog.define('goog.TRANSPILER','transpile.js');if(goog.DEPENDENCIES_ENABLED){goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}};goog.inHtmlDocument_=function(){var a=goog.global.document;return a!=null&&'write' in a};goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH)){goog.basePath=goog.global.CLOSURE_BASE_PATH;return}else {if(!goog.inHtmlDocument_()){return}}var f=goog.global.document;var d=f.currentScript;if(d){var b=[d]}else {var b=f.getElementsByTagName('SCRIPT')}for(var c=b.length-1;c>=0;--c){var h=b[c];var a=h.src;var e=a.lastIndexOf('?');var g=e==-1?a.length:e;if(a.substr(g-7,7)=='base.js'){goog.basePath=a.substr(0,g-7);return}}};goog.importScript_=function(a,b){var c=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;if(c(a,b)){goog.dependencies_.written[a]=!0}};goog.IS_OLD_IE_=!!(!goog.global.atob&&goog.global.document&&goog.global.document.all);goog.oldIeWaiting_=!1;goog.importProcessedScript_=function(d,c,a){var b='goog.retrieveAndExec_("'+d+'", '+c+', '+a+');';goog.importScript_('',b)};goog.queuedModules_=[];goog.wrapModule_=function(b,a){if(!goog.LOAD_MODULE_USING_EVAL||!goog.isDef(goog.global.JSON)){return ''+'goog.loadModule(function(exports) {'+'"use strict";'+a+'\n'+';return exports'+'});'+'\n//# sourceURL='+b+'\n'}else {return ''+'goog.loadModule('+goog.global.JSON.stringify(a+'\n//# sourceURL='+b+'\n')+');'}};goog.loadQueuedModules_=function(){var b=goog.queuedModules_.length;if(b>0){var c=goog.queuedModules_;goog.queuedModules_=[];for(var a=0;a<b;a++){var d=c[a];goog.maybeProcessDeferredPath_(d)}}goog.oldIeWaiting_=!1};goog.maybeProcessDeferredDep_=function(a){if(goog.isDeferredModule_(a)&&goog.allDepsAreAvailable_(a)){var b=goog.getPathFromDeps_(a);goog.maybeProcessDeferredPath_(goog.basePath+b)}};goog.isDeferredModule_=function(e){var a=goog.getPathFromDeps_(e);var b=a&&goog.dependencies_.loadFlags[a]||{};var c=b['lang']||'es3';if(a&&(b['module']=='goog'||goog.needsTranspile_(c))){var d=goog.basePath+a;return d in goog.dependencies_.deferred}return !1};goog.allDepsAreAvailable_=function(c){var a=goog.getPathFromDeps_(c);if(a&&a in goog.dependencies_.requires){for(var b in goog.dependencies_.requires[a]){if(!goog.isProvided_(b)&&!goog.isDeferredModule_(b)){return !1}}}return !0};goog.maybeProcessDeferredPath_=function(a){if(a in goog.dependencies_.deferred){var b=goog.dependencies_.deferred[a];delete goog.dependencies_.deferred[a];goog.globalEval(b)}};goog.loadModuleFromUrl=function(a){goog.retrieveAndExec_(a,!0,!1)};goog.writeScriptSrcNode_=function(a){goog.global.document.write('<script type="text/javascript" src="'+a+'"></'+'script>')};goog.appendScriptSrcNode_=function(c){var b=goog.global.document;var a=b.createElement('script');a.type='text/javascript';a.src=c;a.defer=!1;a.async=!1;b.head.appendChild(a)};goog.writeScriptTag_=function(a,c){if(goog.inHtmlDocument_()){var b=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&b.readyState=='complete'){var d=/\bdeps.js$/.test(a);if(d){return !1}else {throw new Error('Cannot write "'+a+'" after document load')}}if(c===undefined){if(!goog.IS_OLD_IE_){if(goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){goog.appendScriptSrcNode_(a)}else {goog.writeScriptSrcNode_(a)}}else {goog.oldIeWaiting_=!0;var e=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";b.write('<script type="text/javascript" src="'+a+'"'+e+'></'+'script>')}}else {b.write('<script type="text/javascript">'+goog.protectScriptTag_(c)+'</'+'script>')}return !0}else {return !1}};goog.protectScriptTag_=function(a){return a.replace(/<\/(SCRIPT)/ig,'\\x3c/$1')};goog.needsTranspile_=function(a){if(goog.TRANSPILE=='always'){return !0}else {if(goog.TRANSPILE=='never'){return !1}else {if(!goog.requiresTranspilation_){goog.requiresTranspilation_=goog.createRequiresTranspilation_()}}}if(a in goog.requiresTranspilation_){return goog.requiresTranspilation_[a]}else {throw new Error('Unknown language mode: '+a)}};goog.requiresTranspilation_=null;goog.lastNonModuleScriptIndex_=0;goog.onScriptLoad_=function(b,a){if(b.readyState=='complete'&&goog.lastNonModuleScriptIndex_==a){goog.loadQueuedModules_()}return !0};goog.writeScripts_=function(j){var d=[];var h={};var a=goog.dependencies_;function visitNode(b){if(b in a.written){return}if(b in a.visited){return}a.visited[b]=!0;if(b in a.requires){for(var c in a.requires[b]){if(!goog.isProvided_(c)){if(c in a.nameToPath){visitNode(a.nameToPath[c])}else {throw new Error('Undefined nameToPath for '+c)}}}}if(!(b in h)){h[b]=!0;d.push(b)}}visitNode(j);for(var b=0;b<d.length;b++){var c=d[b];goog.dependencies_.written[c]=!0}var g=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var b=0;b<d.length;b++){var c=d[b];if(c){var e=a.loadFlags[c]||{};var i=e['lang']||'es3';var f=goog.needsTranspile_(i);if(e['module']=='goog'||f){goog.importProcessedScript_(goog.basePath+c,e['module']=='goog',f)}else {goog.importScript_(goog.basePath+c)}}else {goog.moduleLoaderState_=g;throw new Error('Undefined script input')}}goog.moduleLoaderState_=g};goog.getPathFromDeps_=function(a){if(a in goog.dependencies_.nameToPath){return goog.dependencies_.nameToPath[a]}else {return null}};goog.findBasePath_();if(!goog.global.CLOSURE_NO_DEPS){goog.importScript_(goog.basePath+'deps.js')}}goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){var hasBadLetScoping;try{hasBadLetScoping=!eval('"use strict";'+'let x = 1; function f() { return typeof x; };'+'f() == "number";')}catch(a){hasBadLetScoping=!1}goog.hasBadLetScoping=hasBadLetScoping}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(a){return '(function(){'+a+'\n'+';'+'})();\n'};goog.loadModule=function(b){var d=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:undefined,declareLegacyNamespace:!1};var a;if(goog.isFunction(b)){a=b.call(undefined,{})}else {if(goog.isString(b)){if(goog.useSafari10Workaround()){b=goog.workaroundSafari10EvalBug(b)}a=goog.loadModuleFromSource_.call(undefined,b)}else {throw new Error('Invalid module definition')}}var c=goog.moduleLoaderState_.moduleName;if(!goog.isString(c)||!c){throw new Error('Invalid module name "'+c+'"')}if(goog.moduleLoaderState_.declareLegacyNamespace){goog.constructNamespace_(c,a)}else {if(goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof a=='object'&&a!=null){Object.seal(a)}}goog.loadedModules_[c]=a}finally{goog.moduleLoaderState_=d}};goog.loadModuleFromSource_=function(){var exports={};eval(arguments[0]);return exports};goog.normalizePath_=function(c){var b=c.split('/');var a=0;while(a<b.length){if(b[a]=='.'){b.splice(a,1)}else {if(a&&b[a]=='..'&&b[a-1]&&b[a-1]!='..'){b.splice(--a,2)}else {a++}}}return b.join('/')};goog.global.CLOSURE_LOAD_FILE_SYNC;goog.loadFileSync_=function(b){if(goog.global.CLOSURE_LOAD_FILE_SYNC){return goog.global.CLOSURE_LOAD_FILE_SYNC(b)}else {try{var a=new goog.global['XMLHttpRequest']();a.open('get',b,!1);a.send();return a.status==0||a.status==200?a.responseText:null}catch(c){return null}}};goog.retrieveAndExec_=function(a,f,d){if(!COMPILED){var c=a;a=goog.normalizePath_(a);var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;var b=goog.loadFileSync_(a);if(b==null){throw new Error('Load of "'+a+'" failed')}if(d){b=goog.transpile_.call(goog.global,b,a)}if(f){b=goog.wrapModule_(a,b)}else {b+='\n//# sourceURL='+a}var g=goog.IS_OLD_IE_;if(g&&goog.oldIeWaiting_){goog.dependencies_.deferred[c]=b;goog.queuedModules_.push(c)}else {e(a,b)}}};goog.transpile_=function(code,path){var jscomp=goog.global['$jscomp'];if(!jscomp){goog.global['$jscomp']=jscomp={}}var transpile=jscomp.transpile;if(!transpile){var transpilerPath=goog.basePath+goog.TRANSPILER;var transpilerCode=goog.loadFileSync_(transpilerPath);if(transpilerCode){eval(transpilerCode+'\n//# sourceURL='+transpilerPath);if(goog.global['$gwtExport']&&goog.global['$gwtExport']['$jscomp']&&!goog.global['$gwtExport']['$jscomp']['transpile']){throw new Error('The transpiler did not properly export the "transpile" '+'method. $gwtExport: '+JSON.stringify(goog.global['$gwtExport']))}goog.global['$jscomp'].transpile=goog.global['$gwtExport']['$jscomp']['transpile'];jscomp=goog.global['$jscomp'];transpile=jscomp.transpile}}if(!transpile){var suffix=' requires transpilation but no transpiler was found.';transpile=jscomp.transpile=function(a,b){goog.logToConsole_(b+suffix);return a}}return transpile(code,path)};goog.typeOf=function(a){var b=typeof a;if(b=='object'){if(a){if(a instanceof Array){return 'array'}else {if(a instanceof Object){return b}}var c=Object.prototype.toString.call(a);if(c=='[object Window]'){return 'object'}if(c=='[object Array]'||typeof a.length=='number'&&typeof a.splice!='undefined'&&typeof a.propertyIsEnumerable!='undefined'&&!a.propertyIsEnumerable('splice')){return 'array'}if(c=='[object Function]'||typeof a.call!='undefined'&&typeof a.propertyIsEnumerable!='undefined'&&!a.propertyIsEnumerable('call')){return 'function'}}else {return 'null'}}else {if(b=='function'&&typeof a.call=='undefined'){return 'object'}}return b};goog.isNull=function(a){return a===null};goog.isDefAndNotNull=function(a){return a!=null};goog.isArray=function(a){return goog.typeOf(a)=='array'};goog.isArrayLike=function(b){var a=goog.typeOf(b);return a=='array'||a=='object'&&typeof b.length=='number'};goog.isDateLike=function(a){return goog.isObject(a)&&typeof a.getFullYear=='function'};goog.isFunction=function(a){return goog.typeOf(a)=='function'};goog.isObject=function(b){var a=typeof b;return a=='object'&&b!=null||a=='function'};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return !!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){if(a!==null&&'removeAttribute' in a){a.removeAttribute(goog.UID_PROPERTY_)}try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_='closure_uid_'+(Math.random()*1000000000>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if(b=='object'||b=='array'){if(a.clone){return a.clone()}var c=b=='array'?[]:{};for(var d in a){c[d]=goog.cloneObject(a[d])}return c}return a};goog.bindNative_=function(a,c,b){return a.call.apply(a.bind,arguments)};goog.bindJs_=function(a,b,d){if(!a){throw new Error()}if(arguments.length>2){var c=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,c);return a.apply(b,e)}}else {return function(){return a.apply(b,arguments)}}};goog.bind=function(c,b,a){if(Function.prototype.bind&&Function.prototype.bind.toString().indexOf('native code')!=-1){goog.bind=goog.bindNative_}else {goog.bind=goog.bindJs_}return goog.bind.apply(null,arguments)};goog.partial=function(b,c){var a=Array.prototype.slice.call(arguments,1);return function(){var d=a.slice();d.push.apply(d,arguments);return b.apply(this,d)}};goog.mixin=function(c,a){for(var b in a){c[b]=a[b]}};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return +new Date()};goog.globalEval=function(c){if(goog.global.execScript){goog.global.execScript(c,'JavaScript')}else {if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval('var _evalTest_ = 1;');if(typeof goog.global['_evalTest_']!='undefined'){try{delete goog.global['_evalTest_']}catch(d){}goog.evalWorksForGlobals_=!0}else {goog.evalWorksForGlobals_=!1}}if(goog.evalWorksForGlobals_){goog.global.eval(c)}else {var b=goog.global.document;var a=b.createElement('SCRIPT');a.type='text/javascript';a.defer=!1;a.appendChild(b.createTextNode(c));b.body.appendChild(a);b.body.removeChild(a)}}else {throw new Error('goog.globalEval not available')}}};goog.evalWorksForGlobals_=null;goog.cssNameMapping_;goog.cssNameMappingStyle_;goog.global.CLOSURE_CSS_NAME_MAP_FN;goog.getCssName=function(a,c){if(String(a).charAt(0)=='.'){throw new Error('className passed in goog.getCssName must not start with ".".'+' You passed: '+a)}var d=function(b){return goog.cssNameMapping_[b]||b};var f=function(g){var f=g.split('-');var e=[];for(var b=0;b<f.length;b++){e.push(d(f[b]))}return e.join('-')};var b;if(goog.cssNameMapping_){b=goog.cssNameMappingStyle_=='BY_WHOLE'?d:f}else {b=function(b){return b}}var e=c?a+'-'+b(c):b(a);if(goog.global.CLOSURE_CSS_NAME_MAP_FN){return goog.global.CLOSURE_CSS_NAME_MAP_FN(e)}return e};goog.setCssNameMapping=function(b,a){goog.cssNameMapping_=b;goog.cssNameMappingStyle_=a};goog.global.CLOSURE_CSS_NAME_MAPPING;if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING){goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING}goog.getMsg=function(b,a){if(a){b=b.replace(/\{\$([^}]+)}/g,function(d,c){return a!=null&&c in a?a[c]:d})}return b};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(b,c,a){goog.exportPath_(b,c,a)};goog.exportProperty=function(b,a,c){b[a]=c};goog.inherits=function(a,b){function tempCtor(){}tempCtor.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new tempCtor();a.prototype.constructor=a;a.base=function(f,e,g){var d=new Array(arguments.length-2);for(var c=2;c<arguments.length;c++){d[c-2]=arguments[c]}return b.prototype[e].apply(f,d)}};goog.base=function(c,e,i){var d=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d){throw new Error('arguments.caller not defined.  goog.base() cannot be used '+'with strict mode code. See '+'http://www.ecma-international.org/ecma-262/5.1/#sec-C')}if(d.superClass_){var h=new Array(arguments.length-1);for(var a=1;a<arguments.length;a++){h[a-1]=arguments[a]}return d.superClass_.constructor.apply(c,h)}var f=new Array(arguments.length-2);for(var a=2;a<arguments.length;a++){f[a-2]=arguments[a]}var g=!1;for(var b=c.constructor;b;b=b.superClass_&&b.superClass_.constructor){if(b.prototype[e]===d){g=!0}else {if(g){return b.prototype[e].apply(c,f)}}}if(c[e]===d){return c.constructor.prototype[e].apply(c,f)}else {throw new Error('goog.base called from a method of one name '+'to a method of a different name')}};goog.scope=function(a){if(goog.isInModuleLoader_()){throw new Error('goog.scope is not supported within a goog.module.')}a.call(goog.global)};if(!COMPILED){goog.global['COMPILED']=COMPILED}goog.defineClass=function(e,b){var c=b.constructor;var d=b.statics;if(!c||c==Object.prototype.constructor){c=function(){throw new Error('cannot instantiate an interface (no constructor defined).')}}var a=goog.defineClass.createSealingConstructor_(c,e);if(e){goog.inherits(a,e)}delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(a.prototype,b);if(d!=null){if(d instanceof Function){d(a)}else {goog.defineClass.applyProperties_(a,d)}}return a};goog.defineClass.ClassDescriptor;goog.define('goog.defineClass.SEAL_CLASS_INSTANCES',goog.DEBUG);goog.defineClass.createSealingConstructor_=function(b,d){if(!goog.defineClass.SEAL_CLASS_INSTANCES){return b}var c=!goog.defineClass.isUnsealable_(d);var a=function(){var e=b.apply(this,arguments)||this;e[goog.UID_PROPERTY_]=e[goog.UID_PROPERTY_];if(this.constructor===a&&c&&Object.seal instanceof Function){Object.seal(e)}return e};return a};goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf'];goog.defineClass.applyProperties_=function(d,b){var a;for(a in b){if(Object.prototype.hasOwnProperty.call(b,a)){d[a]=b[a]}}for(var c=0;c<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;c++){a=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[c];if(Object.prototype.hasOwnProperty.call(b,a)){d[a]=b[a]}}};goog.tagUnsealableClass=function(a){if(!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES){a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0}};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_='goog_defineClass_legacy_unsealable';goog.createRequiresTranspilation_=function(){var requiresTranspilation={'es3':!1};var transpilationRequiredForAllLaterModes=!1;function addNewerLanguageTranspilationCheck(a,b){if(transpilationRequiredForAllLaterModes){requiresTranspilation[a]=!0}else {if(b()){requiresTranspilation[a]=!1}else {requiresTranspilation[a]=!0;transpilationRequiredForAllLaterModes=!0}}}function evalCheck(code){try{return !!eval(code)}catch(a){return !1}}var userAgent=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:'';addNewerLanguageTranspilationCheck('es5',function(){return evalCheck('[1,].length==1')});addNewerLanguageTranspilationCheck('es6',function(){var c=/Edge\/(\d+)(\.\d)*/i;var a=userAgent.match(c);if(a&&Number(a[1])<15){return !1}var b='class X{constructor(){if(new.target!=String)throw 1;this.x=42}}'+'let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof '+'String))throw 1;for(const a of[2,3]){if(a==2)continue;function '+'f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()'+'==3}';return evalCheck('(()=>{"use strict";'+b+'})()')});addNewerLanguageTranspilationCheck('es6-impl',function(){return !0});addNewerLanguageTranspilationCheck('es7',function(){return evalCheck('2 ** 2 == 4')});addNewerLanguageTranspilationCheck('es8',function(){return evalCheck('async () => 1, true')});return requiresTranspilation};goog.provide('ol.array');ol.array.binarySearch=function(e,i,g){var b,d;var h=g||ol.array.numberSafeCompareFunction;var a=0;var c=e.length;var f=!1;while(a<c){b=a+(c-a>>1);d=+h(e[b],i);if(d<0){a=b+1}else {c=b;f=!d}}return f?a:~a};ol.array.numberSafeCompareFunction=function(a,b){return a>b?1:a<b?-1:0};ol.array.includes=function(a,b){return a.indexOf(b)>=0};ol.array.linearFindNearest=function(b,c,e){var d=b.length;if(b[0]<=c){return 0}else {if(c<=b[d-1]){return d-1}else {var a;if(e>0){for(a=1;a<d;++a){if(b[a]<c){return a-1}}}else {if(e<0){for(a=1;a<d;++a){if(b[a]<=c){return a}}}else {for(a=1;a<d;++a){if(b[a]==c){return a}else {if(b[a]<c){if(b[a-1]-c<c-b[a]){return a-1}else {return a}}}}}}return d-1}}};ol.array.reverseSubArray=function(b,a,c){while(a<c){var d=b[a];b[a]=b[c];b[c]=d;++a;--c}};ol.array.extend=function(d,b){var a;var c=Array.isArray(b)?b:[b];var e=c.length;for(a=0;a<e;a++){d[d.length]=c[a]}};ol.array.remove=function(b,d){var c=b.indexOf(d);var a=c>-1;if(a){b.splice(c,1)}return a};ol.array.find=function(c,e){var d=c.length>>>0;var b;for(var a=0;a<d;a++){b=c[a];if(e(b,a,c)){return b}}return null};ol.array.equals=function(b,c){var d=b.length;if(d!==c.length){return !1}for(var a=0;a<d;a++){if(b[a]!==c[a]){return !1}}return !0};ol.array.stableSort=function(b,d){var e=b.length;var c=Array(b.length);var a;for(a=0;a<e;a++){c[a]={index:a,value:b[a]}}c.sort(function(a,c){return d(a.value,c.value)||a.index-c.index});for(a=0;a<b.length;a++){b[a]=c[a].value}};ol.array.findIndex=function(b,d){var a;var c=!b.every(function(e,c){a=c;return !d(e,c,b)});return c?a:-1};ol.array.isSorted=function(a,c,b){var d=c||ol.array.numberSafeCompareFunction;return a.every(function(g,e){if(e===0){return !0}var f=d(a[e-1],g);return !(f>0||b&&f===0)})};goog.provide('ol');ol.ASSUME_TOUCH=!1;ol.DEFAULT_MAX_ZOOM=42;ol.DEFAULT_MIN_ZOOM=0;ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=0.5;ol.DEFAULT_TILE_SIZE=256;ol.DEFAULT_WMS_VERSION='1.3.0';ol.ENABLE_CANVAS=!0;ol.ENABLE_PROJ4JS=!0;ol.ENABLE_RASTER_REPROJECTION=!0;ol.ENABLE_WEBGL=!0;ol.DEBUG_WEBGL=!0;ol.INITIAL_ATLAS_SIZE=256;ol.MAX_ATLAS_SIZE=-1;ol.MOUSEWHEELZOOM_MAXDELTA=1;ol.OVERVIEWMAP_MAX_RATIO=0.75;ol.OVERVIEWMAP_MIN_RATIO=0.1;ol.RASTER_REPROJECTION_MAX_SOURCE_TILES=100;ol.RASTER_REPROJECTION_MAX_SUBDIVISION=10;ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=0.25;ol.SIMPLIFY_TOLERANCE=0.5;ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024;ol.VERSION='';ol.WEBGL_MAX_TEXTURE_SIZE;ol.WEBGL_EXTENSIONS;ol.inherits=function(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a};ol.nullFunction=function(){};ol.getUid=function(a){return a.ol_uid||(a.ol_uid=++ol.uidCounter_)};ol.uidCounter_=0;goog.provide('ol.AssertionError');goog.require('ol');ol.AssertionError=function(a){var b=ol.VERSION?ol.VERSION.split('-')[0]:'latest';this.message='Assertion failed. See https://openlayers.org/en/'+b+'/doc/errors/#'+a+' for details.';this.code=a;this.name='AssertionError'};ol.inherits(ol.AssertionError,Error);goog.provide('ol.asserts');goog.require('ol.AssertionError');ol.asserts.assert=function(a,b){if(!a){throw new ol.AssertionError(b)}};goog.provide('ol.TileRange');ol.TileRange=function(c,a,d,b){this.minX=c;this.maxX=a;this.minY=d;this.maxY=b};ol.TileRange.createOrUpdate=function(d,b,e,c,a){if(a!==undefined){a.minX=d;a.maxX=b;a.minY=e;a.maxY=c;return a}else {return new ol.TileRange(d,b,e,c)}};ol.TileRange.prototype.contains=function(a){return this.containsXY(a[1],a[2])};ol.TileRange.prototype.containsTileRange=function(a){return this.minX<=a.minX&&a.maxX<=this.maxX&&this.minY<=a.minY&&a.maxY<=this.maxY};ol.TileRange.prototype.containsXY=function(a,b){return this.minX<=a&&a<=this.maxX&&this.minY<=b&&b<=this.maxY};ol.TileRange.prototype.equals=function(a){return this.minX==a.minX&&this.minY==a.minY&&this.maxX==a.maxX&&this.maxY==a.maxY};ol.TileRange.prototype.extend=function(a){if(a.minX<this.minX){this.minX=a.minX}if(a.maxX>this.maxX){this.maxX=a.maxX}if(a.minY<this.minY){this.minY=a.minY}if(a.maxY>this.maxY){this.maxY=a.maxY}};ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1};ol.TileRange.prototype.getSize=function(){return [this.getWidth(),this.getHeight()]};ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1};ol.TileRange.prototype.intersects=function(a){return this.minX<=a.maxX&&this.maxX>=a.minX&&this.minY<=a.maxY&&this.maxY>=a.minY};goog.provide('ol.math');goog.require('ol.asserts');ol.math.clamp=function(a,c,b){return Math.min(Math.max(a,c),b)};ol.math.cosh=function(){var a;if('cosh' in Math){a=Math.cosh}else {a=function(b){var a=Math.exp(b);return (a+1/a)/2}}return a}();ol.math.roundUpToPowerOfTwo=function(a){ol.asserts.assert(0<a,29);return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))};ol.math.squaredSegmentDistance=function(h,i,c,d,f,g){var a=f-c;var b=g-d;if(a!==0||b!==0){var e=((h-c)*a+(i-d)*b)/(a*a+b*b);if(e>1){c=f;d=g}else {if(e>0){c+=a*e;d+=b*e}}}return ol.math.squaredDistance(h,i,c,d)};ol.math.squaredDistance=function(c,e,d,f){var a=d-c;var b=f-e;return a*a+b*b};ol.math.solveLinearSystem=function(a){var d=a.length;for(var b=0;b<d;b++){var i=b;var j=Math.abs(a[b][b]);for(var h=b+1;h<d;h++){var l=Math.abs(a[h][b]);if(l>j){j=l;i=h}}if(j===0){return null}var n=a[i];a[i]=a[b];a[b]=n;for(var f=b+1;f<d;f++){var m=-a[f][b]/a[b][b];for(var e=b;e<d+1;e++){if(b==e){a[f][e]=0}else {a[f][e]+=m*a[b][e]}}}}var k=new Array(d);for(var c=d-1;c>=0;c--){k[c]=a[c][d]/a[c][c];for(var g=c-1;g>=0;g--){a[g][d]-=a[g][c]*k[c]}}return k};ol.math.toDegrees=function(a){return a*180/Math.PI};ol.math.toRadians=function(a){return a*Math.PI/180};ol.math.modulo=function(c,a){var b=c%a;return b*a<0?b+a:b};ol.math.lerp=function(a,b,c){return a+c*(b-a)};goog.provide('ol.size');ol.size.buffer=function(c,b,a){if(a===undefined){a=[0,0]}a[0]=c[0]+2*b;a[1]=c[1]+2*b;return a};ol.size.hasArea=function(a){return a[0]>0&&a[1]>0};ol.size.scale=function(c,b,a){if(a===undefined){a=[0,0]}a[0]=c[0]*b+0.5|0;a[1]=c[1]*b+0.5|0;return a};ol.size.toSize=function(b,a){if(Array.isArray(b)){return b}else {if(a===undefined){a=[b,b]}else {a[0]=a[1]=b}return a}};goog.provide('ol.extent.Corner');ol.extent.Corner={BOTTOM_LEFT:'bottom-left',BOTTOM_RIGHT:'bottom-right',TOP_LEFT:'top-left',TOP_RIGHT:'top-right'};goog.provide('ol.extent.Relationship');ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};goog.provide('ol.extent');goog.require('ol.asserts');goog.require('ol.extent.Corner');goog.require('ol.extent.Relationship');ol.extent.boundingExtent=function(b){var c=ol.extent.createEmpty();for(var a=0,d=b.length;a<d;++a){ol.extent.extendCoordinate(c,b[a])}return c};ol.extent.boundingExtentXYs_=function(a,b,c){var f=Math.min.apply(null,a);var g=Math.min.apply(null,b);var d=Math.max.apply(null,a);var e=Math.max.apply(null,b);return ol.extent.createOrUpdate(f,g,d,e,c)};ol.extent.buffer=function(a,b,c){if(c){c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]+b;c[3]=a[3]+b;return c}else {return [a[0]-b,a[1]-b,a[2]+b,a[3]+b]}};ol.extent.clone=function(b,a){if(a){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}else {return b.slice()}};ol.extent.closestSquaredDistanceXY=function(a,d,e){var b,c;if(d<a[0]){b=a[0]-d}else {if(a[2]<d){b=d-a[2]}else {b=0}}if(e<a[1]){c=a[1]-e}else {if(a[3]<e){c=e-a[3]}else {c=0}}return b*b+c*c};ol.extent.containsCoordinate=function(b,a){return ol.extent.containsXY(b,a[0],a[1])};ol.extent.containsExtent=function(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]};ol.extent.containsXY=function(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]};ol.extent.coordinateRelationship=function(b,c){var h=b[0];var i=b[1];var f=b[2];var g=b[3];var d=c[0];var e=c[1];var a=ol.extent.Relationship.UNKNOWN;if(d<h){a=a|ol.extent.Relationship.LEFT}else {if(d>f){a=a|ol.extent.Relationship.RIGHT}}if(e<i){a=a|ol.extent.Relationship.BELOW}else {if(e>g){a=a|ol.extent.Relationship.ABOVE}}if(a===ol.extent.Relationship.UNKNOWN){a=ol.extent.Relationship.INTERSECTING}return a};ol.extent.createEmpty=function(){return [Infinity,Infinity,-Infinity,-Infinity]};ol.extent.createOrUpdate=function(d,e,b,c,a){if(a){a[0]=d;a[1]=e;a[2]=b;a[3]=c;return a}else {return [d,e,b,c]}};ol.extent.createOrUpdateEmpty=function(a){return ol.extent.createOrUpdate(Infinity,Infinity,-Infinity,-Infinity,a)};ol.extent.createOrUpdateFromCoordinate=function(a,d){var b=a[0];var c=a[1];return ol.extent.createOrUpdate(b,c,b,c,d)};ol.extent.createOrUpdateFromCoordinates=function(a,b){var c=ol.extent.createOrUpdateEmpty(b);return ol.extent.extendCoordinates(c,a)};ol.extent.createOrUpdateFromFlatCoordinates=function(a,d,f,e,b){var c=ol.extent.createOrUpdateEmpty(b);return ol.extent.extendFlatCoordinates(c,a,d,f,e)};ol.extent.createOrUpdateFromRings=function(c,a){var b=ol.extent.createOrUpdateEmpty(a);return ol.extent.extendRings(b,c)};ol.extent.equals=function(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]};ol.extent.extend=function(a,b){if(b[0]<a[0]){a[0]=b[0]}if(b[2]>a[2]){a[2]=b[2]}if(b[1]<a[1]){a[1]=b[1]}if(b[3]>a[3]){a[3]=b[3]}return a};ol.extent.extendCoordinate=function(b,a){if(a[0]<b[0]){b[0]=a[0]}if(a[0]>b[2]){b[2]=a[0]}if(a[1]<b[1]){b[1]=a[1]}if(a[1]>b[3]){b[3]=a[1]}};ol.extent.extendCoordinates=function(c,b){var a,d;for(a=0,d=b.length;a<d;++a){ol.extent.extendCoordinate(c,b[a])}return c};ol.extent.extendFlatCoordinates=function(c,b,a,e,d){for(;a<e;a+=d){ol.extent.extendXY(c,b[a],b[a+1])}return c};ol.extent.extendRings=function(b,c){var a,d;for(a=0,d=c.length;a<d;++a){ol.extent.extendCoordinates(b,c[a])}return b};ol.extent.extendXY=function(a,b,c){a[0]=Math.min(a[0],b);a[1]=Math.min(a[1],c);a[2]=Math.max(a[2],b);a[3]=Math.max(a[3],c)};ol.extent.forEachCorner=function(d,b,c){var a;a=b.call(c,ol.extent.getBottomLeft(d));if(a){return a}a=b.call(c,ol.extent.getBottomRight(d));if(a){return a}a=b.call(c,ol.extent.getTopRight(d));if(a){return a}a=b.call(c,ol.extent.getTopLeft(d));if(a){return a}return !1};ol.extent.getArea=function(a){var b=0;if(!ol.extent.isEmpty(a)){b=ol.extent.getWidth(a)*ol.extent.getHeight(a)}return b};ol.extent.getBottomLeft=function(a){return [a[0],a[1]]};ol.extent.getBottomRight=function(a){return [a[2],a[1]]};ol.extent.getCenter=function(a){return [(a[0]+a[2])/2,(a[1]+a[3])/2]};ol.extent.getCorner=function(c,b){var a;if(b===ol.extent.Corner.BOTTOM_LEFT){a=ol.extent.getBottomLeft(c)}else {if(b===ol.extent.Corner.BOTTOM_RIGHT){a=ol.extent.getBottomRight(c)}else {if(b===ol.extent.Corner.TOP_LEFT){a=ol.extent.getTopLeft(c)}else {if(b===ol.extent.Corner.TOP_RIGHT){a=ol.extent.getTopRight(c)}else {ol.asserts.assert(!1,13)}}}}return a};ol.extent.getEnlargedArea=function(a,b){var e=Math.min(a[0],b[0]);var f=Math.min(a[1],b[1]);var c=Math.max(a[2],b[2]);var d=Math.max(a[3],b[3]);return (c-e)*(d-f)};ol.extent.getForViewAndSize=function(k,i,j,l,w){var m=i*l[0]/2;var n=i*l[1]/2;var g=Math.cos(j);var h=Math.sin(j);var a=m*g;var b=m*h;var c=n*g;var d=n*h;var e=k[0];var f=k[1];var o=e-a+d;var p=e-a-d;var q=e+a-d;var r=e+a+d;var s=f-b-c;var t=f-b+c;var u=f+b+c;var v=f+b-c;return ol.extent.createOrUpdate(Math.min(o,p,q,r),Math.min(s,t,u,v),Math.max(o,p,q,r),Math.max(s,t,u,v),w)};ol.extent.getHeight=function(a){return a[3]-a[1]};ol.extent.getIntersectionArea=function(b,c){var a=ol.extent.getIntersection(b,c);return ol.extent.getArea(a)};ol.extent.getIntersection=function(b,c,d){var a=d?d:ol.extent.createEmpty();if(ol.extent.intersects(b,c)){if(b[0]>c[0]){a[0]=b[0]}else {a[0]=c[0]}if(b[1]>c[1]){a[1]=b[1]}else {a[1]=c[1]}if(b[2]<c[2]){a[2]=b[2]}else {a[2]=c[2]}if(b[3]<c[3]){a[3]=b[3]}else {a[3]=c[3]}}return a};ol.extent.getMargin=function(a){return ol.extent.getWidth(a)+ol.extent.getHeight(a)};ol.extent.getSize=function(a){return [a[2]-a[0],a[3]-a[1]]};ol.extent.getTopLeft=function(a){return [a[0],a[3]]};ol.extent.getTopRight=function(a){return [a[2],a[3]]};ol.extent.getWidth=function(a){return a[2]-a[0]};ol.extent.intersects=function(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};ol.extent.isEmpty=function(a){return a[2]<a[0]||a[3]<a[1]};ol.extent.returnOrUpdate=function(b,a){if(a){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}else {return b}};ol.extent.scaleFromCenter=function(a,d){var b=(a[2]-a[0])/2*(d-1);var c=(a[3]-a[1])/2*(d-1);a[0]-=b;a[2]+=b;a[1]-=c;a[3]+=c};ol.extent.intersectsSegment=function(b,j,o){var a=!1;var e=ol.extent.coordinateRelationship(b,j);var f=ol.extent.coordinateRelationship(b,o);if(e===ol.extent.Relationship.INTERSECTING||f===ol.extent.Relationship.INTERSECTING){a=!0}else {var m=b[0];var n=b[1];var k=b[2];var l=b[3];var p=j[0];var q=j[1];var g=o[0];var h=o[1];var i=(h-q)/(g-p);var c,d;if(!!(f&ol.extent.Relationship.ABOVE)&&!(e&ol.extent.Relationship.ABOVE)){c=g-(h-l)/i;a=c>=m&&c<=k}if(!a&&!!(f&ol.extent.Relationship.RIGHT)&&!(e&ol.extent.Relationship.RIGHT)){d=h-(g-k)*i;a=d>=n&&d<=l}if(!a&&!!(f&ol.extent.Relationship.BELOW)&&!(e&ol.extent.Relationship.BELOW)){c=g-(h-n)/i;a=c>=m&&c<=k}if(!a&&!!(f&ol.extent.Relationship.LEFT)&&!(e&ol.extent.Relationship.LEFT)){d=h-(g-m)*i;a=d>=n&&d<=l}}return a};ol.extent.applyTransform=function(b,c,d){var a=[b[0],b[1],b[0],b[3],b[2],b[1],b[2],b[3]];c(a,a,2);var e=[a[0],a[2],a[4],a[6]];var f=[a[1],a[3],a[5],a[7]];return ol.extent.boundingExtentXYs_(e,f,d)};goog.provide('ol.obj');ol.obj.assign=typeof Object.assign==='function'?Object.assign:function(b,g){if(b===undefined||b===null){throw new TypeError('Cannot convert undefined or null to object')}var e=Object(b);for(var d=1,f=arguments.length;d<f;++d){var a=arguments[d];if(a!==undefined&&a!==null){for(var c in a){if(a.hasOwnProperty(c)){e[c]=a[c]}}}}return e};ol.obj.clear=function(a){for(var b in a){delete a[b]}};ol.obj.getValues=function(a){var b=[];for(var c in a){b.push(a[c])}return b};ol.obj.isEmpty=function(b){var a;for(a in b){return !1}return !a};goog.provide('ol.geom.GeometryType');ol.geom.GeometryType={POINT:'Point',LINE_STRING:'LineString',LINEAR_RING:'LinearRing',POLYGON:'Polygon',MULTI_POINT:'MultiPoint',MULTI_LINE_STRING:'MultiLineString',MULTI_POLYGON:'MultiPolygon',GEOMETRY_COLLECTION:'GeometryCollection',CIRCLE:'Circle'};goog.provide('ol.Sphere');goog.require('ol.math');goog.require('ol.geom.GeometryType');ol.Sphere=function(a){this.radius=a};ol.Sphere.prototype.geodesicArea=function(a){return ol.Sphere.getArea_(a,this.radius)};ol.Sphere.prototype.haversineDistance=function(a,b){return ol.Sphere.getDistance_(a,b,this.radius)};ol.Sphere.prototype.offset=function(e,f,c){var b=ol.math.toRadians(e[1]);var g=ol.math.toRadians(e[0]);var a=f/this.radius;var d=Math.asin(Math.sin(b)*Math.cos(a)+Math.cos(b)*Math.sin(a)*Math.cos(c));var h=g+Math.atan2(Math.sin(c)*Math.sin(a)*Math.cos(b),Math.cos(a)-Math.sin(b)*Math.sin(d));return [ol.math.toDegrees(h),ol.math.toDegrees(d)]};ol.Sphere.DEFAULT_RADIUS=6371008.8;ol.Sphere.getLength=function(c,i){var k=i||{};var h=k.radius||ol.Sphere.DEFAULT_RADIUS;var n=k.projection||'EPSG:3857';c=c.clone().transform(n,'EPSG:4326');var l=c.getType();var e=0;var b,g,a,d,f,m;switch(l){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:{break};case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:{b=c.getCoordinates();e=ol.Sphere.getLength_(b,h);break};case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:{b=c.getCoordinates();for(a=0,d=b.length;a<d;++a){e+=ol.Sphere.getLength_(b[a],h)}break};case ol.geom.GeometryType.MULTI_POLYGON:{b=c.getCoordinates();for(a=0,d=b.length;a<d;++a){g=b[a];for(f=0,m=g.length;f<m;++f){e+=ol.Sphere.getLength_(g[f],h)}}break};case ol.geom.GeometryType.GEOMETRY_COLLECTION:{var j=c.getGeometries();for(a=0,d=j.length;a<d;++a){e+=ol.Sphere.getLength(j[a],i)}break};default:{throw new Error('Unsupported geometry type: '+l)};}return e};ol.Sphere.getLength_=function(b,d){var c=0;for(var a=0,e=b.length;a<e-1;++a){c+=ol.Sphere.getDistance_(b[a],b[a+1],d)}return c};ol.Sphere.getDistance_=function(e,f,h){var c=ol.math.toRadians(e[1]);var d=ol.math.toRadians(f[1]);var a=(d-c)/2;var b=ol.math.toRadians(f[0]-e[0])/2;var g=Math.sin(a)*Math.sin(a)+Math.sin(b)*Math.sin(b)*Math.cos(c)*Math.cos(d);return 2*h*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))};ol.Sphere.getArea=function(c,i){var k=i||{};var g=k.radius||ol.Sphere.DEFAULT_RADIUS;var n=k.projection||'EPSG:3857';c=c.clone().transform(n,'EPSG:4326');var l=c.getType();var d=0;var b,f,a,e,h,m;switch(l){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:{break};case ol.geom.GeometryType.POLYGON:{b=c.getCoordinates();d=Math.abs(ol.Sphere.getArea_(b[0],g));for(a=1,e=b.length;a<e;++a){d-=Math.abs(ol.Sphere.getArea_(b[a],g))}break};case ol.geom.GeometryType.MULTI_POLYGON:{b=c.getCoordinates();for(a=0,e=b.length;a<e;++a){f=b[a];d+=Math.abs(ol.Sphere.getArea_(f[0],g));for(h=1,m=f.length;h<m;++h){d-=Math.abs(ol.Sphere.getArea_(f[h],g))}}break};case ol.geom.GeometryType.GEOMETRY_COLLECTION:{var j=c.getGeometries();for(a=0,e=j.length;a<e;++a){d+=ol.Sphere.getArea(j[a],i)}break};default:{throw new Error('Unsupported geometry type: '+l)};}return d};ol.Sphere.getArea_=function(a,d){var e=0,c=a.length;var f=a[c-1][0];var h=a[c-1][1];for(var b=0;b<c;b++){var g=a[b][0],i=a[b][1];e+=ol.math.toRadians(g-f)*(2+Math.sin(ol.math.toRadians(h))+Math.sin(ol.math.toRadians(i)));f=g;h=i}return e*d*d/2};goog.provide('ol.proj.Units');ol.proj.Units={DEGREES:'degrees',FEET:'ft',METERS:'m',PIXELS:'pixels',TILE_PIXELS:'tile-pixels',USFEET:'us-ft'};ol.proj.Units.METERS_PER_UNIT={};ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.DEGREES]=2*Math.PI*6370997/360;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.FEET]=0.3048;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.METERS]=1;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937;goog.provide('ol.proj.proj4');ol.proj.proj4.cache_=null;ol.proj.proj4.set=function(a){ol.proj.proj4.cache_=a};ol.proj.proj4.get=function(){return ol.proj.proj4.cache_||window['proj4']};goog.provide('ol.proj.Projection');goog.require('ol');goog.require('ol.proj.Units');goog.require('ol.proj.proj4');ol.proj.Projection=function(a){this.code_=a.code;this.units_=a.units;this.extent_=a.extent!==undefined?a.extent:null;this.worldExtent_=a.worldExtent!==undefined?a.worldExtent:null;this.axisOrientation_=a.axisOrientation!==undefined?a.axisOrientation:'enu';this.global_=a.global!==undefined?a.global:!1;this.canWrapX_=!!(this.global_&&this.extent_);this.getPointResolutionFunc_=a.getPointResolution;this.defaultTileGrid_=null;this.metersPerUnit_=a.metersPerUnit;var d=a.code;if(ol.ENABLE_PROJ4JS){var c=ol.proj.proj4.get();if(typeof c=='function'){var b=c.defs(d);if(b!==undefined){if(b.axis!==undefined&&a.axisOrientation===undefined){this.axisOrientation_=b.axis}if(a.metersPerUnit===undefined){this.metersPerUnit_=b.to_meter}if(a.units===undefined){this.units_=b.units}}}}};ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_};ol.proj.Projection.prototype.getCode=function(){return this.code_};ol.proj.Projection.prototype.getExtent=function(){return this.extent_};ol.proj.Projection.prototype.getUnits=function(){return this.units_};ol.proj.Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ol.proj.Units.METERS_PER_UNIT[this.units_]};ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_};ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_};ol.proj.Projection.prototype.isGlobal=function(){return this.global_};ol.proj.Projection.prototype.setGlobal=function(a){this.global_=a;this.canWrapX_=!!(a&&this.extent_)};ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};ol.proj.Projection.prototype.setDefaultTileGrid=function(a){this.defaultTileGrid_=a};ol.proj.Projection.prototype.setExtent=function(a){this.extent_=a;this.canWrapX_=!!(this.global_&&a)};ol.proj.Projection.prototype.setWorldExtent=function(a){this.worldExtent_=a};ol.proj.Projection.prototype.setGetPointResolution=function(a){this.getPointResolutionFunc_=a};ol.proj.Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};goog.provide('ol.proj.EPSG3857');goog.require('ol');goog.require('ol.math');goog.require('ol.proj.Projection');goog.require('ol.proj.Units');ol.proj.EPSG3857.Projection_=function(a){ol.proj.Projection.call(this,{code:a,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:!0,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT,getPointResolution:function(b,c){return b/ol.math.cosh(c[1]/ol.proj.EPSG3857.RADIUS)}})};ol.inherits(ol.proj.EPSG3857.Projection_,ol.proj.Projection);ol.proj.EPSG3857.RADIUS=6378137;ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS;ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE];ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85];ol.proj.EPSG3857.PROJECTIONS=[new ol.proj.EPSG3857.Projection_('EPSG:3857'),new ol.proj.EPSG3857.Projection_('EPSG:102100'),new ol.proj.EPSG3857.Projection_('EPSG:102113'),new ol.proj.EPSG3857.Projection_('EPSG:900913'),new ol.proj.EPSG3857.Projection_('urn:ogc:def:crs:EPSG:6.18:3:3857'),new ol.proj.EPSG3857.Projection_('urn:ogc:def:crs:EPSG::3857'),new ol.proj.EPSG3857.Projection_('http://www.opengis.net/gml/srs/epsg.xml#3857')];ol.proj.EPSG3857.fromEPSG4326=function(e,i,f){var h=e.length,g=f>1?f:2,a=i;if(a===undefined){if(g>2){a=e.slice()}else {a=new Array(h)}}var c=ol.proj.EPSG3857.HALF_SIZE;for(var b=0;b<h;b+=g){a[b]=c*e[b]/180;var d=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(e[b+1]+90)/360));if(d>c){d=c}else {if(d<-c){d=-c}}a[b+1]=d}return a};ol.proj.EPSG3857.toEPSG4326=function(c,g,d){var f=c.length,e=d>1?d:2,a=g;if(a===undefined){if(e>2){a=c.slice()}else {a=new Array(f)}}for(var b=0;b<f;b+=e){a[b]=180*c[b]/ol.proj.EPSG3857.HALF_SIZE;a[b+1]=360*Math.atan(Math.exp(c[b+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90}return a};goog.provide('ol.proj.EPSG4326');goog.require('ol');goog.require('ol.proj.Projection');goog.require('ol.proj.Units');ol.proj.EPSG4326.Projection_=function(b,a){ol.proj.Projection.call(this,{code:b,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:a,global:!0,metersPerUnit:ol.proj.EPSG4326.METERS_PER_UNIT,worldExtent:ol.proj.EPSG4326.EXTENT})};ol.inherits(ol.proj.EPSG4326.Projection_,ol.proj.Projection);ol.proj.EPSG4326.RADIUS=6378137;ol.proj.EPSG4326.EXTENT=[-180,-90,180,90];ol.proj.EPSG4326.METERS_PER_UNIT=Math.PI*ol.proj.EPSG4326.RADIUS/180;ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326.Projection_('CRS:84'),new ol.proj.EPSG4326.Projection_('EPSG:4326','neu'),new ol.proj.EPSG4326.Projection_('urn:ogc:def:crs:EPSG::4326','neu'),new ol.proj.EPSG4326.Projection_('urn:ogc:def:crs:EPSG:6.6:4326','neu'),new ol.proj.EPSG4326.Projection_('urn:ogc:def:crs:OGC:1.3:CRS84'),new ol.proj.EPSG4326.Projection_('urn:ogc:def:crs:OGC:2:84'),new ol.proj.EPSG4326.Projection_('http://www.opengis.net/gml/srs/epsg.xml#4326','neu'),new ol.proj.EPSG4326.Projection_('urn:x-ogc:def:crs:EPSG:4326','neu')];goog.provide('ol.proj.projections');ol.proj.projections.cache_={};ol.proj.projections.clear=function(){ol.proj.projections.cache_={}};ol.proj.projections.get=function(b){var a=ol.proj.projections.cache_;return a[b]||null};ol.proj.projections.add=function(c,b){var a=ol.proj.projections.cache_;a[c]=b};goog.provide('ol.proj.transforms');goog.require('ol.obj');ol.proj.transforms.cache_={};ol.proj.transforms.clear=function(){ol.proj.transforms.cache_={}};ol.proj.transforms.add=function(f,d,e){var a=f.getCode();var c=d.getCode();var b=ol.proj.transforms.cache_;if(!(a in b)){b[a]={}}b[a][c]=e};ol.proj.transforms.remove=function(f,d){var a=f.getCode();var c=d.getCode();var b=ol.proj.transforms.cache_;var e=b[a][c];delete b[a][c];if(ol.obj.isEmpty(b[a])){delete b[a]}return e};ol.proj.transforms.get=function(a,c){var d;var b=ol.proj.transforms.cache_;if(a in b&&c in b[a]){d=b[a][c]}return d};goog.provide('ol.proj');goog.require('ol');goog.require('ol.Sphere');goog.require('ol.extent');goog.require('ol.math');goog.require('ol.proj.EPSG3857');goog.require('ol.proj.EPSG4326');goog.require('ol.proj.Projection');goog.require('ol.proj.Units');goog.require('ol.proj.proj4');goog.require('ol.proj.projections');goog.require('ol.proj.transforms');ol.proj.METERS_PER_UNIT=ol.proj.Units.METERS_PER_UNIT;ol.proj.SPHERE_=new ol.Sphere(ol.Sphere.DEFAULT_RADIUS);if(ol.ENABLE_PROJ4JS){ol.proj.setProj4=function(a){ol.proj.proj4.set(a)}}ol.proj.getPointResolution=function(c,d,a,f){c=ol.proj.get(c);var e;var h=c.getPointResolutionFunc();if(h){e=h(d,a)}else {var k=c.getUnits();if(k==ol.proj.Units.DEGREES&&!f||f==ol.proj.Units.DEGREES){e=d}else {var i=ol.proj.getTransformFromProjections(c,ol.proj.get('EPSG:4326'));var b=[a[0]-d/2,a[1],a[0]+d/2,a[1],a[0],a[1]-d/2,a[0],a[1]+d/2];b=i(b,b,2);var l=ol.proj.SPHERE_.haversineDistance(b.slice(0,2),b.slice(2,4));var j=ol.proj.SPHERE_.haversineDistance(b.slice(4,6),b.slice(6,8));e=(l+j)/2;var g=f?ol.proj.Units.METERS_PER_UNIT[f]:c.getMetersPerUnit();if(g!==undefined){e/=g}}}return e};ol.proj.addEquivalentProjections=function(a){ol.proj.addProjections(a);a.forEach(function(b){a.forEach(function(c){if(b!==c){ol.proj.transforms.add(b,c,ol.proj.cloneTransform)}})})};ol.proj.addEquivalentTransforms=function(c,d,a,b){c.forEach(function(e){d.forEach(function(f){ol.proj.transforms.add(e,f,a);ol.proj.transforms.add(f,e,b)})})};ol.proj.addProjection=function(a){ol.proj.projections.add(a.getCode(),a);ol.proj.transforms.add(a,a,ol.proj.cloneTransform)};ol.proj.addProjections=function(a){a.forEach(ol.proj.addProjection)};ol.proj.clearAllProjections=function(){ol.proj.projections.clear();ol.proj.transforms.clear()};ol.proj.createProjection=function(a,b){if(!a){return ol.proj.get(b)}else {if(typeof a==='string'){return ol.proj.get(a)}else {return a}}};ol.proj.addCoordinateTransforms=function(f,c,d,e){var a=ol.proj.get(f);var b=ol.proj.get(c);ol.proj.transforms.add(a,b,ol.proj.createTransformFromCoordinateTransform(d));ol.proj.transforms.add(b,a,ol.proj.createTransformFromCoordinateTransform(e))};ol.proj.createTransformFromCoordinateTransform=function(a){return function(e,h,g){var j=e.length;var i=g!==undefined?g:2;var d=h!==undefined?h:new Array(j);var f,b,c;for(b=0;b<j;b+=i){f=a([e[b],e[b+1]]);d[b]=f[0];d[b+1]=f[1];for(c=i-1;c>=2;--c){d[b+c]=e[b+c]}}return d}};ol.proj.fromLonLat=function(b,a){return ol.proj.transform(b,'EPSG:4326',a!==undefined?a:'EPSG:3857')};ol.proj.toLonLat=function(d,c){var a=ol.proj.transform(d,c!==undefined?c:'EPSG:3857','EPSG:4326');var b=a[0];if(b<-180||b>180){a[0]=ol.math.modulo(b+180,360)-180}return a};ol.proj.get=function(b){var a=null;if(b instanceof ol.proj.Projection){a=b}else {if(typeof b==='string'){var c=b;a=ol.proj.projections.get(c);if(ol.ENABLE_PROJ4JS&&!a){var d=ol.proj.proj4.get();if(typeof d=='function'&&d.defs(c)!==undefined){a=new ol.proj.Projection({code:c});ol.proj.addProjection(a)}}}}return a};ol.proj.equivalent=function(a,b){if(a===b){return !0}var c=a.getUnits()===b.getUnits();if(a.getCode()===b.getCode()){return c}else {var d=ol.proj.getTransformFromProjections(a,b);return d===ol.proj.cloneTransform&&c}};ol.proj.getTransform=function(d,c){var b=ol.proj.get(d);var a=ol.proj.get(c);return ol.proj.getTransformFromProjections(b,a)};ol.proj.getTransformFromProjections=function(f,e){var c=f.getCode();var b=e.getCode();var a=ol.proj.transforms.get(c,b);if(ol.ENABLE_PROJ4JS&&!a){var d=ol.proj.proj4.get();if(typeof d=='function'){var i=d.defs(c);var g=d.defs(b);if(i!==undefined&&g!==undefined){if(i===g){ol.proj.addEquivalentProjections([e,f])}else {var h=d(b,c);ol.proj.addCoordinateTransforms(e,f,h.forward,h.inverse)}a=ol.proj.transforms.get(c,b)}}}if(!a){a=ol.proj.identityTransform}return a};ol.proj.identityTransform=function(a,b,e){if(b!==undefined&&a!==b){for(var c=0,d=a.length;c<d;++c){b[c]=a[c]}a=b}return a};ol.proj.cloneTransform=function(d,b,f){var c;if(b!==undefined){for(var a=0,e=d.length;a<e;++a){b[a]=d[a]}c=b}else {c=d.slice()}return c};ol.proj.transform=function(a,d,b){var c=ol.proj.getTransform(d,b);return c(a,undefined,a.length)};ol.proj.transformExtent=function(c,d,a){var b=ol.proj.getTransform(d,a);return ol.extent.applyTransform(c,b)};ol.proj.transformWithProjections=function(d,b,a){var c=ol.proj.getTransformFromProjections(b,a);return c(d)};ol.proj.addCommon=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS);ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS);ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)};ol.proj.addCommon();goog.provide('ol.tilecoord');ol.tilecoord.createOrUpdate=function(d,b,c,a){if(a!==undefined){a[0]=d;a[1]=b;a[2]=c;return a}else {return [d,b,c]}};ol.tilecoord.getKeyZXY=function(c,a,b){return c+'/'+a+'/'+b};ol.tilecoord.getKey=function(a){return ol.tilecoord.getKeyZXY(a[0],a[1],a[2])};ol.tilecoord.fromKey=function(a){return a.split('/').map(Number)};ol.tilecoord.hash=function(a){return (a[1]<<a[0])+a[2]};ol.tilecoord.quadKey=function(c){var e=c[0];var f=new Array(e);var d=1<<e-1;var b,a;for(b=0;b<e;++b){a=48;if(c[1]&d){a+=1}if(c[2]&d){a+=2}f[b]=String.fromCharCode(a);d>>=1}return f.join('')};ol.tilecoord.withinExtentAndZ=function(d,a){var c=d[0];var f=d[1];var g=d[2];if(a.getMinZoom()>c||c>a.getMaxZoom()){return !1}var e=a.getExtent();var b;if(!e){b=a.getFullTileRange(c)}else {b=a.getTileRangeForExtentAndZ(e,c)}if(!b){return !0}else {return b.containsXY(f,g)}};goog.provide('ol.tilegrid.TileGrid');goog.require('ol');goog.require('ol.asserts');goog.require('ol.TileRange');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.math');goog.require('ol.size');goog.require('ol.tilecoord');ol.tilegrid.TileGrid=function(a){this.minZoom=a.minZoom!==undefined?a.minZoom:0;this.resolutions_=a.resolutions;ol.asserts.assert(ol.array.isSorted(this.resolutions_,function(b,c){return c-b},!0),17);var d;if(!a.origins){for(var c=0,e=this.resolutions_.length-1;c<e;++c){if(!d){d=this.resolutions_[c]/this.resolutions_[c+1]}else {if(this.resolutions_[c]/this.resolutions_[c+1]!==d){d=undefined;break}}}}this.zoomFactor_=d;this.maxZoom=this.resolutions_.length-1;this.origin_=a.origin!==undefined?a.origin:null;this.origins_=null;if(a.origins!==undefined){this.origins_=a.origins;ol.asserts.assert(this.origins_.length==this.resolutions_.length,20)}var b=a.extent;if(b!==undefined&&!this.origin_&&!this.origins_){this.origin_=ol.extent.getTopLeft(b)}ol.asserts.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;if(a.tileSizes!==undefined){this.tileSizes_=a.tileSizes;ol.asserts.assert(this.tileSizes_.length==this.resolutions_.length,19)}this.tileSize_=a.tileSize!==undefined?a.tileSize:!this.tileSizes_?ol.DEFAULT_TILE_SIZE:null;ol.asserts.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=b!==undefined?b:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];if(a.sizes!==undefined){this.fullTileRanges_=a.sizes.map(function(b,d){var c=new ol.TileRange(Math.min(0,b[0]),Math.max(b[0]-1,-1),Math.min(0,b[1]),Math.max(b[1]-1,-1));return c},this)}else {if(b){this.calculateTileRanges_(b)}}};ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0];ol.tilegrid.TileGrid.prototype.forEachTileCoord=function(f,d,e){var a=this.getTileRangeForExtentAndZ(f,d);for(var b=a.minX,g=a.maxX;b<=g;++b){for(var c=a.minY,h=a.maxY;c<=h;++c){e([d,b,c])}}};ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(c,i,j,g,h){var e,a,b;var f=null;var d=c[0]-1;if(this.zoomFactor_===2){a=c[1];b=c[2]}else {f=this.getTileCoordExtent(c,h)}while(d>=this.minZoom){if(this.zoomFactor_===2){a=Math.floor(a/2);b=Math.floor(b/2);e=ol.TileRange.createOrUpdate(a,a,b,b,g)}else {e=this.getTileRangeForExtentAndZ(f,d,g)}if(i.call(j,d,e)){return !0}--d}return !1};ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_};ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom};ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom};ol.tilegrid.TileGrid.prototype.getOrigin=function(a){if(this.origin_){return this.origin_}else {return this.origins_[a]}};ol.tilegrid.TileGrid.prototype.getResolution=function(a){return this.resolutions_[a]};ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_};ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(a,b,f){if(a[0]<this.maxZoom){if(this.zoomFactor_===2){var c=a[1]*2;var d=a[2]*2;return ol.TileRange.createOrUpdate(c,c+1,d,d+1,b)}var e=this.getTileCoordExtent(a,f);return this.getTileRangeForExtentAndZ(e,a[0]+1,b)}return null};ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(e,b,f){var d=this.getOrigin(e);var a=this.getResolution(e);var c=ol.size.toSize(this.getTileSize(e),this.tmpSize_);var i=d[0]+b.minX*c[0]*a;var g=d[0]+(b.maxX+1)*c[0]*a;var j=d[1]+b.minY*c[1]*a;var h=d[1]+(b.maxY+1)*c[1]*a;return ol.extent.createOrUpdate(i,j,g,h,f)};ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(b,c,d){var a=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndZ_(b[0],b[1],c,!1,a);var e=a[1];var f=a[2];this.getTileCoordForXYAndZ_(b[2],b[3],c,!0,a);return ol.TileRange.createOrUpdate(e,a[1],f,a[2],d)};ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(a){var d=this.getOrigin(a[0]);var b=this.getResolution(a[0]);var c=ol.size.toSize(this.getTileSize(a[0]),this.tmpSize_);return [d[0]+(a[1]+0.5)*c[0]*b,d[1]+(a[2]+0.5)*c[1]*b]};ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(a,g){var d=this.getOrigin(a[0]);var b=this.getResolution(a[0]);var c=ol.size.toSize(this.getTileSize(a[0]),this.tmpSize_);var e=d[0]+a[1]*c[0]*b;var f=d[1]+a[2]*c[1]*b;var h=e+c[0]*b;var i=f+c[1]*b;return ol.extent.createOrUpdate(e,f,h,i,g)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(a,c,b){return this.getTileCoordForXYAndResolution_(a[0],a[1],c,!1,b)};ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(n,o,c,e,i){var d=this.getZForResolution(c);var h=c/this.getResolution(d);var g=this.getOrigin(d);var f=ol.size.toSize(this.getTileSize(d),this.tmpSize_);var l=e?0.5:0;var m=e?0:0.5;var j=Math.floor((n-g[0])/c+l);var k=Math.floor((o-g[1])/c+m);var a=h*j/f[0];var b=h*k/f[1];if(e){a=Math.ceil(a)-1;b=Math.ceil(b)-1}else {a=Math.floor(a);b=Math.floor(b)}return ol.tilecoord.createOrUpdate(d,a,b,i)};ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndZ_=function(m,n,c,d,h){var g=this.getOrigin(c);var e=this.getResolution(c);var f=ol.size.toSize(this.getTileSize(c),this.tmpSize_);var k=d?0.5:0;var l=d?0:0.5;var i=Math.floor((m-g[0])/e+k);var j=Math.floor((n-g[1])/e+l);var a=i/f[0];var b=j/f[1];if(d){a=Math.ceil(a)-1;b=Math.ceil(b)-1}else {a=Math.floor(a);b=Math.floor(b)}return ol.tilecoord.createOrUpdate(c,a,b,h)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(a,c,b){return this.getTileCoordForXYAndZ_(a[0],a[1],c,!1,b)};ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]};ol.tilegrid.TileGrid.prototype.getTileSize=function(a){if(this.tileSize_){return this.tileSize_}else {return this.tileSizes_[a]}};ol.tilegrid.TileGrid.prototype.getFullTileRange=function(a){if(!this.fullTileRanges_){return null}else {return this.fullTileRanges_[a]}};ol.tilegrid.TileGrid.prototype.getZForResolution=function(b,a){var c=ol.array.linearFindNearest(this.resolutions_,b,a||0);return ol.math.clamp(c,this.minZoom,this.maxZoom)};ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(d){var c=this.resolutions_.length;var b=new Array(c);for(var a=this.minZoom;a<c;++a){b[a]=this.getTileRangeForExtentAndZ(d,a)}this.fullTileRanges_=b};goog.provide('ol.tilegrid');goog.require('ol');goog.require('ol.size');goog.require('ol.extent');goog.require('ol.extent.Corner');goog.require('ol.obj');goog.require('ol.proj');goog.require('ol.proj.Units');goog.require('ol.tilegrid.TileGrid');ol.tilegrid.getForProjection=function(b){var a=b.getDefaultTileGrid();if(!a){a=ol.tilegrid.createForProjection(b);b.setDefaultTileGrid(a)}return a};ol.tilegrid.wrapX=function(e,c,f){var h=c[0];var a=e.getTileCoordCenter(c);var b=ol.tilegrid.extentFromProjection(f);if(!ol.extent.containsCoordinate(b,a)){var d=ol.extent.getWidth(b);var g=Math.ceil((b[0]-a[0])/d);a[0]+=d*g;return e.getTileCoordForCoordAndZ(a,h)}else {return c}};ol.tilegrid.createForExtent=function(a,d,b,c){var f=c!==undefined?c:ol.extent.Corner.TOP_LEFT;var e=ol.tilegrid.resolutionsFromExtent(a,d,b);return new ol.tilegrid.TileGrid({extent:a,origin:ol.extent.getCorner(a,f),resolutions:e,tileSize:b})};ol.tilegrid.createXYZ=function(b){var a={};ol.obj.assign(a,b!==undefined?b:{});if(a.extent===undefined){a.extent=ol.proj.get('EPSG:3857').getExtent()}a.resolutions=ol.tilegrid.resolutionsFromExtent(a.extent,a.maxZoom,a.tileSize);delete a.maxZoom;return new ol.tilegrid.TileGrid(a)};ol.tilegrid.resolutionsFromExtent=function(f,c,b){var i=c!==undefined?c:ol.DEFAULT_MAX_ZOOM;var j=ol.extent.getHeight(f);var k=ol.extent.getWidth(f);var e=ol.size.toSize(b!==undefined?b:ol.DEFAULT_TILE_SIZE);var h=Math.max(k/e[0],j/e[1]);var g=i+1;var d=new Array(g);for(var a=0;a<g;++a){d[a]=h/Math.pow(2,a)}return d};ol.tilegrid.createForProjection=function(d,b,a,c){var e=ol.tilegrid.extentFromProjection(d);return ol.tilegrid.createForExtent(e,b,a,c)};ol.tilegrid.extentFromProjection=function(a){a=ol.proj.get(a);var c=a.getExtent();if(!c){var b=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/a.getMetersPerUnit();c=ol.extent.createOrUpdate(-b,-b,b,b)}return c};goog.provide('ol.Attribution');goog.require('ol.TileRange');goog.require('ol.math');goog.require('ol.tilegrid');ol.Attribution=function(a){this.html_=a.html;this.tileRanges_=a.tileRanges?a.tileRanges:null};ol.Attribution.prototype.getHTML=function(){return this.html_};ol.Attribution.prototype.intersectsAnyTileRange=function(g,j,i){if(!this.tileRanges_){return !0}var e,h,a,b;for(b in g){if(!(b in this.tileRanges_)){continue}a=g[b];var d;for(e=0,h=this.tileRanges_[b].length;e<h;++e){d=this.tileRanges_[b][e];if(d.intersects(a)){return !0}var c=j.getTileRangeForExtentAndZ(ol.tilegrid.extentFromProjection(i),parseInt(b,10));var f=c.getWidth();if(a.minX<c.minX||a.maxX>c.maxX){if(d.intersects(new ol.TileRange(ol.math.modulo(a.minX,f),ol.math.modulo(a.maxX,f),a.minY,a.maxY))){return !0}if(a.getWidth()>f&&d.intersects(c)){return !0}}}}return !1};goog.provide('ol.CollectionEventType');ol.CollectionEventType={ADD:'add',REMOVE:'remove'};goog.provide('ol.ObjectEventType');ol.ObjectEventType={PROPERTYCHANGE:'propertychange'};goog.provide('ol.events');goog.require('ol.obj');ol.events.bindListener_=function(a){var b=function(d){var b=a.listener;var c=a.bindTo||a.target;if(a.callOnce){ol.events.unlistenByKey(a)}return b.call(c,d)};a.boundListener=b;return b};ol.events.findListener_=function(c,e,f,d){var a;for(var b=0,g=c.length;b<g;++b){a=c[b];if(a.listener===e&&a.bindTo===f){if(d){a.deleteIndex=b}return a}}return undefined};ol.events.getListeners=function(b,c){var a=b.ol_lm;return a?a[c]:undefined};ol.events.getListenerMap_=function(b){var a=b.ol_lm;if(!a){a=b.ol_lm={}}return a};ol.events.removeListeners_=function(b,e){var a=ol.events.getListeners(b,e);if(a){for(var c=0,f=a.length;c<f;++c){b.removeEventListener(e,a[c].boundListener);ol.obj.clear(a[c])}a.length=0;var d=b.ol_lm;if(d){delete d[e];if(Object.keys(d).length===0){delete b.ol_lm}}}};ol.events.listen=function(d,c,f,h,g){var e=ol.events.getListenerMap_(d);var b=e[c];if(!b){b=e[c]=[]}var a=ol.events.findListener_(b,f,h,!1);if(a){if(!g){a.callOnce=!1}}else {a={bindTo:h,callOnce:!!g,listener:f,target:d,type:c};d.addEventListener(c,ol.events.bindListener_(a));b.push(a)}return a};ol.events.listenOnce=function(c,d,a,b){return ol.events.listen(c,d,a,b,!0)};ol.events.unlisten=function(e,f,c,d){var b=ol.events.getListeners(e,f);if(b){var a=ol.events.findListener_(b,c,d,!0);if(a){ol.events.unlistenByKey(a)}}};ol.events.unlistenByKey=function(a){if(a&&a.target){a.target.removeEventListener(a.type,a.boundListener);var b=ol.events.getListeners(a.target,a.type);if(b){var c='deleteIndex' in a?a.deleteIndex:b.indexOf(a);if(c!==-1){b.splice(c,1)}if(b.length===0){ol.events.removeListeners_(a.target,a.type)}}ol.obj.clear(a)}};ol.events.unlistenAll=function(a){var b=ol.events.getListenerMap_(a);for(var c in b){ol.events.removeListeners_(a,c)}};goog.provide('ol.Disposable');goog.require('ol');ol.Disposable=function(){};ol.Disposable.prototype.disposed_=!1;ol.Disposable.prototype.dispose=function(){if(!this.disposed_){this.disposed_=!0;this.disposeInternal()}};ol.Disposable.prototype.disposeInternal=ol.nullFunction;goog.provide('ol.events.Event');ol.events.Event=function(a){this.propagationStopped;this.type=a;this.target=null};ol.events.Event.prototype.preventDefault=ol.events.Event.prototype.stopPropagation=function(){this.propagationStopped=!0};ol.events.Event.stopPropagation=function(a){a.stopPropagation()};ol.events.Event.preventDefault=function(a){a.preventDefault()};goog.provide('ol.events.EventTarget');goog.require('ol');goog.require('ol.Disposable');goog.require('ol.events');goog.require('ol.events.Event');ol.events.EventTarget=function(){ol.Disposable.call(this);this.pendingRemovals_={};this.dispatching_={};this.listeners_={}};ol.inherits(ol.events.EventTarget,ol.Disposable);ol.events.EventTarget.prototype.addEventListener=function(c,b){var a=this.listeners_[c];if(!a){a=this.listeners_[c]=[]}if(a.indexOf(b)===-1){a.push(b)}};ol.events.EventTarget.prototype.dispatchEvent=function(d){var b=typeof d==='string'?new ol.events.Event(d):d;var a=b.type;b.target=this;var c=this.listeners_[a];var f;if(c){if(!(a in this.dispatching_)){this.dispatching_[a]=0;this.pendingRemovals_[a]=0}++this.dispatching_[a];for(var e=0,h=c.length;e<h;++e){if(c[e].call(this,b)===!1||b.propagationStopped){f=!1;break}}--this.dispatching_[a];if(this.dispatching_[a]===0){var g=this.pendingRemovals_[a];delete this.pendingRemovals_[a];while(g--){this.removeEventListener(a,ol.nullFunction)}delete this.dispatching_[a]}return f}};ol.events.EventTarget.prototype.disposeInternal=function(){ol.events.unlistenAll(this)};ol.events.EventTarget.prototype.getListeners=function(a){return this.listeners_[a]};ol.events.EventTarget.prototype.hasListener=function(a){return a?a in this.listeners_:Object.keys(this.listeners_).length>0};ol.events.EventTarget.prototype.removeEventListener=function(b,d){var a=this.listeners_[b];if(a){var c=a.indexOf(d);if(b in this.pendingRemovals_){a[c]=ol.nullFunction;++this.pendingRemovals_[b]}else {a.splice(c,1);if(a.length===0){delete this.listeners_[b]}}}};goog.provide('ol.events.EventType');ol.events.EventType={CHANGE:'change',CLEAR:'clear',CLICK:'click',DBLCLICK:'dblclick',DRAGENTER:'dragenter',DRAGOVER:'dragover',DROP:'drop',ERROR:'error',KEYDOWN:'keydown',KEYPRESS:'keypress',LOAD:'load',MOUSEDOWN:'mousedown',MOUSEMOVE:'mousemove',MOUSEOUT:'mouseout',MOUSEUP:'mouseup',MOUSEWHEEL:'mousewheel',MSPOINTERDOWN:'MSPointerDown',RESIZE:'resize',TOUCHSTART:'touchstart',TOUCHMOVE:'touchmove',TOUCHEND:'touchend',WHEEL:'wheel'};goog.provide('ol.Observable');goog.require('ol');goog.require('ol.events');goog.require('ol.events.EventTarget');goog.require('ol.events.EventType');ol.Observable=function(){ol.events.EventTarget.call(this);this.revision_=0};ol.inherits(ol.Observable,ol.events.EventTarget);ol.Observable.unByKey=function(a){if(Array.isArray(a)){for(var b=0,c=a.length;b<c;++b){ol.events.unlistenByKey(a[b])}}else {ol.events.unlistenByKey(a)}};ol.Observable.prototype.changed=function(){++this.revision_;this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Observable.prototype.dispatchEvent;ol.Observable.prototype.getRevision=function(){return this.revision_};ol.Observable.prototype.on=function(a,c,d){if(Array.isArray(a)){var f=a.length;var e=new Array(f);for(var b=0;b<f;++b){e[b]=ol.events.listen(this,a[b],c,d)}return e}else {return ol.events.listen(this,a,c,d)}};ol.Observable.prototype.once=function(a,c,d){if(Array.isArray(a)){var f=a.length;var e=new Array(f);for(var b=0;b<f;++b){e[b]=ol.events.listenOnce(this,a[b],c,d)}return e}else {return ol.events.listenOnce(this,a,c,d)}};ol.Observable.prototype.un=function(a,c,d){if(Array.isArray(a)){for(var b=0,e=a.length;b<e;++b){ol.events.unlisten(this,a[b],c,d)}return}else {ol.events.unlisten(this,a,c,d)}};goog.provide('ol.Object');goog.require('ol');goog.require('ol.ObjectEventType');goog.require('ol.Observable');goog.require('ol.events.Event');goog.require('ol.obj');ol.Object=function(a){ol.Observable.call(this);ol.getUid(this);this.values_={};if(a!==undefined){this.setProperties(a)}};ol.inherits(ol.Object,ol.Observable);ol.Object.changeEventTypeCache_={};ol.Object.getChangeEventType=function(a){return ol.Object.changeEventTypeCache_.hasOwnProperty(a)?ol.Object.changeEventTypeCache_[a]:ol.Object.changeEventTypeCache_[a]='change:'+a};ol.Object.prototype.get=function(b){var a;if(this.values_.hasOwnProperty(b)){a=this.values_[b]}return a};ol.Object.prototype.getKeys=function(){return Object.keys(this.values_)};ol.Object.prototype.getProperties=function(){return ol.obj.assign({},this.values_)};ol.Object.prototype.notify=function(b,c){var a;a=ol.Object.getChangeEventType(b);this.dispatchEvent(new ol.Object.Event(a,b,c));a=ol.ObjectEventType.PROPERTYCHANGE;this.dispatchEvent(new ol.Object.Event(a,b,c))};ol.Object.prototype.set=function(a,b,d){if(d){this.values_[a]=b}else {var c=this.values_[a];this.values_[a]=b;if(c!==b){this.notify(a,c)}}};ol.Object.prototype.setProperties=function(b,c){var a;for(a in b){this.set(a,b[a],c)}};ol.Object.prototype.unset=function(a,b){if(a in this.values_){var c=this.values_[a];delete this.values_[a];if(!b){this.notify(a,c)}}};ol.Object.Event=function(b,c,a){ol.events.Event.call(this,b);this.key=c;this.oldValue=a};ol.inherits(ol.Object.Event,ol.events.Event);goog.provide('ol.Collection');goog.require('ol');goog.require('ol.AssertionError');goog.require('ol.CollectionEventType');goog.require('ol.Object');goog.require('ol.events.Event');ol.Collection=function(b,c){ol.Object.call(this);var d=c||{};this.unique_=!!d.unique;this.array_=b?b:[];if(this.unique_){for(var a=0,e=this.array_.length;a<e;++a){this.assertUnique_(this.array_[a],a)}}this.updateLength_()};ol.inherits(ol.Collection,ol.Object);ol.Collection.prototype.clear=function(){while(this.getLength()>0){this.pop()}};ol.Collection.prototype.extend=function(b){var a,c;for(a=0,c=b.length;a<c;++a){this.push(b[a])}return this};ol.Collection.prototype.forEach=function(d,c){var e=c?d.bind(c):d;var b=this.array_;for(var a=0,f=b.length;a<f;++a){e(b[a],a,b)}};ol.Collection.prototype.getArray=function(){return this.array_};ol.Collection.prototype.item=function(a){return this.array_[a]};ol.Collection.prototype.getLength=function(){return this.get(ol.Collection.Property_.LENGTH)};ol.Collection.prototype.insertAt=function(b,a){if(this.unique_){this.assertUnique_(a)}this.array_.splice(b,0,a);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,a))};ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)};ol.Collection.prototype.push=function(a){if(this.unique_){this.assertUnique_(a)}var b=this.getLength();this.insertAt(b,a);return this.getLength()};ol.Collection.prototype.remove=function(d){var b=this.array_;var a,c;for(a=0,c=b.length;a<c;++a){if(b[a]===d){return this.removeAt(a)}}return undefined};ol.Collection.prototype.removeAt=function(a){var b=this.array_[a];this.array_.splice(a,1);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,b));return b};ol.Collection.prototype.setAt=function(a,b){var d=this.getLength();if(a<d){if(this.unique_){this.assertUnique_(b,a)}var e=this.array_[a];this.array_[a]=b;this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,e));this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,b))}else {var c;for(c=d;c<a;++c){this.insertAt(c,undefined)}this.insertAt(a,b)}};ol.Collection.prototype.updateLength_=function(){this.set(ol.Collection.Property_.LENGTH,this.array_.length)};ol.Collection.prototype.assertUnique_=function(c,b){for(var a=0,d=this.array_.length;a<d;++a){if(this.array_[a]===c&&a!==b){throw new ol.AssertionError(58)}}};ol.Collection.Property_={LENGTH:'length'};ol.Collection.Event=function(b,a){ol.events.Event.call(this,b);this.element=a};ol.inherits(ol.Collection.Event,ol.events.Event);goog.provide('ol.MapEvent');goog.require('ol');goog.require('ol.events.Event');ol.MapEvent=function(b,c,a){ol.events.Event.call(this,b);this.map=c;this.frameState=a!==undefined?a:null};ol.inherits(ol.MapEvent,ol.events.Event);goog.provide('ol.MapBrowserEvent');goog.require('ol');goog.require('ol.MapEvent');ol.MapBrowserEvent=function(e,a,b,c,d){ol.MapEvent.call(this,e,a,d);this.originalEvent=b;this.pixel=a.getEventPixel(b);this.coordinate=a.getCoordinateFromPixel(this.pixel);this.dragging=c!==undefined?c:!1};ol.inherits(ol.MapBrowserEvent,ol.MapEvent);ol.MapBrowserEvent.prototype.preventDefault=function(){ol.MapEvent.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};ol.MapBrowserEvent.prototype.stopPropagation=function(){ol.MapEvent.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};goog.provide('ol.webgl');ol.webgl.ONE=1;ol.webgl.SRC_ALPHA=770;ol.webgl.COLOR_ATTACHMENT0=36064;ol.webgl.COLOR_BUFFER_BIT=16384;ol.webgl.TRIANGLES=4;ol.webgl.TRIANGLE_STRIP=5;ol.webgl.ONE_MINUS_SRC_ALPHA=771;ol.webgl.ARRAY_BUFFER=34962;ol.webgl.ELEMENT_ARRAY_BUFFER=34963;ol.webgl.STREAM_DRAW=35040;ol.webgl.STATIC_DRAW=35044;ol.webgl.DYNAMIC_DRAW=35048;ol.webgl.CULL_FACE=2884;ol.webgl.BLEND=3042;ol.webgl.STENCIL_TEST=2960;ol.webgl.DEPTH_TEST=2929;ol.webgl.SCISSOR_TEST=3089;ol.webgl.UNSIGNED_BYTE=5121;ol.webgl.UNSIGNED_SHORT=5123;ol.webgl.UNSIGNED_INT=5125;ol.webgl.FLOAT=5126;ol.webgl.RGBA=6408;ol.webgl.FRAGMENT_SHADER=35632;ol.webgl.VERTEX_SHADER=35633;ol.webgl.LINK_STATUS=35714;ol.webgl.LINEAR=9729;ol.webgl.TEXTURE_MAG_FILTER=10240;ol.webgl.TEXTURE_MIN_FILTER=10241;ol.webgl.TEXTURE_WRAP_S=10242;ol.webgl.TEXTURE_WRAP_T=10243;ol.webgl.TEXTURE_2D=3553;ol.webgl.TEXTURE0=33984;ol.webgl.CLAMP_TO_EDGE=33071;ol.webgl.COMPILE_STATUS=35713;ol.webgl.FRAMEBUFFER=36160;ol.webgl.CONTEXT_IDS_=['experimental-webgl','webgl','webkit-3d','moz-webgl'];ol.webgl.getContext=function(d,c){var b,a,e=ol.webgl.CONTEXT_IDS_.length;for(a=0;a<e;++a){try{b=d.getContext(ol.webgl.CONTEXT_IDS_[a],c);if(b){return b}}catch(f){}}return null};goog.provide('ol.has');goog.require('ol');goog.require('ol.webgl');var ua=typeof navigator!=='undefined'?navigator.userAgent.toLowerCase():'';ol.has.FIREFOX=ua.indexOf('firefox')!==-1;ol.has.SAFARI=ua.indexOf('safari')!==-1&&ua.indexOf('chrom')==-1;ol.has.WEBKIT=ua.indexOf('webkit')!==-1&&ua.indexOf('edge')==-1;ol.has.MAC=ua.indexOf('macintosh')!==-1;ol.has.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1;ol.has.CANVAS_LINE_DASH=!1;ol.has.CANVAS=ol.ENABLE_CANVAS&&function(){if(!('HTMLCanvasElement' in window)){return !1}try{var a=document.createElement('CANVAS').getContext('2d');if(!a){return !1}else {if(a.setLineDash!==undefined){ol.has.CANVAS_LINE_DASH=!0}return !0}}catch(b){return !1}}();ol.has.DEVICE_ORIENTATION='DeviceOrientationEvent' in window;ol.has.GEOLOCATION='geolocation' in navigator;ol.has.TOUCH=ol.ASSUME_TOUCH||'ontouchstart' in window;ol.has.POINTER='PointerEvent' in window;ol.has.MSPOINTER=!!navigator.msPointerEnabled;ol.has.WEBGL;(function(){if(ol.ENABLE_WEBGL){var d=!1;var b;var c=[];if('WebGLRenderingContext' in window){try{var e=document.createElement('CANVAS');var a=ol.webgl.getContext(e,{failIfMajorPerformanceCaveat:!0});if(a){d=!0;b=a.getParameter(a.MAX_TEXTURE_SIZE);c=a.getSupportedExtensions()}}catch(f){}}ol.has.WEBGL=d;ol.WEBGL_EXTENSIONS=c;ol.WEBGL_MAX_TEXTURE_SIZE=b}})();goog.provide('ol.MapBrowserEventType');goog.require('ol.events.EventType');ol.MapBrowserEventType={SINGLECLICK:'singleclick',CLICK:ol.events.EventType.CLICK,DBLCLICK:ol.events.EventType.DBLCLICK,POINTERDRAG:'pointerdrag',POINTERMOVE:'pointermove',POINTERDOWN:'pointerdown',POINTERUP:'pointerup',POINTEROVER:'pointerover',POINTEROUT:'pointerout',POINTERENTER:'pointerenter',POINTERLEAVE:'pointerleave',POINTERCANCEL:'pointercancel'};goog.provide('ol.MapBrowserPointerEvent');goog.require('ol');goog.require('ol.MapBrowserEvent');ol.MapBrowserPointerEvent=function(d,e,a,c,b){ol.MapBrowserEvent.call(this,d,e,a.originalEvent,c,b);this.pointerEvent=a};ol.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent);goog.provide('ol.pointer.EventType');ol.pointer.EventType={POINTERMOVE:'pointermove',POINTERDOWN:'pointerdown',POINTERUP:'pointerup',POINTEROVER:'pointerover',POINTEROUT:'pointerout',POINTERENTER:'pointerenter',POINTERLEAVE:'pointerleave',POINTERCANCEL:'pointercancel'};goog.provide('ol.pointer.EventSource');ol.pointer.EventSource=function(a,b){this.dispatcher=a;this.mapping_=b};ol.pointer.EventSource.prototype.getEvents=function(){return Object.keys(this.mapping_)};ol.pointer.EventSource.prototype.getHandlerForEvent=function(a){return this.mapping_[a]};goog.provide('ol.pointer.MouseSource');goog.require('ol');goog.require('ol.pointer.EventSource');ol.pointer.MouseSource=function(a){var b={'mousedown':this.mousedown,'mousemove':this.mousemove,'mouseup':this.mouseup,'mouseover':this.mouseover,'mouseout':this.mouseout};ol.pointer.EventSource.call(this,a,b);this.pointerMap=a.pointerMap;this.lastTouches=[]};ol.inherits(ol.pointer.MouseSource,ol.pointer.EventSource);ol.pointer.MouseSource.POINTER_ID=1;ol.pointer.MouseSource.POINTER_TYPE='mouse';ol.pointer.MouseSource.DEDUP_DIST=25;ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(c){var d=this.lastTouches;var h=c.clientX,i=c.clientY;for(var a=0,g=d.length,b;a<g&&(b=d[a]);a++){var e=Math.abs(h-b[0]),f=Math.abs(i-b[1]);if(e<=ol.pointer.MouseSource.DEDUP_DIST&&f<=ol.pointer.MouseSource.DEDUP_DIST){return !0}}return !1};ol.pointer.MouseSource.prepareEvent=function(b,c){var a=c.cloneEvent(b,b);var d=a.preventDefault;a.preventDefault=function(){b.preventDefault();d()};a.pointerId=ol.pointer.MouseSource.POINTER_ID;a.isPrimary=!0;a.pointerType=ol.pointer.MouseSource.POINTER_TYPE;return a};ol.pointer.MouseSource.prototype.mousedown=function(a){if(!this.isEventSimulatedFromTouch_(a)){if(ol.pointer.MouseSource.POINTER_ID.toString() in this.pointerMap){this.cancel(a)}var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=a;this.dispatcher.down(b,a)}};ol.pointer.MouseSource.prototype.mousemove=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.move(b,a)}};ol.pointer.MouseSource.prototype.mouseup=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];if(b&&b.button===a.button){var c=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.up(c,a);this.cleanupMouse()}}};ol.pointer.MouseSource.prototype.mouseover=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.enterOver(b,a)}};ol.pointer.MouseSource.prototype.mouseout=function(a){if(!this.isEventSimulatedFromTouch_(a)){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.leaveOut(b,a)}};ol.pointer.MouseSource.prototype.cancel=function(a){var b=ol.pointer.MouseSource.prepareEvent(a,this.dispatcher);this.dispatcher.cancel(b,a);this.cleanupMouse()};ol.pointer.MouseSource.prototype.cleanupMouse=function(){delete this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]};goog.provide('ol.pointer.MsSource');goog.require('ol');goog.require('ol.pointer.EventSource');ol.pointer.MsSource=function(a){var b={'MSPointerDown':this.msPointerDown,'MSPointerMove':this.msPointerMove,'MSPointerUp':this.msPointerUp,'MSPointerOut':this.msPointerOut,'MSPointerOver':this.msPointerOver,'MSPointerCancel':this.msPointerCancel,'MSGotPointerCapture':this.msGotPointerCapture,'MSLostPointerCapture':this.msLostPointerCapture};ol.pointer.EventSource.call(this,a,b);this.pointerMap=a.pointerMap;this.POINTER_TYPES=['','unavailable','touch','pen','mouse']};ol.inherits(ol.pointer.MsSource,ol.pointer.EventSource);ol.pointer.MsSource.prototype.prepareEvent_=function(a){var b=a;if(typeof a.pointerType==='number'){b=this.dispatcher.cloneEvent(a,a);b.pointerType=this.POINTER_TYPES[a.pointerType]}return b};ol.pointer.MsSource.prototype.cleanup=function(a){delete this.pointerMap[a.toString()]};ol.pointer.MsSource.prototype.msPointerDown=function(a){this.pointerMap[a.pointerId.toString()]=a;var b=this.prepareEvent_(a);this.dispatcher.down(b,a)};ol.pointer.MsSource.prototype.msPointerMove=function(a){var b=this.prepareEvent_(a);this.dispatcher.move(b,a)};ol.pointer.MsSource.prototype.msPointerUp=function(a){var b=this.prepareEvent_(a);this.dispatcher.up(b,a);this.cleanup(a.pointerId)};ol.pointer.MsSource.prototype.msPointerOut=function(a){var b=this.prepareEvent_(a);this.dispatcher.leaveOut(b,a)};ol.pointer.MsSource.prototype.msPointerOver=function(a){var b=this.prepareEvent_(a);this.dispatcher.enterOver(b,a)};ol.pointer.MsSource.prototype.msPointerCancel=function(a){var b=this.prepareEvent_(a);this.dispatcher.cancel(b,a);this.cleanup(a.pointerId)};ol.pointer.MsSource.prototype.msLostPointerCapture=function(a){var b=this.dispatcher.makeEvent('lostpointercapture',a,a);this.dispatcher.dispatchEvent(b)};ol.pointer.MsSource.prototype.msGotPointerCapture=function(a){var b=this.dispatcher.makeEvent('gotpointercapture',a,a);this.dispatcher.dispatchEvent(b)};goog.provide('ol.pointer.NativeSource');goog.require('ol');goog.require('ol.pointer.EventSource');ol.pointer.NativeSource=function(a){var b={'pointerdown':this.pointerDown,'pointermove':this.pointerMove,'pointerup':this.pointerUp,'pointerout':this.pointerOut,'pointerover':this.pointerOver,'pointercancel':this.pointerCancel,'gotpointercapture':this.gotPointerCapture,'lostpointercapture':this.lostPointerCapture};ol.pointer.EventSource.call(this,a,b)};ol.inherits(ol.pointer.NativeSource,ol.pointer.EventSource);ol.pointer.NativeSource.prototype.pointerDown=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerMove=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerUp=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerOut=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerOver=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.pointerCancel=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.lostPointerCapture=function(a){this.dispatcher.fireNativeEvent(a)};ol.pointer.NativeSource.prototype.gotPointerCapture=function(a){this.dispatcher.fireNativeEvent(a)};goog.provide('ol.pointer.PointerEvent');goog.require('ol');goog.require('ol.events.Event');ol.pointer.PointerEvent=function(d,b,c){ol.events.Event.call(this,d);this.originalEvent=b;var a=c?c:{};this.buttons=this.getButtons_(a);this.pressure=this.getPressure_(a,this.buttons);this.bubbles='bubbles' in a?a['bubbles']:!1;this.cancelable='cancelable' in a?a['cancelable']:!1;this.view='view' in a?a['view']:null;this.detail='detail' in a?a['detail']:null;this.screenX='screenX' in a?a['screenX']:0;this.screenY='screenY' in a?a['screenY']:0;this.clientX='clientX' in a?a['clientX']:0;this.clientY='clientY' in a?a['clientY']:0;this.ctrlKey='ctrlKey' in a?a['ctrlKey']:!1;this.altKey='altKey' in a?a['altKey']:!1;this.shiftKey='shiftKey' in a?a['shiftKey']:!1;this.metaKey='metaKey' in a?a['metaKey']:!1;this.button='button' in a?a['button']:0;this.relatedTarget='relatedTarget' in a?a['relatedTarget']:null;this.pointerId='pointerId' in a?a['pointerId']:0;this.width='width' in a?a['width']:0;this.height='height' in a?a['height']:0;this.tiltX='tiltX' in a?a['tiltX']:0;this.tiltY='tiltY' in a?a['tiltY']:0;this.pointerType='pointerType' in a?a['pointerType']:'';this.hwTimestamp='hwTimestamp' in a?a['hwTimestamp']:0;this.isPrimary='isPrimary' in a?a['isPrimary']:!1;if(b.preventDefault){this.preventDefault=function(){b.preventDefault()}}};ol.inherits(ol.pointer.PointerEvent,ol.events.Event);ol.pointer.PointerEvent.prototype.getButtons_=function(b){var a;if(b.buttons||ol.pointer.PointerEvent.HAS_BUTTONS){a=b.buttons}else {switch(b.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0;}}return a};ol.pointer.PointerEvent.prototype.getPressure_=function(b,c){var a=0;if(b.pressure){a=b.pressure}else {a=c?0.5:0}return a};ol.pointer.PointerEvent.HAS_BUTTONS=!1;(function(){try{var a=new MouseEvent('click',{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=a.buttons===1}catch(b){}})();goog.provide('ol.pointer.TouchSource');goog.require('ol');goog.require('ol.array');goog.require('ol.pointer.EventSource');goog.require('ol.pointer.MouseSource');ol.pointer.TouchSource=function(a,b){var c={'touchstart':this.touchstart,'touchmove':this.touchmove,'touchend':this.touchend,'touchcancel':this.touchcancel};ol.pointer.EventSource.call(this,a,c);this.pointerMap=a.pointerMap;this.mouseSource=b;this.firstTouchId_=undefined;this.clickCount_=0;this.resetId_=undefined};ol.inherits(ol.pointer.TouchSource,ol.pointer.EventSource);ol.pointer.TouchSource.DEDUP_TIMEOUT=2500;ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200;ol.pointer.TouchSource.POINTER_TYPE='touch';ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(a){return this.firstTouchId_===a.identifier};ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(b){var a=Object.keys(this.pointerMap).length;if(a===0||a===1&&ol.pointer.MouseSource.POINTER_ID.toString() in this.pointerMap){this.firstTouchId_=b.identifier;this.cancelResetClickCount_()}};ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(a){if(a.isPrimary){this.firstTouchId_=undefined;this.resetClickCount_()}};ol.pointer.TouchSource.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)};ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0;this.resetId_=undefined};ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){if(this.resetId_!==undefined){clearTimeout(this.resetId_)}};ol.pointer.TouchSource.prototype.touchToPointer_=function(c,b){var a=this.dispatcher.cloneEvent(c,b);a.pointerId=b.identifier+2;a.bubbles=!0;a.cancelable=!0;a.detail=this.clickCount_;a.button=0;a.buttons=1;a.width=b.webkitRadiusX||b.radiusX||0;a.height=b.webkitRadiusY||b.radiusY||0;a.pressure=b.webkitForce||b.force||0.5;a.isPrimary=this.isPrimaryTouch_(b);a.pointerType=ol.pointer.TouchSource.POINTER_TYPE;a.clientX=b.clientX;a.clientY=b.clientY;a.screenX=b.screenX;a.screenY=b.screenY;return a};ol.pointer.TouchSource.prototype.processTouches_=function(a,e){var d=Array.prototype.slice.call(a.changedTouches);var f=d.length;function preventDefault(){a.preventDefault()}var b,c;for(b=0;b<f;++b){c=this.touchToPointer_(a,d[b]);c.preventDefault=preventDefault;e.call(this,a,c)}};ol.pointer.TouchSource.prototype.findTouch_=function(b,d){var e=b.length;var c;for(var a=0;a<e;a++){c=b[a];if(c.identifier===d){return !0}}return !1};ol.pointer.TouchSource.prototype.vacuumTouches_=function(e){var d=e.touches;var h=Object.keys(this.pointerMap);var f=h.length;if(f>=d.length){var c=[];var a,b,g;for(a=0;a<f;++a){b=h[a];g=this.pointerMap[b];if(b!=ol.pointer.MouseSource.POINTER_ID&&!this.findTouch_(d,b-2)){c.push(g.out)}}for(a=0;a<c.length;++a){this.cancelOut_(e,c[a])}}};ol.pointer.TouchSource.prototype.touchstart=function(a){this.vacuumTouches_(a);this.setPrimaryTouch_(a.changedTouches[0]);this.dedupSynthMouse_(a);this.clickCount_++;this.processTouches_(a,this.overDown_)};ol.pointer.TouchSource.prototype.overDown_=function(b,a){this.pointerMap[a.pointerId]={target:a.target,out:a,outTarget:a.target};this.dispatcher.over(a,b);this.dispatcher.enter(a,b);this.dispatcher.down(a,b)};ol.pointer.TouchSource.prototype.touchmove=function(a){a.preventDefault();this.processTouches_(a,this.moveOverOut_)};ol.pointer.TouchSource.prototype.moveOverOut_=function(c,f){var a=f;var b=this.pointerMap[a.pointerId];if(!b){return}var e=b.out;var d=b.outTarget;this.dispatcher.move(a,c);if(e&&d!==a.target){e.relatedTarget=a.target;a.relatedTarget=d;e.target=d;if(a.target){this.dispatcher.leaveOut(e,c);this.dispatcher.enterOver(a,c)}else {a.target=d;a.relatedTarget=null;this.cancelOut_(c,a)}}b.out=a;b.outTarget=a.target};ol.pointer.TouchSource.prototype.touchend=function(a){this.dedupSynthMouse_(a);this.processTouches_(a,this.upOut_)};ol.pointer.TouchSource.prototype.upOut_=function(b,a){this.dispatcher.up(a,b);this.dispatcher.out(a,b);this.dispatcher.leave(a,b);this.cleanUpPointer_(a)};ol.pointer.TouchSource.prototype.touchcancel=function(a){this.processTouches_(a,this.cancelOut_)};ol.pointer.TouchSource.prototype.cancelOut_=function(b,a){this.dispatcher.cancel(a,b);this.dispatcher.out(a,b);this.dispatcher.leave(a,b);this.cleanUpPointer_(a)};ol.pointer.TouchSource.prototype.cleanUpPointer_=function(a){delete this.pointerMap[a.pointerId];this.removePrimaryPointer_(a)};ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(d){var b=this.mouseSource.lastTouches;var a=d.changedTouches[0];if(this.isPrimaryTouch_(a)){var c=[a.clientX,a.clientY];b.push(c);setTimeout(function(){ol.array.remove(b,c)},ol.pointer.TouchSource.DEDUP_TIMEOUT)}};goog.provide('ol.pointer.PointerEventHandler');goog.require('ol');goog.require('ol.events');goog.require('ol.events.EventTarget');goog.require('ol.has');goog.require('ol.pointer.EventType');goog.require('ol.pointer.MouseSource');goog.require('ol.pointer.MsSource');goog.require('ol.pointer.NativeSource');goog.require('ol.pointer.PointerEvent');goog.require('ol.pointer.TouchSource');ol.pointer.PointerEventHandler=function(a){ol.events.EventTarget.call(this);this.element_=a;this.pointerMap={};this.eventMap_={};this.eventSourceList_=[];this.registerSources()};ol.inherits(ol.pointer.PointerEventHandler,ol.events.EventTarget);ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER){this.registerSource('native',new ol.pointer.NativeSource(this))}else {if(ol.has.MSPOINTER){this.registerSource('ms',new ol.pointer.MsSource(this))}else {var a=new ol.pointer.MouseSource(this);this.registerSource('mouse',a);if(ol.has.TOUCH){this.registerSource('touch',new ol.pointer.TouchSource(this,a))}}}this.register_()};ol.pointer.PointerEventHandler.prototype.registerSource=function(d,c){var a=c;var b=a.getEvents();if(b){b.forEach(function(e){var b=a.getHandlerForEvent(e);if(b){this.eventMap_[e]=b.bind(a)}},this);this.eventSourceList_.push(a)}};ol.pointer.PointerEventHandler.prototype.register_=function(){var c=this.eventSourceList_.length;var b;for(var a=0;a<c;a++){b=this.eventSourceList_[a];this.addEvents_(b.getEvents())}};ol.pointer.PointerEventHandler.prototype.unregister_=function(){var c=this.eventSourceList_.length;var b;for(var a=0;a<c;a++){b=this.eventSourceList_[a];this.removeEvents_(b.getEvents())}};ol.pointer.PointerEventHandler.prototype.eventHandler_=function(b){var c=b.type;var a=this.eventMap_[c];if(a){a(b)}};ol.pointer.PointerEventHandler.prototype.addEvents_=function(a){a.forEach(function(b){ol.events.listen(this.element_,b,this.eventHandler_,this)},this)};ol.pointer.PointerEventHandler.prototype.removeEvents_=function(a){a.forEach(function(b){ol.events.unlisten(this.element_,b,this.eventHandler_,this)},this)};ol.pointer.PointerEventHandler.prototype.cloneEvent=function(e,d){var c={},b;for(var a=0,f=ol.pointer.PointerEventHandler.CLONE_PROPS.length;a<f;a++){b=ol.pointer.PointerEventHandler.CLONE_PROPS[a][0];c[b]=e[b]||d[b]||ol.pointer.PointerEventHandler.CLONE_PROPS[a][1]}return c};ol.pointer.PointerEventHandler.prototype.down=function(b,a){this.fireEvent(ol.pointer.EventType.POINTERDOWN,b,a)};ol.pointer.PointerEventHandler.prototype.move=function(b,a){this.fireEvent(ol.pointer.EventType.POINTERMOVE,b,a)};ol.pointer.PointerEventHandler.prototype.up=function(b,a){this.fireEvent(ol.pointer.EventType.POINTERUP,b,a)};ol.pointer.PointerEventHandler.prototype.enter=function(a,b){a.bubbles=!1;this.fireEvent(ol.pointer.EventType.POINTERENTER,a,b)};ol.pointer.PointerEventHandler.prototype.leave=function(a,b){a.bubbles=!1;this.fireEvent(ol.pointer.EventType.POINTERLEAVE,a,b)};ol.pointer.PointerEventHandler.prototype.over=function(a,b){a.bubbles=!0;this.fireEvent(ol.pointer.EventType.POINTEROVER,a,b)};ol.pointer.PointerEventHandler.prototype.out=function(a,b){a.bubbles=!0;this.fireEvent(ol.pointer.EventType.POINTEROUT,a,b)};ol.pointer.PointerEventHandler.prototype.cancel=function(b,a){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,b,a)};ol.pointer.PointerEventHandler.prototype.leaveOut=function(a,b){this.out(a,b);if(!this.contains_(a.target,a.relatedTarget)){this.leave(a,b)}};ol.pointer.PointerEventHandler.prototype.enterOver=function(a,b){this.over(a,b);if(!this.contains_(a.target,a.relatedTarget)){this.enter(a,b)}};ol.pointer.PointerEventHandler.prototype.contains_=function(b,a){if(!b||!a){return !1}return b.contains(a)};ol.pointer.PointerEventHandler.prototype.makeEvent=function(a,c,b){return new ol.pointer.PointerEvent(a,b,c)};ol.pointer.PointerEventHandler.prototype.fireEvent=function(a,c,b){var d=this.makeEvent(a,c,b);this.dispatchEvent(d)};ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(a){var b=this.makeEvent(a.type,a,a);this.dispatchEvent(b)};ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(c,a){var b=this.makeEvent(c,ol.pointer.MouseSource.prepareEvent(a,this),a);return b};ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_();ol.events.EventTarget.prototype.disposeInternal.call(this)};ol.pointer.PointerEventHandler.CLONE_PROPS=[['bubbles',!1],['cancelable',!1],['view',null],['detail',null],['screenX',0],['screenY',0],['clientX',0],['clientY',0],['ctrlKey',!1],['altKey',!1],['shiftKey',!1],['metaKey',!1],['button',0],['relatedTarget',null],['buttons',0],['pointerId',0],['width',0],['height',0],['pressure',0],['tiltX',0],['tiltY',0],['pointerType',''],['hwTimestamp',0],['isPrimary',!1],['type',''],['target',null],['currentTarget',null],['which',0]];goog.provide('ol.MapBrowserEventHandler');goog.require('ol');goog.require('ol.has');goog.require('ol.MapBrowserEventType');goog.require('ol.MapBrowserPointerEvent');goog.require('ol.events');goog.require('ol.events.EventTarget');goog.require('ol.pointer.EventType');goog.require('ol.pointer.PointerEventHandler');ol.MapBrowserEventHandler=function(c,a){ol.events.EventTarget.call(this);this.map_=c;this.clickTimeoutId_=0;this.dragging_=!1;this.dragListenerKeys_=[];this.moveTolerance_=a?a*ol.has.DEVICE_PIXEL_RATIO:ol.has.DEVICE_PIXEL_RATIO;this.down_=null;var b=this.map_.getViewport();this.activePointers_=0;this.trackedTouches_={};this.pointerEventHandler_=new ol.pointer.PointerEventHandler(b);this.documentPointerEventHandler_=null;this.pointerdownListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,this.handlePointerDown_,this);this.relayedListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,this)};ol.inherits(ol.MapBrowserEventHandler,ol.events.EventTarget);ol.MapBrowserEventHandler.prototype.emulateClick_=function(a){var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.CLICK,this.map_,a);this.dispatchEvent(b);if(this.clickTimeoutId_!==0){clearTimeout(this.clickTimeoutId_);this.clickTimeoutId_=0;b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.DBLCLICK,this.map_,a);this.dispatchEvent(b)}else {this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.SINGLECLICK,this.map_,a);this.dispatchEvent(b)}.bind(this),250)}};ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(b){var a=b;if(a.type==ol.MapBrowserEventType.POINTERUP||a.type==ol.MapBrowserEventType.POINTERCANCEL){delete this.trackedTouches_[a.pointerId]}else {if(a.type==ol.MapBrowserEventType.POINTERDOWN){this.trackedTouches_[a.pointerId]=!0}}this.activePointers_=Object.keys(this.trackedTouches_).length};ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(a){this.updateActivePointers_(a);var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERUP,this.map_,a);this.dispatchEvent(b);if(!b.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(a)){this.emulateClick_(this.down_)}if(this.activePointers_===0){this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;this.dragging_=!1;this.down_=null;this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}};ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(a){return a.button===0};ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(a){this.updateActivePointers_(a);var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDOWN,this.map_,a);this.dispatchEvent(b);this.down_=a;if(this.dragListenerKeys_.length===0){this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document);this.dragListenerKeys_.push(ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),ol.events.listen(this.pointerEventHandler_,ol.MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this))}};ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(a){if(this.isMoving_(a)){this.dragging_=!0;var b=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDRAG,this.map_,a,this.dragging_);this.dispatchEvent(b)}a.preventDefault()};ol.MapBrowserEventHandler.prototype.relayEvent_=function(a){var b=!!(this.down_&&this.isMoving_(a));this.dispatchEvent(new ol.MapBrowserPointerEvent(a.type,this.map_,a,b))};ol.MapBrowserEventHandler.prototype.isMoving_=function(a){return Math.abs(a.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(a.clientY-this.down_.clientY)>this.moveTolerance_};ol.MapBrowserEventHandler.prototype.disposeInternal=function(){if(this.relayedListenerKey_){ol.events.unlistenByKey(this.relayedListenerKey_);this.relayedListenerKey_=null}if(this.pointerdownListenerKey_){ol.events.unlistenByKey(this.pointerdownListenerKey_);this.pointerdownListenerKey_=null}this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;if(this.documentPointerEventHandler_){this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}if(this.pointerEventHandler_){this.pointerEventHandler_.dispose();this.pointerEventHandler_=null}ol.events.EventTarget.prototype.disposeInternal.call(this)};goog.provide('ol.MapEventType');ol.MapEventType={POSTRENDER:'postrender',MOVESTART:'movestart',MOVEEND:'moveend'};goog.provide('ol.MapProperty');ol.MapProperty={LAYERGROUP:'layergroup',SIZE:'size',TARGET:'target',VIEW:'view'};goog.provide('ol.TileState');ol.TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};goog.provide('ol.structs.PriorityQueue');goog.require('ol.asserts');goog.require('ol.obj');ol.structs.PriorityQueue=function(a,b){this.priorityFunction_=a;this.keyFunction_=b;this.elements_=[];this.priorities_=[];this.queuedElements_={}};ol.structs.PriorityQueue.DROP=Infinity;ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;ol.obj.clear(this.queuedElements_)};ol.structs.PriorityQueue.prototype.dequeue=function(){var a=this.elements_;var b=this.priorities_;var c=a[0];if(a.length==1){a.length=0;b.length=0}else {a[0]=a.pop();b[0]=b.pop();this.siftUp_(0)}var d=this.keyFunction_(c);delete this.queuedElements_[d];return c};ol.structs.PriorityQueue.prototype.enqueue=function(a){ol.asserts.assert(!(this.keyFunction_(a) in this.queuedElements_),31);var b=this.priorityFunction_(a);if(b!=ol.structs.PriorityQueue.DROP){this.elements_.push(a);this.priorities_.push(b);this.queuedElements_[this.keyFunction_(a)]=!0;this.siftDown_(0,this.elements_.length-1);return !0}return !1};ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length};ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(a){return a*2+1};ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(a){return a*2+2};ol.structs.PriorityQueue.prototype.getParentIndex_=function(a){return a-1>>1};ol.structs.PriorityQueue.prototype.heapify_=function(){var a;for(a=(this.elements_.length>>1)-1;a>=0;a--){this.siftUp_(a)}};ol.structs.PriorityQueue.prototype.isEmpty=function(){return this.elements_.length===0};ol.structs.PriorityQueue.prototype.isKeyQueued=function(a){return a in this.queuedElements_};ol.structs.PriorityQueue.prototype.isQueued=function(a){return this.isKeyQueued(this.keyFunction_(a))};ol.structs.PriorityQueue.prototype.siftUp_=function(a){var c=this.elements_;var b=this.priorities_;var g=c.length;var j=c[a];var i=b[a];var h=a;while(a<g>>1){var f=this.getLeftChildIndex_(a);var e=this.getRightChildIndex_(a);var d=e<g&&b[e]<b[f]?e:f;c[a]=c[d];b[a]=b[d];a=d}c[a]=j;b[a]=i;this.siftDown_(h,a)};ol.structs.PriorityQueue.prototype.siftDown_=function(f,a){var d=this.elements_;var b=this.priorities_;var g=d[a];var e=b[a];while(a>f){var c=this.getParentIndex_(a);if(b[c]>e){d[a]=d[c];b[a]=b[c];a=c}else {break}}d[a]=g;b[a]=e};ol.structs.PriorityQueue.prototype.reprioritize=function(){var g=this.priorityFunction_;var a=this.elements_;var f=this.priorities_;var c=0;var h=a.length;var b,d,e;for(d=0;d<h;++d){b=a[d];e=g(b);if(e==ol.structs.PriorityQueue.DROP){delete this.queuedElements_[this.keyFunction_(b)]}else {f[c]=e;a[c++]=b}}a.length=c;f.length=c;this.heapify_()};goog.provide('ol.TileQueue');goog.require('ol');goog.require('ol.TileState');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.structs.PriorityQueue');ol.TileQueue=function(a,b){ol.structs.PriorityQueue.call(this,function(c){return a.apply(null,c)},function(c){return c[0].getKey()});this.tileChangeCallback_=b;this.tilesLoading_=0;this.tilesLoadingKeys_={}};ol.inherits(ol.TileQueue,ol.structs.PriorityQueue);ol.TileQueue.prototype.enqueue=function(a){var b=ol.structs.PriorityQueue.prototype.enqueue.call(this,a);if(b){var c=a[0];ol.events.listen(c,ol.events.EventType.CHANGE,this.handleTileChange,this)}return b};ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_};ol.TileQueue.prototype.handleTileChange=function(d){var b=d.target;var a=b.getState();if(a===ol.TileState.LOADED||a===ol.TileState.ERROR||a===ol.TileState.EMPTY||a===ol.TileState.ABORT){ol.events.unlisten(b,ol.events.EventType.CHANGE,this.handleTileChange,this);var c=b.getKey();if(c in this.tilesLoadingKeys_){delete this.tilesLoadingKeys_[c];--this.tilesLoading_}this.tileChangeCallback_()}};ol.TileQueue.prototype.loadMoreTiles=function(f,g){var b=0;var e=!1;var d,a,c;while(this.tilesLoading_<f&&b<g&&this.getCount()>0){a=this.dequeue()[0];c=a.getKey();d=a.getState();if(d===ol.TileState.ABORT){e=!0}else {if(d===ol.TileState.IDLE&&!(c in this.tilesLoadingKeys_)){this.tilesLoadingKeys_[c]=!0;++this.tilesLoading_;++b;a.load()}}}if(b===0&&e){this.tileChangeCallback_()}};goog.provide('ol.CenterConstraint');goog.require('ol.math');ol.CenterConstraint.createExtent=function(a){return function(b){if(b){return [ol.math.clamp(b[0],a[0],a[2]),ol.math.clamp(b[1],a[1],a[3])]}else {return undefined}}};ol.CenterConstraint.none=function(a){return a};goog.provide('ol.ResolutionConstraint');goog.require('ol.array');goog.require('ol.math');ol.ResolutionConstraint.createSnapToResolutions=function(a){return function(d,f,e){if(d!==undefined){var c=ol.array.linearFindNearest(a,d,e);c=ol.math.clamp(c+f,0,a.length-1);var b=Math.floor(c);if(c!=b&&b<a.length-1){var g=a[b]/a[b+1];return a[b]/Math.pow(g,c-b)}else {return a[b]}}else {return undefined}}};ol.ResolutionConstraint.createSnapToPower=function(c,a,b){return function(e,i,f){if(e!==undefined){var h=-f/2+0.5;var g=Math.floor(Math.log(a/e)/Math.log(c)+h);var d=Math.max(g+i,0);if(b!==undefined){d=Math.min(d,b)}return a/Math.pow(c,d)}else {return undefined}}};goog.provide('ol.RotationConstraint');goog.require('ol.math');ol.RotationConstraint.disable=function(a,b){if(a!==undefined){return 0}else {return undefined}};ol.RotationConstraint.none=function(a,b){if(a!==undefined){return a+b}else {return undefined}};ol.RotationConstraint.createSnapToN=function(b){var a=2*Math.PI/b;return function(c,d){if(c!==undefined){c=Math.floor((c+d)/a+0.5)*a;return c}else {return undefined}}};ol.RotationConstraint.createSnapToZero=function(a){var b=a||ol.math.toRadians(5);return function(c,d){if(c!==undefined){if(Math.abs(c+d)<=b){return 0}else {return c+d}}else {return undefined}}};goog.provide('ol.ViewHint');ol.ViewHint={ANIMATING:0,INTERACTING:1};goog.provide('ol.ViewProperty');ol.ViewProperty={CENTER:'center',RESOLUTION:'resolution',ROTATION:'rotation'};goog.provide('ol.string');ol.string.padNumber=function(d,e,c){var b=c!==undefined?d.toFixed(c):''+d;var a=b.indexOf('.');a=a===-1?b.length:a;return a>e?b:(new Array(1+e-a)).join('0')+b};ol.string.compareVersions=function(f,g){var d=(''+f).split('.');var e=(''+g).split('.');for(var a=0;a<Math.max(d.length,e.length);a++){var b=parseInt(d[a]||'0',10);var c=parseInt(e[a]||'0',10);if(b>c){return 1}if(c>b){return -1}}return 0};goog.provide('ol.coordinate');goog.require('ol.math');goog.require('ol.string');ol.coordinate.add=function(a,b){a[0]+=b[0];a[1]+=b[1];return a};ol.coordinate.closestOnCircle=function(c,e){var i=e.getRadius();var d=e.getCenter();var f=d[0];var g=d[1];var l=c[0];var m=c[1];var a=l-f;var b=m-g;if(a===0&&b===0){a=1}var h=Math.sqrt(a*a+b*b);var j,k;j=f+i*a/h;k=g+i*b/h;return [j,k]};ol.coordinate.closestOnSegment=function(h,i){var n=h[0];var o=h[1];var j=i[0];var k=i[1];var d=j[0];var e=j[1];var l=k[0];var m=k[1];var a=l-d;var b=m-e;var c=a===0&&b===0?0:(a*(n-d)+b*(o-e))/(a*a+b*b||0);var f,g;if(c<=0){f=d;g=e}else {if(c>=1){f=l;g=m}else {f=d+c*a;g=e+c*b}}return [f,g]};ol.coordinate.createStringXY=function(a){return function(b){return ol.coordinate.toStringXY(b,a)}};ol.coordinate.degreesToStringHDMS=function(i,j,h){var d=ol.math.modulo(j+180,360)-180;var e=Math.abs(3600*d);var f=h||0;var g=Math.pow(10,f);var c=Math.floor(e/3600);var a=Math.floor((e-c*3600)/60);var b=e-c*3600-a*60;b=Math.ceil(b*g)/g;if(b>=60){b=0;a+=1}if(a>=60){a=0;c+=1}return c+'° '+ol.string.padNumber(a,2)+'\u2032 '+ol.string.padNumber(b,2,f)+'\u2033'+(d==0?'':' '+i.charAt(d<0?1:0))};ol.coordinate.format=function(a,c,b){if(a){return c.replace('{x}',a[0].toFixed(b)).replace('{y}',a[1].toFixed(b))}else {return ''}};ol.coordinate.equals=function(b,d){var c=!0;for(var a=b.length-1;a>=0;--a){if(b[a]!=d[a]){c=!1;break}}return c};ol.coordinate.rotate=function(a,d){var b=Math.cos(d);var c=Math.sin(d);var e=a[0]*b-a[1]*c;var f=a[1]*b+a[0]*c;a[0]=e;a[1]=f;return a};ol.coordinate.scale=function(a,b){a[0]*=b;a[1]*=b;return a};ol.coordinate.sub=function(a,b){a[0]-=b[0];a[1]-=b[1];return a};ol.coordinate.squaredDistance=function(a,b){var c=a[0]-b[0];var d=a[1]-b[1];return c*c+d*d};ol.coordinate.distance=function(a,b){return Math.sqrt(ol.coordinate.squaredDistance(a,b))};ol.coordinate.squaredDistanceToSegment=function(a,b){return ol.coordinate.squaredDistance(a,ol.coordinate.closestOnSegment(a,b))};ol.coordinate.toStringHDMS=function(a,b){if(a){return ol.coordinate.degreesToStringHDMS('NS',a[1],b)+' '+ol.coordinate.degreesToStringHDMS('EW',a[0],b)}else {return ''}};ol.coordinate.toStringXY=function(b,a){return ol.coordinate.format(b,'{x}, {y}',a)};goog.provide('ol.easing');ol.easing.easeIn=function(a){return Math.pow(a,3)};ol.easing.easeOut=function(a){return 1-ol.easing.easeIn(1-a)};ol.easing.inAndOut=function(a){return 3*a*a-2*a*a*a};ol.easing.linear=function(a){return a};ol.easing.upAndDown=function(a){if(a<0.5){return ol.easing.inAndOut(2*a)}else {return 1-ol.easing.inAndOut(2*(a-0.5))}};goog.provide('ol.geom.GeometryLayout');ol.geom.GeometryLayout={XY:'XY',XYZ:'XYZ',XYM:'XYM',XYZM:'XYZM'};goog.provide('ol.functions');ol.functions.TRUE=function(){return !0};ol.functions.FALSE=function(){return !1};goog.provide('ol.geom.flat.transform');ol.geom.flat.transform.transform2D=function(f,i,k,j,a,e){var b=e?e:[];var d=0;var c;for(c=i;c<k;c+=j){var g=f[c];var h=f[c+1];b[d++]=a[0]*g+a[2]*h+a[4];b[d++]=a[1]*g+a[3]*h+a[5]}if(e&&b.length!=d){b.length=d}return b};ol.geom.flat.transform.rotate=function(d,p,q,l,m,i,e){var a=e?e:[];var n=Math.cos(m);var o=Math.sin(m);var g=i[0];var h=i[1];var c=0;for(var b=p;b<q;b+=l){var j=d[b]-g;var k=d[b+1]-h;a[c++]=g+j*n-k*o;a[c++]=h+j*o+k*n;for(var f=b+2;f<b+l;++f){a[c++]=d[f]}}if(e&&a.length!=c){a.length=c}return a};ol.geom.flat.transform.scale=function(d,m,n,j,o,p,i,e){var a=e?e:[];var g=i[0];var h=i[1];var c=0;for(var b=m;b<n;b+=j){var k=d[b]-g;var l=d[b+1]-h;a[c++]=g+o*k;a[c++]=h+p*l;for(var f=b+2;f<b+j;++f){a[c++]=d[f]}}if(e&&a.length!=c){a.length=c}return a};ol.geom.flat.transform.translate=function(e,j,k,g,h,i,f){var b=f?f:[];var c=0;var a,d;for(a=j;a<k;a+=g){b[c++]=e[a]+h;b[c++]=e[a+1]+i;for(d=a+2;d<a+g;++d){b[c++]=e[d]}}if(f&&b.length!=c){b.length=c}return b};goog.provide('ol.transform');goog.require('ol.asserts');ol.transform.tmp_=new Array(6);ol.transform.create=function(){return [1,0,0,1,0,0]};ol.transform.reset=function(a){return ol.transform.set(a,1,0,0,1,0,0)};ol.transform.multiply=function(a,b){var c=a[0];var d=a[1];var e=a[2];var f=a[3];var m=a[4];var n=a[5];var g=b[0];var h=b[1];var i=b[2];var j=b[3];var k=b[4];var l=b[5];a[0]=c*g+e*h;a[1]=d*g+f*h;a[2]=c*i+e*j;a[3]=d*i+f*j;a[4]=c*k+e*l+m;a[5]=d*k+f*l+n;return a};ol.transform.set=function(a,b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a};ol.transform.setFromArray=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a};ol.transform.apply=function(a,b){var c=b[0],d=b[1];b[0]=a[0]*c+a[2]*d+a[4];b[1]=a[1]*c+a[3]*d+a[5];return b};ol.transform.rotate=function(d,a){var b=Math.cos(a);var c=Math.sin(a);return ol.transform.multiply(d,ol.transform.set(ol.transform.tmp_,b,c,-c,b,0,0))};ol.transform.scale=function(a,b,c){return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,b,0,0,c,0,0))};ol.transform.translate=function(a,b,c){return ol.transform.multiply(a,ol.transform.set(ol.transform.tmp_,1,0,0,1,b,c))};ol.transform.compose=function(a,i,j,d,e,f,g,h){var c=Math.sin(f);var b=Math.cos(f);a[0]=d*b;a[1]=e*c;a[2]=-d*c;a[3]=e*b;a[4]=g*d*b-h*d*c+i;a[5]=g*e*c+h*e*b+j;return a};ol.transform.invert=function(a){var b=ol.transform.determinant(a);ol.asserts.assert(b!==0,32);var c=a[0];var d=a[1];var e=a[2];var f=a[3];var g=a[4];var h=a[5];a[0]=f/b;a[1]=-d/b;a[2]=-e/b;a[3]=c/b;a[4]=(e*h-f*g)/b;a[5]=-(c*h-d*g)/b;return a};ol.transform.determinant=function(a){return a[0]*a[3]-a[1]*a[2]};goog.provide('ol.geom.Geometry');goog.require('ol');goog.require('ol.Object');goog.require('ol.extent');goog.require('ol.functions');goog.require('ol.geom.flat.transform');goog.require('ol.proj');goog.require('ol.proj.Units');goog.require('ol.transform');ol.geom.Geometry=function(){ol.Object.call(this);this.extent_=ol.extent.createEmpty();this.extentRevision_=-1;this.simplifiedGeometryCache={};this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=0;this.tmpTransform_=ol.transform.create()};ol.inherits(ol.geom.Geometry,ol.Object);ol.geom.Geometry.prototype.clone=function(){};ol.geom.Geometry.prototype.closestPointXY=function(c,d,b,a){};ol.geom.Geometry.prototype.getClosestPoint=function(c,a){var b=a?a:[NaN,NaN];this.closestPointXY(c[0],c[1],b,Infinity);return b};ol.geom.Geometry.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};ol.geom.Geometry.prototype.computeExtent=function(a){};ol.geom.Geometry.prototype.containsXY=ol.functions.FALSE;ol.geom.Geometry.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){this.extent_=this.computeExtent(this.extent_);this.extentRevision_=this.getRevision()}return ol.extent.returnOrUpdate(this.extent_,a)};ol.geom.Geometry.prototype.rotate=function(b,a){};ol.geom.Geometry.prototype.scale=function(c,b,a){};ol.geom.Geometry.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};ol.geom.Geometry.prototype.getSimplifiedGeometry=function(a){};ol.geom.Geometry.prototype.getType=function(){};ol.geom.Geometry.prototype.applyTransform=function(a){};ol.geom.Geometry.prototype.intersectsExtent=function(a){};ol.geom.Geometry.prototype.translate=function(a,b){};ol.geom.Geometry.prototype.transform=function(a,c){var b=this.tmpTransform_;a=ol.proj.get(a);var d=a.getUnits()==ol.proj.Units.TILE_PIXELS?function(e,f,g){var i=a.getExtent();var d=a.getWorldExtent();var h=ol.extent.getHeight(d)/ol.extent.getHeight(i);ol.transform.compose(b,d[0],d[3],h,-h,0,0,0);ol.geom.flat.transform.transform2D(e,0,e.length,g,b,f);return ol.proj.getTransform(a,c)(e,f,g)}:ol.proj.getTransform(a,c);this.applyTransform(d);return this};goog.provide('ol.geom.SimpleGeometry');goog.require('ol');goog.require('ol.functions');goog.require('ol.extent');goog.require('ol.geom.Geometry');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.flat.transform');goog.require('ol.obj');ol.geom.SimpleGeometry=function(){ol.geom.Geometry.call(this);this.layout=ol.geom.GeometryLayout.XY;this.stride=2;this.flatCoordinates=null};ol.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry);ol.geom.SimpleGeometry.getLayoutForStride_=function(b){var a;if(b==2){a=ol.geom.GeometryLayout.XY}else {if(b==3){a=ol.geom.GeometryLayout.XYZ}else {if(b==4){a=ol.geom.GeometryLayout.XYZM}}}return a};ol.geom.SimpleGeometry.getStrideForLayout=function(a){var b;if(a==ol.geom.GeometryLayout.XY){b=2}else {if(a==ol.geom.GeometryLayout.XYZ||a==ol.geom.GeometryLayout.XYM){b=3}else {if(a==ol.geom.GeometryLayout.XYZM){b=4}}}return b};ol.geom.SimpleGeometry.prototype.containsXY=ol.functions.FALSE;ol.geom.SimpleGeometry.prototype.computeExtent=function(a){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a)};ol.geom.SimpleGeometry.prototype.getCoordinates=function(){};ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates};ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(a){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(a<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&a<=this.simplifiedGeometryMaxMinSquaredTolerance){return this}var c=a.toString();if(this.simplifiedGeometryCache.hasOwnProperty(c)){return this.simplifiedGeometryCache[c]}else {var b=this.getSimplifiedGeometryInternal(a);var d=b.getFlatCoordinates();if(d.length<this.flatCoordinates.length){this.simplifiedGeometryCache[c]=b;return b}else {this.simplifiedGeometryMaxMinSquaredTolerance=a;return this}}};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(a){return this};ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride};ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(a,b){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(a);this.layout=a;this.flatCoordinates=b};ol.geom.SimpleGeometry.prototype.setCoordinates=function(a,b){};ol.geom.SimpleGeometry.prototype.setLayout=function(b,a,e){var c;if(b){c=ol.geom.SimpleGeometry.getStrideForLayout(b)}else {var d;for(d=0;d<e;++d){if(a.length===0){this.layout=ol.geom.GeometryLayout.XY;this.stride=2;return}else {a=a[0]}}c=a.length;b=ol.geom.SimpleGeometry.getLayoutForStride_(c)}this.layout=b;this.stride=c};ol.geom.SimpleGeometry.prototype.applyTransform=function(a){if(this.flatCoordinates){a(this.flatCoordinates,this.flatCoordinates,this.stride);this.changed()}};ol.geom.SimpleGeometry.prototype.rotate=function(d,b){var a=this.getFlatCoordinates();if(a){var c=this.getStride();ol.geom.flat.transform.rotate(a,0,a.length,c,d,b,a);this.changed()}};ol.geom.SimpleGeometry.prototype.scale=function(d,f,e){var c=f;if(c===undefined){c=d}var b=e;if(!b){b=ol.extent.getCenter(this.getExtent())}var a=this.getFlatCoordinates();if(a){var g=this.getStride();ol.geom.flat.transform.scale(a,0,a.length,g,d,c,b,a);this.changed()}};ol.geom.SimpleGeometry.prototype.translate=function(b,c){var a=this.getFlatCoordinates();if(a){var d=this.getStride();ol.geom.flat.transform.translate(a,0,a.length,d,b,c,a);this.changed()}};ol.geom.SimpleGeometry.transform2D=function(b,c,d){var a=b.getFlatCoordinates();if(!a){return null}else {var e=b.getStride();return ol.geom.flat.transform.transform2D(a,0,a.length,e,c,d)}};goog.provide('ol.geom.flat.area');ol.geom.flat.area.linearRing=function(a,b,d,c){var e=0;var f=a[d-c];var h=a[d-c+1];for(;b<d;b+=c){var g=a[b];var i=a[b+1];e+=h*g-f*i;f=g;h=i}return e/2};ol.geom.flat.area.linearRings=function(g,b,d,h){var c=0;var a,f;for(a=0,f=d.length;a<f;++a){var e=d[a];c+=ol.geom.flat.area.linearRing(g,b,e,h);b=e}return c};ol.geom.flat.area.linearRingss=function(g,c,d,h){var e=0;var a,f;for(a=0,f=d.length;a<f;++a){var b=d[a];e+=ol.geom.flat.area.linearRings(g,c,b,h);c=b[b.length-1]}return e};goog.provide('ol.geom.flat.closest');goog.require('ol.math');ol.geom.flat.closest.point=function(b,c,e,g,m,n,d){var k=b[c];var l=b[c+1];var h=b[e]-k;var i=b[e+1]-l;var a,f;if(h===0&&i===0){f=c}else {var j=((m-k)*h+(n-l)*i)/(h*h+i*i);if(j>1){f=e}else {if(j>0){for(a=0;a<g;++a){d[a]=ol.math.lerp(b[c+a],b[e+a],j)}d.length=g;return}else {f=c}}}for(a=0;a<g;++a){d[a]=b[f+a]}d.length=g};ol.geom.flat.closest.getMaxSquaredDelta=function(b,a,j,e,c){var f=b[a];var h=b[a+1];for(a+=e;a<j;a+=e){var g=b[a];var i=b[a+1];var d=ol.math.squaredDistance(f,h,g,i);if(d>c){c=d}f=g;h=i}return c};ol.geom.flat.closest.getsMaxSquaredDelta=function(g,c,d,h,b){var a,f;for(a=0,f=d.length;a<f;++a){var e=d[a];b=ol.geom.flat.closest.getMaxSquaredDelta(g,c,e,h,b);c=e}return b};ol.geom.flat.closest.getssMaxSquaredDelta=function(g,d,e,h,b){var a,f;for(a=0,f=e.length;a<f;++a){var c=e[a];b=ol.geom.flat.closest.getsMaxSquaredDelta(g,d,c,h,b);d=c[c.length-1]}return b};ol.geom.flat.closest.getClosestPoint=function(h,g,l,b,n,o,j,k,f,d,m){if(g==l){return d}var a,c;if(n===0){c=ol.math.squaredDistance(j,k,h[g],h[g+1]);if(c<d){for(a=0;a<b;++a){f[a]=h[g+a]}f.length=b;return c}else {return d}}var e=m?m:[NaN,NaN];var i=g+b;while(i<l){ol.geom.flat.closest.point(h,i-b,i,b,j,k,e);c=ol.math.squaredDistance(j,k,e[0],e[1]);if(c<d){d=c;for(a=0;a<b;++a){f[a]=e[a]}f.length=b;i+=b}else {i+=b*Math.max((Math.sqrt(c)-Math.sqrt(d))/n|0,1)}}if(o){ol.geom.flat.closest.point(h,l-b,g,b,j,k,e);c=ol.math.squaredDistance(j,k,e[0],e[1]);if(c<d){d=c;for(a=0;a<b;++a){f[a]=e[a]}f.length=b}}return d};ol.geom.flat.closest.getsClosestPoint=function(h,d,e,m,j,l,n,o,i,b,c){var k=c?c:[NaN,NaN];var a,g;for(a=0,g=e.length;a<g;++a){var f=e[a];b=ol.geom.flat.closest.getClosestPoint(h,d,f,m,j,l,n,o,i,b,k);d=f}return b};ol.geom.flat.closest.getssClosestPoint=function(h,e,f,m,j,l,n,o,i,b,d){var k=d?d:[NaN,NaN];var a,g;for(a=0,g=f.length;a<g;++a){var c=f[a];b=ol.geom.flat.closest.getsClosestPoint(h,e,c,m,j,l,n,o,i,b,k);e=c[c.length-1]}return b};goog.provide('ol.geom.flat.deflate');ol.geom.flat.deflate.coordinate=function(e,c,b,f){var a,d;for(a=0,d=b.length;a<d;++a){e[c++]=b[a]}return c};ol.geom.flat.deflate.coordinates=function(f,d,c,h){var a,e;for(a=0,e=c.length;a<e;++a){var g=c[a];var b;for(b=0;b<h;++b){f[d++]=g[b]}}return d};ol.geom.flat.deflate.coordinatess=function(i,e,c,j,d){var b=d?d:[];var h=0;var a,g;for(a=0,g=c.length;a<g;++a){var f=ol.geom.flat.deflate.coordinates(i,e,c[a],j);b[h++]=f;e=f}b.length=h;return b};ol.geom.flat.deflate.coordinatesss=function(i,g,e,j,f){var a=f?f:[];var d=0;var b,h;for(b=0,h=e.length;b<h;++b){var c=ol.geom.flat.deflate.coordinatess(i,g,e[b],j,a[d]);a[d++]=c;g=c[c.length-1]}a.length=d;return a};goog.provide('ol.geom.flat.inflate');ol.geom.flat.inflate.coordinates=function(f,g,h,d,c){var b=c!==undefined?c:[];var e=0;var a;for(a=g;a<h;a+=d){b[e++]=f.slice(a,a+d)}b.length=e;return b};ol.geom.flat.inflate.coordinatess=function(i,e,f,j,d){var a=d!==undefined?d:[];var c=0;var b,h;for(b=0,h=f.length;b<h;++b){var g=f[b];a[c++]=ol.geom.flat.inflate.coordinates(i,e,g,j,a[c]);e=g}a.length=c;return a};ol.geom.flat.inflate.coordinatesss=function(i,f,g,j,e){var a=e!==undefined?e:[];var d=0;var b,h;for(b=0,h=g.length;b<h;++b){var c=g[b];a[d++]=ol.geom.flat.inflate.coordinatess(i,f,c,j,a[d]);f=c[c.length-1]}a.length=d;return a};goog.provide('ol.geom.flat.simplify');goog.require('ol.math');ol.geom.flat.simplify.lineString=function(b,c,e,d,g,h,f){var a=f!==undefined?f:[];if(!h){e=ol.geom.flat.simplify.radialDistance(b,c,e,d,g,a,0);b=a;c=0;d=2}a.length=ol.geom.flat.simplify.douglasPeucker(b,c,e,d,g,a,0);return a};ol.geom.flat.simplify.douglasPeucker=function(b,d,n,c,p,j,e){var l=(n-d)/c;if(l<3){for(;d<n;d+=c){j[e++]=b[d];j[e++]=b[d+1]}return e}var k=new Array(l);k[0]=1;k[l-1]=1;var h=[d,n-c];var f=0;var a;while(h.length>0){var i=h.pop();var g=h.pop();var m=0;var q=b[g];var s=b[g+1];var r=b[i];var t=b[i+1];for(a=g+c;a<i;a+=c){var u=b[a];var v=b[a+1];var o=ol.math.squaredSegmentDistance(u,v,q,s,r,t);if(o>m){f=a;m=o}}if(m>p){k[(f-d)/c]=1;if(g+c<f){h.push(g,f)}if(f+c<i){h.push(f,i)}}}for(a=0;a<l;++a){if(k[a]){j[e++]=b[d+a*c];j[e++]=b[d+a*c+1]}}return e};ol.geom.flat.simplify.douglasPeuckers=function(i,c,d,k,h,g,a,j){var b,f;for(b=0,f=d.length;b<f;++b){var e=d[b];a=ol.geom.flat.simplify.douglasPeucker(i,c,e,k,h,g,a);j.push(a);c=e}return a};ol.geom.flat.simplify.douglasPeuckerss=function(j,e,f,l,i,h,b,k){var a,g;for(a=0,g=f.length;a<g;++a){var c=f[a];var d=[];b=ol.geom.flat.simplify.douglasPeuckers(j,e,c,l,i,h,b,d);k.push(d);e=c[c.length-1]}return b};ol.geom.flat.simplify.radialDistance=function(d,a,j,i,k,c,b){if(j<=a+i){for(;a<j;a+=i){c[b++]=d[a];c[b++]=d[a+1]}return b}var g=d[a];var h=d[a+1];c[b++]=g;c[b++]=h;var e=g;var f=h;for(a+=i;a<j;a+=i){e=d[a];f=d[a+1];if(ol.math.squaredDistance(g,h,e,f)>k){c[b++]=e;c[b++]=f;g=e;h=f}}if(e!=g||f!=h){c[b++]=e;c[b++]=f}return b};ol.geom.flat.simplify.snap=function(b,a){return a*Math.round(b/a)};ol.geom.flat.simplify.quantize=function(f,a,q,p,g,e,b){if(a==q){return b}var j=ol.geom.flat.simplify.snap(f[a],g);var l=ol.geom.flat.simplify.snap(f[a+1],g);a+=p;e[b++]=j;e[b++]=l;var c,d;do{c=ol.geom.flat.simplify.snap(f[a],g);d=ol.geom.flat.simplify.snap(f[a+1],g);a+=p;if(a==q){e[b++]=c;e[b++]=d;return b}}while(c==j&&d==l);while(a<q){var k,m;k=ol.geom.flat.simplify.snap(f[a],g);m=ol.geom.flat.simplify.snap(f[a+1],g);a+=p;if(k==c&&m==d){continue}var h=c-j;var i=d-l;var n=k-j;var o=m-l;if(h*o==i*n&&(h<0&&n<h||h==n||h>0&&n>h)&&(i<0&&o<i||i==o||i>0&&o>i)){c=k;d=m;continue}e[b++]=c;e[b++]=d;j=c;l=d;c=k;d=m}e[b++]=c;e[b++]=d;return b};ol.geom.flat.simplify.quantizes=function(h,c,d,k,j,g,a,i){var b,f;for(b=0,f=d.length;b<f;++b){var e=d[b];a=ol.geom.flat.simplify.quantize(h,c,e,k,j,g,a);i.push(a);c=e}return a};ol.geom.flat.simplify.quantizess=function(i,e,f,l,k,h,b,j){var a,g;for(a=0,g=f.length;a<g;++a){var c=f[a];var d=[];b=ol.geom.flat.simplify.quantizes(i,e,c,l,k,h,b,d);j.push(d);e=c[c.length-1]}return b};goog.provide('ol.geom.LinearRing');goog.require('ol');goog.require('ol.extent');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.area');goog.require('ol.geom.flat.closest');goog.require('ol.geom.flat.deflate');goog.require('ol.geom.flat.inflate');goog.require('ol.geom.flat.simplify');ol.geom.LinearRing=function(a,b){ol.geom.SimpleGeometry.call(this);this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(a,b)};ol.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry);ol.geom.LinearRing.prototype.clone=function(){var a=new ol.geom.LinearRing(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.LinearRing.prototype.closestPointXY=function(b,c,d,a){if(a<ol.extent.closestSquaredDistanceXY(this.getExtent(),b,c)){return a}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,b,c,d,a)};ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(c){var a=[];a.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,c,a,0);var b=new ol.geom.LinearRing(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XY,a);return b};ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING};ol.geom.LinearRing.prototype.intersectsExtent=function(a){};ol.geom.LinearRing.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else {this.setLayout(b,a,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride);this.changed()}};ol.geom.LinearRing.prototype.setFlatCoordinates=function(b,a){this.setFlatCoordinatesInternal(b,a);this.changed()};goog.provide('ol.geom.Point');goog.require('ol');goog.require('ol.extent');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.deflate');goog.require('ol.math');ol.geom.Point=function(a,b){ol.geom.SimpleGeometry.call(this);this.setCoordinates(a,b)};ol.inherits(ol.geom.Point,ol.geom.SimpleGeometry);ol.geom.Point.prototype.clone=function(){var a=new ol.geom.Point(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.Point.prototype.closestPointXY=function(g,h,e,c){var b=this.flatCoordinates;var d=ol.math.squaredDistance(g,h,b[0],b[1]);if(d<c){var f=this.stride;var a;for(a=0;a<f;++a){e[a]=b[a]}e.length=f;return d}else {return c}};ol.geom.Point.prototype.getCoordinates=function(){return !this.flatCoordinates?[]:this.flatCoordinates.slice()};ol.geom.Point.prototype.computeExtent=function(a){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,a)};ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT};ol.geom.Point.prototype.intersectsExtent=function(a){return ol.extent.containsXY(a,this.flatCoordinates[0],this.flatCoordinates[1])};ol.geom.Point.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else {this.setLayout(b,a,0);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,a,this.stride);this.changed()}};ol.geom.Point.prototype.setFlatCoordinates=function(b,a){this.setFlatCoordinatesInternal(b,a);this.changed()};goog.provide('ol.geom.flat.contains');goog.require('ol.extent');ol.geom.flat.contains.linearRingContainsExtent=function(a,d,f,e,c){var b=ol.extent.forEachCorner(c,function(b){return !ol.geom.flat.contains.linearRingContainsXY(a,d,f,e,b[0],b[1])});return !b};ol.geom.flat.contains.linearRingContainsXY=function(e,f,h,g,k,d){var i=0;var b=e[h-g];var a=e[h-g+1];for(;f<h;f+=g){var j=e[f];var c=e[f+1];if(a<=d){if(c>d&&(j-b)*(d-a)-(k-b)*(c-a)>0){i++}}else {if(c<=d&&(j-b)*(d-a)-(k-b)*(c-a)<0){i--}}b=j;a=c}return i!==0};ol.geom.flat.contains.linearRingsContainsXY=function(c,h,a,d,f,g){if(a.length===0){return !1}if(!ol.geom.flat.contains.linearRingContainsXY(c,h,a[0],d,f,g)){return !1}var b,e;for(b=1,e=a.length;b<e;++b){if(ol.geom.flat.contains.linearRingContainsXY(c,a[b-1],a[b],d,f,g)){return !1}}return !0};ol.geom.flat.contains.linearRingssContainsXY=function(f,d,b,g,h,i){if(b.length===0){return !1}var a,e;for(a=0,e=b.length;a<e;++a){var c=b[a];if(ol.geom.flat.contains.linearRingsContainsXY(f,d,c,g,h,i)){return !0}d=c[c.length-1]}return !1};goog.provide('ol.geom.flat.interiorpoint');goog.require('ol.array');goog.require('ol.geom.flat.contains');ol.geom.flat.interiorpoint.linearRings=function(f,t,n,l,s,q,m){var a,u,j,b,d,e,i;var c=s[q+1];var g=[];for(var p=0,v=n.length;p<v;++p){var o=n[p];b=f[o-l];e=f[o-l+1];for(a=t;a<o;a+=l){d=f[a];i=f[a+1];if(c<=e&&i<=c||e<=c&&c<=i){j=(c-e)/(i-e)*(d-b)+b;g.push(j)}b=d;e=i}}var h=NaN;var k=-Infinity;g.sort(ol.array.numberSafeCompareFunction);b=g[0];for(a=1,u=g.length;a<u;++a){d=g[a];var r=Math.abs(d-b);if(r>k){j=(b+d)/2;if(ol.geom.flat.contains.linearRingsContainsXY(f,t,n,l,j,c)){h=j;k=r}}b=d}if(isNaN(h)){h=s[q]}if(m){m.push(h,c,k);return m}else {return [h,c,k]}};ol.geom.flat.interiorpoint.linearRingss=function(g,d,e,i,h){var b=[];var a,f;for(a=0,f=e.length;a<f;++a){var c=e[a];b=ol.geom.flat.interiorpoint.linearRings(g,d,c,i,h,2*a,b);d=c[c.length-1]}return b};goog.provide('ol.geom.flat.segments');ol.geom.flat.segments.forEach=function(c,a,i,d,g,h){var e=[c[a],c[a+1]];var b=[];var f;for(;a+d<i;a+=d){b[0]=c[a+d];b[1]=c[a+d+1];f=g.call(h,e,b);if(f){return f}e[0]=b[0];e[1]=b[1]}return !1};goog.provide('ol.geom.flat.intersectsextent');goog.require('ol.extent');goog.require('ol.geom.flat.contains');goog.require('ol.geom.flat.segments');ol.geom.flat.intersectsextent.lineString=function(c,d,f,e,a){var b=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),c,d,f,e);if(!ol.extent.intersects(a,b)){return !1}if(ol.extent.containsExtent(a,b)){return !0}if(b[0]>=a[0]&&b[2]<=a[2]){return !0}if(b[1]>=a[1]&&b[3]<=a[3]){return !0}return ol.geom.flat.segments.forEach(c,d,f,e,function(b,g){return ol.extent.intersectsSegment(a,b,g)})};ol.geom.flat.intersectsextent.lineStrings=function(e,c,b,g,f){var a,d;for(a=0,d=b.length;a<d;++a){if(ol.geom.flat.intersectsextent.lineString(e,c,b[a],g,f)){return !0}c=b[a]}return !1};ol.geom.flat.intersectsextent.linearRing=function(b,c,e,d,a){if(ol.geom.flat.intersectsextent.lineString(b,c,e,d,a)){return !0}if(ol.geom.flat.contains.linearRingContainsXY(b,c,e,d,a[0],a[1])){return !0}if(ol.geom.flat.contains.linearRingContainsXY(b,c,e,d,a[0],a[3])){return !0}if(ol.geom.flat.contains.linearRingContainsXY(b,c,e,d,a[2],a[1])){return !0}if(ol.geom.flat.contains.linearRingContainsXY(b,c,e,d,a[2],a[3])){return !0}return !1};ol.geom.flat.intersectsextent.linearRings=function(c,g,a,e,d){if(!ol.geom.flat.intersectsextent.linearRing(c,g,a[0],e,d)){return !1}if(a.length===1){return !0}var b,f;for(b=1,f=a.length;b<f;++b){if(ol.geom.flat.contains.linearRingContainsExtent(c,a[b-1],a[b],e,d)){return !1}}return !0};ol.geom.flat.intersectsextent.linearRingss=function(f,c,d,h,g){var a,e;for(a=0,e=d.length;a<e;++a){var b=d[a];if(ol.geom.flat.intersectsextent.linearRings(f,c,b,h,g)){return !0}c=b[b.length-1]}return !1};goog.provide('ol.geom.flat.reverse');ol.geom.flat.reverse.coordinates=function(c,d,e,b){while(d<e-b){var a;for(a=0;a<b;++a){var f=c[d+a];c[d+a]=c[e-b+a];c[e-b+a]=f}d+=b;e-=b}};goog.provide('ol.geom.flat.orient');goog.require('ol.geom.flat.reverse');ol.geom.flat.orient.linearRingIsClockwise=function(a,b,d,c){var e=0;var f=a[d-c];var h=a[d-c+1];for(;b<d;b+=c){var g=a[b];var i=a[b+1];e+=(g-f)*(i+h);f=g;h=i}return e>0};ol.geom.flat.orient.linearRingsAreOriented=function(i,e,f,j,d){var c=d!==undefined?d:!1;var a,h;for(a=0,h=f.length;a<h;++a){var g=f[a];var b=ol.geom.flat.orient.linearRingIsClockwise(i,e,g,j);if(a===0){if(c&&b||!c&&!b){return !1}}else {if(c&&!b||!c&&b){return !1}}e=g}return !0};ol.geom.flat.orient.linearRingssAreOriented=function(d,f,b,g,e){var a,c;for(a=0,c=b.length;a<c;++a){if(!ol.geom.flat.orient.linearRingsAreOriented(d,f,b[a],g,e)){return !1}}return !0};ol.geom.flat.orient.orientLinearRings=function(f,c,i,h,g){var d=g!==undefined?g:!1;var a,j;for(a=0,j=i.length;a<j;++a){var e=i[a];var b=ol.geom.flat.orient.linearRingIsClockwise(f,c,e,h);var k=a===0?d&&b||!d&&!b:d&&!b||!d&&b;if(k){ol.geom.flat.reverse.coordinates(f,c,e,h)}c=e}return c};ol.geom.flat.orient.orientLinearRingss=function(e,b,c,g,f){var a,d;for(a=0,d=c.length;a<d;++a){b=ol.geom.flat.orient.orientLinearRings(e,b,c[a],g,f)}return b};goog.provide('ol.geom.Polygon');goog.require('ol');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.LinearRing');goog.require('ol.geom.Point');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.area');goog.require('ol.geom.flat.closest');goog.require('ol.geom.flat.contains');goog.require('ol.geom.flat.deflate');goog.require('ol.geom.flat.inflate');goog.require('ol.geom.flat.interiorpoint');goog.require('ol.geom.flat.intersectsextent');goog.require('ol.geom.flat.orient');goog.require('ol.geom.flat.simplify');goog.require('ol.math');ol.geom.Polygon=function(a,b){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(a,b)};ol.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry);ol.geom.Polygon.prototype.appendLinearRing=function(a){if(!this.flatCoordinates){this.flatCoordinates=a.getFlatCoordinates().slice()}else {ol.array.extend(this.flatCoordinates,a.getFlatCoordinates())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.Polygon.prototype.clone=function(){var a=new ol.geom.Polygon(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return a};ol.geom.Polygon.prototype.closestPointXY=function(b,c,d,a){if(a<ol.extent.closestSquaredDistanceXY(this.getExtent(),b,c)){return a}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,b,c,d,a)};ol.geom.Polygon.prototype.containsXY=function(a,b){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a,b)};ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getCoordinates=function(b){var a;if(b!==undefined){a=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRings(a,0,this.ends_,this.stride,b)}else {a=this.flatCoordinates}return ol.geom.flat.inflate.coordinatess(a,0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getEnds=function(){return this.ends_};ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var a=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint(),ol.geom.GeometryLayout.XYM)};ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length};ol.geom.Polygon.prototype.getLinearRing=function(a){if(a<0||this.ends_.length<=a){return null}var b=new ol.geom.LinearRing(null);b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(a===0?0:this.ends_[a-1],this.ends_[a]));return b};ol.geom.Polygon.prototype.getLinearRings=function(){var i=this.layout;var h=this.flatCoordinates;var e=this.ends_;var b=[];var d=0;var a,g;for(a=0,g=e.length;a<g;++a){var f=e[a];var c=new ol.geom.LinearRing(null);c.setFlatCoordinates(i,h.slice(d,f));b.push(c);d=f}return b};ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var a=this.flatCoordinates;if(ol.geom.flat.orient.linearRingsAreOriented(a,0,this.ends_,this.stride)){this.orientedFlatCoordinates_=a}else {this.orientedFlatCoordinates_=a.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(d){var a=[];var c=[];a.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(d),a,0,c);var b=new ol.geom.Polygon(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,c);return b};ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON};ol.geom.Polygon.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,a)};ol.geom.Polygon.prototype.setCoordinates=function(a,c){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else {this.setLayout(c,a,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var b=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,a,this.stride,this.ends_);this.flatCoordinates.length=b.length===0?0:b[b.length-1];this.changed()}};ol.geom.Polygon.prototype.setFlatCoordinates=function(b,a,c){this.setFlatCoordinatesInternal(b,a);this.ends_=c;this.changed()};ol.geom.Polygon.circular=function(h,f,g,d){var e=d?d:32;var a=[];var b;for(b=0;b<e;++b){ol.array.extend(a,h.offset(f,g,2*Math.PI*b/e))}a.push(a[0],a[1]);var c=new ol.geom.Polygon(null);c.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,[a.length]);return c};ol.geom.Polygon.fromExtent=function(a){var b=a[0];var c=a[1];var f=a[2];var g=a[3];var d=[b,c,b,g,f,g,f,c,b,c];var e=new ol.geom.Polygon(null);e.setFlatCoordinates(ol.geom.GeometryLayout.XY,d,[d.length]);return e};ol.geom.Polygon.fromCircle=function(a,f,h){var j=f?f:32;var i=a.getStride();var g=a.getLayout();var c=new ol.geom.Polygon(null,g);var e=i*(j+1);var b=new Array(e);for(var d=0;d<e;d++){b[d]=0}var k=[b.length];c.setFlatCoordinates(g,b,k);ol.geom.Polygon.makeRegular(c,a.getCenter(),a.getRadius(),h);return c};ol.geom.Polygon.makeRegular=function(a,h,i,g){var b=a.getFlatCoordinates();var l=a.getLayout();var j=a.getStride();var m=a.getEnds();var f=b.length/j-1;var k=g?g:0;var e,d;for(var c=0;c<=f;++c){d=c*j;e=k+ol.math.modulo(c,f)*2*Math.PI/f;b[d]=h[0]+i*Math.cos(e);b[d+1]=h[1]+i*Math.sin(e)}a.setFlatCoordinates(l,b,m)};goog.provide('ol.View');goog.require('ol');goog.require('ol.CenterConstraint');goog.require('ol.Object');goog.require('ol.ResolutionConstraint');goog.require('ol.RotationConstraint');goog.require('ol.ViewHint');goog.require('ol.ViewProperty');goog.require('ol.array');goog.require('ol.asserts');goog.require('ol.coordinate');goog.require('ol.easing');goog.require('ol.extent');goog.require('ol.geom.GeometryType');goog.require('ol.geom.Polygon');goog.require('ol.geom.SimpleGeometry');goog.require('ol.math');goog.require('ol.obj');goog.require('ol.proj');goog.require('ol.proj.Units');ol.View=function(b){ol.Object.call(this);var a=ol.obj.assign({},b);this.hints_=[0,0];this.animations_=[];this.updateAnimationKey_;this.updateAnimations_=this.updateAnimations_.bind(this);this.projection_=ol.proj.createProjection(a.projection,'EPSG:3857');this.applyOptions_(a)};ol.inherits(ol.View,ol.Object);ol.View.prototype.applyOptions_=function(a){var b={};b[ol.ViewProperty.CENTER]=a.center!==undefined?a.center:null;var c=ol.View.createResolutionConstraint_(a);this.maxResolution_=c.maxResolution;this.minResolution_=c.minResolution;this.zoomFactor_=c.zoomFactor;this.resolutions_=a.resolutions;this.minZoom_=c.minZoom;var f=ol.View.createCenterConstraint_(a);var d=c.constraint;var e=ol.View.createRotationConstraint_(a);this.constraints_={center:f,resolution:d,rotation:e};if(a.resolution!==undefined){b[ol.ViewProperty.RESOLUTION]=a.resolution}else {if(a.zoom!==undefined){b[ol.ViewProperty.RESOLUTION]=this.constrainResolution(this.maxResolution_,a.zoom-this.minZoom_);if(this.resolutions_){b[ol.ViewProperty.RESOLUTION]=ol.math.clamp(Number(this.getResolution()||b[ol.ViewProperty.RESOLUTION]),this.minResolution_,this.maxResolution_)}}}b[ol.ViewProperty.ROTATION]=a.rotation!==undefined?a.rotation:0;this.setProperties(b);this.options_=a};ol.View.prototype.getUpdatedOptions_=function(b){var a=ol.obj.assign({},this.options_);if(a.resolution!==undefined){a.resolution=this.getResolution()}else {a.zoom=this.getZoom()}a.center=this.getCenter();a.rotation=this.getRotation();return ol.obj.assign({},a,b)};ol.View.prototype.animate=function(m){var c=arguments.length;var f;if(c>1&&typeof arguments[c-1]==='function'){f=arguments[c-1];--c}if(!this.isDef()){var d=arguments[c-1];if(d.center){this.setCenter(d.center)}if(d.zoom!==undefined){this.setZoom(d.zoom)}if(d.rotation!==undefined){this.setRotation(d.rotation)}if(f){f(!0)}return}var k=Date.now();var i=this.getCenter().slice();var e=this.getResolution();var g=this.getRotation();var j=[];for(var h=0;h<c;++h){var b=arguments[h];var a={start:k,complete:!1,anchor:b.anchor,duration:b.duration!==undefined?b.duration:1000,easing:b.easing||ol.easing.inAndOut};if(b.center){a.sourceCenter=i;a.targetCenter=b.center;i=a.targetCenter}if(b.zoom!==undefined){a.sourceResolution=e;a.targetResolution=this.constrainResolution(this.maxResolution_,b.zoom-this.minZoom_,0);e=a.targetResolution}else {if(b.resolution){a.sourceResolution=e;a.targetResolution=b.resolution;e=a.targetResolution}}if(b.rotation!==undefined){a.sourceRotation=g;var l=ol.math.modulo(b.rotation-g+Math.PI,2*Math.PI)-Math.PI;a.targetRotation=g+l;g=a.targetRotation}a.callback=f;if(ol.View.isNoopAnimation(a)){a.complete=!0}else {k+=a.duration}j.push(a)}this.animations_.push(j);this.setHint(ol.ViewHint.ANIMATING,1);this.updateAnimations_()};ol.View.prototype.getAnimating=function(){return this.hints_[ol.ViewHint.ANIMATING]>0};ol.View.prototype.getInteracting=function(){return this.hints_[ol.ViewHint.INTERACTING]>0};ol.View.prototype.cancelAnimations=function(){this.setHint(ol.ViewHint.ANIMATING,-this.hints_[ol.ViewHint.ANIMATING]);for(var a=0,c=this.animations_.length;a<c;++a){var b=this.animations_[a];if(b[0].callback){b[0].callback(!1)}}this.animations_.length=0};ol.View.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==undefined){cancelAnimationFrame(this.updateAnimationKey_);this.updateAnimationKey_=undefined}if(!this.getAnimating()){return}var o=Date.now();var k=!1;for(var c=this.animations_.length-1;c>=0;--c){var e=this.animations_[c];var g=!0;for(var f=0,p=e.length;f<p;++f){var a=e[f];if(a.complete){continue}var n=o-a.start;var d=a.duration>0?n/a.duration:1;if(d>=1){a.complete=!0;d=1}else {g=!1}var b=a.easing(d);if(a.sourceCenter){var l=a.sourceCenter[0];var m=a.sourceCenter[1];var q=a.targetCenter[0];var r=a.targetCenter[1];var s=l+b*(q-l);var t=m+b*(r-m);this.set(ol.ViewProperty.CENTER,[s,t])}if(a.sourceResolution&&a.targetResolution){var h=b===1?a.targetResolution:a.sourceResolution+b*(a.targetResolution-a.sourceResolution);if(a.anchor){this.set(ol.ViewProperty.CENTER,this.calculateCenterZoom(h,a.anchor))}this.set(ol.ViewProperty.RESOLUTION,h)}if(a.sourceRotation!==undefined&&a.targetRotation!==undefined){var j=b===1?ol.math.modulo(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+b*(a.targetRotation-a.sourceRotation);if(a.anchor){this.set(ol.ViewProperty.CENTER,this.calculateCenterRotate(j,a.anchor))}this.set(ol.ViewProperty.ROTATION,j)}k=!0;if(!a.complete){break}}if(g){this.animations_[c]=null;this.setHint(ol.ViewHint.ANIMATING,-1);var i=e[0].callback;if(i){i(!0)}}}this.animations_=this.animations_.filter(Boolean);if(k&&this.updateAnimationKey_===undefined){this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_)}};ol.View.prototype.calculateCenterRotate=function(d,c){var a;var b=this.getCenter();if(b!==undefined){a=[b[0]-c[0],b[1]-c[1]];ol.coordinate.rotate(a,d-this.getRotation());ol.coordinate.add(a,c)}return a};ol.View.prototype.calculateCenterZoom=function(d,a){var e;var c=this.getCenter();var b=this.getResolution();if(c!==undefined&&b!==undefined){var f=a[0]-d*(a[0]-c[0])/b;var g=a[1]-d*(a[1]-c[1])/b;e=[f,g]}return e};ol.View.prototype.getSizeFromViewport_=function(){var a=[100,100];var d='.ol-viewport[data-view="'+ol.getUid(this)+'"]';var b=document.querySelector(d);if(b){var c=getComputedStyle(b);a[0]=parseInt(c.width,10);a[1]=parseInt(c.height,10)}return a};ol.View.prototype.constrainCenter=function(a){return this.constraints_.center(a)};ol.View.prototype.constrainResolution=function(b,d,a){var e=d||0;var c=a||0;return this.constraints_.resolution(b,e,c)};ol.View.prototype.constrainRotation=function(b,a){var c=a||0;return this.constraints_.rotation(b,c)};ol.View.prototype.getCenter=function(){return this.get(ol.ViewProperty.CENTER)};ol.View.prototype.getConstraints=function(){return this.constraints_};ol.View.prototype.getHints=function(a){if(a!==undefined){a[0]=this.hints_[0];a[1]=this.hints_[1];return a}else {return this.hints_.slice()}};ol.View.prototype.calculateExtent=function(d){var e=d||this.getSizeFromViewport_();var c=this.getCenter();ol.asserts.assert(c,1);var a=this.getResolution();ol.asserts.assert(a!==undefined,2);var b=this.getRotation();ol.asserts.assert(b!==undefined,3);return ol.extent.getForViewAndSize(c,a,b,e)};ol.View.prototype.getMaxResolution=function(){return this.maxResolution_};ol.View.prototype.getMinResolution=function(){return this.minResolution_};ol.View.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};ol.View.prototype.setMaxZoom=function(a){this.applyOptions_(this.getUpdatedOptions_({maxZoom:a}))};ol.View.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};ol.View.prototype.setMinZoom=function(a){this.applyOptions_(this.getUpdatedOptions_({minZoom:a}))};ol.View.prototype.getProjection=function(){return this.projection_};ol.View.prototype.getResolution=function(){return this.get(ol.ViewProperty.RESOLUTION)};ol.View.prototype.getResolutions=function(){return this.resolutions_};ol.View.prototype.getResolutionForExtent=function(a,e){var b=e||this.getSizeFromViewport_();var c=ol.extent.getWidth(a)/b[0];var d=ol.extent.getHeight(a)/b[1];return Math.max(c,d)};ol.View.prototype.getResolutionForValueFunction=function(d){var b=d||2;var a=this.maxResolution_;var c=this.minResolution_;var e=Math.log(a/c)/Math.log(b);return function(f){var c=a/Math.pow(b,f*e);return c}};ol.View.prototype.getRotation=function(){return this.get(ol.ViewProperty.ROTATION)};ol.View.prototype.getValueForResolutionFunction=function(d){var b=d||2;var a=this.maxResolution_;var c=this.minResolution_;var e=Math.log(a/c)/Math.log(b);return function(c){var f=Math.log(a/c)/Math.log(b)/e;return f}};ol.View.prototype.getState=function(){var d=this.getCenter();var a=this.getProjection();var b=this.getResolution();var c=this.getRotation();return {center:d.slice(),projection:a!==undefined?a:null,resolution:b,rotation:c,zoom:this.getZoom()}};ol.View.prototype.getZoom=function(){var b;var a=this.getResolution();if(a!==undefined){b=this.getZoomForResolution(a)}return b};ol.View.prototype.getZoomForResolution=function(d){var e=this.minZoom_||0;var c,a;if(this.resolutions_){var b=ol.array.linearFindNearest(this.resolutions_,d,1);e=b;c=this.resolutions_[b];if(b==this.resolutions_.length-1){a=2}else {a=c/this.resolutions_[b+1]}}else {c=this.maxResolution_;a=this.zoomFactor_}return e+Math.log(c/d)/Math.log(a)};ol.View.prototype.getResolutionForZoom=function(a){return this.constrainResolution(this.maxResolution_,a-this.minZoom_,0)};ol.View.prototype.fit=function(b,y){var a=y||{};var p=a.size;if(!p){p=this.getSizeFromViewport_()}var e;if(!(b instanceof ol.geom.SimpleGeometry)){ol.asserts.assert(Array.isArray(b),24);ol.asserts.assert(!ol.extent.isEmpty(b),25);e=ol.geom.Polygon.fromExtent(b)}else {if(b.getType()===ol.geom.GeometryType.CIRCLE){b=b.getExtent();e=ol.geom.Polygon.fromExtent(b);e.rotate(this.getRotation(),ol.extent.getCenter(b))}else {e=b}}var d=a.padding!==undefined?a.padding:[0,0,0,0];var x=a.constrainResolution!==undefined?a.constrainResolution:!0;var B=a.nearest!==undefined?a.nearest:!1;var h;if(a.minResolution!==undefined){h=a.minResolution}else {if(a.maxZoom!==undefined){h=this.constrainResolution(this.maxResolution_,a.maxZoom-this.minZoom_,0)}else {h=0}}var i=e.getFlatCoordinates();var t=this.getRotation();var k=Math.cos(-t);var f=Math.sin(-t);var n=+Infinity;var o=+Infinity;var l=-Infinity;var m=-Infinity;var C=e.getStride();for(var g=0,D=i.length;g<D;g+=C){var v=i[g]*k-i[g+1]*f;var w=i[g]*f+i[g+1]*k;n=Math.min(n,v);o=Math.min(o,w);l=Math.max(l,v);m=Math.max(m,w)}var c=this.getResolutionForExtent([n,o,l,m],[p[0]-d[1]-d[3],p[1]-d[0]-d[2]]);c=isNaN(c)?h:Math.max(c,h);if(x){var j=this.constrainResolution(c,0,0);if(!B&&j<c){j=this.constrainResolution(j,-1,0)}c=j}f=-f;var q=(n+l)/2;var r=(o+m)/2;q+=(d[1]-d[3])/2*c;r+=(d[0]-d[2])/2*c;var z=q*k-r*f;var A=r*k+q*f;var u=[z,A];var s=a.callback?a.callback:ol.nullFunction;if(a.duration!==undefined){this.animate({resolution:c,center:u,duration:a.duration,easing:a.easing},s)}else {this.setResolution(c);this.setCenter(u);setTimeout(s.bind(undefined,!0),0)}};ol.View.prototype.centerOn=function(b,i,g){var h=this.getRotation();var c=Math.cos(-h);var a=Math.sin(-h);var d=b[0]*c-b[1]*a;var e=b[1]*c+b[0]*a;var f=this.getResolution();d+=(i[0]/2-g[0])*f;e+=(g[1]-i[1]/2)*f;a=-a;var j=d*c-e*a;var k=e*c+d*a;this.setCenter([j,k])};ol.View.prototype.isDef=function(){return !!this.getCenter()&&this.getResolution()!==undefined};ol.View.prototype.rotate=function(b,a){if(a!==undefined){var c=this.calculateCenterRotate(b,a);this.setCenter(c)}this.setRotation(b)};ol.View.prototype.setCenter=function(a){this.set(ol.ViewProperty.CENTER,a);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setHint=function(a,b){this.hints_[a]+=b;this.changed();return this.hints_[a]};ol.View.prototype.setResolution=function(a){this.set(ol.ViewProperty.RESOLUTION,a);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setRotation=function(a){this.set(ol.ViewProperty.ROTATION,a);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setZoom=function(a){this.setResolution(this.getResolutionForZoom(a))};ol.View.createCenterConstraint_=function(a){if(a.extent!==undefined){return ol.CenterConstraint.createExtent(a.extent)}else {return ol.CenterConstraint.none}};ol.View.createResolutionConstraint_=function(a){var i;var b;var c;var l=28;var j=2;var f=a.minZoom!==undefined?a.minZoom:ol.DEFAULT_MIN_ZOOM;var e=a.maxZoom!==undefined?a.maxZoom:l;var d=a.zoomFactor!==undefined?a.zoomFactor:j;if(a.resolutions!==undefined){var g=a.resolutions;b=g[f];c=g[e]!==undefined?g[e]:g[g.length-1];i=ol.ResolutionConstraint.createSnapToResolutions(g)}else {var m=ol.proj.createProjection(a.projection,'EPSG:3857');var k=m.getExtent();var o=!k?360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/m.getMetersPerUnit():Math.max(ol.extent.getWidth(k),ol.extent.getHeight(k));var h=o/ol.DEFAULT_TILE_SIZE/Math.pow(j,ol.DEFAULT_MIN_ZOOM);var n=h/Math.pow(j,l-ol.DEFAULT_MIN_ZOOM);b=a.maxResolution;if(b!==undefined){f=0}else {b=h/Math.pow(d,f)}c=a.minResolution;if(c===undefined){if(a.maxZoom!==undefined){if(a.maxResolution!==undefined){c=b/Math.pow(d,e)}else {c=h/Math.pow(d,e)}}else {c=n}}e=f+Math.floor(Math.log(b/c)/Math.log(d));c=b/Math.pow(d,e-f);i=ol.ResolutionConstraint.createSnapToPower(d,b,e-f)}return {constraint:i,maxResolution:b,minResolution:c,minZoom:f,zoomFactor:d}};ol.View.createRotationConstraint_=function(b){var c=b.enableRotation!==undefined?b.enableRotation:!0;if(c){var a=b.constrainRotation;if(a===undefined||a===!0){return ol.RotationConstraint.createSnapToZero()}else {if(a===!1){return ol.RotationConstraint.none}else {if(typeof a==='number'){return ol.RotationConstraint.createSnapToN(a)}else {return ol.RotationConstraint.none}}}}else {return ol.RotationConstraint.disable}};ol.View.isNoopAnimation=function(a){if(a.sourceCenter&&a.targetCenter){if(!ol.coordinate.equals(a.sourceCenter,a.targetCenter)){return !1}}if(a.sourceResolution!==a.targetResolution){return !1}if(a.sourceRotation!==a.targetRotation){return !1}return !0};goog.provide('ol.dom');ol.dom.createCanvasContext2D=function(c,b){var a=document.createElement('CANVAS');if(c){a.width=c}if(b){a.height=b}return a.getContext('2d')};ol.dom.outerWidth=function(a){var c=a.offsetWidth;var b=getComputedStyle(a);c+=parseInt(b.marginLeft,10)+parseInt(b.marginRight,10);return c};ol.dom.outerHeight=function(a){var b=a.offsetHeight;var c=getComputedStyle(a);b+=parseInt(c.marginTop,10)+parseInt(c.marginBottom,10);return b};ol.dom.replaceNode=function(c,a){var b=a.parentNode;if(b){b.replaceChild(c,a)}};ol.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};ol.dom.removeChildren=function(a){while(a.lastChild){a.removeChild(a.lastChild)}};goog.provide('ol.layer.Property');ol.layer.Property={OPACITY:'opacity',VISIBLE:'visible',EXTENT:'extent',Z_INDEX:'zIndex',MAX_RESOLUTION:'maxResolution',MIN_RESOLUTION:'minResolution',SOURCE:'source'};goog.provide('ol.layer.Base');goog.require('ol');goog.require('ol.Object');goog.require('ol.layer.Property');goog.require('ol.math');goog.require('ol.obj');ol.layer.Base=function(a){ol.Object.call(this);var b=ol.obj.assign({},a);b[ol.layer.Property.OPACITY]=a.opacity!==undefined?a.opacity:1;b[ol.layer.Property.VISIBLE]=a.visible!==undefined?a.visible:!0;b[ol.layer.Property.Z_INDEX]=a.zIndex!==undefined?a.zIndex:0;b[ol.layer.Property.MAX_RESOLUTION]=a.maxResolution!==undefined?a.maxResolution:Infinity;b[ol.layer.Property.MIN_RESOLUTION]=a.minResolution!==undefined?a.minResolution:0;this.setProperties(b);this.state_={layer:this,managed:!0};this.type};ol.inherits(ol.layer.Base,ol.Object);ol.layer.Base.prototype.getType=function(){return this.type};ol.layer.Base.prototype.getLayerState=function(){this.state_.opacity=ol.math.clamp(this.getOpacity(),0,1);this.state_.sourceState=this.getSourceState();this.state_.visible=this.getVisible();this.state_.extent=this.getExtent();this.state_.zIndex=this.getZIndex();this.state_.maxResolution=this.getMaxResolution();this.state_.minResolution=Math.max(this.getMinResolution(),0);return this.state_};ol.layer.Base.prototype.getLayersArray=function(a){};ol.layer.Base.prototype.getLayerStatesArray=function(a){};ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.Property.EXTENT)};ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.Property.MAX_RESOLUTION)};ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.Property.MIN_RESOLUTION)};ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.Property.OPACITY)};ol.layer.Base.prototype.getSourceState=function(){};ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.Property.VISIBLE)};ol.layer.Base.prototype.getZIndex=function(){return this.get(ol.layer.Property.Z_INDEX)};ol.layer.Base.prototype.setExtent=function(a){this.set(ol.layer.Property.EXTENT,a)};ol.layer.Base.prototype.setMaxResolution=function(a){this.set(ol.layer.Property.MAX_RESOLUTION,a)};ol.layer.Base.prototype.setMinResolution=function(a){this.set(ol.layer.Property.MIN_RESOLUTION,a)};ol.layer.Base.prototype.setOpacity=function(a){this.set(ol.layer.Property.OPACITY,a)};ol.layer.Base.prototype.setVisible=function(a){this.set(ol.layer.Property.VISIBLE,a)};ol.layer.Base.prototype.setZIndex=function(a){this.set(ol.layer.Property.Z_INDEX,a)};goog.provide('ol.source.State');ol.source.State={UNDEFINED:'undefined',LOADING:'loading',READY:'ready',ERROR:'error'};goog.provide('ol.layer.Group');goog.require('ol');goog.require('ol.Collection');goog.require('ol.CollectionEventType');goog.require('ol.Object');goog.require('ol.ObjectEventType');goog.require('ol.asserts');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.layer.Base');goog.require('ol.obj');goog.require('ol.source.State');ol.layer.Group=function(d){var c=d||{};var b=ol.obj.assign({},c);delete b.layers;var a=c.layers;ol.layer.Base.call(this,b);this.layersListenerKeys_=[];this.listenerKeys_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Group.Property_.LAYERS),this.handleLayersChanged_,this);if(a){if(Array.isArray(a)){a=new ol.Collection(a.slice(),{unique:!0})}else {ol.asserts.assert(a instanceof ol.Collection,43);a=a}}else {a=new ol.Collection(undefined,{unique:!0})}this.setLayers(a)};ol.inherits(ol.layer.Group,ol.layer.Base);ol.layer.Group.prototype.handleLayerChange_=function(){this.changed()};ol.layer.Group.prototype.handleLayersChanged_=function(g){this.layersListenerKeys_.forEach(ol.events.unlistenByKey);this.layersListenerKeys_.length=0;var c=this.getLayers();this.layersListenerKeys_.push(ol.events.listen(c,ol.CollectionEventType.ADD,this.handleLayersAdd_,this),ol.events.listen(c,ol.CollectionEventType.REMOVE,this.handleLayersRemove_,this));for(var f in this.listenerKeys_){this.listenerKeys_[f].forEach(ol.events.unlistenByKey)}ol.obj.clear(this.listenerKeys_);var d=c.getArray();var b,e,a;for(b=0,e=d.length;b<e;b++){a=d[b];this.listenerKeys_[ol.getUid(a).toString()]=[ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(a,ol.events.EventType.CHANGE,this.handleLayerChange_,this)]}this.changed()};ol.layer.Group.prototype.handleLayersAdd_=function(b){var a=b.element;var c=ol.getUid(a).toString();this.listenerKeys_[c]=[ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(a,ol.events.EventType.CHANGE,this.handleLayerChange_,this)];this.changed()};ol.layer.Group.prototype.handleLayersRemove_=function(b){var c=b.element;var a=ol.getUid(c).toString();this.listenerKeys_[a].forEach(ol.events.unlistenByKey);delete this.listenerKeys_[a];this.changed()};ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.Group.Property_.LAYERS)};ol.layer.Group.prototype.setLayers=function(a){this.set(ol.layer.Group.Property_.LAYERS,a)};ol.layer.Group.prototype.getLayersArray=function(a){var b=a!==undefined?a:[];this.getLayers().forEach(function(c){c.getLayersArray(b)});return b};ol.layer.Group.prototype.getLayerStatesArray=function(e){var c=e!==undefined?e:[];var g=c.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(c)});var b=this.getLayerState();var d,f,a;for(d=g,f=c.length;d<f;d++){a=c[d];a.opacity*=b.opacity;a.visible=a.visible&&b.visible;a.maxResolution=Math.min(a.maxResolution,b.maxResolution);a.minResolution=Math.max(a.minResolution,b.minResolution);if(b.extent!==undefined){if(a.extent!==undefined){a.extent=ol.extent.getIntersection(a.extent,b.extent)}else {a.extent=b.extent}}}return c};ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY};ol.layer.Group.Property_={LAYERS:'layers'};goog.provide('ol.PluginType');ol.PluginType={MAP_RENDERER:'MAP_RENDERER',LAYER_RENDERER:'LAYER_RENDERER'};goog.provide('ol.plugins');goog.require('ol.PluginType');ol.plugins.mapRendererPlugins_=[];ol.plugins.getMapRendererPlugins=function(){return ol.plugins.mapRendererPlugins_};ol.plugins.layerRendererPlugins_=[];ol.plugins.getLayerRendererPlugins=function(){return ol.plugins.layerRendererPlugins_};ol.plugins.register=function(c,b){var a;switch(c){case ol.PluginType.MAP_RENDERER:{a=ol.plugins.mapRendererPlugins_;a.push(b);break};case ol.PluginType.LAYER_RENDERER:{a=ol.plugins.layerRendererPlugins_;a.push(b);break};default:{throw new Error('Unsupported plugin type: '+c)};}};ol.plugins.registerMultiple=function(c,b){for(var a=0,d=b.length;a<d;++a){ol.plugins.register(c,b[a])}};goog.provide('ol.renderer.Type');ol.renderer.Type={CANVAS:'canvas',WEBGL:'webgl'};goog.provide('ol.PluggableMap');goog.require('ol');goog.require('ol.Collection');goog.require('ol.CollectionEventType');goog.require('ol.MapBrowserEvent');goog.require('ol.MapBrowserEventHandler');goog.require('ol.MapBrowserEventType');goog.require('ol.MapEvent');goog.require('ol.MapEventType');goog.require('ol.MapProperty');goog.require('ol.Object');goog.require('ol.ObjectEventType');goog.require('ol.TileQueue');goog.require('ol.View');goog.require('ol.ViewHint');goog.require('ol.asserts');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.Event');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.functions');goog.require('ol.has');goog.require('ol.layer.Group');goog.require('ol.obj');goog.require('ol.plugins');goog.require('ol.renderer.Type');goog.require('ol.size');goog.require('ol.structs.PriorityQueue');goog.require('ol.transform');ol.PluggableMap=function(a){ol.Object.call(this);var b=ol.PluggableMap.createOptionsInternal(a);this.loadTilesWhileAnimating_=a.loadTilesWhileAnimating!==undefined?a.loadTilesWhileAnimating:!1;this.loadTilesWhileInteracting_=a.loadTilesWhileInteracting!==undefined?a.loadTilesWhileInteracting:!1;this.pixelRatio_=a.pixelRatio!==undefined?a.pixelRatio:ol.has.DEVICE_PIXEL_RATIO;this.logos_=b.logos;this.animationDelayKey_;this.animationDelay_=function(){this.animationDelayKey_=undefined;this.renderFrame_.call(this,Date.now())}.bind(this);this.coordinateToPixelTransform_=ol.transform.create();this.pixelToCoordinateTransform_=ol.transform.create();this.frameIndex_=0;this.frameState_=null;this.previousExtent_=null;this.viewPropertyListenerKey_=null;this.viewChangeListenerKey_=null;this.layerGroupPropertyListenerKeys_=null;this.viewport_=document.createElement('DIV');this.viewport_.className='ol-viewport'+(ol.has.TOUCH?' ol-touch':'');this.viewport_.style.position='relative';this.viewport_.style.overflow='hidden';this.viewport_.style.width='100%';this.viewport_.style.height='100%';this.viewport_.style.msTouchAction='none';this.viewport_.style.touchAction='none';this.overlayContainer_=document.createElement('DIV');this.overlayContainer_.className='ol-overlaycontainer';this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement('DIV');this.overlayContainerStopEvent_.className='ol-overlaycontainer-stopevent';var d=[ol.events.EventType.CLICK,ol.events.EventType.DBLCLICK,ol.events.EventType.MOUSEDOWN,ol.events.EventType.TOUCHSTART,ol.events.EventType.MSPOINTERDOWN,ol.MapBrowserEventType.POINTERDOWN,ol.events.EventType.MOUSEWHEEL,ol.events.EventType.WHEEL];for(var c=0,f=d.length;c<f;++c){ol.events.listen(this.overlayContainerStopEvent_,d[c],ol.events.Event.stopPropagation)}this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=new ol.MapBrowserEventHandler(this,a.moveTolerance);for(var e in ol.MapBrowserEventType){ol.events.listen(this.mapBrowserEventHandler_,ol.MapBrowserEventType[e],this.handleMapBrowserEvent,this)}this.keyboardEventTarget_=b.keyboardEventTarget;this.keyHandlerKeys_=null;ol.events.listen(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.listen(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);this.controls=b.controls||new ol.Collection();this.interactions=b.interactions||new ol.Collection();this.overlays_=b.overlays;this.overlayIdIndex_={};this.renderer_=b.mapRendererPlugin['create'](this.viewport_,this);this.handleResize_;this.focus_=null;this.postRenderFunctions_=[];this.tileQueue_=new ol.TileQueue(this.getTilePriority.bind(this),this.handleTileChange_.bind(this));this.skippedFeatureUids_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),this.handleTargetChanged_,this);this.setProperties(b.values);this.controls.forEach(function(b){b.setMap(this)},this);ol.events.listen(this.controls,ol.CollectionEventType.ADD,function(b){b.element.setMap(this)},this);ol.events.listen(this.controls,ol.CollectionEventType.REMOVE,function(b){b.element.setMap(null)},this);this.interactions.forEach(function(b){b.setMap(this)},this);ol.events.listen(this.interactions,ol.CollectionEventType.ADD,function(b){b.element.setMap(this)},this);ol.events.listen(this.interactions,ol.CollectionEventType.REMOVE,function(b){b.element.setMap(null)},this);this.overlays_.forEach(this.addOverlayInternal_,this);ol.events.listen(this.overlays_,ol.CollectionEventType.ADD,function(b){this.addOverlayInternal_(b.element)},this);ol.events.listen(this.overlays_,ol.CollectionEventType.REMOVE,function(b){var d=b.element;var c=d.getId();if(c!==undefined){delete this.overlayIdIndex_[c.toString()]}b.element.setMap(null)},this)};ol.inherits(ol.PluggableMap,ol.Object);ol.PluggableMap.prototype.addControl=function(a){this.getControls().push(a)};ol.PluggableMap.prototype.addInteraction=function(a){this.getInteractions().push(a)};ol.PluggableMap.prototype.addLayer=function(b){var a=this.getLayerGroup().getLayers();a.push(b)};ol.PluggableMap.prototype.addOverlay=function(a){this.getOverlays().push(a)};ol.PluggableMap.prototype.addOverlayInternal_=function(a){var b=a.getId();if(b!==undefined){this.overlayIdIndex_[b.toString()]=a}a.setMap(this)};ol.PluggableMap.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose();ol.events.unlisten(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.unlisten(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);if(this.handleResize_!==undefined){window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1);this.handleResize_=undefined}if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_);this.animationDelayKey_=undefined}this.setTarget(null);ol.Object.prototype.disposeInternal.call(this)};ol.PluggableMap.prototype.forEachFeatureAtPixel=function(f,e,a){if(!this.frameState_){return}var d=this.getCoordinateFromPixel(f);a=a!==undefined?a:{};var b=a.hitTolerance!==undefined?a.hitTolerance*this.frameState_.pixelRatio:0;var c=a.layerFilter!==undefined?a.layerFilter:ol.functions.TRUE;return this.renderer_.forEachFeatureAtCoordinate(d,this.frameState_,b,e,null,c,null)};ol.PluggableMap.prototype.getFeaturesAtPixel=function(c,b){var a=null;this.forEachFeatureAtPixel(c,function(d){if(!a){a=[]}a.push(d)},b);return a};ol.PluggableMap.prototype.forEachLayerAtPixel=function(h,e,c,a,b){if(!this.frameState_){return}var g=c!==undefined?c:null;var d=a!==undefined?a:ol.functions.TRUE;var f=b!==undefined?b:null;return this.renderer_.forEachLayerAtPixel(h,this.frameState_,e,g,d,f)};ol.PluggableMap.prototype.hasFeatureAtPixel=function(e,a){if(!this.frameState_){return !1}var d=this.getCoordinateFromPixel(e);a=a!==undefined?a:{};var c=a.layerFilter!==undefined?a.layerFilter:ol.functions.TRUE;var b=a.hitTolerance!==undefined?a.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(d,this.frameState_,b,c,null)};ol.PluggableMap.prototype.getEventCoordinate=function(a){return this.getCoordinateFromPixel(this.getEventPixel(a))};ol.PluggableMap.prototype.getEventPixel=function(a){var b=this.viewport_.getBoundingClientRect();var c=a.changedTouches?a.changedTouches[0]:a;return [c.clientX-b.left,c.clientY-b.top]};ol.PluggableMap.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)};ol.PluggableMap.prototype.getTargetElement=function(){var a=this.getTarget();if(a!==undefined){return typeof a==='string'?document.getElementById(a):a}else {return null}};ol.PluggableMap.prototype.getCoordinateFromPixel=function(b){var a=this.frameState_;if(!a){return null}else {return ol.transform.apply(a.pixelToCoordinateTransform,b.slice())}};ol.PluggableMap.prototype.getControls=function(){return this.controls};ol.PluggableMap.prototype.getOverlays=function(){return this.overlays_};ol.PluggableMap.prototype.getOverlayById=function(b){var a=this.overlayIdIndex_[b.toString()];return a!==undefined?a:null};ol.PluggableMap.prototype.getInteractions=function(){return this.interactions};ol.PluggableMap.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)};ol.PluggableMap.prototype.getLayers=function(){var a=this.getLayerGroup().getLayers();return a};ol.PluggableMap.prototype.getPixelFromCoordinate=function(b){var a=this.frameState_;if(!a){return null}else {return ol.transform.apply(a.coordinateToPixelTransform,b.slice(0,2))}};ol.PluggableMap.prototype.getRenderer=function(){return this.renderer_};ol.PluggableMap.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)};ol.PluggableMap.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)};ol.PluggableMap.prototype.getViewport=function(){return this.viewport_};ol.PluggableMap.prototype.getOverlayContainer=function(){return this.overlayContainer_};ol.PluggableMap.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};ol.PluggableMap.prototype.getTilePriority=function(g,c,d,b){var a=this.frameState_;if(!a||!(c in a.wantedTiles)){return ol.structs.PriorityQueue.DROP}if(!a.wantedTiles[c][g.getKey()]){return ol.structs.PriorityQueue.DROP}var e=d[0]-a.focus[0];var f=d[1]-a.focus[1];return 65536*Math.log(b)+Math.sqrt(e*e+f*f)/b};ol.PluggableMap.prototype.handleBrowserEvent=function(a,c){var d=c||a.type;var b=new ol.MapBrowserEvent(d,this,a);this.handleMapBrowserEvent(b)};ol.PluggableMap.prototype.handleMapBrowserEvent=function(a){if(!this.frameState_){return}this.focus_=a.coordinate;a.frameState=this.frameState_;var c=this.getInteractions().getArray();var b;if(this.dispatchEvent(a)!==!1){for(b=c.length-1;b>=0;b--){var d=c[b];if(!d.getActive()){continue}var e=d.handleEvent(a);if(!e){break}}}};ol.PluggableMap.prototype.handlePostRender=function(){var f=this.frameState_;var b=this.tileQueue_;if(!b.isEmpty()){var a=16;var e=a;if(f){var g=f.viewHints;if(g[ol.ViewHint.ANIMATING]){a=this.loadTilesWhileAnimating_?8:0;e=2}if(g[ol.ViewHint.INTERACTING]){a=this.loadTilesWhileInteracting_?8:0;e=2}}if(b.getTilesLoading()<a){b.reprioritize();b.loadMoreTiles(a,e)}}var d=this.postRenderFunctions_;var c,h;for(c=0,h=d.length;c<h;++c){d[c](this,f)}d.length=0};ol.PluggableMap.prototype.handleSizeChanged_=function(){this.render()};ol.PluggableMap.prototype.handleTargetChanged_=function(){var a;if(this.getTarget()){a=this.getTargetElement()}if(this.keyHandlerKeys_){for(var b=0,d=this.keyHandlerKeys_.length;b<d;++b){ol.events.unlistenByKey(this.keyHandlerKeys_[b])}this.keyHandlerKeys_=null}if(!a){this.renderer_.removeLayerRenderers();ol.dom.removeNode(this.viewport_);if(this.handleResize_!==undefined){window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1);this.handleResize_=undefined}}else {a.appendChild(this.viewport_);var c=!this.keyboardEventTarget_?a:this.keyboardEventTarget_;this.keyHandlerKeys_=[ol.events.listen(c,ol.events.EventType.KEYDOWN,this.handleBrowserEvent,this),ol.events.listen(c,ol.events.EventType.KEYPRESS,this.handleBrowserEvent,this)];if(!this.handleResize_){this.handleResize_=this.updateSize.bind(this);window.addEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1)}}this.updateSize()};ol.PluggableMap.prototype.handleTileChange_=function(){this.render()};ol.PluggableMap.prototype.handleViewPropertyChanged_=function(){this.render()};ol.PluggableMap.prototype.handleViewChanged_=function(){if(this.viewPropertyListenerKey_){ol.events.unlistenByKey(this.viewPropertyListenerKey_);this.viewPropertyListenerKey_=null}if(this.viewChangeListenerKey_){ol.events.unlistenByKey(this.viewChangeListenerKey_);this.viewChangeListenerKey_=null}var a=this.getView();if(a){this.viewport_.setAttribute('data-view',ol.getUid(a));this.viewPropertyListenerKey_=ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this);this.viewChangeListenerKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleViewPropertyChanged_,this)}this.render()};ol.PluggableMap.prototype.handleLayerGroupChanged_=function(){if(this.layerGroupPropertyListenerKeys_){this.layerGroupPropertyListenerKeys_.forEach(ol.events.unlistenByKey);this.layerGroupPropertyListenerKeys_=null}var a=this.getLayerGroup();if(a){this.layerGroupPropertyListenerKeys_=[ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.render,this),ol.events.listen(a,ol.events.EventType.CHANGE,this.render,this)]}this.render()};ol.PluggableMap.prototype.isRendered=function(){return !!this.frameState_};ol.PluggableMap.prototype.renderSync=function(){if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_)}this.animationDelay_()};ol.PluggableMap.prototype.render=function(){if(this.animationDelayKey_===undefined){this.animationDelayKey_=requestAnimationFrame(this.animationDelay_)}};ol.PluggableMap.prototype.removeControl=function(a){return this.getControls().remove(a)};ol.PluggableMap.prototype.removeInteraction=function(a){return this.getInteractions().remove(a)};ol.PluggableMap.prototype.removeLayer=function(b){var a=this.getLayerGroup().getLayers();return a.remove(b)};ol.PluggableMap.prototype.removeOverlay=function(a){return this.getOverlays().remove(a)};ol.PluggableMap.prototype.renderFrame_=function(p){var d,l,b;var h=this.getSize();var g=this.getView();var k=ol.extent.createEmpty();var i=this.frameState_;var a=null;if(h!==undefined&&ol.size.hasArea(h)&&g&&g.isDef()){var n=g.getHints(this.frameState_?this.frameState_.viewHints:undefined);var e=this.getLayerGroup().getLayerStatesArray();var j={};for(d=0,l=e.length;d<l;++d){j[ol.getUid(e[d].layer)]=e[d]}b=g.getState();var c=b.center;var f=b.resolution/this.pixelRatio_;c[0]=Math.round(c[0]/f)*f;c[1]=Math.round(c[1]/f)*f;a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:k,focus:!this.focus_?c:this.focus_,index:this.frameIndex_++,layerStates:j,layerStatesArray:e,logos:ol.obj.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:h,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:p,usedTiles:{},viewState:b,viewHints:n,wantedTiles:{}}}if(a){a.extent=ol.extent.getForViewAndSize(b.center,b.resolution,b.rotation,a.size,k)}this.frameState_=a;this.renderer_.renderFrame(a);if(a){if(a.animate){this.render()}Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions);if(i){var m=!this.previousExtent_||!ol.extent.isEmpty(this.previousExtent_)&&!ol.extent.equals(a.extent,this.previousExtent_);if(m){this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVESTART,this,i));this.previousExtent_=ol.extent.createOrUpdateEmpty(this.previousExtent_)}}var o=this.previousExtent_&&!a.viewHints[ol.ViewHint.ANIMATING]&&!a.viewHints[ol.ViewHint.INTERACTING]&&!ol.extent.equals(a.extent,this.previousExtent_);if(o){this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,this,a));ol.extent.clone(a.extent,this.previousExtent_)}}this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,a));setTimeout(this.handlePostRender.bind(this),0)};ol.PluggableMap.prototype.setLayerGroup=function(a){this.set(ol.MapProperty.LAYERGROUP,a)};ol.PluggableMap.prototype.setSize=function(a){this.set(ol.MapProperty.SIZE,a)};ol.PluggableMap.prototype.setTarget=function(a){this.set(ol.MapProperty.TARGET,a)};ol.PluggableMap.prototype.setView=function(a){this.set(ol.MapProperty.VIEW,a)};ol.PluggableMap.prototype.skipFeature=function(b){var a=ol.getUid(b).toString();this.skippedFeatureUids_[a]=!0;this.render()};ol.PluggableMap.prototype.updateSize=function(){var b=this.getTargetElement();if(!b){this.setSize(undefined)}else {var a=getComputedStyle(b);this.setSize([b.offsetWidth-parseFloat(a['borderLeftWidth'])-parseFloat(a['paddingLeft'])-parseFloat(a['paddingRight'])-parseFloat(a['borderRightWidth']),b.offsetHeight-parseFloat(a['borderTopWidth'])-parseFloat(a['paddingTop'])-parseFloat(a['paddingBottom'])-parseFloat(a['borderBottomWidth'])])}};ol.PluggableMap.prototype.unskipFeature=function(b){var a=ol.getUid(b).toString();delete this.skippedFeatureUids_[a];this.render()};ol.PluggableMap.DEFAULT_RENDERER_TYPES=[ol.renderer.Type.CANVAS,ol.renderer.Type.WEBGL];ol.PluggableMap.LOGO_URL='data:image/png;base64,'+'iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBI'+'WXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAA'+'AhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszW'+'WMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvY'+'asvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvX'+'H1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1Vk'+'bMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW'+'2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLP'+'VcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqT'+'acrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaar'+'ldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+Hi'+'zeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDn'+'BAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSF'+'hYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJ'+'REFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxC'+'Brb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe'+'0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8'+'a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7a'+'hgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCn'+'B3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDg'+'q82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC';ol.PluggableMap.createOptionsInternal=function(a){var l=null;if(a.keyboardEventTarget!==undefined){l=typeof a.keyboardEventTarget==='string'?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget}var f={};var d={};if(a.logo===undefined||typeof a.logo==='boolean'&&a.logo){d[ol.PluggableMap.LOGO_URL]='https://openlayers.org/'}else {var b=a.logo;if(typeof b==='string'){d[b]=''}else {if(b instanceof HTMLElement){d[ol.getUid(b).toString()]=b}else {if(b){ol.asserts.assert(typeof b.href=='string',44);ol.asserts.assert(typeof b.src=='string',45);d[b.src]=b.href}}}}var p=a.layers instanceof ol.layer.Group?a.layers:new ol.layer.Group({layers:a.layers});f[ol.MapProperty.LAYERGROUP]=p;f[ol.MapProperty.TARGET]=a.target;f[ol.MapProperty.VIEW]=a.view!==undefined?a.view:new ol.View();var c;if(a.renderer!==undefined){if(Array.isArray(a.renderer)){c=a.renderer}else {if(typeof a.renderer==='string'){c=[a.renderer]}else {ol.asserts.assert(!1,46)}}if(c.indexOf('dom')>=0){c=c.concat(ol.PluggableMap.DEFAULT_RENDERER_TYPES)}}else {c=ol.PluggableMap.DEFAULT_RENDERER_TYPES}var g;var m=ol.plugins.getMapRendererPlugins();s: for(var j=0,q=c.length;j<q;++j){var o=c[j];for(var k=0,r=m.length;k<r;++k){var n=m[k];if(n['handles'](o)){g=n;break s}}}if(!g){throw new Error('Unable to create a map renderer for types: '+c.join(', '))}var i;if(a.controls!==undefined){if(Array.isArray(a.controls)){i=new ol.Collection(a.controls.slice())}else {ol.asserts.assert(a.controls instanceof ol.Collection,47);i=a.controls}}var h;if(a.interactions!==undefined){if(Array.isArray(a.interactions)){h=new ol.Collection(a.interactions.slice())}else {ol.asserts.assert(a.interactions instanceof ol.Collection,48);h=a.interactions}}var e;if(a.overlays!==undefined){if(Array.isArray(a.overlays)){e=new ol.Collection(a.overlays.slice())}else {ol.asserts.assert(a.overlays instanceof ol.Collection,49);e=a.overlays}}else {e=new ol.Collection()}return {controls:i,interactions:h,keyboardEventTarget:l,logos:d,overlays:e,mapRendererPlugin:g,values:f}};goog.provide('ol.control.Control');goog.require('ol');goog.require('ol.MapEventType');goog.require('ol.Object');goog.require('ol.dom');goog.require('ol.events');ol.control.Control=function(a){ol.Object.call(this);this.element=a.element?a.element:null;this.target_=null;this.map_=null;this.listenerKeys=[];this.render=a.render?a.render:ol.nullFunction;if(a.target){this.setTarget(a.target)}};ol.inherits(ol.control.Control,ol.Object);ol.control.Control.prototype.disposeInternal=function(){ol.dom.removeNode(this.element);ol.Object.prototype.disposeInternal.call(this)};ol.control.Control.prototype.getMap=function(){return this.map_};ol.control.Control.prototype.setMap=function(a){if(this.map_){ol.dom.removeNode(this.element)}for(var b=0,d=this.listenerKeys.length;b<d;++b){ol.events.unlistenByKey(this.listenerKeys[b])}this.listenerKeys.length=0;this.map_=a;if(this.map_){var c=this.target_?this.target_:a.getOverlayContainerStopEvent();c.appendChild(this.element);if(this.render!==ol.nullFunction){this.listenerKeys.push(ol.events.listen(a,ol.MapEventType.POSTRENDER,this.render,this))}a.render()}};ol.control.Control.prototype.setTarget=function(a){this.target_=typeof a==='string'?document.getElementById(a):a};goog.provide('ol.css');ol.css.CLASS_HIDDEN='ol-hidden';ol.css.CLASS_SELECTABLE='ol-selectable';ol.css.CLASS_UNSELECTABLE='ol-unselectable';ol.css.CLASS_UNSUPPORTED='ol-unsupported';ol.css.CLASS_CONTROL='ol-control';ol.css.getFontFamilies=function(){var a;var b={};return function(c){if(!a){a=document.createElement('div').style}if(!(c in b)){a.font=c;var d=a.fontFamily;a.font='';if(!d){return null}b[c]=d.split(/,\s?/)}return b[c]}}();goog.provide('ol.render.EventType');ol.render.EventType={POSTCOMPOSE:'postcompose',PRECOMPOSE:'precompose',RENDER:'render'};goog.provide('ol.layer.Layer');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol');goog.require('ol.Object');goog.require('ol.layer.Base');goog.require('ol.layer.Property');goog.require('ol.obj');goog.require('ol.render.EventType');goog.require('ol.source.State');ol.layer.Layer=function(a){var b=ol.obj.assign({},a);delete b.source;ol.layer.Base.call(this,b);this.mapPrecomposeKey_=null;this.mapRenderKey_=null;this.sourceChangeKey_=null;if(a.map){this.setMap(a.map)}ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Property.SOURCE),this.handleSourcePropertyChange_,this);var c=a.source?a.source:null;this.setSource(c)};ol.inherits(ol.layer.Layer,ol.layer.Base);ol.layer.Layer.visibleAtResolution=function(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution};ol.layer.Layer.prototype.getLayersArray=function(a){var b=a?a:[];b.push(this);return b};ol.layer.Layer.prototype.getLayerStatesArray=function(a){var b=a?a:[];b.push(this.getLayerState());return b};ol.layer.Layer.prototype.getSource=function(){var a=this.get(ol.layer.Property.SOURCE);return a||null};ol.layer.Layer.prototype.getSourceState=function(){var a=this.getSource();return !a?ol.source.State.UNDEFINED:a.getState()};ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()};ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){if(this.sourceChangeKey_){ol.events.unlistenByKey(this.sourceChangeKey_);this.sourceChangeKey_=null}var a=this.getSource();if(a){this.sourceChangeKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleSourceChange_,this)}this.changed()};ol.layer.Layer.prototype.setMap=function(a){if(this.mapPrecomposeKey_){ol.events.unlistenByKey(this.mapPrecomposeKey_);this.mapPrecomposeKey_=null}if(!a){this.changed()}if(this.mapRenderKey_){ol.events.unlistenByKey(this.mapRenderKey_);this.mapRenderKey_=null}if(a){this.mapPrecomposeKey_=ol.events.listen(a,ol.render.EventType.PRECOMPOSE,function(c){var b=this.getLayerState();b.managed=!1;b.zIndex=Infinity;c.frameState.layerStatesArray.push(b);c.frameState.layerStates[ol.getUid(this)]=b},this);this.mapRenderKey_=ol.events.listen(this,ol.events.EventType.CHANGE,a.render,a);this.changed()}};ol.layer.Layer.prototype.setSource=function(a){this.set(ol.layer.Property.SOURCE,a)};goog.provide('ol.control.Attribution');goog.require('ol');goog.require('ol.array');goog.require('ol.control.Control');goog.require('ol.css');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.layer.Layer');goog.require('ol.obj');ol.control.Attribution=function(f){var a=f?f:{};this.ulElement_=document.createElement('UL');this.logoLi_=document.createElement('LI');this.ulElement_.appendChild(this.logoLi_);this.logoLi_.style.display='none';this.collapsed_=a.collapsed!==undefined?a.collapsed:!0;this.collapsible_=a.collapsible!==undefined?a.collapsible:!0;if(!this.collapsible_){this.collapsed_=!1}var i=a.className!==undefined?a.className:'ol-attribution';var j=a.tipLabel!==undefined?a.tipLabel:'Attributions';var d=a.collapseLabel!==undefined?a.collapseLabel:'»';if(typeof d==='string'){this.collapseLabel_=document.createElement('span');this.collapseLabel_.textContent=d}else {this.collapseLabel_=d}var e=a.label!==undefined?a.label:'i';if(typeof e==='string'){this.label_=document.createElement('span');this.label_.textContent=e}else {this.label_=e}var g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var b=document.createElement('button');b.setAttribute('type','button');b.title=j;b.appendChild(g);ol.events.listen(b,ol.events.EventType.CLICK,this.handleClick_,this);var h=i+' '+ol.css.CLASS_UNSELECTABLE+' '+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?' ol-collapsed':'')+(this.collapsible_?'':' ol-uncollapsible');var c=document.createElement('div');c.className=h;c.appendChild(this.ulElement_);c.appendChild(b);var k=a.render?a.render:ol.control.Attribution.render;ol.control.Control.call(this,{element:c,render:k,target:a.target});this.renderedAttributions_=[];this.renderedVisible_=!0;this.logoElements_={}};ol.inherits(ol.control.Attribution,ol.control.Control);ol.control.Attribution.prototype.getSourceAttributions_=function(e){var c={};var d=[];var h=e.layerStatesArray;var k=e.viewState.resolution;for(var f=0,l=h.length;f<l;++f){var i=h[f];if(!ol.layer.Layer.visibleAtResolution(i,k)){continue}var j=i.layer.getSource();if(!j){continue}var g=j.getAttributions2();if(!g){continue}var a=g(e);if(!a){continue}if(Array.isArray(a)){for(var b=0,m=a.length;b<m;++b){if(!(a[b] in c)){d.push(a[b]);c[a[b]]=!0}}}else {if(!(a in c)){d.push(a);c[a]=!0}}}return d};ol.control.Attribution.render=function(a){this.updateElement_(a.frameState)};ol.control.Attribution.prototype.updateElement_=function(b){if(!b){if(this.renderedVisible_){this.element.style.display='none';this.renderedVisible_=!1}return}var a=this.getSourceAttributions_(b);if(ol.array.equals(a,this.renderedAttributions_)){return}while(this.ulElement_.lastChild!==this.logoLi_){this.ulElement_.removeChild(this.ulElement_.lastChild)}for(var d=0,f=a.length;d<f;++d){var e=document.createElement('LI');e.innerHTML=a[d];this.ulElement_.appendChild(e)}if(a.length===0&&this.renderedAttributions_.length>0){this.element.classList.add('ol-logo-only')}else {if(this.renderedAttributions_.length===0&&a.length>0){this.element.classList.remove('ol-logo-only')}}var c=a.length>0||!ol.obj.isEmpty(b.logos);if(this.renderedVisible_!=c){this.element.style.display=c?'':'none';this.renderedVisible_=c}this.renderedAttributions_=a;this.insertLogos_(b)};ol.control.Attribution.prototype.insertLogos_=function(h){var g;var f=h.logos;var a=this.logoElements_;for(g in a){if(!(g in f)){ol.dom.removeNode(a[g]);delete a[g]}}var e,b,c;for(c in f){var d=f[c];if(d instanceof HTMLElement){this.logoLi_.appendChild(d);a[c]=d}if(!(c in a)){e=new Image();e.src=c;if(d===''){b=e}else {b=document.createElement('a');b.href=d;b.appendChild(e)}this.logoLi_.appendChild(b);a[c]=b}}this.logoLi_.style.display=!ol.obj.isEmpty(f)?'':'none'};ol.control.Attribution.prototype.handleClick_=function(a){a.preventDefault();this.handleToggle_()};ol.control.Attribution.prototype.handleToggle_=function(){this.element.classList.toggle('ol-collapsed');if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else {ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_};ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_};ol.control.Attribution.prototype.setCollapsible=function(a){if(this.collapsible_===a){return}this.collapsible_=a;this.element.classList.toggle('ol-uncollapsible');if(!a&&this.collapsed_){this.handleToggle_()}};ol.control.Attribution.prototype.setCollapsed=function(a){if(!this.collapsible_||this.collapsed_===a){return}this.handleToggle_()};ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_};goog.provide('ol.control.Rotate');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol');goog.require('ol.control.Control');goog.require('ol.css');goog.require('ol.easing');ol.control.Rotate=function(e){var a=e?e:{};var f=a.className!==undefined?a.className:'ol-rotate';var d=a.label!==undefined?a.label:'⇧';this.label_=null;if(typeof d==='string'){this.label_=document.createElement('span');this.label_.className='ol-compass';this.label_.textContent=d}else {this.label_=d;this.label_.classList.add('ol-compass')}var h=a.tipLabel?a.tipLabel:'Reset rotation';var b=document.createElement('button');b.className=f+'-reset';b.setAttribute('type','button');b.title=h;b.appendChild(this.label_);ol.events.listen(b,ol.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,this);var g=f+' '+ol.css.CLASS_UNSELECTABLE+' '+ol.css.CLASS_CONTROL;var c=document.createElement('div');c.className=g;c.appendChild(b);var i=a.render?a.render:ol.control.Rotate.render;this.callResetNorth_=a.resetNorth?a.resetNorth:undefined;ol.control.Control.call(this,{element:c,render:i,target:a.target});this.duration_=a.duration!==undefined?a.duration:250;this.autoHide_=a.autoHide!==undefined?a.autoHide:!0;this.rotation_=undefined;if(this.autoHide_){this.element.classList.add(ol.css.CLASS_HIDDEN)}};ol.inherits(ol.control.Rotate,ol.control.Control);ol.control.Rotate.prototype.handleClick_=function(a){a.preventDefault();if(this.callResetNorth_!==undefined){this.callResetNorth_()}else {this.resetNorth_()}};ol.control.Rotate.prototype.resetNorth_=function(){var b=this.getMap();var a=b.getView();if(!a){return}if(a.getRotation()!==undefined){if(this.duration_>0){a.animate({rotation:0,duration:this.duration_,easing:ol.easing.easeOut})}else {a.setRotation(0)}}};ol.control.Rotate.render=function(e){var c=e.frameState;if(!c){return}var a=c.viewState.rotation;if(a!=this.rotation_){var b='rotate('+a+'rad)';if(this.autoHide_){var d=this.element.classList.contains(ol.css.CLASS_HIDDEN);if(!d&&a===0){this.element.classList.add(ol.css.CLASS_HIDDEN)}else {if(d&&a!==0){this.element.classList.remove(ol.css.CLASS_HIDDEN)}}}this.label_.style.msTransform=b;this.label_.style.webkitTransform=b;this.label_.style.transform=b}this.rotation_=a};goog.provide('ol.control.Zoom');goog.require('ol');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.control.Control');goog.require('ol.css');goog.require('ol.easing');ol.control.Zoom=function(h){var a=h?h:{};var g=a.className!==undefined?a.className:'ol-zoom';var i=a.delta!==undefined?a.delta:1;var f=a.zoomInLabel!==undefined?a.zoomInLabel:'+';var e=a.zoomOutLabel!==undefined?a.zoomOutLabel:'−';var k=a.zoomInTipLabel!==undefined?a.zoomInTipLabel:'Zoom in';var j=a.zoomOutTipLabel!==undefined?a.zoomOutTipLabel:'Zoom out';var c=document.createElement('button');c.className=g+'-in';c.setAttribute('type','button');c.title=k;c.appendChild(typeof f==='string'?document.createTextNode(f):f);ol.events.listen(c,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,i));var b=document.createElement('button');b.className=g+'-out';b.setAttribute('type','button');b.title=j;b.appendChild(typeof e==='string'?document.createTextNode(e):e);ol.events.listen(b,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,-i));var l=g+' '+ol.css.CLASS_UNSELECTABLE+' '+ol.css.CLASS_CONTROL;var d=document.createElement('div');d.className=l;d.appendChild(c);d.appendChild(b);ol.control.Control.call(this,{element:d,target:a.target});this.duration_=a.duration!==undefined?a.duration:250};ol.inherits(ol.control.Zoom,ol.control.Control);ol.control.Zoom.prototype.handleClick_=function(a,b){b.preventDefault();this.zoomByDelta_(a)};ol.control.Zoom.prototype.zoomByDelta_=function(d){var e=this.getMap();var a=e.getView();if(!a){return}var b=a.getResolution();if(b){var c=a.constrainResolution(b,d);if(this.duration_>0){if(a.getAnimating()){a.cancelAnimations()}a.animate({resolution:c,duration:this.duration_,easing:ol.easing.easeOut})}else {a.setResolution(c)}}};goog.provide('ol.control');goog.require('ol.Collection');goog.require('ol.control.Attribution');goog.require('ol.control.Rotate');goog.require('ol.control.Zoom');ol.control.defaults=function(c){var a=c?c:{};var b=new ol.Collection();var f=a.zoom!==undefined?a.zoom:!0;if(f){b.push(new ol.control.Zoom(a.zoomOptions))}var e=a.rotate!==undefined?a.rotate:!0;if(e){b.push(new ol.control.Rotate(a.rotateOptions))}var d=a.attribution!==undefined?a.attribution:!0;if(d){b.push(new ol.control.Attribution(a.attributionOptions))}return b};goog.provide('ol.Kinetic');ol.Kinetic=function(b,a,c){this.decay_=b;this.minVelocity_=a;this.delay_=c;this.points_=[];this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.begin=function(){this.points_.length=0;this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.update=function(a,b){this.points_.push(a,b,Date.now())};ol.Kinetic.prototype.end=function(){if(this.points_.length<6){return !1}var f=Date.now()-this.delay_;var b=this.points_.length-3;if(this.points_[b+2]<f){return !1}var a=b-3;while(a>0&&this.points_[a+2]>f){a-=3}var e=this.points_[b+2]-this.points_[a+2];if(e<1000/60){return !1}var c=this.points_[b]-this.points_[a];var d=this.points_[b+1]-this.points_[a+1];this.angle_=Math.atan2(d,c);this.initialVelocity_=Math.sqrt(c*c+d*d)/e;return this.initialVelocity_>this.minVelocity_};ol.Kinetic.prototype.getDistance=function(){return (this.minVelocity_-this.initialVelocity_)/this.decay_};ol.Kinetic.prototype.getAngle=function(){return this.angle_};goog.provide('ol.interaction.Property');ol.interaction.Property={ACTIVE:'active'};goog.provide('ol.interaction.Interaction');goog.require('ol');goog.require('ol.Object');goog.require('ol.easing');goog.require('ol.interaction.Property');goog.require('ol.math');ol.interaction.Interaction=function(a){ol.Object.call(this);this.map_=null;this.setActive(!0);this.handleEvent=a.handleEvent};ol.inherits(ol.interaction.Interaction,ol.Object);ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.Property.ACTIVE)};ol.interaction.Interaction.prototype.getMap=function(){return this.map_};ol.interaction.Interaction.prototype.setActive=function(a){this.set(ol.interaction.Property.ACTIVE,a)};ol.interaction.Interaction.prototype.setMap=function(a){this.map_=a};ol.interaction.Interaction.pan=function(a,e,c){var b=a.getCenter();if(b){var d=a.constrainCenter([b[0]+e[0],b[1]+e[1]]);if(c){a.animate({duration:c,easing:ol.easing.linear,center:d})}else {a.setCenter(d)}}};ol.interaction.Interaction.rotate=function(b,a,d,c){a=b.constrainRotation(a,0);ol.interaction.Interaction.rotateWithoutConstraints(b,a,d,c)};ol.interaction.Interaction.rotateWithoutConstraints=function(a,b,d,c){if(b!==undefined){var e=a.getRotation();var f=a.getCenter();if(e!==undefined&&f&&c>0){a.animate({rotation:b,anchor:d,duration:c,easing:ol.easing.easeOut})}else {a.rotate(b,d)}}};ol.interaction.Interaction.zoom=function(b,a,e,d,c){a=b.constrainResolution(a,0,c);ol.interaction.Interaction.zoomWithoutConstraints(b,a,e,d)};ol.interaction.Interaction.zoomByDelta=function(b,i,d,h){var c=b.getResolution();var a=b.constrainResolution(c,i,0);if(a!==undefined){var f=b.getResolutions();a=ol.math.clamp(a,b.getMinResolution()||f[f.length-1],b.getMaxResolution()||f[0])}if(d&&a!==undefined&&a!==c){var g=b.getCenter();var e=b.calculateCenterZoom(a,d);e=b.constrainCenter(e);d=[(a*g[0]-c*e[0])/(a-c),(a*g[1]-c*e[1])/(a-c)]}ol.interaction.Interaction.zoomWithoutConstraints(b,a,d,h)};ol.interaction.Interaction.zoomWithoutConstraints=function(a,b,c,e){if(b){var d=a.getResolution();var f=a.getCenter();if(d!==undefined&&f&&b!==d&&e){a.animate({resolution:b,anchor:c,duration:e,easing:ol.easing.easeOut})}else {if(c){var g=a.calculateCenterZoom(b,c);a.setCenter(g)}a.setResolution(b)}}};goog.provide('ol.interaction.DoubleClickZoom');goog.require('ol');goog.require('ol.MapBrowserEventType');goog.require('ol.interaction.Interaction');ol.interaction.DoubleClickZoom=function(b){var a=b?b:{};this.delta_=a.delta?a.delta:1;ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent});this.duration_=a.duration!==undefined?a.duration:250};ol.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction);ol.interaction.DoubleClickZoom.handleEvent=function(a){var b=!1;var c=a.originalEvent;if(a.type==ol.MapBrowserEventType.DBLCLICK){var g=a.map;var d=a.coordinate;var e=c.shiftKey?-this.delta_:this.delta_;var f=g.getView();ol.interaction.Interaction.zoomByDelta(f,e,d,this.duration_);a.preventDefault();b=!0}return !b};goog.provide('ol.events.condition');goog.require('ol.MapBrowserEventType');goog.require('ol.asserts');goog.require('ol.functions');goog.require('ol.has');ol.events.condition.altKeyOnly=function(b){var a=b.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey};ol.events.condition.altShiftKeysOnly=function(b){var a=b.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey};ol.events.condition.always=ol.functions.TRUE;ol.events.condition.click=function(a){return a.type==ol.MapBrowserEventType.CLICK};ol.events.condition.mouseActionButton=function(b){var a=b.originalEvent;return a.button==0&&!(ol.has.WEBKIT&&ol.has.MAC&&a.ctrlKey)};ol.events.condition.never=ol.functions.FALSE;ol.events.condition.pointerMove=function(a){return a.type=='pointermove'};ol.events.condition.singleClick=function(a){return a.type==ol.MapBrowserEventType.SINGLECLICK};ol.events.condition.doubleClick=function(a){return a.type==ol.MapBrowserEventType.DBLCLICK};ol.events.condition.noModifierKeys=function(b){var a=b.originalEvent;return !a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey};ol.events.condition.platformModifierKeyOnly=function(b){var a=b.originalEvent;return !a.altKey&&(ol.has.MAC?a.metaKey:a.ctrlKey)&&!a.shiftKey};ol.events.condition.shiftKeyOnly=function(b){var a=b.originalEvent;return !a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey};ol.events.condition.targetNotEditable=function(b){var c=b.originalEvent.target;var a=c.tagName;return a!=='INPUT'&&a!=='SELECT'&&a!=='TEXTAREA'};ol.events.condition.mouseOnly=function(a){ol.asserts.assert(a.pointerEvent,56);return a.pointerEvent.pointerType=='mouse'};ol.events.condition.primaryAction=function(b){var a=b.pointerEvent;return a.isPrimary&&a.button===0};goog.provide('ol.interaction.Pointer');goog.require('ol');goog.require('ol.functions');goog.require('ol.MapBrowserEventType');goog.require('ol.MapBrowserPointerEvent');goog.require('ol.interaction.Interaction');goog.require('ol.obj');ol.interaction.Pointer=function(b){var a=b?b:{};var c=a.handleEvent?a.handleEvent:ol.interaction.Pointer.handleEvent;ol.interaction.Interaction.call(this,{handleEvent:c});this.handleDownEvent_=a.handleDownEvent?a.handleDownEvent:ol.interaction.Pointer.handleDownEvent;this.handleDragEvent_=a.handleDragEvent?a.handleDragEvent:ol.interaction.Pointer.handleDragEvent;this.handleMoveEvent_=a.handleMoveEvent?a.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent;this.handleUpEvent_=a.handleUpEvent?a.handleUpEvent:ol.interaction.Pointer.handleUpEvent;this.handlingDownUpSequence=!1;this.trackedPointers_={};this.targetPointers=[]};ol.inherits(ol.interaction.Pointer,ol.interaction.Interaction);ol.interaction.Pointer.centroid=function(b){var c=b.length;var d=0;var e=0;for(var a=0;a<c;a++){d+=b[a].clientX;e+=b[a].clientY}return [d/c,e/c]};ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(b){var a=b.type;return a===ol.MapBrowserEventType.POINTERDOWN||a===ol.MapBrowserEventType.POINTERDRAG||a===ol.MapBrowserEventType.POINTERUP};ol.interaction.Pointer.prototype.updateTrackedPointers_=function(a){if(this.isPointerDraggingEvent_(a)){var c=a.pointerEvent;var b=c.pointerId.toString();if(a.type==ol.MapBrowserEventType.POINTERUP){delete this.trackedPointers_[b]}else {if(a.type==ol.MapBrowserEventType.POINTERDOWN){this.trackedPointers_[b]=c}else {if(b in this.trackedPointers_){this.trackedPointers_[b]=c}}}this.targetPointers=ol.obj.getValues(this.trackedPointers_)}};ol.interaction.Pointer.handleDragEvent=ol.nullFunction;ol.interaction.Pointer.handleUpEvent=ol.functions.FALSE;ol.interaction.Pointer.handleDownEvent=ol.functions.FALSE;ol.interaction.Pointer.handleMoveEvent=ol.nullFunction;ol.interaction.Pointer.handleEvent=function(a){if(!(a instanceof ol.MapBrowserPointerEvent)){return !0}var b=!1;this.updateTrackedPointers_(a);if(this.handlingDownUpSequence){if(a.type==ol.MapBrowserEventType.POINTERDRAG){this.handleDragEvent_(a)}else {if(a.type==ol.MapBrowserEventType.POINTERUP){var d=this.handleUpEvent_(a);this.handlingDownUpSequence=d&&this.targetPointers.length>0}}}else {if(a.type==ol.MapBrowserEventType.POINTERDOWN){var c=this.handleDownEvent_(a);this.handlingDownUpSequence=c;b=this.shouldStopEvent(c)}else {if(a.type==ol.MapBrowserEventType.POINTERMOVE){this.handleMoveEvent_(a)}}}return !b};ol.interaction.Pointer.prototype.shouldStopEvent=function(a){return a};goog.provide('ol.interaction.DragPan');goog.require('ol');goog.require('ol.ViewHint');goog.require('ol.coordinate');goog.require('ol.easing');goog.require('ol.events.condition');goog.require('ol.functions');goog.require('ol.interaction.Pointer');ol.interaction.DragPan=function(b){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});var a=b?b:{};this.kinetic_=a.kinetic;this.lastCentroid=null;this.lastPointersCount_;this.condition_=a.condition?a.condition:ol.events.condition.noModifierKeys;this.noKinetic_=!1};ol.inherits(ol.interaction.DragPan,ol.interaction.Pointer);ol.interaction.DragPan.handleDragEvent_=function(f){var c=this.targetPointers;var b=ol.interaction.Pointer.centroid(c);if(c.length==this.lastPointersCount_){if(this.kinetic_){this.kinetic_.update(b[0],b[1])}if(this.lastCentroid){var g=this.lastCentroid[0]-b[0];var h=b[1]-this.lastCentroid[1];var i=f.map;var e=i.getView();var d=e.getState();var a=[g,h];ol.coordinate.scale(a,d.resolution);ol.coordinate.rotate(a,d.rotation);ol.coordinate.add(a,d.center);a=e.constrainCenter(a);e.setCenter(a)}}else {if(this.kinetic_){this.kinetic_.begin()}}this.lastCentroid=b;this.lastPointersCount_=c.length};ol.interaction.DragPan.handleUpEvent_=function(f){var b=f.map;var a=b.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var d=this.kinetic_.getDistance();var e=this.kinetic_.getAngle();var g=a.getCenter();var c=b.getPixelFromCoordinate(g);var h=b.getCoordinateFromPixel([c[0]-d*Math.cos(e),c[1]-d*Math.sin(e)]);a.animate({center:a.constrainCenter(h),duration:500,easing:ol.easing.easeOut})}a.setHint(ol.ViewHint.INTERACTING,-1);return !1}else {if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=null;return !0}};ol.interaction.DragPan.handleDownEvent_=function(a){if(this.targetPointers.length>0&&this.condition_(a)){var c=a.map;var b=c.getView();this.lastCentroid=null;if(!this.handlingDownUpSequence){b.setHint(ol.ViewHint.INTERACTING,1)}if(b.getAnimating()){b.setCenter(a.frameState.viewState.center)}if(this.kinetic_){this.kinetic_.begin()}this.noKinetic_=this.targetPointers.length>1;return !0}else {return !1}};ol.interaction.DragPan.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide('ol.interaction.DragRotate');goog.require('ol');goog.require('ol.RotationConstraint');goog.require('ol.ViewHint');goog.require('ol.events.condition');goog.require('ol.functions');goog.require('ol.interaction.Interaction');goog.require('ol.interaction.Pointer');ol.interaction.DragRotate=function(b){var a=b?b:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_});this.condition_=a.condition?a.condition:ol.events.condition.altShiftKeysOnly;this.lastAngle_=undefined;this.duration_=a.duration!==undefined?a.duration:250};ol.inherits(ol.interaction.DragRotate,ol.interaction.Pointer);ol.interaction.DragRotate.handleDragEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return}var f=a.map;var b=f.getView();if(b.getConstraints().rotation===ol.RotationConstraint.disable){return}var e=f.getSize();var c=a.pixel;var d=Math.atan2(e[1]/2-c[1],c[0]-e[0]/2);if(this.lastAngle_!==undefined){var h=d-this.lastAngle_;var g=b.getRotation();ol.interaction.Interaction.rotateWithoutConstraints(b,g-h)}this.lastAngle_=d};ol.interaction.DragRotate.handleUpEvent_=function(b){if(!ol.events.condition.mouseOnly(b)){return !0}var d=b.map;var a=d.getView();a.setHint(ol.ViewHint.INTERACTING,-1);var c=a.getRotation();ol.interaction.Interaction.rotate(a,c,undefined,this.duration_);return !1};ol.interaction.DragRotate.handleDownEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return !1}if(ol.events.condition.mouseActionButton(a)&&this.condition_(a)){var b=a.map;b.getView().setHint(ol.ViewHint.INTERACTING,1);this.lastAngle_=undefined;return !0}else {return !1}};ol.interaction.DragRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide('ol.render.Box');goog.require('ol');goog.require('ol.Disposable');goog.require('ol.geom.Polygon');ol.render.Box=function(a){this.geometry_=null;this.element_=document.createElement('div');this.element_.style.position='absolute';this.element_.className='ol-box '+a;this.map_=null;this.startPixel_=null;this.endPixel_=null};ol.inherits(ol.render.Box,ol.Disposable);ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)};ol.render.Box.prototype.render_=function(){var a=this.startPixel_;var b=this.endPixel_;var d='px';var c=this.element_.style;c.left=Math.min(a[0],b[0])+d;c.top=Math.min(a[1],b[1])+d;c.width=Math.abs(b[0]-a[0])+d;c.height=Math.abs(b[1]-a[1])+d};ol.render.Box.prototype.setMap=function(b){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var a=this.element_.style;a.left=a.top=a.width=a.height='inherit'}this.map_=b;if(this.map_){this.map_.getOverlayContainer().appendChild(this.element_)}};ol.render.Box.prototype.setPixels=function(a,b){this.startPixel_=a;this.endPixel_=b;this.createOrUpdateGeometry();this.render_()};ol.render.Box.prototype.createOrUpdateGeometry=function(){var b=this.startPixel_;var c=this.endPixel_;var d=[b,[b[0],c[1]],c,[c[0],b[1]]];var a=d.map(this.map_.getCoordinateFromPixel,this.map_);a[4]=a[0].slice();if(!this.geometry_){this.geometry_=new ol.geom.Polygon([a])}else {this.geometry_.setCoordinates([a])}};ol.render.Box.prototype.getGeometry=function(){return this.geometry_};goog.provide('ol.interaction.DragBox');goog.require('ol.events.Event');goog.require('ol');goog.require('ol.events.condition');goog.require('ol.interaction.Pointer');goog.require('ol.render.Box');ol.interaction.DragBox=function(b){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});var a=b?b:{};this.box_=new ol.render.Box(a.className||'ol-dragbox');this.minArea_=a.minArea!==undefined?a.minArea:64;this.startPixel_=null;this.condition_=a.condition?a.condition:ol.events.condition.always;this.boxEndCondition_=a.boxEndCondition?a.boxEndCondition:ol.interaction.DragBox.defaultBoxEndCondition};ol.inherits(ol.interaction.DragBox,ol.interaction.Pointer);ol.interaction.DragBox.defaultBoxEndCondition=function(e,a,b){var d=b[0]-a[0];var c=b[1]-a[1];return d*d+c*c>=this.minArea_};ol.interaction.DragBox.handleDragEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return}this.box_.setPixels(this.startPixel_,a.pixel);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXDRAG,a.coordinate,a))};ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()};ol.interaction.DragBox.prototype.onBoxEnd=ol.nullFunction;ol.interaction.DragBox.handleUpEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return !0}this.box_.setMap(null);if(this.boxEndCondition_(a,this.startPixel_,a.pixel)){this.onBoxEnd(a);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXEND,a.coordinate,a))}return !1};ol.interaction.DragBox.handleDownEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return !1}if(ol.events.condition.mouseActionButton(a)&&this.condition_(a)){this.startPixel_=a.pixel;this.box_.setMap(a.map);this.box_.setPixels(this.startPixel_,this.startPixel_);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXSTART,a.coordinate,a));return !0}else {return !1}};ol.interaction.DragBox.EventType_={BOXSTART:'boxstart',BOXDRAG:'boxdrag',BOXEND:'boxend'};ol.interaction.DragBox.Event=function(c,b,a){ol.events.Event.call(this,c);this.coordinate=b;this.mapBrowserEvent=a};ol.inherits(ol.interaction.DragBox.Event,ol.events.Event);goog.provide('ol.interaction.DragZoom');goog.require('ol');goog.require('ol.easing');goog.require('ol.events.condition');goog.require('ol.extent');goog.require('ol.interaction.DragBox');ol.interaction.DragZoom=function(b){var a=b?b:{};var c=a.condition?a.condition:ol.events.condition.shiftKeyOnly;this.duration_=a.duration!==undefined?a.duration:200;this.out_=a.out!==undefined?a.out:!1;ol.interaction.DragBox.call(this,{condition:c,className:a.className||'ol-dragzoom'})};ol.inherits(ol.interaction.DragZoom,ol.interaction.DragBox);ol.interaction.DragZoom.prototype.onBoxEnd=function(){var c=this.getMap();var a=c.getView();var e=c.getSize();var b=this.getGeometry().getExtent();if(this.out_){var f=a.calculateExtent(e);var g=ol.extent.createOrUpdateFromCoordinates([c.getPixelFromCoordinate(ol.extent.getBottomLeft(b)),c.getPixelFromCoordinate(ol.extent.getTopRight(b))]);var i=a.getResolutionForExtent(g,e);ol.extent.scaleFromCenter(f,1/i);b=f}var h=a.constrainResolution(a.getResolutionForExtent(b,e));var d=ol.extent.getCenter(b);d=a.constrainCenter(d);a.animate({resolution:h,center:d,duration:this.duration_,easing:ol.easing.easeOut})};goog.provide('ol.events.KeyCode');ol.events.KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40};goog.provide('ol.interaction.KeyboardPan');goog.require('ol');goog.require('ol.coordinate');goog.require('ol.events.EventType');goog.require('ol.events.KeyCode');goog.require('ol.events.condition');goog.require('ol.interaction.Interaction');ol.interaction.KeyboardPan=function(b){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardPan.handleEvent});var a=b||{};this.defaultCondition_=function(a){return ol.events.condition.noModifierKeys(a)&&ol.events.condition.targetNotEditable(a)};this.condition_=a.condition!==undefined?a.condition:this.defaultCondition_;this.duration_=a.duration!==undefined?a.duration:100;this.pixelDelta_=a.pixelDelta!==undefined?a.pixelDelta:128};ol.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction);ol.interaction.KeyboardPan.handleEvent=function(b){var g=!1;if(b.type==ol.events.EventType.KEYDOWN){var i=b.originalEvent;var a=i.keyCode;if(this.condition_(b)&&(a==ol.events.KeyCode.DOWN||a==ol.events.KeyCode.LEFT||a==ol.events.KeyCode.RIGHT||a==ol.events.KeyCode.UP)){var j=b.map;var f=j.getView();var c=f.getResolution()*this.pixelDelta_;var d=0,e=0;if(a==ol.events.KeyCode.DOWN){e=-c}else {if(a==ol.events.KeyCode.LEFT){d=-c}else {if(a==ol.events.KeyCode.RIGHT){d=c}else {e=c}}}var h=[d,e];ol.coordinate.rotate(h,f.getRotation());ol.interaction.Interaction.pan(f,h,this.duration_);b.preventDefault();g=!0}}return !g};goog.provide('ol.interaction.KeyboardZoom');goog.require('ol');goog.require('ol.events.EventType');goog.require('ol.events.condition');goog.require('ol.interaction.Interaction');ol.interaction.KeyboardZoom=function(b){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});var a=b?b:{};this.condition_=a.condition?a.condition:ol.events.condition.targetNotEditable;this.delta_=a.delta?a.delta:1;this.duration_=a.duration!==undefined?a.duration:100};ol.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction);ol.interaction.KeyboardZoom.handleEvent=function(a){var c=!1;if(a.type==ol.events.EventType.KEYDOWN||a.type==ol.events.EventType.KEYPRESS){var d=a.originalEvent;var b=d.charCode;if(this.condition_(a)&&(b=='+'.charCodeAt(0)||b=='-'.charCodeAt(0))){var g=a.map;var e=b=='+'.charCodeAt(0)?this.delta_:-this.delta_;var f=g.getView();ol.interaction.Interaction.zoomByDelta(f,e,undefined,this.duration_);a.preventDefault();c=!0}}return !c};goog.provide('ol.interaction.MouseWheelZoom');goog.require('ol');goog.require('ol.ViewHint');goog.require('ol.easing');goog.require('ol.events.EventType');goog.require('ol.has');goog.require('ol.interaction.Interaction');goog.require('ol.math');ol.interaction.MouseWheelZoom=function(b){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});var a=b||{};this.delta_=0;this.duration_=a.duration!==undefined?a.duration:250;this.timeout_=a.timeout!==undefined?a.timeout:80;this.useAnchor_=a.useAnchor!==undefined?a.useAnchor:!0;this.constrainResolution_=a.constrainResolution||!1;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined;this.mode_=undefined;this.trackpadEventGap_=400;this.trackpadTimeoutId_=undefined;this.trackpadDeltaPerZoom_=300;this.trackpadZoomBuffer_=1.5};ol.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction);ol.interaction.MouseWheelZoom.handleEvent=function(d){var j=d.type;if(j!==ol.events.EventType.WHEEL&&j!==ol.events.EventType.MOUSEWHEEL){return !0}d.preventDefault();var k=d.map;var f=d.originalEvent;if(this.useAnchor_){this.lastAnchor_=d.coordinate}var b;if(d.type==ol.events.EventType.WHEEL){b=f.deltaY;if(ol.has.FIREFOX&&f.deltaMode===WheelEvent.DOM_DELTA_PIXEL){b/=ol.has.DEVICE_PIXEL_RATIO}if(f.deltaMode===WheelEvent.DOM_DELTA_LINE){b*=40}}else {if(d.type==ol.events.EventType.MOUSEWHEEL){b=-f.wheelDeltaY;if(ol.has.SAFARI){b/=3}}}if(b===0){return !1}var g=Date.now();if(this.startTime_===undefined){this.startTime_=g}if(!this.mode_||g-this.startTime_>this.trackpadEventGap_){this.mode_=Math.abs(b)<4?ol.interaction.MouseWheelZoom.Mode_.TRACKPAD:ol.interaction.MouseWheelZoom.Mode_.WHEEL}if(this.mode_===ol.interaction.MouseWheelZoom.Mode_.TRACKPAD){var a=k.getView();if(this.trackpadTimeoutId_){clearTimeout(this.trackpadTimeoutId_)}else {a.setHint(ol.ViewHint.INTERACTING,1)}this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var c=a.getResolution()*Math.pow(2,b/this.trackpadDeltaPerZoom_);var i=a.getMinResolution();var h=a.getMaxResolution();var e=0;if(c<i){c=Math.max(c,i/this.trackpadZoomBuffer_);e=1}else {if(c>h){c=Math.min(c,h*this.trackpadZoomBuffer_);e=-1}}if(this.lastAnchor_){var m=a.calculateCenterZoom(c,this.lastAnchor_);a.setCenter(a.constrainCenter(m))}a.setResolution(c);if(e===0&&this.constrainResolution_){a.animate({resolution:a.constrainResolution(c,b>0?-1:1),easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:this.duration_})}if(e>0){a.animate({resolution:i,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500})}else {if(e<0){a.animate({resolution:h,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500})}}this.startTime_=g;return !1}this.delta_+=b;var l=Math.max(this.timeout_-(g-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,k),l);return !1};ol.interaction.MouseWheelZoom.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=undefined;var a=this.getMap().getView();a.setHint(ol.ViewHint.INTERACTING,-1)};ol.interaction.MouseWheelZoom.prototype.handleWheelZoom_=function(d){var a=d.getView();if(a.getAnimating()){a.cancelAnimations()}var b=ol.MOUSEWHEELZOOM_MAXDELTA;var c=ol.math.clamp(this.delta_,-b,b);ol.interaction.Interaction.zoomByDelta(a,-c,this.lastAnchor_,this.duration_);this.mode_=undefined;this.delta_=0;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined};ol.interaction.MouseWheelZoom.prototype.setMouseAnchor=function(a){this.useAnchor_=a;if(!a){this.lastAnchor_=null}};ol.interaction.MouseWheelZoom.Mode_={TRACKPAD:'trackpad',WHEEL:'wheel'};goog.provide('ol.interaction.PinchRotate');goog.require('ol');goog.require('ol.ViewHint');goog.require('ol.functions');goog.require('ol.interaction.Interaction');goog.require('ol.interaction.Pointer');goog.require('ol.RotationConstraint');ol.interaction.PinchRotate=function(b){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});var a=b||{};this.anchor_=null;this.lastAngle_=undefined;this.rotating_=!1;this.rotationDelta_=0;this.threshold_=a.threshold!==undefined?a.threshold:0.3;this.duration_=a.duration!==undefined?a.duration:250};ol.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer);ol.interaction.PinchRotate.handleDragEvent_=function(j){var e=0;var f=this.targetPointers[0];var g=this.targetPointers[1];var h=Math.atan2(g.clientY-f.clientY,g.clientX-f.clientX);if(this.lastAngle_!==undefined){var i=h-this.lastAngle_;this.rotationDelta_+=i;if(!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_){this.rotating_=!0}e=i}this.lastAngle_=h;var a=j.map;var c=a.getView();if(c.getConstraints().rotation===ol.RotationConstraint.disable){return}var d=a.getViewport().getBoundingClientRect();var b=ol.interaction.Pointer.centroid(this.targetPointers);b[0]-=d.left;b[1]-=d.top;this.anchor_=a.getCoordinateFromPixel(b);if(this.rotating_){var k=c.getRotation();a.render();ol.interaction.Interaction.rotateWithoutConstraints(c,k+e,this.anchor_)}};ol.interaction.PinchRotate.handleUpEvent_=function(b){if(this.targetPointers.length<2){var d=b.map;var a=d.getView();a.setHint(ol.ViewHint.INTERACTING,-1);if(this.rotating_){var c=a.getRotation();ol.interaction.Interaction.rotate(a,c,this.anchor_,this.duration_)}return !1}else {return !0}};ol.interaction.PinchRotate.handleDownEvent_=function(a){if(this.targetPointers.length>=2){var b=a.map;this.anchor_=null;this.lastAngle_=undefined;this.rotating_=!1;this.rotationDelta_=0;if(!this.handlingDownUpSequence){b.getView().setHint(ol.ViewHint.INTERACTING,1)}return !0}else {return !1}};ol.interaction.PinchRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide('ol.interaction.PinchZoom');goog.require('ol');goog.require('ol.ViewHint');goog.require('ol.functions');goog.require('ol.interaction.Interaction');goog.require('ol.interaction.Pointer');ol.interaction.PinchZoom=function(b){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});var a=b?b:{};this.constrainResolution_=a.constrainResolution||!1;this.anchor_=null;this.duration_=a.duration!==undefined?a.duration:400;this.lastDistance_=undefined;this.lastScaleDelta_=1};ol.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer);ol.interaction.PinchZoom.handleDragEvent_=function(o){var a=1;var k=this.targetPointers[0];var l=this.targetPointers[1];var m=k.clientX-l.clientX;var n=k.clientY-l.clientY;var j=Math.sqrt(m*m+n*n);if(this.lastDistance_!==undefined){a=this.lastDistance_/j}this.lastDistance_=j;var d=o.map;var c=d.getView();var g=c.getResolution();var e=c.getMaxResolution();var f=c.getMinResolution();var b=g*a;if(b>e){a=e/g;b=e}else {if(b<f){a=f/g;b=f}}if(a!=1){this.lastScaleDelta_=a}var i=d.getViewport().getBoundingClientRect();var h=ol.interaction.Pointer.centroid(this.targetPointers);h[0]-=i.left;h[1]-=i.top;this.anchor_=d.getCoordinateFromPixel(h);d.render();ol.interaction.Interaction.zoomWithoutConstraints(c,b,this.anchor_)};ol.interaction.PinchZoom.handleUpEvent_=function(c){if(this.targetPointers.length<2){var e=c.map;var a=e.getView();a.setHint(ol.ViewHint.INTERACTING,-1);var b=a.getResolution();if(this.constrainResolution_||b<a.getMinResolution()||b>a.getMaxResolution()){var d=this.lastScaleDelta_-1;ol.interaction.Interaction.zoom(a,b,this.anchor_,this.duration_,d)}return !1}else {return !0}};ol.interaction.PinchZoom.handleDownEvent_=function(a){if(this.targetPointers.length>=2){var b=a.map;this.anchor_=null;this.lastDistance_=undefined;this.lastScaleDelta_=1;if(!this.handlingDownUpSequence){b.getView().setHint(ol.ViewHint.INTERACTING,1)}return !0}else {return !1}};ol.interaction.PinchZoom.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide('ol.interaction');goog.require('ol.Collection');goog.require('ol.Kinetic');goog.require('ol.interaction.DoubleClickZoom');goog.require('ol.interaction.DragPan');goog.require('ol.interaction.DragRotate');goog.require('ol.interaction.DragZoom');goog.require('ol.interaction.KeyboardPan');goog.require('ol.interaction.KeyboardZoom');goog.require('ol.interaction.MouseWheelZoom');goog.require('ol.interaction.PinchRotate');goog.require('ol.interaction.PinchZoom');ol.interaction.defaults=function(c){var a=c?c:{};var b=new ol.Collection();var l=new ol.Kinetic(-0.005,0.05,100);var d=a.altShiftDragRotate!==undefined?a.altShiftDragRotate:!0;if(d){b.push(new ol.interaction.DragRotate())}var e=a.doubleClickZoom!==undefined?a.doubleClickZoom:!0;if(e){b.push(new ol.interaction.DoubleClickZoom({delta:a.zoomDelta,duration:a.zoomDuration}))}var k=a.dragPan!==undefined?a.dragPan:!0;if(k){b.push(new ol.interaction.DragPan({kinetic:l}))}var h=a.pinchRotate!==undefined?a.pinchRotate:!0;if(h){b.push(new ol.interaction.PinchRotate())}var i=a.pinchZoom!==undefined?a.pinchZoom:!0;if(i){b.push(new ol.interaction.PinchZoom({constrainResolution:a.constrainResolution,duration:a.zoomDuration}))}var j=a.keyboard!==undefined?a.keyboard:!0;if(j){b.push(new ol.interaction.KeyboardPan());b.push(new ol.interaction.KeyboardZoom({delta:a.zoomDelta,duration:a.zoomDuration}))}var f=a.mouseWheelZoom!==undefined?a.mouseWheelZoom:!0;if(f){b.push(new ol.interaction.MouseWheelZoom({constrainResolution:a.constrainResolution,duration:a.zoomDuration}))}var g=a.shiftDragZoom!==undefined?a.shiftDragZoom:!0;if(g){b.push(new ol.interaction.DragZoom({duration:a.zoomDuration}))}return b};goog.provide('ol.ImageBase');goog.require('ol');goog.require('ol.events.EventTarget');goog.require('ol.events.EventType');ol.ImageBase=function(c,b,a,d){ol.events.EventTarget.call(this);this.extent=c;this.pixelRatio_=a;this.resolution=b;this.state=d};ol.inherits(ol.ImageBase,ol.events.EventTarget);ol.ImageBase.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.ImageBase.prototype.getExtent=function(){return this.extent};ol.ImageBase.prototype.getImage=function(){};ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_};ol.ImageBase.prototype.getResolution=function(){return this.resolution};ol.ImageBase.prototype.getState=function(){return this.state};ol.ImageBase.prototype.load=function(){};goog.provide('ol.ImageState');ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3};goog.provide('ol.ImageCanvas');goog.require('ol');goog.require('ol.ImageBase');goog.require('ol.ImageState');ol.ImageCanvas=function(e,c,b,d,a){this.loader_=a!==undefined?a:null;var f=a!==undefined?ol.ImageState.IDLE:ol.ImageState.LOADED;ol.ImageBase.call(this,e,c,b,f);this.canvas_=d;this.error_=null};ol.inherits(ol.ImageCanvas,ol.ImageBase);ol.ImageCanvas.prototype.getError=function(){return this.error_};ol.ImageCanvas.prototype.handleLoad_=function(a){if(a){this.error_=a;this.state=ol.ImageState.ERROR}else {this.state=ol.ImageState.LOADED}this.changed()};ol.ImageCanvas.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();this.loader_(this.handleLoad_.bind(this))}};ol.ImageCanvas.prototype.getImage=function(){return this.canvas_};goog.provide('ol.LayerType');ol.LayerType={IMAGE:'IMAGE',TILE:'TILE',VECTOR_TILE:'VECTOR_TILE',VECTOR:'VECTOR'};goog.provide('ol.layer.VectorRenderType');ol.layer.VectorRenderType={IMAGE:'image',VECTOR:'vector'};goog.provide('ol.render.Event');goog.require('ol');goog.require('ol.events.Event');ol.render.Event=function(e,a,b,d,c){ol.events.Event.call(this,e);this.vectorContext=a;this.frameState=b;this.context=d;this.glContext=c};ol.inherits(ol.render.Event,ol.events.Event);goog.provide('ol.structs.LRUCache');goog.require('ol');goog.require('ol.asserts');goog.require('ol.events.EventTarget');goog.require('ol.events.EventType');ol.structs.LRUCache=function(a){ol.events.EventTarget.call(this);this.highWaterMark=a!==undefined?a:2048;this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null};ol.inherits(ol.structs.LRUCache,ol.events.EventTarget);ol.structs.LRUCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark};ol.structs.LRUCache.prototype.clear=function(){this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null;this.dispatchEvent(ol.events.EventType.CLEAR)};ol.structs.LRUCache.prototype.containsKey=function(a){return this.entries_.hasOwnProperty(a)};ol.structs.LRUCache.prototype.forEach=function(c,b){var a=this.oldest_;while(a){c.call(b,a.value_,a.key_,this);a=a.newer}};ol.structs.LRUCache.prototype.get=function(b){var a=this.entries_[b];ol.asserts.assert(a!==undefined,15);if(a===this.newest_){return a.value_}else {if(a===this.oldest_){this.oldest_=this.oldest_.newer;this.oldest_.older=null}else {a.newer.older=a.older;a.older.newer=a.newer}}a.newer=null;a.older=this.newest_;this.newest_.newer=a;this.newest_=a;return a.value_};ol.structs.LRUCache.prototype.remove=function(b){var a=this.entries_[b];ol.asserts.assert(a!==undefined,15);if(a===this.newest_){this.newest_=a.older;if(this.newest_){this.newest_.newer=null}}else {if(a===this.oldest_){this.oldest_=a.newer;if(this.oldest_){this.oldest_.older=null}}else {a.newer.older=a.older;a.older.newer=a.newer}}delete this.entries_[b];--this.count_;return a.value_};ol.structs.LRUCache.prototype.getCount=function(){return this.count_};ol.structs.LRUCache.prototype.getKeys=function(){var b=new Array(this.count_);var c=0;var a;for(a=this.newest_;a;a=a.older){b[c++]=a.key_}return b};ol.structs.LRUCache.prototype.getValues=function(){var b=new Array(this.count_);var c=0;var a;for(a=this.newest_;a;a=a.older){b[c++]=a.value_}return b};ol.structs.LRUCache.prototype.peekLast=function(){return this.oldest_.value_};ol.structs.LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_};ol.structs.LRUCache.prototype.peekFirstKey=function(){return this.newest_.key_};ol.structs.LRUCache.prototype.pop=function(){var a=this.oldest_;delete this.entries_[a.key_];if(a.newer){a.newer.older=null}this.oldest_=a.newer;if(!this.oldest_){this.newest_=null}--this.count_;return a.value_};ol.structs.LRUCache.prototype.replace=function(a,b){this.get(a);this.entries_[a].value_=b};ol.structs.LRUCache.prototype.set=function(b,c){ol.asserts.assert(!(b in this.entries_),16);var a={key_:b,newer:null,older:this.newest_,value_:c};if(!this.newest_){this.oldest_=a}else {this.newest_.newer=a}this.newest_=a;this.entries_[b]=a;++this.count_};ol.structs.LRUCache.prototype.prune=function(){while(this.canExpireCache()){this.pop()}};goog.provide('ol.render.canvas');goog.require('ol.css');goog.require('ol.dom');goog.require('ol.obj');goog.require('ol.structs.LRUCache');goog.require('ol.transform');ol.render.canvas.defaultFont='10px sans-serif';ol.render.canvas.defaultFillStyle=[0,0,0,1];ol.render.canvas.defaultLineCap='round';ol.render.canvas.defaultLineDash=[];ol.render.canvas.defaultLineDashOffset=0;ol.render.canvas.defaultLineJoin='round';ol.render.canvas.defaultMiterLimit=10;ol.render.canvas.defaultStrokeStyle=[0,0,0,1];ol.render.canvas.defaultTextAlign='center';ol.render.canvas.defaultTextBaseline='middle';ol.render.canvas.defaultPadding=[0,0,0,0];ol.render.canvas.defaultLineWidth=1;ol.render.canvas.labelCache=new ol.structs.LRUCache();ol.render.canvas.checkedFonts_={};ol.render.canvas.measureContext_=null;ol.render.canvas.textHeights_={};ol.render.canvas.checkFont=function(){var c=60;var a=ol.render.canvas.checkedFonts_;var f=ol.render.canvas.labelCache;var g='32px monospace';var e='wmytzilWMYTZIL@#/&?$%10';var b,d;function isAvailable(b){var a=ol.render.canvas.getMeasureContext();a.font=g;d=a.measureText(e).width;var c=!0;if(b!='monospace'){a.font='32px '+b+',monospace';var f=a.measureText(e).width;c=f!=d}return c}function check(){var e=!0;for(var d in a){if(a[d]<c){if(isAvailable(d)){a[d]=c;ol.obj.clear(ol.render.canvas.textHeights_);ol.render.canvas.measureContext_=null;f.clear()}else {++a[d];e=!1}}}if(e){window.clearInterval(b);b=undefined}}return function(g){var e=ol.css.getFontFamilies(g);if(!e){return}for(var f=0,h=e.length;f<h;++f){var d=e[f];if(!(d in a)){a[d]=c;if(!isAvailable(d)){a[d]=0;if(b===undefined){b=window.setInterval(check,32)}}}}}}();ol.render.canvas.getMeasureContext=function(){var a=ol.render.canvas.measureContext_;if(!a){a=ol.render.canvas.measureContext_=ol.dom.createCanvasContext2D(1,1)}return a};ol.render.canvas.measureTextHeight=function(){var a;var b=ol.render.canvas.textHeights_;return function(d){var c=b[d];if(c==undefined){if(!a){a=document.createElement('span');a.textContent='M';a.style.margin=a.style.padding='0 !important';a.style.position='absolute !important';a.style.left='-99999px !important'}a.style.font=d;document.body.appendChild(a);c=b[d]=a.offsetHeight;document.body.removeChild(a)}return c}}();ol.render.canvas.measureTextWidth=function(b,c){var a=ol.render.canvas.getMeasureContext();if(b!=a.font){a.font=b}return a.measureText(c).width};ol.render.canvas.rotateAtOffset=function(a,b,c,d){if(b!==0){a.translate(c,d);a.rotate(b);a.translate(-c,-d)}};ol.render.canvas.resetTransform_=ol.transform.create();ol.render.canvas.drawImage=function(a,c,d,j,h,i,g,f,k,l,e){var b;if(d!=1){b=a.globalAlpha;a.globalAlpha=b*d}if(c){a.setTransform.apply(a,c)}a.drawImage(j,h,i,g,f,k,l,g*e,f*e);if(b){a.globalAlpha=b}if(c){a.setTransform.apply(a,ol.render.canvas.resetTransform_)}};goog.provide('ol.color');goog.require('ol.asserts');goog.require('ol.math');ol.color.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3,4}){1,2}$/i;ol.color.NAMED_COLOR_RE_=/^([a-z]*)$/i;ol.color.asArray=function(a){if(Array.isArray(a)){return a}else {return ol.color.fromString(a)}};ol.color.asString=function(a){if(typeof a==='string'){return a}else {return ol.color.toString(a)}};ol.color.fromNamed=function(b){var a=document.createElement('div');a.style.color=b;document.body.appendChild(a);var c=getComputedStyle(a).color;document.body.removeChild(a);return c};ol.color.fromString=function(){var c=1024;var a={};var b=0;return function(e){var d;if(a.hasOwnProperty(e)){d=a[e]}else {if(b>=c){var g=0;var f;for(f in a){if((g++&3)===0){delete a[f];--b}}}d=ol.color.fromStringInternal_(e);a[e]=d;++b}return d}}();ol.color.fromStringInternal_=function(a){var g,f,e,c,h,d;if(ol.color.NAMED_COLOR_RE_.exec(a)){a=ol.color.fromNamed(a)}if(ol.color.HEX_COLOR_RE_.exec(a)){var i=a.length-1;var b;if(i<=4){b=1}else {b=2}var j=i===4||i===8;g=parseInt(a.substr(1+0*b,b),16);f=parseInt(a.substr(1+1*b,b),16);e=parseInt(a.substr(1+2*b,b),16);if(j){c=parseInt(a.substr(1+3*b,b),16)}else {c=255}if(b==1){g=(g<<4)+g;f=(f<<4)+f;e=(e<<4)+e;if(j){c=(c<<4)+c}}h=[g,f,e,c/255]}else {if(a.indexOf('rgba(')==0){d=a.slice(5,-1).split(',').map(Number);h=ol.color.normalize(d)}else {if(a.indexOf('rgb(')==0){d=a.slice(4,-1).split(',').map(Number);d.push(1);h=ol.color.normalize(d)}else {ol.asserts.assert(!1,14)}}}return h};ol.color.normalize=function(b,c){var a=c||[];a[0]=ol.math.clamp(b[0]+0.5|0,0,255);a[1]=ol.math.clamp(b[1]+0.5|0,0,255);a[2]=ol.math.clamp(b[2]+0.5|0,0,255);a[3]=ol.math.clamp(b[3],0,1);return a};ol.color.toString=function(a){var d=a[0];if(d!=(d|0)){d=d+0.5|0}var c=a[1];if(c!=(c|0)){c=c+0.5|0}var b=a[2];if(b!=(b|0)){b=b+0.5|0}var e=a[3]===undefined?1:a[3];return 'rgba('+d+','+c+','+b+','+e+')'};goog.provide('ol.colorlike');goog.require('ol.color');ol.colorlike.asColorLike=function(a){if(ol.colorlike.isColorLike(a)){return a}else {return ol.color.asString(a)}};ol.colorlike.isColorLike=function(a){return typeof a==='string'||a instanceof CanvasPattern||a instanceof CanvasGradient};goog.provide('ol.render.VectorContext');ol.render.VectorContext=function(){};ol.render.VectorContext.prototype.drawCustom=function(a,c,b){};ol.render.VectorContext.prototype.drawGeometry=function(a){};ol.render.VectorContext.prototype.setStyle=function(a){};ol.render.VectorContext.prototype.drawCircle=function(a,b){};ol.render.VectorContext.prototype.drawFeature=function(a,b){};ol.render.VectorContext.prototype.drawGeometryCollection=function(a,b){};ol.render.VectorContext.prototype.drawLineString=function(a,b){};ol.render.VectorContext.prototype.drawMultiLineString=function(a,b){};ol.render.VectorContext.prototype.drawMultiPoint=function(a,b){};ol.render.VectorContext.prototype.drawMultiPolygon=function(a,b){};ol.render.VectorContext.prototype.drawPoint=function(a,b){};ol.render.VectorContext.prototype.drawPolygon=function(a,b){};ol.render.VectorContext.prototype.drawText=function(a,b){};ol.render.VectorContext.prototype.setFillStrokeStyle=function(b,a){};ol.render.VectorContext.prototype.setImageStyle=function(b,a){};ol.render.VectorContext.prototype.setTextStyle=function(b,a){};goog.provide('ol.render.canvas.Immediate');goog.require('ol');goog.require('ol.array');goog.require('ol.colorlike');goog.require('ol.extent');goog.require('ol.geom.GeometryType');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.transform');goog.require('ol.has');goog.require('ol.render.VectorContext');goog.require('ol.render.canvas');goog.require('ol.transform');ol.render.canvas.Immediate=function(d,b,e,c,a){ol.render.VectorContext.call(this);this.context_=d;this.pixelRatio_=b;this.extent_=e;this.transform_=c;this.viewRotation_=a;this.contextFillState_=null;this.contextStrokeState_=null;this.contextTextState_=null;this.fillState_=null;this.strokeState_=null;this.image_=null;this.imageAnchorX_=0;this.imageAnchorY_=0;this.imageHeight_=0;this.imageOpacity_=0;this.imageOriginX_=0;this.imageOriginY_=0;this.imageRotateWithView_=!1;this.imageRotation_=0;this.imageScale_=0;this.imageSnapToPixel_=!1;this.imageWidth_=0;this.text_='';this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=!1;this.textRotation_=0;this.textScale_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Immediate,ol.render.VectorContext);ol.render.canvas.Immediate.prototype.drawImages_=function(l,m,n,o){if(!this.image_){return}var f=ol.geom.flat.transform.transform2D(l,m,n,2,this.transform_,this.pixelCoordinates_);var a=this.context_;var g=this.tmpLocalTransform_;var j=a.globalAlpha;if(this.imageOpacity_!=1){a.globalAlpha=j*this.imageOpacity_}var c=this.imageRotation_;if(this.imageRotateWithView_){c+=this.viewRotation_}var b,k;for(b=0,k=f.length;b<k;b+=2){var d=f[b]-this.imageAnchorX_;var e=f[b+1]-this.imageAnchorY_;if(this.imageSnapToPixel_){d=Math.round(d);e=Math.round(e)}if(c!==0||this.imageScale_!=1){var h=d+this.imageAnchorX_;var i=e+this.imageAnchorY_;ol.transform.compose(g,h,i,this.imageScale_,this.imageScale_,c,-h,-i);a.setTransform.apply(a,g)}a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,e,this.imageWidth_,this.imageHeight_)}if(c!==0||this.imageScale_!=1){a.setTransform(1,0,0,1,0,0)}if(this.imageOpacity_!=1){a.globalAlpha=j}};ol.render.canvas.Immediate.prototype.drawText_=function(i,b,h,g){if(!this.textState_||this.text_===''){return}if(this.textFillState_){this.setContextFillState_(this.textFillState_)}if(this.textStrokeState_){this.setContextStrokeState_(this.textStrokeState_)}this.setContextTextState_(this.textState_);var f=ol.geom.flat.transform.transform2D(i,b,h,g,this.transform_,this.pixelCoordinates_);var a=this.context_;var c=this.textRotation_;if(this.textRotateWithView_){c+=this.viewRotation_}for(;b<h;b+=g){var d=f[b]+this.textOffsetX_;var e=f[b+1]+this.textOffsetY_;if(c!==0||this.textScale_!=1){var j=ol.transform.compose(this.tmpLocalTransform_,d,e,this.textScale_,this.textScale_,c,-d,-e);a.setTransform.apply(a,j)}if(this.textStrokeState_){a.strokeText(this.text_,d,e)}if(this.textFillState_){a.fillText(this.text_,d,e)}}if(c!==0||this.textScale_!=1){a.setTransform(1,0,0,1,0,0)}};ol.render.canvas.Immediate.prototype.moveToLineTo_=function(g,h,f,i,e){var c=this.context_;var a=ol.geom.flat.transform.transform2D(g,h,f,i,this.transform_,this.pixelCoordinates_);c.moveTo(a[0],a[1]);var d=a.length;if(e){d-=2}for(var b=2;b<d;b+=2){c.lineTo(a[b],a[b+1])}if(e){c.closePath()}return f};ol.render.canvas.Immediate.prototype.drawRings_=function(e,b,c,f){var a,d;for(a=0,d=c.length;a<d;++a){b=this.moveToLineTo_(e,b,c[a],f,!0)}return b};ol.render.canvas.Immediate.prototype.drawCircle=function(c){if(!ol.extent.intersects(this.extent_,c.getExtent())){return}if(this.fillState_||this.strokeState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var a=ol.geom.SimpleGeometry.transform2D(c,this.transform_,this.pixelCoordinates_);var d=a[2]-a[0];var e=a[3]-a[1];var f=Math.sqrt(d*d+e*e);var b=this.context_;b.beginPath();b.arc(a[0],a[1],f,0,2*Math.PI);if(this.fillState_){b.fill()}if(this.strokeState_){b.stroke()}}if(this.text_!==''){this.drawText_(c.getCenter(),0,2,2)}};ol.render.canvas.Immediate.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};ol.render.canvas.Immediate.prototype.drawGeometry=function(a){var b=a.getType();switch(b){case ol.geom.GeometryType.POINT:this.drawPoint(a);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(a);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(a);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(a);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(a);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(a);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(a);break;default:}};ol.render.canvas.Immediate.prototype.drawFeature=function(c,b){var a=b.getGeometryFunction()(c);if(!a||!ol.extent.intersects(this.extent_,a.getExtent())){return}this.setStyle(b);this.drawGeometry(a)};ol.render.canvas.Immediate.prototype.drawGeometryCollection=function(d){var b=d.getGeometriesArray();var a,c;for(a=0,c=b.length;a<c;++a){this.drawGeometry(b[a])}};ol.render.canvas.Immediate.prototype.drawPoint=function(b){var a=b.getFlatCoordinates();var c=b.getStride();if(this.image_){this.drawImages_(a,0,a.length,c)}if(this.text_!==''){this.drawText_(a,0,a.length,c)}};ol.render.canvas.Immediate.prototype.drawMultiPoint=function(b){var a=b.getFlatCoordinates();var c=b.getStride();if(this.image_){this.drawImages_(a,0,a.length,c)}if(this.text_!==''){this.drawText_(a,0,a.length,c)}};ol.render.canvas.Immediate.prototype.drawLineString=function(a){if(!ol.extent.intersects(this.extent_,a.getExtent())){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var c=this.context_;var b=a.getFlatCoordinates();c.beginPath();this.moveToLineTo_(b,0,b.length,a.getStride(),!1);c.stroke()}if(this.text_!==''){var d=a.getFlatMidpoint();this.drawText_(d,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiLineString=function(a){var i=a.getExtent();if(!ol.extent.intersects(this.extent_,i)){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var d=this.context_;var h=a.getFlatCoordinates();var e=0;var f=a.getEnds();var j=a.getStride();d.beginPath();var b,g;for(b=0,g=f.length;b<g;++b){e=this.moveToLineTo_(h,e,f[b],j,!1)}d.stroke()}if(this.text_!==''){var c=a.getFlatMidpoints();this.drawText_(c,0,c.length,2)}};ol.render.canvas.Immediate.prototype.drawPolygon=function(a){if(!ol.extent.intersects(this.extent_,a.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var b=this.context_;b.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());if(this.fillState_){b.fill()}if(this.strokeState_){b.stroke()}}if(this.text_!==''){var c=a.getFlatInteriorPoint();this.drawText_(c,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiPolygon=function(a){if(!ol.extent.intersects(this.extent_,a.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var c=this.context_;var h=a.getOrientedFlatCoordinates();var e=0;var f=a.getEndss();var i=a.getStride();var b,g;c.beginPath();for(b=0,g=f.length;b<g;++b){var j=f[b];e=this.drawRings_(h,e,j,i)}if(this.fillState_){c.fill()}if(this.strokeState_){c.stroke()}}if(this.text_!==''){var d=a.getFlatInteriorPoints();this.drawText_(d,0,d.length,2)}};ol.render.canvas.Immediate.prototype.setContextFillState_=function(a){var c=this.context_;var b=this.contextFillState_;if(!b){c.fillStyle=a.fillStyle;this.contextFillState_={fillStyle:a.fillStyle}}else {if(b.fillStyle!=a.fillStyle){b.fillStyle=c.fillStyle=a.fillStyle}}};ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(a){var c=this.context_;var b=this.contextStrokeState_;if(!b){c.lineCap=a.lineCap;if(ol.has.CANVAS_LINE_DASH){c.setLineDash(a.lineDash);c.lineDashOffset=a.lineDashOffset}c.lineJoin=a.lineJoin;c.lineWidth=a.lineWidth;c.miterLimit=a.miterLimit;c.strokeStyle=a.strokeStyle;this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle}}else {if(b.lineCap!=a.lineCap){b.lineCap=c.lineCap=a.lineCap}if(ol.has.CANVAS_LINE_DASH){if(!ol.array.equals(b.lineDash,a.lineDash)){c.setLineDash(b.lineDash=a.lineDash)}if(b.lineDashOffset!=a.lineDashOffset){b.lineDashOffset=c.lineDashOffset=a.lineDashOffset}}if(b.lineJoin!=a.lineJoin){b.lineJoin=c.lineJoin=a.lineJoin}if(b.lineWidth!=a.lineWidth){b.lineWidth=c.lineWidth=a.lineWidth}if(b.miterLimit!=a.miterLimit){b.miterLimit=c.miterLimit=a.miterLimit}if(b.strokeStyle!=a.strokeStyle){b.strokeStyle=c.strokeStyle=a.strokeStyle}}};ol.render.canvas.Immediate.prototype.setContextTextState_=function(a){var c=this.context_;var b=this.contextTextState_;var d=a.textAlign?a.textAlign:ol.render.canvas.defaultTextAlign;if(!b){c.font=a.font;c.textAlign=d;c.textBaseline=a.textBaseline;this.contextTextState_={font:a.font,textAlign:d,textBaseline:a.textBaseline}}else {if(b.font!=a.font){b.font=c.font=a.font}if(b.textAlign!=d){b.textAlign=d}if(b.textBaseline!=a.textBaseline){b.textBaseline=c.textBaseline=a.textBaseline}}};ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(j,a){if(!j){this.fillState_=null}else {var i=j.getColor();this.fillState_={fillStyle:ol.colorlike.asColorLike(i?i:ol.render.canvas.defaultFillStyle)}}if(!a){this.strokeState_=null}else {var g=a.getColor();var f=a.getLineCap();var d=a.getLineDash();var b=a.getLineDashOffset();var e=a.getLineJoin();var h=a.getWidth();var c=a.getMiterLimit();this.strokeState_={lineCap:f!==undefined?f:ol.render.canvas.defaultLineCap,lineDash:d?d:ol.render.canvas.defaultLineDash,lineDashOffset:b?b:ol.render.canvas.defaultLineDashOffset,lineJoin:e!==undefined?e:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(h!==undefined?h:ol.render.canvas.defaultLineWidth),miterLimit:c!==undefined?c:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(g?g:ol.render.canvas.defaultStrokeStyle)}}};ol.render.canvas.Immediate.prototype.setImageStyle=function(a){if(!a){this.image_=null}else {var b=a.getAnchor();var e=a.getImage(1);var c=a.getOrigin();var d=a.getSize();this.imageAnchorX_=b[0];this.imageAnchorY_=b[1];this.imageHeight_=d[1];this.image_=e;this.imageOpacity_=a.getOpacity();this.imageOriginX_=c[0];this.imageOriginY_=c[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();this.imageScale_=a.getScale()*this.pixelRatio_;this.imageSnapToPixel_=a.getSnapToPixel();this.imageWidth_=d[0]}};ol.render.canvas.Immediate.prototype.setTextStyle=function(a){if(!a){this.text_=''}else {var m=a.getFill();if(!m){this.textFillState_=null}else {var j=m.getColor();this.textFillState_={fillStyle:ol.colorlike.asColorLike(j?j:ol.render.canvas.defaultFillStyle)}}var b=a.getStroke();if(!b){this.textStrokeState_=null}else {var h=b.getColor();var g=b.getLineCap();var e=b.getLineDash();var c=b.getLineDashOffset();var f=b.getLineJoin();var i=b.getWidth();var d=b.getMiterLimit();this.textStrokeState_={lineCap:g!==undefined?g:ol.render.canvas.defaultLineCap,lineDash:e?e:ol.render.canvas.defaultLineDash,lineDashOffset:c?c:ol.render.canvas.defaultLineDashOffset,lineJoin:f!==undefined?f:ol.render.canvas.defaultLineJoin,lineWidth:i!==undefined?i:ol.render.canvas.defaultLineWidth,miterLimit:d!==undefined?d:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(h?h:ol.render.canvas.defaultStrokeStyle)}}var s=a.getFont();var p=a.getOffsetX();var q=a.getOffsetY();var k=a.getRotateWithView();var o=a.getRotation();var r=a.getScale();var t=a.getText();var n=a.getTextAlign();var l=a.getTextBaseline();this.textState_={font:s!==undefined?s:ol.render.canvas.defaultFont,textAlign:n!==undefined?n:ol.render.canvas.defaultTextAlign,textBaseline:l!==undefined?l:ol.render.canvas.defaultTextBaseline};this.text_=t!==undefined?t:'';this.textOffsetX_=p!==undefined?this.pixelRatio_*p:0;this.textOffsetY_=q!==undefined?this.pixelRatio_*q:0;this.textRotateWithView_=k!==undefined?k:!1;this.textRotation_=o!==undefined?o:0;this.textScale_=this.pixelRatio_*(r!==undefined?r:1)}};goog.provide('ol.renderer.Layer');goog.require('ol');goog.require('ol.ImageState');goog.require('ol.Observable');goog.require('ol.TileState');goog.require('ol.asserts');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.functions');goog.require('ol.source.State');ol.renderer.Layer=function(a){ol.Observable.call(this);this.layer_=a};ol.inherits(ol.renderer.Layer,ol.Observable);ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.renderer.Layer.prototype.hasFeatureAtCoordinate=ol.functions.FALSE;ol.renderer.Layer.prototype.createLoadedTileFinder=function(c,b,a){return function(d,e){function callback(f){if(!a[d]){a[d]={}}a[d][f.tileCoord.toString()]=f}return c.forEachLoadedTile(b,d,e,callback)}};ol.renderer.Layer.prototype.getLayer=function(){return this.layer_};ol.renderer.Layer.prototype.handleImageChange_=function(a){var b=a.target;if(b.getState()===ol.ImageState.LOADED){this.renderIfReadyAndVisible()}};ol.renderer.Layer.prototype.loadImage=function(b){var a=b.getState();if(a!=ol.ImageState.LOADED&&a!=ol.ImageState.ERROR){ol.events.listen(b,ol.events.EventType.CHANGE,this.handleImageChange_,this)}if(a==ol.ImageState.IDLE){b.load();a=b.getState()}return a==ol.ImageState.LOADED};ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var a=this.getLayer();if(a.getVisible()&&a.getSourceState()==ol.source.State.READY){this.changed()}};ol.renderer.Layer.prototype.scheduleExpireCache=function(c,a){if(a.canExpireCache()){var b=function(e,f,b){var d=ol.getUid(e).toString();if(d in b.usedTiles){e.expireCache(b.viewState.projection,b.usedTiles[d])}}.bind(null,a);c.postRenderFunctions.push(b)}};ol.renderer.Layer.prototype.updateLogos=function(b,c){var a=c.getLogo();if(a!==undefined){if(typeof a==='string'){b.logos[a]=''}else {if(a){ol.asserts.assert(typeof a.href=='string',44);ol.asserts.assert(typeof a.src=='string',45);b.logos[a.src]=a.href}}}};ol.renderer.Layer.prototype.updateUsedTiles=function(b,e,f,d){var a=ol.getUid(e).toString();var c=f.toString();if(a in b){if(c in b[a]){b[a][c].extend(d)}else {b[a][c]=d}}else {b[a]={};b[a][c]=d}};ol.renderer.Layer.prototype.manageTilePyramid=function(g,i,h,p,l,t,n,s,j,q){var f=ol.getUid(i).toString();if(!(f in g.wantedTiles)){g.wantedTiles[f]={}}var o=g.wantedTiles[f];var m=g.tileQueue;var r=h.getMinZoom();var b,c,k,d,e,a;for(a=r;a<=n;++a){c=h.getTileRangeForExtentAndZ(t,a,c);k=h.getResolution(a);for(d=c.minX;d<=c.maxX;++d){for(e=c.minY;e<=c.maxY;++e){if(n-a<=s){b=i.getTile(a,d,e,p,l);if(b.getState()==ol.TileState.IDLE){o[b.getKey()]=!0;if(!m.isKeyQueued(b.getKey())){m.enqueue([b,f,h.getTileCoordCenter(b.tileCoord),k])}}if(j!==undefined){j.call(q,b)}}else {i.useTile(a,d,e,l)}}}}};goog.provide('ol.renderer.canvas.Layer');goog.require('ol');goog.require('ol.extent');goog.require('ol.functions');goog.require('ol.render.Event');goog.require('ol.render.EventType');goog.require('ol.render.canvas');goog.require('ol.render.canvas.Immediate');goog.require('ol.renderer.Layer');goog.require('ol.transform');ol.renderer.canvas.Layer=function(a){ol.renderer.Layer.call(this,a);this.renderedResolution;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer);ol.renderer.canvas.Layer.prototype.clip=function(b,c,d){var a=c.pixelRatio;var k=c.size[0]*a;var j=c.size[1]*a;var i=c.viewState.rotation;var h=ol.extent.getTopLeft(d);var g=ol.extent.getTopRight(d);var e=ol.extent.getBottomRight(d);var f=ol.extent.getBottomLeft(d);ol.transform.apply(c.coordinateToPixelTransform,h);ol.transform.apply(c.coordinateToPixelTransform,g);ol.transform.apply(c.coordinateToPixelTransform,e);ol.transform.apply(c.coordinateToPixelTransform,f);b.save();ol.render.canvas.rotateAtOffset(b,-i,k/2,j/2);b.beginPath();b.moveTo(h[0]*a,h[1]*a);b.lineTo(g[0]*a,g[1]*a);b.lineTo(e[0]*a,e[1]*a);b.lineTo(f[0]*a,f[1]*a);b.clip();ol.render.canvas.rotateAtOffset(b,i,k/2,j/2)};ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(h,b,a,c){var f=this.getLayer();if(f.hasListener(h)){var g=a.size[0]*a.pixelRatio;var e=a.size[1]*a.pixelRatio;var d=a.viewState.rotation;ol.render.canvas.rotateAtOffset(b,-d,g/2,e/2);var j=c!==undefined?c:this.getTransform(a,0);var k=new ol.render.canvas.Immediate(b,a.pixelRatio,a.extent,j,a.viewState.rotation);var i=new ol.render.Event(h,k,a,b,null);f.dispatchEvent(i);ol.render.canvas.rotateAtOffset(b,d,g/2,e/2)}};ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate=function(a,b,d,e){var c=this.forEachFeatureAtCoordinate(a,b,0,ol.functions.TRUE,this);if(c){return d.call(e,this.getLayer(),null)}else {return undefined}};ol.renderer.canvas.Layer.prototype.postCompose=function(c,b,d,a){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,c,b,a)};ol.renderer.canvas.Layer.prototype.preCompose=function(c,b,a){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,c,b,a)};ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(c,b,a){this.dispatchComposeEvent_(ol.render.EventType.RENDER,c,b,a)};ol.renderer.canvas.Layer.prototype.getTransform=function(a,e){var b=a.viewState;var c=a.pixelRatio;var g=c*a.size[0]/2;var i=c*a.size[1]/2;var d=c/b.resolution;var k=-d;var f=-b.rotation;var h=-b.center[0]+e;var j=-b.center[1];return ol.transform.compose(this.transform_,g,i,d,k,f,h,j)};ol.renderer.canvas.Layer.prototype.composeFrame=function(a,b,c){};ol.renderer.canvas.Layer.prototype.prepareFrame=function(a,b){};goog.provide('ol.renderer.canvas.IntermediateCanvas');goog.require('ol');goog.require('ol.coordinate');goog.require('ol.dom');goog.require('ol.extent');goog.require('ol.renderer.canvas.Layer');goog.require('ol.transform');ol.renderer.canvas.IntermediateCanvas=function(a){ol.renderer.canvas.Layer.call(this,a);this.coordinateToCanvasPixelTransform=ol.transform.create();this.hitCanvasContext_=null};ol.inherits(ol.renderer.canvas.IntermediateCanvas,ol.renderer.canvas.Layer);ol.renderer.canvas.IntermediateCanvas.prototype.composeFrame=function(c,f,a){this.preCompose(a,c);var b=this.getImage();if(b){var e=f.extent;var g=e!==undefined&&!ol.extent.containsExtent(e,c.extent)&&ol.extent.intersects(e,c.extent);if(g){this.clip(a,c,e)}var d=this.getImageTransform();var h=a.globalAlpha;a.globalAlpha=f.opacity;var k=d[4];var l=d[5];var j=b.width*d[0];var i=b.height*d[3];a.drawImage(b,0,0,+b.width,+b.height,Math.round(k),Math.round(l),Math.round(j),Math.round(i));a.globalAlpha=h;if(g){a.restore()}}this.postCompose(a,c,f)};ol.renderer.canvas.IntermediateCanvas.prototype.getImage=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.getImageTransform=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate=function(e,a,d,g,i){var b=this.getLayer();var j=b.getSource();var f=a.viewState.resolution;var h=a.viewState.rotation;var c=a.skippedFeatureUids;return j.forEachFeatureAtCoordinate(e,f,h,d,c,function(c){return g.call(i,c,b)})};ol.renderer.canvas.IntermediateCanvas.prototype.forEachLayerAtCoordinate=function(c,d,e,f){if(!this.getImage()){return undefined}if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction){return ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate.apply(this,arguments)}else {var a=ol.transform.apply(this.coordinateToCanvasPixelTransform,c.slice());ol.coordinate.scale(a,d.viewState.resolution/this.renderedResolution);if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.getImage(),a[0],a[1],1,1,0,0,1,1);var b=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(b[3]>0){return e.call(f,this.getLayer(),b)}else {return undefined}}};goog.provide('ol.renderer.canvas.ImageLayer');goog.require('ol');goog.require('ol.ImageCanvas');goog.require('ol.LayerType');goog.require('ol.ViewHint');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.layer.VectorRenderType');goog.require('ol.obj');goog.require('ol.plugins');goog.require('ol.renderer.Type');goog.require('ol.renderer.canvas.IntermediateCanvas');goog.require('ol.transform');ol.renderer.canvas.ImageLayer=function(a){ol.renderer.canvas.IntermediateCanvas.call(this,a);this.image_=null;this.imageTransform_=ol.transform.create();this.skippedFeatures_=[];this.vectorRenderer_=null};ol.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.IntermediateCanvas);ol.renderer.canvas.ImageLayer['handles']=function(b,a){return b===ol.renderer.Type.CANVAS&&(a.getType()===ol.LayerType.IMAGE||a.getType()===ol.LayerType.VECTOR&&a.getRenderMode()===ol.layer.VectorRenderType.IMAGE)};ol.renderer.canvas.ImageLayer['create']=function(f,a){var e=new ol.renderer.canvas.ImageLayer(a);if(a.getType()===ol.LayerType.VECTOR){var d=ol.plugins.getLayerRendererPlugins();for(var c=0,g=d.length;c<g;++c){var b=d[c];if(b!==ol.renderer.canvas.ImageLayer&&b['handles'](ol.renderer.Type.CANVAS,a)){e.setVectorRenderer(b['create'](f,a))}}}return e};ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return !this.image_?null:this.image_.getImage()};ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_};ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(b,j){var a=b.pixelRatio;var m=b.size;var o=b.viewState;var k=o.center;var e=o.resolution;var c;var w=this.getLayer();var n=w.getSource();var u=b.viewHints;var d=b.extent;if(j.extent!==undefined){d=ol.extent.getIntersection(d,j.extent)}if(!u[ol.ViewHint.ANIMATING]&&!u[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(d)){var s=o.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var p=n.getProjection();if(p){s=p}}var g=this.vectorRenderer_;if(g){var l=g.context;var f=ol.obj.assign({},b,{size:[ol.extent.getWidth(d)/e,ol.extent.getHeight(d)/e],viewState:ol.obj.assign({},b.viewState,{rotation:0})});var q=Object.keys(f.skippedFeatureUids).sort();if(g.prepareFrame(f,j)&&(g.replayGroupChanged||!ol.array.equals(q,this.skippedFeatures_))){l.canvas.width=f.size[0]*a;l.canvas.height=f.size[1]*a;g.composeFrame(f,j,l);this.image_=new ol.ImageCanvas(d,e,a,l.canvas);this.skippedFeatures_=q}}else {c=n.getImage(d,e,a,s);if(c){var x=this.loadImage(c);if(x){this.image_=c}}}}if(this.image_){c=this.image_;var r=c.getExtent();var i=c.getResolution();var h=c.getPixelRatio();var v=a*i/(e*h);var t=ol.transform.compose(this.imageTransform_,a*m[0]/2,a*m[1]/2,v,v,0,h*(r[0]-k[0])/i,h*(k[1]-r[3])/i);ol.transform.compose(this.coordinateToCanvasPixelTransform,a*m[0]/2-t[4],a*m[1]/2-t[5],a/e,-a/e,0,-k[0],-k[1]);this.updateLogos(b,n);this.renderedResolution=i*a/h}return !!this.image_};ol.renderer.canvas.ImageLayer.prototype.forEachFeatureAtCoordinate=function(b,c,a,d,e){if(this.vectorRenderer_){return this.vectorRenderer_.forEachFeatureAtCoordinate(b,c,a,d,e)}else {return ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate.call(this,b,c,a,d,e)}};ol.renderer.canvas.ImageLayer.prototype.setVectorRenderer=function(a){this.vectorRenderer_=a};goog.provide('ol.style.IconImageCache');goog.require('ol.color');ol.style.IconImageCache=function(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32};ol.style.IconImageCache.getKey=function(d,c,a){var b=a?ol.color.asString(a):'null';return c+':'+d+':'+b};ol.style.IconImageCache.prototype.clear=function(){this.cache_={};this.cacheSize_=0};ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var c=0;var a,b;for(a in this.cache_){b=this.cache_[a];if((c++&3)===0&&!b.hasListener()){delete this.cache_[a];--this.cacheSize_}}}};ol.style.IconImageCache.prototype.get=function(d,b,c){var a=ol.style.IconImageCache.getKey(d,b,c);return a in this.cache_?this.cache_[a]:null};ol.style.IconImageCache.prototype.set=function(e,a,c,b){var d=ol.style.IconImageCache.getKey(e,a,c);this.cache_[d]=b;++this.cacheSize_};ol.style.IconImageCache.prototype.setSize=function(a){this.maxCacheSize_=a;this.expire()};goog.provide('ol.style');goog.require('ol.style.IconImageCache');ol.style.iconImageCache=new ol.style.IconImageCache();goog.provide('ol.renderer.Map');goog.require('ol');goog.require('ol.Disposable');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.functions');goog.require('ol.layer.Layer');goog.require('ol.plugins');goog.require('ol.style');goog.require('ol.transform');ol.renderer.Map=function(b,a){ol.Disposable.call(this);this.map_=a;this.layerRenderers_={};this.layerRendererListeners_={}};ol.inherits(ol.renderer.Map,ol.Disposable);ol.renderer.Map.prototype.calculateMatrices2D=function(a){var b=a.viewState;var c=a.coordinateToPixelTransform;var d=a.pixelToCoordinateTransform;ol.transform.compose(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);ol.transform.invert(ol.transform.setFromArray(d,c))};ol.renderer.Map.prototype.removeLayerRenderers=function(){for(var a in this.layerRenderers_){this.removeLayerRendererByKey_(a).dispose()}};ol.renderer.Map.expireIconCache_=function(c,b){var a=ol.style.iconImageCache;a.expire()};ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(c,a,q,u,n,r,v){var g;var m=a.viewState;var o=m.resolution;function forEachFeatureAtCoordinate(b,e){var f=ol.getUid(b).toString();var d=a.layerStates[ol.getUid(e)].managed;if(!(f in a.skippedFeatureUids&&!d)){return u.call(n,b,d?e:null)}}var k=m.projection;var h=c;if(k.canWrapX()){var b=k.getExtent();var l=ol.extent.getWidth(b);var f=c[0];if(f<b[0]||f>b[2]){var s=Math.ceil((b[0]-f)/l);h=[f+l*s,c[1]]}}var i=a.layerStatesArray;var t=i.length;var e;for(e=t-1;e>=0;--e){var j=i[e];var d=j.layer;if(ol.layer.Layer.visibleAtResolution(j,o)&&r.call(v,d)){var p=this.getLayerRenderer(d);if(d.getSource()){g=p.forEachFeatureAtCoordinate(d.getSource().getWrapX()?h:c,a,q,forEachFeatureAtCoordinate,n)}if(g){return g}}}return undefined};ol.renderer.Map.prototype.forEachLayerAtPixel=function(f,b,c,e,a,d){};ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(c,d,a,b,f){var e=this.forEachFeatureAtCoordinate(c,d,a,ol.functions.TRUE,this,b,f);return e!==undefined};ol.renderer.Map.prototype.getLayerRenderer=function(c){var b=ol.getUid(c).toString();if(b in this.layerRenderers_){return this.layerRenderers_[b]}else {var e=ol.plugins.getLayerRendererPlugins();var a;var g=this.getType();for(var d=0,h=e.length;d<h;++d){var f=e[d];if(f['handles'](g,c)){a=f['create'](this,c);break}}if(a){this.layerRenderers_[b]=a;this.layerRendererListeners_[b]=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleLayerRendererChange_,this)}else {throw new Error('Unable to create renderer for layer: '+c.getType())}return a}};ol.renderer.Map.prototype.getLayerRendererByKey=function(a){return this.layerRenderers_[a]};ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_};ol.renderer.Map.prototype.getMap=function(){return this.map_};ol.renderer.Map.prototype.getType=function(){};ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()};ol.renderer.Map.prototype.removeLayerRendererByKey_=function(a){var b=this.layerRenderers_[a];delete this.layerRenderers_[a];ol.events.unlistenByKey(this.layerRendererListeners_[a]);delete this.layerRendererListeners_[a];return b};ol.renderer.Map.prototype.renderFrame=ol.nullFunction;ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(c,b){var a;for(a in this.layerRenderers_){if(!b||!(a in b.layerStates)){this.removeLayerRendererByKey_(a).dispose()}}};ol.renderer.Map.prototype.scheduleExpireIconCache=function(a){a.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)};ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(a){var b;for(b in this.layerRenderers_){if(!(b in a.layerStates)){a.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this));return}}};ol.renderer.Map.sortByZIndex=function(a,b){return a.zIndex-b.zIndex};goog.provide('ol.renderer.canvas.Map');goog.require('ol.transform');goog.require('ol');goog.require('ol.array');goog.require('ol.css');goog.require('ol.dom');goog.require('ol.layer.Layer');goog.require('ol.render.Event');goog.require('ol.render.EventType');goog.require('ol.render.canvas');goog.require('ol.render.canvas.Immediate');goog.require('ol.renderer.Map');goog.require('ol.renderer.Type');goog.require('ol.source.State');ol.renderer.canvas.Map=function(a,b){ol.renderer.Map.call(this,a,b);this.context_=ol.dom.createCanvasContext2D();this.canvas_=this.context_.canvas;this.canvas_.style.width='100%';this.canvas_.style.height='100%';this.canvas_.style.display='block';this.canvas_.className=ol.css.CLASS_UNSELECTABLE;a.insertBefore(this.canvas_,a.childNodes[0]||null);this.renderedVisible_=!0;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Map,ol.renderer.Map);ol.renderer.canvas.Map['handles']=function(a){return a===ol.renderer.Type.CANVAS};ol.renderer.canvas.Map['create']=function(a,b){return new ol.renderer.canvas.Map(a,b)};ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(c,a){var d=this.getMap();var b=this.context_;if(d.hasListener(c)){var k=a.extent;var g=a.pixelRatio;var i=a.viewState;var j=i.rotation;var h=this.getTransform(a);var e=new ol.render.canvas.Immediate(b,g,k,h,j);var f=new ol.render.Event(c,e,a,b,null);d.dispatchEvent(f)}};ol.renderer.canvas.Map.prototype.getTransform=function(b){var a=b.viewState;var e=this.canvas_.width/2;var g=this.canvas_.height/2;var c=b.pixelRatio/a.resolution;var i=-c;var d=-a.rotation;var f=-a.center[0];var h=-a.center[1];return ol.transform.compose(this.transform_,e,g,c,i,d,f,h)};ol.renderer.canvas.Map.prototype.getType=function(){return ol.renderer.Type.CANVAS};ol.renderer.canvas.Map.prototype.renderFrame=function(a){if(!a){if(this.renderedVisible_){this.canvas_.style.display='none';this.renderedVisible_=!1}return}var c=this.context_;var j=a.pixelRatio;var e=Math.round(a.size[0]*j);var d=Math.round(a.size[1]*j);if(this.canvas_.width!=e||this.canvas_.height!=d){this.canvas_.width=e;this.canvas_.height=d}else {c.clearRect(0,0,e,d)}var i=a.viewState.rotation;this.calculateMatrices2D(a);this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a);var g=a.layerStatesArray;ol.array.stableSort(g,ol.renderer.Map.sortByZIndex);if(i){c.save();ol.render.canvas.rotateAtOffset(c,i,e/2,d/2)}var m=a.viewState.resolution;var f,l,k,h,b;for(f=0,l=g.length;f<l;++f){b=g[f];k=b.layer;h=this.getLayerRenderer(k);if(!ol.layer.Layer.visibleAtResolution(b,m)||b.sourceState!=ol.source.State.READY){continue}if(h.prepareFrame(a,b)){h.composeFrame(a,b,c)}}if(i){c.restore()}this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a);if(!this.renderedVisible_){this.canvas_.style.display='';this.renderedVisible_=!0}this.scheduleRemoveUnusedLayerRenderers(a);this.scheduleExpireIconCache(a)};ol.renderer.canvas.Map.prototype.forEachLayerAtPixel=function(p,a,m,o,i,n){var c;var l=a.viewState;var g=l.resolution;var d=a.layerStatesArray;var k=d.length;var j=ol.transform.apply(a.pixelToCoordinateTransform,p.slice());var b;for(b=k-1;b>=0;--b){var e=d[b];var f=e.layer;if(ol.layer.Layer.visibleAtResolution(e,g)&&i.call(n,f)){var h=this.getLayerRenderer(f);c=h.forEachLayerAtCoordinate(j,a,m,o);if(c){return c}}}return undefined};goog.provide('ol.renderer.canvas.TileLayer');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.TileRange');goog.require('ol.TileState');goog.require('ol.ViewHint');goog.require('ol.dom');goog.require('ol.extent');goog.require('ol.renderer.Type');goog.require('ol.renderer.canvas.IntermediateCanvas');goog.require('ol.transform');ol.renderer.canvas.TileLayer=function(a){ol.renderer.canvas.IntermediateCanvas.call(this,a);this.context=this.context===null?null:ol.dom.createCanvasContext2D();this.oversampling_;this.renderedExtent_=null;this.renderedRevision;this.renderedTiles=[];this.tmpExtent=ol.extent.createEmpty();this.tmpTileRange_=new ol.TileRange(0,0,0,0);this.imageTransform_=ol.transform.create();this.zDirection=0};ol.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.IntermediateCanvas);ol.renderer.canvas.TileLayer['handles']=function(b,a){return b===ol.renderer.Type.CANVAS&&a.getType()===ol.LayerType.TILE};ol.renderer.canvas.TileLayer['create']=function(b,a){return new ol.renderer.canvas.TileLayer(a)};ol.renderer.canvas.TileLayer.prototype.isDrawableTile_=function(c){var a=c.getState();var b=this.getLayer().getUseInterimTilesOnError();return a==ol.TileState.LOADED||a==ol.TileState.EMPTY||a==ol.TileState.ERROR&&!b};ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(d,B){var b=d.pixelRatio;var w=d.size;var E=d.viewState;var i=E.projection;var p=E.resolution;var s=E.center;var t=this.getLayer();var e=t.getSource();var N=e.getRevision();var g=e.getTileGridForProjection(i);var c=g.getZForResolution(p,this.zDirection);var j=g.getResolution(c);var f=Math.round(p/j)||1;var k=d.extent;if(B.extent!==undefined){k=ol.extent.getIntersection(k,B.extent)}if(ol.extent.isEmpty(k)){return !1}var h=g.getTileRangeForExtentAndZ(k,c);var r=g.getTileRangeExtent(c,h);var n=e.getTilePixelRatio(b);var o={};o[c]={};var L=this.createLoadedTileFinder(e,i,o);var D=this.tmpExtent;var P=this.tmpTileRange_;var u=!1;var a,l,m;for(l=h.minX;l<=h.maxX;++l){for(m=h.minY;m<=h.maxY;++m){a=e.getTile(c,l,m,b,i);if(a.getState()==ol.TileState.ERROR){if(!t.getUseInterimTilesOnError()){a.setState(ol.TileState.LOADED)}else {if(t.getPreload()>0){u=!0}}}if(!this.isDrawableTile_(a)){a=a.getInterimTile()}if(this.isDrawableTile_(a)){var V=ol.getUid(this);if(a.getState()==ol.TileState.LOADED){o[c][a.tileCoord.toString()]=a;var $=a.inTransition(V);if(!u&&($||this.renderedTiles.indexOf(a)===-1)){u=!0}}if(a.getAlpha(V,d.time)===1){continue}}var M=g.getTileCoordChildTileRange(a.tileCoord,P,D);var S=!1;if(M){S=L(c+1,M)}if(!S){g.forEachTileCoordParentTileRange(a.tileCoord,L,null,P,D)}}}var Z=j*b/n*f;var T=d.viewHints;var J=T[ol.ViewHint.ANIMATING]||T[ol.ViewHint.INTERACTING];if(!(this.renderedResolution&&Date.now()-d.time>16&&J)&&(u||!(this.renderedExtent_&&ol.extent.containsExtent(this.renderedExtent_,k))||this.renderedRevision!=N||f!=this.oversampling_||!J&&Z!=this.renderedResolution)){var F=this.context;if(F){var O=e.getTilePixelSize(c,b,i);var H=Math.round(h.getWidth()*O[0]/f);var G=Math.round(h.getHeight()*O[1]/f);var v=F.canvas;if(v.width!=H||v.height!=G){this.oversampling_=f;v.width=H;v.height=G}else {if(this.renderedExtent_&&!ol.extent.equals(r,this.renderedExtent_)){F.clearRect(0,0,H,G)}f=this.oversampling_}}this.renderedTiles.length=0;var I=Object.keys(o).map(Number);I.sort(function(a,b){if(a===c){return 1}else {if(b===c){return -1}else {return a>b?1:a<b?-1:0}}});var K,z,y,q,x,W;var C,Q,A,Y,X;for(x=0,W=I.length;x<W;++x){q=I[x];y=e.getTilePixelSize(q,b,i);K=g.getResolution(q);z=K/j;Q=n*e.getGutter(i);A=o[q];for(var _ in A){a=A[_];C=g.getTileCoordExtent(a.getTileCoord(),D);l=(C[0]-r[0])/j*n/f;m=(r[3]-C[3])/j*n/f;Y=y[0]*z/f;X=y[1]*z/f;this.drawTileImage(a,d,B,l,m,Y,X,Q,c===q);this.renderedTiles.push(a)}}this.renderedRevision=N;this.renderedResolution=j*b/n*f;this.renderedExtent_=r}var U=this.renderedResolution/p;var R=ol.transform.compose(this.imageTransform_,b*w[0]/2,b*w[1]/2,U,U,0,(this.renderedExtent_[0]-s[0])/this.renderedResolution*b,(s[1]-this.renderedExtent_[3])/this.renderedResolution*b);ol.transform.compose(this.coordinateToCanvasPixelTransform,b*w[0]/2-R[4],b*w[1]/2-R[5],b/p,-b/p,0,-s[0],-s[1]);this.updateUsedTiles(d.usedTiles,e,c,h);this.manageTilePyramid(d,e,g,b,i,k,c,t.getPreload());this.scheduleExpireCache(d,e);this.updateLogos(d,e);return this.renderedTiles.length>0};ol.renderer.canvas.TileLayer.prototype.drawTileImage=function(e,d,m,k,l,j,i,a,g){var c=e.getImage(this.getLayer());if(!c){return}var h=ol.getUid(this);var b=g?e.getAlpha(h,d.time):1;if(b===1&&!this.getLayer().getSource().getOpaque(d.viewState.projection)){this.context.clearRect(k,l,j,i)}var f=b!==this.context.globalAlpha;if(f){this.context.save();this.context.globalAlpha=b}this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,k,l,j,i);if(f){this.context.restore()}if(b!==1){d.animate=!0}else {if(g){e.endTransition(h)}}};ol.renderer.canvas.TileLayer.prototype.getImage=function(){var a=this.context;return a?a.canvas:null};ol.renderer.canvas.TileLayer.prototype.getLayer;ol.renderer.canvas.TileLayer.prototype.getImageTransform=function(){return this.imageTransform_};goog.provide('ol.ext.rbush');ol.ext.rbush=function(){};(function(){(function(c){var a=quickselect;var b=quickselect;function quickselect(a,f,e,d,b){quickselectStep(a,f,e||0,d||a.length-1,b||defaultCompare)}function quickselectStep(d,f,b,e,h){while(e>b){if(e-b>600){var g=e-b+1;var l=f-b+1;var n=Math.log(g);var j=0.5*Math.exp(2*n/3);var m=0.5*Math.sqrt(n*j*(g-j)/g)*(l-g/2<0?-1:1);var p=Math.max(b,Math.floor(f-l*j/g+m));var o=Math.min(e,Math.floor(f+(g-l)*j/g+m));quickselectStep(d,f,p,o,h)}var k=d[f];var i=b;var a=e;swap(d,b,f);if(h(d[e],k)>0){swap(d,b,e)}while(i<a){swap(d,i,a);i++;a--;while(h(d[i],k)<0){i++}while(h(d[a],k)>0){a--}}if(h(d[b],k)===0){swap(d,b,a)}else {a++;swap(d,a,e)}if(a<=f){b=a+1}if(f<=a){e=a-1}}}function swap(a,b,d){var e=a[b];a[b]=a[d];a[d]=e}function defaultCompare(a,b){return a<b?-1:a>b?1:0}a['default']=b;var d=rbush;function rbush(b,a){if(!(this instanceof rbush)){return new rbush(b,a)}this._maxEntries=Math.max(4,b||9);this._minEntries=Math.max(2,Math.ceil(this._maxEntries*0.4));if(a){this._initFormat(a)}this.clear()}rbush.prototype={all:function(){return this._all(this.data,[])},search:function(g){var a=this.data,d=[],j=this.toBBox;if(!intersects(g,a)){return d}var h=[],e,i,b,f;while(a){for(e=0,i=a.children.length;e<i;e++){b=a.children[e];f=a.leaf?j(b):b;if(intersects(g,f)){if(a.leaf){d.push(b)}else {if(contains(g,f)){this._all(b,d)}else {h.push(b)}}}}a=h.pop()}return d},collides:function(f){var a=this.data,i=this.toBBox;if(!intersects(f,a)){return !1}var g=[],d,h,b,e;while(a){for(d=0,h=a.children.length;d<h;d++){b=a.children[d];e=a.leaf?i(b):b;if(intersects(f,e)){if(a.leaf||contains(f,e)){return !0}g.push(b)}}a=g.pop()}return !1},load:function(b){if(!(b&&b.length)){return this}if(b.length<this._minEntries){for(var d=0,f=b.length;d<f;d++){this.insert(b[d])}return this}var a=this._build(b.slice(),0,b.length-1,0);if(!this.data.children.length){this.data=a}else {if(this.data.height===a.height){this._splitRoot(this.data,a)}else {if(this.data.height<a.height){var e=this.data;this.data=a;a=e}this._insert(a,this.data.height-a.height-1,!0)}}return this},insert:function(a){if(a){this._insert(a,this.data.height-1)}return this},clear:function(){this.data=createNode([]);return this},remove:function(h,j){if(!h){return this}var a=this.data,k=this.toBBox(h),b=[],i=[],d,e,g,f;while(a||b.length){if(!a){a=b.pop();e=b[b.length-1];d=i.pop();f=!0}if(a.leaf){g=findItem(h,a.children,j);if(g!==-1){a.children.splice(g,1);b.push(a);this._condense(b);return this}}if(!f&&!a.leaf&&contains(a,k)){b.push(a);i.push(d);d=0;e=a;a=a.children[0]}else {if(e){d++;a=e.children[d];f=!1}else {a=null}}}return this},toBBox:function(a){return a},compareMinX:compareNodeMinX,compareMinY:compareNodeMinY,toJSON:function(){return this.data},fromJSON:function(a){this.data=a;return this},_all:function(a,d){var b=[];while(a){if(a.leaf){d.push.apply(d,a.children)}else {b.push.apply(b,a.children)}a=b.pop()}return d},_build:function(i,j,f,e){var l=f-j+1,b=this._maxEntries,a;if(l<=b){a=createNode(i.slice(j,f+1));calcBBox(a,this.toBBox);return a}if(!e){e=Math.ceil(Math.log(l)/Math.log(b));b=Math.ceil(l/Math.pow(b,e-1))}a=createNode([]);a.leaf=!1;a.height=e;var k=Math.ceil(l/b),m=k*Math.ceil(Math.sqrt(b)),d,g,h,n;multiSelect(i,j,f,m,this.compareMinX);for(d=j;d<=f;d+=m){h=Math.min(d+m-1,f);multiSelect(i,d,h,k,this.compareMinY);for(g=d;g<=h;g+=k){n=Math.min(g+k-1,h);a.children.push(this._build(i,g,n,e-1))}}calcBBox(a,this.toBBox);return a},_chooseSubtree:function(m,a,l,j){var h,k,e,i,d,g,b,f;while(!0){j.push(a);if(a.leaf||j.length-1===l){break}b=f=Infinity;for(h=0,k=a.children.length;h<k;h++){e=a.children[h];d=bboxArea(e);g=enlargedArea(m,e)-d;if(g<f){f=g;b=d<b?d:b;i=e}else {if(g===f){if(d<b){b=d;i=e}}}}a=i||a.children[0]}return a},_insert:function(e,a,g){var h=this.toBBox,d=g?e:h(e),b=[];var f=this._chooseSubtree(d,this.data,a,b);f.children.push(e);extend(f,d);while(a>=0){if(b[a].children.length>this._maxEntries){this._split(b,a);a--}else {break}}this._adjustParentBBoxes(d,b,a)},_split:function(e,d){var a=e[d],g=a.children.length,h=this._minEntries;this._chooseSplitAxis(a,h,g);var f=this._chooseSplitIndex(a,h,g);var b=createNode(a.children.splice(f,a.children.length-f));b.height=a.height;b.leaf=a.leaf;calcBBox(a,this.toBBox);calcBBox(b,this.toBBox);if(d){e[d-1].children.push(b)}else {this._splitRoot(a,b)}},_splitRoot:function(a,b){this.data=createNode([a,b]);this.data.height=a.height+1;this.data.leaf=!1;calcBBox(this.data,this.toBBox)},_chooseSplitIndex:function(j,l,k){var a,g,h,f,d,e,b,i;e=b=Infinity;for(a=l;a<=k-l;a++){g=distBBox(j,0,a,this.toBBox);h=distBBox(j,a,k,this.toBBox);f=intersectionArea(g,h);d=bboxArea(g)+bboxArea(h);if(f<e){e=f;i=a;b=d<b?d:b}else {if(f===e){if(d<b){b=d;i=a}}}}return i},_chooseSplitAxis:function(a,e,d){var b=a.leaf?this.compareMinX:compareNodeMinX,f=a.leaf?this.compareMinY:compareNodeMinY,g=this._allDistMargin(a,e,d,b),h=this._allDistMargin(a,e,d,f);if(g<h){a.children.sort(b)}},_allDistMargin:function(b,e,g,k){b.children.sort(k);var f=this.toBBox,i=distBBox(b,0,e,f),h=distBBox(b,g-e,g,f),j=bboxMargin(i)+bboxMargin(h),a,d;for(a=e;a<g-e;a++){d=b.children[a];extend(i,b.leaf?f(d):d);j+=bboxMargin(i)}for(a=g-e-1;a>=e;a--){d=b.children[a];extend(h,b.leaf?f(d):d);j+=bboxMargin(h)}return j},_adjustParentBBoxes:function(d,e,b){for(var a=b;a>=0;a--){extend(e[a],d)}},_condense:function(b){for(var a=b.length-1,d;a>=0;a--){if(b[a].children.length===0){if(a>0){d=b[a-1].children;d.splice(d.indexOf(b[a]),1)}else {this.clear()}}else {calcBBox(b[a],this.toBBox)}}},_initFormat:function(a){var b=['return a',' - b',';'];this.compareMinX=new Function('a','b',b.join(a[0]));this.compareMinY=new Function('a','b',b.join(a[1]));this.toBBox=new Function('a','return {minX: a'+a[0]+', minY: a'+a[1]+', maxX: a'+a[2]+', maxY: a'+a[3]+'};')}};function findItem(e,b,d){if(!d){return b.indexOf(e)}for(var a=0;a<b.length;a++){if(d(e,b[a])){return a}}return -1}function calcBBox(a,b){distBBox(a,0,a.children.length,b,a)}function distBBox(e,g,h,f,a){if(!a){a=createNode(null)}a.minX=Infinity;a.minY=Infinity;a.maxX=-Infinity;a.maxY=-Infinity;for(var d=g,b;d<h;d++){b=e.children[d];extend(a,e.leaf?f(b):b)}return a}function extend(a,b){a.minX=Math.min(a.minX,b.minX);a.minY=Math.min(a.minY,b.minY);a.maxX=Math.max(a.maxX,b.maxX);a.maxY=Math.max(a.maxY,b.maxY);return a}function compareNodeMinX(a,b){return a.minX-b.minX}function compareNodeMinY(a,b){return a.minY-b.minY}function bboxArea(a){return (a.maxX-a.minX)*(a.maxY-a.minY)}function bboxMargin(a){return a.maxX-a.minX+(a.maxY-a.minY)}function enlargedArea(a,b){return (Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function intersectionArea(a,b){var f=Math.max(a.minX,b.minX),g=Math.max(a.minY,b.minY),d=Math.min(a.maxX,b.maxX),e=Math.min(a.maxY,b.maxY);return Math.max(0,d-f)*Math.max(0,e-g)}function contains(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function intersects(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function createNode(a){return {children:a,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function multiSelect(i,b,d,g,h){var e=[b,d],f;while(e.length){d=e.pop();b=e.pop();if(d-b<=g){continue}f=b+Math.ceil((d-b)/g/2)*g;a(i,f,b,d,h);e.push(b,f,f,d)}}c['default']=d})(this.rbush=this.rbush||{})}).call(ol.ext);ol.ext.rbush=ol.ext.rbush['default'];goog.provide('ol.render.ReplayGroup');ol.render.ReplayGroup=function(){};ol.render.ReplayGroup.prototype.getReplay=function(b,a){};ol.render.ReplayGroup.prototype.isEmpty=function(){};goog.provide('ol.render.ReplayType');ol.render.ReplayType={CIRCLE:'Circle',DEFAULT:'Default',IMAGE:'Image',LINE_STRING:'LineString',POLYGON:'Polygon',TEXT:'Text'};goog.provide('ol.geom.flat.length');ol.geom.flat.length.lineString=function(b,c,j,i){var d=b[c];var f=b[c+1];var h=0;var a;for(a=c+i;a<j;a+=i){var e=b[a];var g=b[a+1];h+=Math.sqrt((e-d)*(e-d)+(g-f)*(g-f));d=e;f=g}return h};ol.geom.flat.length.linearRing=function(a,b,d,c){var e=ol.geom.flat.length.lineString(a,b,d,c);var f=a[d-c]-a[b];var g=a[d-c+1]-a[b+1];e+=Math.sqrt(f*f+g*g);return e};goog.provide('ol.geom.flat.textpath');goog.require('ol.math');ol.geom.flat.textpath.lineString=function(b,a,A,n,z,F,w,E){var s=[];var i=b[a]>b[A-n];var v=z.length;var j=b[a];var k=b[a+1];a+=n;var g=b[a];var h=b[a+1];var r=0;var m=Math.sqrt(Math.pow(g-j,2)+Math.pow(h-k,2));var c='';var q=0;var d,y,l;for(var p=0;p<v;++p){y=i?v-p-1:p;var t=z.charAt(y);c=i?t+c:c+t;var e=F(c)-q;q+=e;var x=w+e/2;while(a<A-n&&r+m<x){j=g;k=h;a+=n;g=b[a];h=b[a+1];r+=m;m=Math.sqrt(Math.pow(g-j,2)+Math.pow(h-k,2))}var D=x-r;var f=Math.atan2(h-k,g-j);if(i){f+=f>0?-Math.PI:Math.PI}if(l!==undefined){var o=f-l;o+=o>Math.PI?-2*Math.PI:o<-Math.PI?2*Math.PI:0;if(Math.abs(o)>E){return null}}var u=D/m;var B=ol.math.lerp(j,g,u);var C=ol.math.lerp(k,h,u);if(l==f){if(i){d[0]=B;d[1]=C;d[2]=e/2}d[4]=c}else {c=t;q=e;d=[B,C,e/2,f,c];if(i){s.unshift(d)}else {s.push(d)}l=f}w+=e}return s};goog.provide('ol.render.canvas.Instruction');ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};goog.provide('ol.render.replay');goog.require('ol.render.ReplayType');ol.render.replay.ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT];ol.render.replay.TEXT_ALIGN={};ol.render.replay.TEXT_ALIGN['left']=0;ol.render.replay.TEXT_ALIGN['end']=0;ol.render.replay.TEXT_ALIGN['center']=0.5;ol.render.replay.TEXT_ALIGN['right']=1;ol.render.replay.TEXT_ALIGN['start']=1;ol.render.replay.TEXT_ALIGN['top']=0;ol.render.replay.TEXT_ALIGN['middle']=0.5;ol.render.replay.TEXT_ALIGN['hanging']=0.2;ol.render.replay.TEXT_ALIGN['alphabetic']=0.8;ol.render.replay.TEXT_ALIGN['ideographic']=0.8;ol.render.replay.TEXT_ALIGN['bottom']=1;goog.provide('ol.render.canvas.Replay');goog.require('ol');goog.require('ol.array');goog.require('ol.colorlike');goog.require('ol.extent');goog.require('ol.extent.Relationship');goog.require('ol.geom.GeometryType');goog.require('ol.geom.flat.inflate');goog.require('ol.geom.flat.length');goog.require('ol.geom.flat.textpath');goog.require('ol.geom.flat.transform');goog.require('ol.has');goog.require('ol.obj');goog.require('ol.render.VectorContext');goog.require('ol.render.canvas');goog.require('ol.render.canvas.Instruction');goog.require('ol.render.replay');goog.require('ol.transform');ol.render.canvas.Replay=function(e,d,c,b,f,a){ol.render.VectorContext.call(this);this.declutterTree=a;this.tmpExtent_=ol.extent.createEmpty();this.tolerance=e;this.maxExtent=d;this.overlaps=f;this.pixelRatio=b;this.maxLineWidth=0;this.resolution=c;this.fillOrigin_;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_=null;this.bufferedMaxExtent_=null;this.instructions=[];this.coordinates=[];this.coordinateCache_={};this.renderedTransform_=ol.transform.create();this.hitDetectionInstructions=[];this.pixelCoordinates_=null;this.state={};this.viewRotation_=0;this.tmpLocalTransform_=ol.transform.create();this.resetTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Replay,ol.render.VectorContext);ol.render.canvas.Replay.prototype.replayTextBackground_=function(a,d,e,f,g,c,b){a.beginPath();a.moveTo.apply(a,d);a.lineTo.apply(a,e);a.lineTo.apply(a,f);a.lineTo.apply(a,g);a.lineTo.apply(a,d);if(c){this.fillOrigin_=c[2];this.fill_(a)}if(b){this.setStrokeStyle_(a,b);a.stroke()}};ol.render.canvas.Replay.prototype.replayImage_=function(l,b,c,e,y,z,j,I,G,m,n,x,f,K,J,d,t,s){var v=t||s;var i=this.tmpLocalTransform_;y*=f;z*=f;b-=y;c-=z;if(K){b=Math.round(b);c=Math.round(c)}var D=J+m>e.width?e.width-m:J;var C=I+n>e.height?e.height-n:I;var a=this.tmpExtent_;var B=d[3]+D*f+d[1];var A=d[0]+C*f+d[2];var g=b-d[3];var h=c-d[0];var o;var p;var q;var r;if(v||x!==0){o=[g,h];p=[g+B,h];q=[g+B,h+A];r=[g,h+A]}var k=null;if(x!==0){var E=b+y;var F=c+z;k=ol.transform.compose(i,E,F,1,1,x,-E,-F);ol.extent.createOrUpdateEmpty(a);ol.extent.extendCoordinate(a,ol.transform.apply(i,o));ol.extent.extendCoordinate(a,ol.transform.apply(i,p));ol.extent.extendCoordinate(a,ol.transform.apply(i,q));ol.extent.extendCoordinate(a,ol.transform.apply(i,r))}else {ol.extent.createOrUpdate(g,h,g+B,h+A,a)}var H=l.canvas;var w=a[0]<=H.width&&a[2]>=0&&a[1]<=H.height&&a[3]>=0;if(j){if(!w&&j[4]==1){return}ol.extent.extend(j,a);var u=w?[l,k?k.slice(0):null,G,e,m,n,D,C,b,c,f]:null;if(u&&v){u.push(t,s,o,p,q,r)}j.push(u)}else {if(w){if(v){this.replayTextBackground_(l,o,p,q,r,t,s)}ol.render.canvas.drawImage(l,k,G,e,m,n,D,C,b,c,f)}}};ol.render.canvas.Replay.prototype.applyPixelRatio=function(b){var a=this.pixelRatio;return a==1?b:b.map(function(c){return c*a})};ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(g,f,n,i,l,k){var b=this.coordinates.length;var m=this.getBufferedMaxExtent();if(k){f+=i}var c=[g[f],g[f+1]];var a=[NaN,NaN];var e=!0;var d,j,h;for(d=f+i;d<n;d+=i){a[0]=g[d];a[1]=g[d+1];h=ol.extent.coordinateRelationship(m,a);if(h!==j){if(e){this.coordinates[b++]=c[0];this.coordinates[b++]=c[1]}this.coordinates[b++]=a[0];this.coordinates[b++]=a[1];e=!1}else {if(h===ol.extent.Relationship.INTERSECTING){this.coordinates[b++]=a[0];this.coordinates[b++]=a[1];e=!1}else {e=!0}}c[0]=a[0];c[1]=a[1];j=h}if(l&&e||d===f+i){this.coordinates[b++]=c[0];this.coordinates[b++]=c[1]}return b};ol.render.canvas.Replay.prototype.drawCustomCoordinates_=function(e,a,c,h,f){for(var b=0,i=c.length;b<i;++b){var d=c[b];var g=this.appendFlatCoordinates(e,a,d,h,!1,!1);f.push(g);a=d}return a};ol.render.canvas.Replay.prototype.drawCustom=function(a,l,f){this.beginGeometry(a,l);var c=a.getType();var j=a.getStride();var d=this.coordinates.length;var b,e,i,h;var g;if(c==ol.geom.GeometryType.MULTI_POLYGON){a=a;b=a.getOrientedFlatCoordinates();h=[];var n=a.getEndss();g=0;for(var k=0,o=n.length;k<o;++k){var m=[];g=this.drawCustomCoordinates_(b,g,n[k],j,m);h.push(m)}this.instructions.push([ol.render.canvas.Instruction.CUSTOM,d,h,a,f,ol.geom.flat.inflate.coordinatesss])}else {if(c==ol.geom.GeometryType.POLYGON||c==ol.geom.GeometryType.MULTI_LINE_STRING){i=[];b=c==ol.geom.GeometryType.POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates();g=this.drawCustomCoordinates_(b,0,a.getEnds(),j,i);this.instructions.push([ol.render.canvas.Instruction.CUSTOM,d,i,a,f,ol.geom.flat.inflate.coordinatess])}else {if(c==ol.geom.GeometryType.LINE_STRING||c==ol.geom.GeometryType.MULTI_POINT){b=a.getFlatCoordinates();e=this.appendFlatCoordinates(b,0,b.length,j,!1,!1);this.instructions.push([ol.render.canvas.Instruction.CUSTOM,d,e,a,f,ol.geom.flat.inflate.coordinates])}else {if(c==ol.geom.GeometryType.POINT){b=a.getFlatCoordinates();this.coordinates.push(b[0],b[1]);e=this.coordinates.length;this.instructions.push([ol.render.canvas.Instruction.CUSTOM,d,e,a,f])}}}}this.endGeometry(a,l)};ol.render.canvas.Replay.prototype.beginGeometry=function(b,a){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,a,0];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,a,0];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};ol.render.canvas.Replay.prototype.fill_=function(a){if(this.fillOrigin_){var b=ol.transform.apply(this.renderedTransform_,this.fillOrigin_.slice());a.translate(b[0],b[1]);a.rotate(this.viewRotation_)}a.fill();if(this.fillOrigin_){a.setTransform.apply(a,ol.render.canvas.resetTransform_)}};ol.render.canvas.Replay.prototype.setStrokeStyle_=function(b,a){b.strokeStyle=a[1];b.lineWidth=a[2];b.lineCap=a[3];b.lineJoin=a[4];b.miterLimit=a[5];if(ol.has.CANVAS_LINE_DASH){b.lineDashOffset=a[7];b.setLineDash(a[6])}};ol.render.canvas.Replay.prototype.renderDeclutter_=function(a,g){if(a&&a.length>5){var d=a[4];if(d==1||d==a.length-5){var e={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:g};if(!this.declutterTree.collides(e)){this.declutterTree.insert(e);var f=ol.render.canvas.drawImage;for(var c=5,h=a.length;c<h;++c){var b=a[c];if(b){if(b.length>11){this.replayTextBackground_(b[0],b[13],b[14],b[15],b[16],b[11],b[12])}f.apply(undefined,b)}}}a.length=5;ol.extent.createOrUpdateEmpty(a)}}};ol.render.canvas.Replay.prototype.replay_=function(c,F,O,E,x,P){var e;if(this.pixelCoordinates_&&ol.array.equals(F,this.renderedTransform_)){e=this.pixelCoordinates_}else {if(!this.pixelCoordinates_){this.pixelCoordinates_=[]}e=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,F,this.pixelCoordinates_);ol.transform.setFromArray(this.renderedTransform_,F)}var ai=!ol.obj.isEmpty(O);var d=0;var ax=E.length;var b=0;var m;var n,o,v,w,p,q,k,aa;var l=0;var h=0;var N=null;var M=null;var C=this.coordinateCache_;var Q=this.viewRotation_;var J={context:c,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Q};var y=this.instructions!=E||this.overlaps?0:200;while(d<ax){var a=E[d];var aw=a[0];var i,r,s;switch(aw){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:i=a[1];if(ai&&O[ol.getUid(i).toString()]||!i.getGeometry()){d=a[2]}else {if(P!==undefined&&!ol.extent.intersects(P,i.getGeometry().getExtent())){d=a[2]+1}else {++d}};break;case ol.render.canvas.Instruction.BEGIN_PATH:if(l>y){this.fill_(c);l=0};if(h>y){c.stroke();h=0};if(!l&&!h){c.beginPath();v=w=NaN};++d;break;case ol.render.canvas.Instruction.CIRCLE:b=a[1];var K=e[b];var L=e[b+1];var ay=e[b+2];var az=e[b+3];var ad=ay-K;var ae=az-L;var ag=Math.sqrt(ad*ad+ae*ae);c.moveTo(K+ag,L);c.arc(K,L,ag,0,2*Math.PI,!0);++d;break;case ol.render.canvas.Instruction.CLOSE_PATH:c.closePath();++d;break;case ol.render.canvas.Instruction.CUSTOM:b=a[1];m=a[2];var al=a[3];var ao=a[4];var af=a.length==6?a[5]:undefined;J.geometry=al;J.feature=i;if(!(d in C)){C[d]=[]};var t=C[d];if(af){af(e,b,m,2,t)}else {t[0]=e[b];t[1]=e[b+1];t.length=2};ao(t,J);++d;break;case ol.render.canvas.Instruction.DRAW_IMAGE:b=a[1];m=a[2];aa=a[3];n=a[4];o=a[5];k=x?null:a[6];var as=a[7];var ap=a[8];var aq=a[9];var ar=a[10];var ah=a[11];var W=a[12];var au=a[13];var aj=a[14];var av=a[15];var H,D,B;if(a.length>16){H=a[16];D=a[17];B=a[18]}else {H=ol.render.canvas.defaultPadding;D=B=!1};if(ah){W+=Q};for(;b<m;b+=2){this.replayImage_(c,e[b],e[b+1],aa,n,o,k,as,ap,aq,ar,W,au,aj,av,H,D?N:null,B?M:null)};this.renderDeclutter_(k,i);++d;break;case ol.render.canvas.Instruction.DRAW_CHARS:var _=a[1];var ac=a[2];var G=a[3];k=x?null:a[4];var an=a[5];var X=a[6];var am=a[7];var Y=a[8];var Z=a[9];var U=a[10];var R=a[11];var ab=a[12];var I=a[13];var V=a[14];var S=ol.geom.flat.length.lineString(e,_,ac,2);var T=Y(ab);if(an||T<=S){var ak=this.textStates[I].textAlign;var at=(S-T)*ol.render.replay.TEXT_ALIGN[ak];var u=ol.geom.flat.textpath.lineString(e,_,ac,2,ab,Y,at,am);if(u){var j,A,z,g,f;if(U){for(j=0,A=u.length;j<A;++j){f=u[j];z=f[4];g=this.getImage(z,I,'',U);n=f[2]+R;o=G*g.height+(0.5-G)*2*R-Z;this.replayImage_(c,f[0],f[1],g,n,o,k,g.height,1,0,0,f[3],V,!1,g.width,ol.render.canvas.defaultPadding,null,null)}}if(X){for(j=0,A=u.length;j<A;++j){f=u[j];z=f[4];g=this.getImage(z,I,X,'');n=f[2];o=G*g.height-Z;this.replayImage_(c,f[0],f[1],g,n,o,k,g.height,1,0,0,f[3],V,!1,g.width,ol.render.canvas.defaultPadding,null,null)}}}};this.renderDeclutter_(k,i);++d;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(x!==undefined){i=a[1];var $=x(i);if($){return $}};++d;break;case ol.render.canvas.Instruction.FILL:if(y){l++}else {this.fill_(c)};++d;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:b=a[1];m=a[2];r=e[b];s=e[b+1];p=r+0.5|0;q=s+0.5|0;if(p!==v||q!==w){c.moveTo(r,s);v=p;w=q};for(b+=2;b<m;b+=2){r=e[b];s=e[b+1];p=r+0.5|0;q=s+0.5|0;if(b==m-2||p!==v||q!==w){c.lineTo(r,s);v=p;w=q}};++d;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:N=a;this.fillOrigin_=a[2];if(l){this.fill_(c);l=0;if(h){c.stroke();h=0}};c.fillStyle=a[1];++d;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:M=a;if(h){c.stroke();h=0};this.setStrokeStyle_(c,a);++d;break;case ol.render.canvas.Instruction.STROKE:if(y){h++}else {c.stroke()};++d;break;default:++d;break;}}if(l){this.fill_(c)}if(h){c.stroke()}return undefined};ol.render.canvas.Replay.prototype.replay=function(d,c,b,a){this.viewRotation_=b;this.replay_(d,c,a,this.instructions,undefined,undefined)};ol.render.canvas.Replay.prototype.replayHitDetection=function(f,e,d,b,a,c){this.viewRotation_=d;return this.replay_(f,e,b,this.hitDetectionInstructions,a,c)};ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions=function(){var b=this.hitDetectionInstructions;b.reverse();var a;var f=b.length;var c;var e;var d=-1;for(a=0;a<f;++a){c=b[a];e=c[0];if(e==ol.render.canvas.Instruction.END_GEOMETRY){d=a}else {if(e==ol.render.canvas.Instruction.BEGIN_GEOMETRY){c[2]=a;ol.array.reverseSubArray(this.hitDetectionInstructions,d,a);d=-1}}}};ol.render.canvas.Replay.prototype.setFillStrokeStyle=function(k,b){var a=this.state;if(k){var j=k.getColor();a.fillStyle=ol.colorlike.asColorLike(j?j:ol.render.canvas.defaultFillStyle)}else {a.fillStyle=undefined}if(b){var h=b.getColor();a.strokeStyle=ol.colorlike.asColorLike(h?h:ol.render.canvas.defaultStrokeStyle);var g=b.getLineCap();a.lineCap=g!==undefined?g:ol.render.canvas.defaultLineCap;var e=b.getLineDash();a.lineDash=e?e.slice():ol.render.canvas.defaultLineDash;var c=b.getLineDashOffset();a.lineDashOffset=c?c:ol.render.canvas.defaultLineDashOffset;var f=b.getLineJoin();a.lineJoin=f!==undefined?f:ol.render.canvas.defaultLineJoin;var i=b.getWidth();a.lineWidth=i!==undefined?i:ol.render.canvas.defaultLineWidth;var d=b.getMiterLimit();a.miterLimit=d!==undefined?d:ol.render.canvas.defaultMiterLimit;if(a.lineWidth>this.maxLineWidth){this.maxLineWidth=a.lineWidth;this.bufferedMaxExtent_=null}}else {a.strokeStyle=undefined;a.lineCap=undefined;a.lineDash=null;a.lineDashOffset=undefined;a.lineJoin=undefined;a.lineWidth=undefined;a.miterLimit=undefined}};ol.render.canvas.Replay.prototype.applyFill=function(e,d){var c=e.fillStyle;var a=[ol.render.canvas.Instruction.SET_FILL_STYLE,c];if(typeof c!=='string'){var b=d.getExtent();a.push([b[0],b[3]])}this.instructions.push(a)};ol.render.canvas.Replay.prototype.applyStroke=function(a){this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,this.applyPixelRatio(a.lineDash),a.lineDashOffset*this.pixelRatio])};ol.render.canvas.Replay.prototype.updateFillStyle=function(a,c,d){var b=a.fillStyle;if(typeof b!=='string'||a.currentFillStyle!=b){c.call(this,a,d);a.currentFillStyle=b}};ol.render.canvas.Replay.prototype.updateStrokeStyle=function(a,i){var d=a.strokeStyle;var h=a.lineCap;var b=a.lineDash;var c=a.lineDashOffset;var g=a.lineJoin;var f=a.lineWidth;var e=a.miterLimit;if(a.currentStrokeStyle!=d||a.currentLineCap!=h||b!=a.currentLineDash&&!ol.array.equals(a.currentLineDash,b)||a.currentLineDashOffset!=c||a.currentLineJoin!=g||a.currentLineWidth!=f||a.currentMiterLimit!=e){i.call(this,a);a.currentStrokeStyle=d;a.currentLineCap=h;a.currentLineDash=b;a.currentLineDashOffset=c;a.currentLineJoin=g;a.currentLineWidth=f;a.currentMiterLimit=e}};ol.render.canvas.Replay.prototype.endGeometry=function(c,b){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;var a=[ol.render.canvas.Instruction.END_GEOMETRY,b];this.instructions.push(a);this.hitDetectionInstructions.push(a)};ol.render.canvas.Replay.prototype.finish=ol.nullFunction;ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_){this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent);if(this.maxLineWidth>0){var a=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}}return this.bufferedMaxExtent_};goog.provide('ol.render.canvas.ImageReplay');goog.require('ol');goog.require('ol.render.canvas.Instruction');goog.require('ol.render.canvas.Replay');ol.render.canvas.ImageReplay=function(e,d,c,b,f,a){ol.render.canvas.Replay.call(this,e,d,c,b,f,a);this.declutterGroup_=null;this.hitDetectionImage_=null;this.image_=null;this.anchorX_=undefined;this.anchorY_=undefined;this.height_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.snapToPixel_=undefined;this.width_=undefined};ol.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay);ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(a,b,d,c){return this.appendFlatCoordinates(a,b,d,c,!1,!1)};ol.render.canvas.ImageReplay.prototype.drawPoint=function(a,c){if(!this.image_){return}this.beginGeometry(a,c);var b=a.getFlatCoordinates();var f=a.getStride();var d=this.coordinates.length;var e=this.drawCoordinates_(b,0,b.length,f);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,d,e,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,d,e,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(a,c)};ol.render.canvas.ImageReplay.prototype.drawMultiPoint=function(a,c){if(!this.image_){return}this.beginGeometry(a,c);var b=a.getFlatCoordinates();var f=a.getStride();var d=this.coordinates.length;var e=this.drawCoordinates_(b,0,b.length,f);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,d,e,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,d,e,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(a,c)};ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorX_=undefined;this.anchorY_=undefined;this.hitDetectionImage_=null;this.image_=null;this.height_=undefined;this.scale_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.snapToPixel_=undefined;this.width_=undefined};ol.render.canvas.ImageReplay.prototype.setImageStyle=function(a,f){var b=a.getAnchor();var d=a.getSize();var e=a.getHitDetectionImage(1);var g=a.getImage(1);var c=a.getOrigin();this.anchorX_=b[0];this.anchorY_=b[1];this.declutterGroup_=f;this.hitDetectionImage_=e;this.image_=g;this.height_=d[1];this.opacity_=a.getOpacity();this.originX_=c[0];this.originY_=c[1];this.rotateWithView_=a.getRotateWithView();this.rotation_=a.getRotation();this.scale_=a.getScale();this.snapToPixel_=a.getSnapToPixel();this.width_=d[0]};goog.provide('ol.render.canvas.LineStringReplay');goog.require('ol');goog.require('ol.render.canvas.Instruction');goog.require('ol.render.canvas.Replay');ol.render.canvas.LineStringReplay=function(e,d,c,b,f,a){ol.render.canvas.Replay.call(this,e,d,c,b,f,a)};ol.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay);ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(c,e,b,f){var d=this.coordinates.length;var g=this.appendFlatCoordinates(c,e,b,f,!1,!1);var a=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,d,g];this.instructions.push(a);this.hitDetectionInstructions.push(a);return b};ol.render.canvas.LineStringReplay.prototype.drawLineString=function(b,d){var a=this.state;var e=a.strokeStyle;var f=a.lineWidth;if(e===undefined||f===undefined){return}this.updateStrokeStyle(a,this.applyStroke);this.beginGeometry(b,d);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,a.lineDash,a.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var c=b.getFlatCoordinates();var g=b.getStride();this.drawFlatCoordinates_(c,0,c.length,g);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(b,d)};ol.render.canvas.LineStringReplay.prototype.drawMultiLineString=function(b,d){var a=this.state;var i=a.strokeStyle;var j=a.lineWidth;if(i===undefined||j===undefined){return}this.updateStrokeStyle(a,this.applyStroke);this.beginGeometry(b,d);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,a.lineDash,a.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var f=b.getEnds();var h=b.getFlatCoordinates();var k=b.getStride();var e=0;var c,g;for(c=0,g=f.length;c<g;++c){e=this.drawFlatCoordinates_(h,e,f[c],k)}this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(b,d)};ol.render.canvas.LineStringReplay.prototype.finish=function(){var a=this.state;if(a.lastStroke!=undefined&&a.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE])}this.reverseHitDetectionInstructions();this.state=null};ol.render.canvas.LineStringReplay.prototype.applyStroke=function(a){if(a.lastStroke!=undefined&&a.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE]);a.lastStroke=this.coordinates.length}a.lastStroke=0;ol.render.canvas.Replay.prototype.applyStroke.call(this,a);this.instructions.push([ol.render.canvas.Instruction.BEGIN_PATH])};goog.provide('ol.render.canvas.PolygonReplay');goog.require('ol');goog.require('ol.color');goog.require('ol.geom.flat.simplify');goog.require('ol.render.canvas');goog.require('ol.render.canvas.Instruction');goog.require('ol.render.canvas.Replay');ol.render.canvas.PolygonReplay=function(e,d,c,b,f,a){ol.render.canvas.Replay.call(this,e,d,c,b,f,a)};ol.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay);ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(l,a,j,o){var i=this.state;var q=i.fillStyle!==undefined;var b=i.strokeStyle!=undefined;var n=j.length;var e=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(e);this.hitDetectionInstructions.push(e);for(var c=0;c<n;++c){var k=j[c];var m=this.coordinates.length;var p=this.appendFlatCoordinates(l,a,k,o,!0,!b);var d=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,m,p];this.instructions.push(d);this.hitDetectionInstructions.push(d);if(b){var f=[ol.render.canvas.Instruction.CLOSE_PATH];this.instructions.push(f);this.hitDetectionInstructions.push(f)}a=k}var h=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(h);if(q){this.instructions.push(h)}if(b){var g=[ol.render.canvas.Instruction.STROKE];this.instructions.push(g);this.hitDetectionInstructions.push(g)}return a};ol.render.canvas.PolygonReplay.prototype.drawCircle=function(b,h){var a=this.state;var j=a.fillStyle;var i=a.strokeStyle;if(j===undefined&&i===undefined){return}this.setFillStrokeStyles_(b);this.beginGeometry(b,h);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(a.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,a.lineDash,a.lineDashOffset])}var g=b.getFlatCoordinates();var l=b.getStride();var k=this.coordinates.length;this.appendFlatCoordinates(g,0,g.length,l,!1,!1);var c=[ol.render.canvas.Instruction.BEGIN_PATH];var d=[ol.render.canvas.Instruction.CIRCLE,k];this.instructions.push(c,d);this.hitDetectionInstructions.push(c,d);var f=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(f);if(a.fillStyle!==undefined){this.instructions.push(f)}if(a.strokeStyle!==undefined){var e=[ol.render.canvas.Instruction.STROKE];this.instructions.push(e);this.hitDetectionInstructions.push(e)}this.endGeometry(b,h)};ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(b,c){var a=this.state;this.setFillStrokeStyles_(b);this.beginGeometry(b,c);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(a.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,a.lineDash,a.lineDashOffset])}var f=b.getEnds();var d=b.getOrientedFlatCoordinates();var e=b.getStride();this.drawFlatCoordinatess_(d,0,f,e);this.endGeometry(b,c)};ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(b,d){var a=this.state;var j=a.fillStyle;var i=a.strokeStyle;if(j===undefined&&i===undefined){return}this.setFillStrokeStyles_(b);this.beginGeometry(b,d);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(a.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,a.lineDash,a.lineDashOffset])}var f=b.getEndss();var h=b.getOrientedFlatCoordinates();var k=b.getStride();var e=0;var c,g;for(c=0,g=f.length;c<g;++c){e=this.drawFlatCoordinatess_(h,e,f[c],k)}this.endGeometry(b,d)};ol.render.canvas.PolygonReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var c=this.tolerance;if(c!==0){var b=this.coordinates;var a,d;for(a=0,d=b.length;a<d;++a){b[a]=ol.geom.flat.simplify.snap(b[a],c)}}};ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(c){var a=this.state;var b=a.fillStyle;if(b!==undefined){this.updateFillStyle(a,this.applyFill,c)}if(a.strokeStyle!==undefined){this.updateStrokeStyle(a,this.applyStroke)}};goog.provide('ol.geom.flat.straightchunk');ol.geom.flat.straightchunk.lineString=function(u,l,e,v,o){var m=e;var n=e;var g=0;var b=0;var h=e;var p,a,i,f,k,s,j,q,c,d;for(a=e;a<v;a+=o){var r=l[a];var t=l[a+1];if(k!==undefined){c=r-k;d=t-s;f=Math.sqrt(c*c+d*d);if(j!==undefined){b+=i;p=Math.acos((j*c+q*d)/(i*f));if(p>u){if(b>g){g=b;m=h;n=a}b=0;h=a-o}}i=f;j=c;q=d}k=r;s=t}b+=f;return b>g?[h,a]:[m,n]};goog.provide('ol.style.TextPlacement');ol.style.TextPlacement={POINT:'point',LINE:'line'};goog.provide('ol.render.canvas.TextReplay');goog.require('ol');goog.require('ol.colorlike');goog.require('ol.dom');goog.require('ol.extent');goog.require('ol.geom.flat.straightchunk');goog.require('ol.geom.GeometryType');goog.require('ol.has');goog.require('ol.render.canvas');goog.require('ol.render.canvas.Instruction');goog.require('ol.render.canvas.Replay');goog.require('ol.render.replay');goog.require('ol.style.TextPlacement');ol.render.canvas.TextReplay=function(f,e,d,c,g,a){ol.render.canvas.Replay.call(this,f,e,d,c,g,a);this.declutterGroup_;this.labels_=null;this.text_='';this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=undefined;this.textRotation_=0;this.textFillState_=null;this.fillStates={};this.textStrokeState_=null;this.strokeStates={};this.textState_={};this.textStates={};this.textKey_='';this.fillKey_='';this.strokeKey_='';this.widths_={};var b=ol.render.canvas.labelCache;b.prune()};ol.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay);ol.render.canvas.TextReplay.measureTextWidths=function(g,d,f){var e=d.length;var c=0;var b,a;for(a=0;a<e;++a){b=ol.render.canvas.measureTextWidth(g,d[a]);c=Math.max(c,b);f.push(b)}return c};ol.render.canvas.TextReplay.prototype.drawText=function(a,l){var u=this.textFillState_;var t=this.textStrokeState_;var d=this.textState_;if(this.text_===''||!d||!u&&!t){return}var o=this.coordinates.length;var g=a.getType();var b=null;var e=2;var h=2;var c,m;if(d.placement===ol.style.TextPlacement.LINE){if(!ol.extent.intersects(this.getBufferedMaxExtent(),a.getExtent())){return}var f;b=a.getFlatCoordinates();h=a.getStride();if(g==ol.geom.GeometryType.LINE_STRING){f=[b.length]}else {if(g==ol.geom.GeometryType.MULTI_LINE_STRING){f=a.getEnds()}else {if(g==ol.geom.GeometryType.POLYGON){f=a.getEnds().slice(0,1)}else {if(g==ol.geom.GeometryType.MULTI_POLYGON){var p=a.getEndss();f=[];for(c=0,m=p.length;c<m;++c){f.push(p[c][0])}}}}}this.beginGeometry(a,l);var v=d.textAlign;var k=0;var n;for(var i=0,w=f.length;i<w;++i){if(v==undefined){var r=ol.geom.flat.straightchunk.lineString(d.maxAngle,b,k,f[i],h);k=r[0];n=r[1]}else {n=f[i]}for(c=k;c<n;c+=h){this.coordinates.push(b[c],b[c+1])}e=this.coordinates.length;k=f[i];this.drawChars_(o,e,this.declutterGroup_);o=e}this.endGeometry(a,l)}else {var q=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_);var s=q.width/this.pixelRatio;switch(g){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:b=a.getFlatCoordinates();e=b.length;break;case ol.geom.GeometryType.LINE_STRING:b=a.getFlatMidpoint();break;case ol.geom.GeometryType.CIRCLE:b=a.getCenter();break;case ol.geom.GeometryType.MULTI_LINE_STRING:b=a.getFlatMidpoints();e=b.length;break;case ol.geom.GeometryType.POLYGON:b=a.getFlatInteriorPoint();if(!d.overflow&&b[2]/this.resolution<s){return};h=3;break;case ol.geom.GeometryType.MULTI_POLYGON:var j=a.getFlatInteriorPoints();b=[];for(c=0,m=j.length;c<m;c+=3){if(d.overflow||j[c+2]/this.resolution>=s){b.push(j[c],j[c+1])}};e=b.length;if(e==0){return};break;default:}e=this.appendFlatCoordinates(b,0,e,h,!1,!1);this.beginGeometry(a,l);if(d.backgroundFill||d.backgroundStroke){this.setFillStrokeStyle(d.backgroundFill,d.backgroundStroke);this.updateFillStyle(this.state,this.applyFill,a);this.updateStrokeStyle(this.state,this.applyStroke)}this.drawTextImage_(q,o,e);this.endGeometry(a,l)}};ol.render.canvas.TextReplay.prototype.getImage=function(s,q,i,f){var o;var p=f+q+s+i+this.pixelRatio;var k=ol.render.canvas.labelCache;if(!k.containsKey(p)){var c=f?this.strokeStates[f]||this.textStrokeState_:null;var w=i?this.fillStates[i]||this.textFillState_:null;var h=this.textStates[q]||this.textState_;var v=this.pixelRatio;var d=h.scale*v;var r=ol.render.replay.TEXT_ALIGN[h.textAlign||ol.render.canvas.defaultTextAlign];var e=f&&c.lineWidth?c.lineWidth:0;var j=s.split('\n');var m=j.length;var n=[];var y=ol.render.canvas.TextReplay.measureTextWidths(h.font,j,n);var g=ol.render.canvas.measureTextHeight(h.font);var x=g*m;var u=y+e;var a=ol.dom.createCanvasContext2D(Math.ceil(u*d),Math.ceil((x+e)*d));o=a.canvas;k.set(p,o);if(d!=1){a.scale(d,d)}a.font=h.font;if(f){a.strokeStyle=c.strokeStyle;a.lineWidth=e*(ol.has.SAFARI?d:1);a.lineCap=c.lineCap;a.lineJoin=c.lineJoin;a.miterLimit=c.miterLimit;if(ol.has.CANVAS_LINE_DASH&&c.lineDash.length){a.setLineDash(c.lineDash);a.lineDashOffset=c.lineDashOffset}}if(i){a.fillStyle=w.fillStyle}a.textBaseline='middle';a.textAlign='center';var l=0.5-r;var t=r*o.width/d+l*e;var b;if(f){for(b=0;b<m;++b){a.strokeText(j[b],t+l*n[b],0.5*(e+g)+b*g)}}if(i){for(b=0;b<m;++b){a.fillText(j[b],t+l*n[b],0.5*(e+g)+b*g)}}}return k.get(p)};ol.render.canvas.TextReplay.prototype.drawTextImage_=function(c,j,k){var a=this.textState_;var d=this.textStrokeState_;var b=this.pixelRatio;var i=ol.render.replay.TEXT_ALIGN[a.textAlign||ol.render.canvas.defaultTextAlign];var f=ol.render.replay.TEXT_ALIGN[a.textBaseline];var e=d&&d.lineWidth?d.lineWidth:0;var g=i*c.width/b+2*(0.5-i)*e;var h=f*c.height/b+2*(0.5-f)*e;this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,j,k,c,(g-this.textOffsetX_)*b,(h-this.textOffsetY_)*b,this.declutterGroup_,c.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,c.width,a.padding==ol.render.canvas.defaultPadding?ol.render.canvas.defaultPadding:a.padding.map(function(a){return a*b}),!!a.backgroundFill,!!a.backgroundStroke]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,j,k,c,(g-this.textOffsetX_)*b,(h-this.textOffsetY_)*b,this.declutterGroup_,c.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/b,!0,c.width,a.padding,!!a.backgroundFill,!!a.backgroundStroke])};ol.render.canvas.TextReplay.prototype.drawChars_=function(o,q,i){var a=this.textStrokeState_;var b=this.textState_;var k=this.textFillState_;var e=this.strokeKey_;if(a){if(!(e in this.strokeStates)){this.strokeStates[e]={strokeStyle:a.strokeStyle,lineCap:a.lineCap,lineDashOffset:a.lineDashOffset,lineWidth:a.lineWidth,lineJoin:a.lineJoin,miterLimit:a.miterLimit,lineDash:a.lineDash}}}var n=this.textKey_;if(!(this.textKey_ in this.textStates)){this.textStates[this.textKey_]={font:b.font,textAlign:b.textAlign||ol.render.canvas.defaultTextAlign,scale:b.scale}}var f=this.fillKey_;if(k){if(!(f in this.fillStates)){this.fillStates[f]={fillStyle:k.fillStyle}}}var d=this.pixelRatio;var l=ol.render.replay.TEXT_ALIGN[b.textBaseline];var m=this.textOffsetY_*d;var p=this.text_;var g=b.font;var h=b.scale;var j=a?a.lineWidth*h/2:0;var c=this.widths_[g];if(!c){this.widths_[g]=c={}}this.instructions.push([ol.render.canvas.Instruction.DRAW_CHARS,o,q,l,i,b.overflow,f,b.maxAngle,function(b){var a=c[b];if(!a){a=c[b]=ol.render.canvas.measureTextWidth(g,b)}return a*h*d},m,e,j*d,p,n,1]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_CHARS,o,q,l,i,b.overflow,f,b.maxAngle,function(b){var a=c[b];if(!a){a=c[b]=ol.render.canvas.measureTextWidth(g,b)}return a*h},m,e,j,p,n,1/d])};ol.render.canvas.TextReplay.prototype.setTextStyle=function(b,q){var c,d,a;if(!b){this.text_=''}else {this.declutterGroup_=q;var h=b.getFill();if(!h){d=this.textFillState_=null}else {d=this.textFillState_;if(!d){d=this.textFillState_={}}d.fillStyle=ol.colorlike.asColorLike(h.getColor()||ol.render.canvas.defaultFillStyle)}var e=b.getStroke();if(!e){a=this.textStrokeState_=null}else {a=this.textStrokeState_;if(!a){a=this.textStrokeState_={}}var o=e.getLineDash();var g=e.getLineDashOffset();var m=e.getWidth();var l=e.getMiterLimit();a.lineCap=e.getLineCap()||ol.render.canvas.defaultLineCap;a.lineDash=o?o.slice():ol.render.canvas.defaultLineDash;a.lineDashOffset=g===undefined?ol.render.canvas.defaultLineDashOffset:g;a.lineJoin=e.getLineJoin()||ol.render.canvas.defaultLineJoin;a.lineWidth=m===undefined?ol.render.canvas.defaultLineWidth:m;a.miterLimit=l===undefined?ol.render.canvas.defaultMiterLimit:l;a.strokeStyle=ol.colorlike.asColorLike(e.getColor()||ol.render.canvas.defaultStrokeStyle)}c=this.textState_;var p=b.getFont()||ol.render.canvas.defaultFont;ol.render.canvas.checkFont(p);var n=b.getScale();c.overflow=b.getOverflow();c.font=p;c.maxAngle=b.getMaxAngle();c.placement=b.getPlacement();c.textAlign=b.getTextAlign();c.textBaseline=b.getTextBaseline()||ol.render.canvas.defaultTextBaseline;c.backgroundFill=b.getBackgroundFill();c.backgroundStroke=b.getBackgroundStroke();c.padding=b.getPadding()||ol.render.canvas.defaultPadding;c.scale=n===undefined?1:n;var j=b.getOffsetX();var k=b.getOffsetY();var f=b.getRotateWithView();var i=b.getRotation();this.text_=b.getText()||'';this.textOffsetX_=j===undefined?0:j;this.textOffsetY_=k===undefined?0:k;this.textRotateWithView_=f===undefined?!1:f;this.textRotation_=i===undefined?0:i;this.strokeKey_=a?(typeof a.strokeStyle=='string'?a.strokeStyle:ol.getUid(a.strokeStyle))+a.lineCap+a.lineDashOffset+'|'+a.lineWidth+a.lineJoin+a.miterLimit+'['+a.lineDash.join()+']':'';this.textKey_=c.font+c.scale+(c.textAlign||'?');this.fillKey_=d?typeof d.fillStyle=='string'?d.fillStyle:'|'+ol.getUid(d.fillStyle):''}};goog.provide('ol.render.canvas.ReplayGroup');goog.require('ol');goog.require('ol.array');goog.require('ol.dom');goog.require('ol.extent');goog.require('ol.geom.flat.transform');goog.require('ol.obj');goog.require('ol.render.ReplayGroup');goog.require('ol.render.ReplayType');goog.require('ol.render.canvas.Replay');goog.require('ol.render.canvas.ImageReplay');goog.require('ol.render.canvas.LineStringReplay');goog.require('ol.render.canvas.PolygonReplay');goog.require('ol.render.canvas.TextReplay');goog.require('ol.render.replay');goog.require('ol.transform');ol.render.canvas.ReplayGroup=function(f,e,d,c,g,b,a){ol.render.ReplayGroup.call(this);this.declutterTree_=b;this.declutterGroup_=null;this.tolerance_=f;this.maxExtent_=e;this.overlaps_=g;this.pixelRatio_=c;this.resolution_=d;this.renderBuffer_=a;this.replaysByZIndex_={};this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1);this.hitDetectionTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.ReplayGroup,ol.render.ReplayGroup);ol.render.canvas.ReplayGroup.circleArrayCache_={0:[[!0]]};ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_=function(d,c,e){var a;var b=Math.floor(d.length/2);if(c>=b){for(a=b;a<c;a++){d[a][e]=!0}}else {if(c<b){for(a=c+1;a<b;a++){d[a][e]=!0}}}};ol.render.canvas.ReplayGroup.getCircleArray_=function(a){if(ol.render.canvas.ReplayGroup.circleArrayCache_[a]!==undefined){return ol.render.canvas.ReplayGroup.circleArrayCache_[a]}var e=a*2+1;var c=new Array(e);for(var g=0;g<e;g++){c[g]=new Array(e)}var b=a;var d=0;var f=0;while(b>=d){ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+b,a+d);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+d,a+b);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-d,a+b);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-b,a+d);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-b,a-d);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a-d,a-b);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+d,a-b);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(c,a+b,a-d);d++;f+=1+2*d;if(2*(f-b)+1>0){b-=1;f+=1-2*b}}ol.render.canvas.ReplayGroup.circleArrayCache_[a]=c;return c};ol.render.canvas.ReplayGroup.replayDeclutter=function(d,i,h){var e=Object.keys(d).map(Number).sort(ol.array.numberSafeCompareFunction);var f={};for(var c=0,l=e.length;c<l;++c){var a=d[e[c].toString()];for(var b=0,k=a.length;b<k;){var j=a[b++];var g=a[b++];j.replay(i,g,h,f)}}};ol.render.canvas.ReplayGroup.prototype.addDeclutter=function(b){var a=null;if(this.declutterTree_){if(b){a=this.declutterGroup_;a[4]++}else {a=this.declutterGroup_=ol.extent.createEmpty();a.push(1)}}return a};ol.render.canvas.ReplayGroup.prototype.clip=function(b,c){var a=this.getClipCoords(c);b.beginPath();b.moveTo(a[0],a[1]);b.lineTo(a[2],a[3]);b.lineTo(a[4],a[5]);b.lineTo(a[6],a[7]);b.clip()};ol.render.canvas.ReplayGroup.prototype.hasReplays=function(b){for(var d in this.replaysByZIndex_){var c=this.replaysByZIndex_[d];for(var a=0,e=b.length;a<e;++a){if(b[a] in c){return !0}}}return !1};ol.render.canvas.ReplayGroup.prototype.finish=function(){var c;for(c in this.replaysByZIndex_){var b=this.replaysByZIndex_[c];var a;for(a in b){b[a].finish()}}};ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(k,l,r,c,t,u,j){c=Math.round(c);var a=c*2+1;var m=ol.transform.compose(this.hitDetectionTransform_,c+0.5,c+0.5,1/l,-1/l,-r,-k[0],-k[1]);var b=this.hitDetectionContext_;if(b.canvas.width!==a||b.canvas.height!==a){b.canvas.width=a;b.canvas.height=a}else {b.clearRect(0,0,a,a)}var e;if(this.renderBuffer_!==undefined){e=ol.extent.createEmpty();ol.extent.extendCoordinate(e,k);ol.extent.buffer(e,l*(this.renderBuffer_+c),e)}var v=ol.render.canvas.ReplayGroup.getCircleArray_(c);var i;if(this.declutterTree_){i=this.declutterTree_.all().map(function(a){return a.value})}var d;function featureCallback(h){var m=b.getImageData(0,0,a,a).data;for(var e=0;e<a;e++){for(var f=0;f<a;f++){if(v[e][f]){if(m[(f*a+e)*4+3]>0){var g;if(!(i&&(d==ol.render.ReplayType.IMAGE||d==ol.render.ReplayType.TEXT))||i.indexOf(h)!==-1){g=u(h)}if(g){return g}else {b.clearRect(0,0,a,a);return undefined}}}}}}var p=Object.keys(this.replaysByZIndex_).map(Number);p.sort(ol.array.numberSafeCompareFunction);var g,h,s,f,o;for(g=p.length-1;g>=0;--g){var n=p[g].toString();s=this.replaysByZIndex_[n];for(h=ol.render.replay.ORDER.length-1;h>=0;--h){d=ol.render.replay.ORDER[h];f=s[d];if(f!==undefined){if(j&&(d==ol.render.ReplayType.IMAGE||d==ol.render.ReplayType.TEXT)){var q=j[n];if(!q){j[n]=[f,m.slice(0)]}else {q.push(f,m.slice(0))}}else {o=f.replayHitDetection(b,m,r,t,featureCallback,e);if(o){return o}}}}}return undefined};ol.render.canvas.ReplayGroup.prototype.getClipCoords=function(g){var a=this.maxExtent_;var e=a[0];var f=a[1];var c=a[2];var d=a[3];var b=[e,f,e,d,c,d,c,f];ol.geom.flat.transform.transform2D(b,0,8,2,g,b);return b};ol.render.canvas.ReplayGroup.prototype.getReplay=function(e,c){var d=e!==undefined?e.toString():'0';var a=this.replaysByZIndex_[d];if(a===undefined){a={};this.replaysByZIndex_[d]=a}var b=a[c];if(b===undefined){var f=ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_[c];b=new f(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_);a[c]=b}return b};ol.render.canvas.ReplayGroup.prototype.getReplays=function(){return this.replaysByZIndex_};ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};ol.render.canvas.ReplayGroup.prototype.replay=function(c,b,q,p,j,f){var i=Object.keys(this.replaysByZIndex_).map(Number);i.sort(ol.array.numberSafeCompareFunction);c.save();this.clip(c,b);var k=j?j:ol.render.replay.ORDER;var d,n,e,o,m,a;for(d=0,n=i.length;d<n;++d){var h=i[d].toString();m=this.replaysByZIndex_[h];for(e=0,o=k.length;e<o;++e){var g=k[e];a=m[g];if(a!==undefined){if(f&&(g==ol.render.ReplayType.IMAGE||g==ol.render.ReplayType.TEXT)){var l=f[h];if(!l){f[h]=[a,b.slice(0)]}else {l.push(a,b.slice(0))}}else {a.replay(c,b,q,p)}}}}c.restore()};ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_={'Circle':ol.render.canvas.PolygonReplay,'Default':ol.render.canvas.Replay,'Image':ol.render.canvas.ImageReplay,'LineString':ol.render.canvas.LineStringReplay,'Polygon':ol.render.canvas.PolygonReplay,'Text':ol.render.canvas.TextReplay};goog.provide('ol.renderer.vector');goog.require('ol');goog.require('ol.ImageState');goog.require('ol.geom.GeometryType');goog.require('ol.render.ReplayType');ol.renderer.vector.defaultOrder=function(a,b){return ol.getUid(a)-ol.getUid(b)};ol.renderer.vector.getSquaredTolerance=function(c,b){var a=ol.renderer.vector.getTolerance(c,b);return a*a};ol.renderer.vector.getTolerance=function(b,a){return ol.SIMPLIFY_TOLERANCE*b/a};ol.renderer.vector.renderCircleGeometry_=function(b,h,a,i){var f=a.getFill();var d=a.getStroke();if(f||d){var c=b.getReplay(a.getZIndex(),ol.render.ReplayType.CIRCLE);c.setFillStrokeStyle(f,d);c.drawCircle(h,i)}var g=a.getText();if(g){var e=b.getReplay(a.getZIndex(),ol.render.ReplayType.TEXT);e.setTextStyle(g,b.addDeclutter(!1));e.drawText(h,i)}};ol.renderer.vector.renderFeature=function(h,i,f,g,c,e){var d=!1;var a,b;a=f.getImage();if(a){b=a.getImageState();if(b==ol.ImageState.LOADED||b==ol.ImageState.ERROR){a.unlistenImageChange(c,e)}else {if(b==ol.ImageState.IDLE){a.load()}b=a.getImageState();a.listenImageChange(c,e);d=!0}}ol.renderer.vector.renderFeature_(h,i,f,g);return d};ol.renderer.vector.renderFeature_=function(d,c,a,g){var e=a.getGeometryFunction()(c);if(!e){return}var b=e.getSimplifiedGeometry(g);var h=a.getRenderer();if(h){ol.renderer.vector.renderGeometry_(d,b,a,c)}else {var f=ol.renderer.vector.GEOMETRY_RENDERERS_[b.getType()];f(d,b,a,c)}};ol.renderer.vector.renderGeometry_=function(d,a,b,f){if(a.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION){var e=a.getGeometries();for(var c=0,h=e.length;c<h;++c){ol.renderer.vector.renderGeometry_(d,e[c],b,f)}return}var g=d.getReplay(b.getZIndex(),ol.render.ReplayType.DEFAULT);g.drawCustom(a,f,b.getRenderer())};ol.renderer.vector.renderGeometryCollectionGeometry_=function(e,f,h,g){var b=f.getGeometriesArray();var a,c;for(a=0,c=b.length;a<c;++a){var d=ol.renderer.vector.GEOMETRY_RENDERERS_[b[a].getType()];d(e,b[a],h,g)}};ol.renderer.vector.renderLineStringGeometry_=function(b,g,a,h){var d=a.getStroke();if(d){var c=b.getReplay(a.getZIndex(),ol.render.ReplayType.LINE_STRING);c.setFillStrokeStyle(null,d);c.drawLineString(g,h)}var f=a.getText();if(f){var e=b.getReplay(a.getZIndex(),ol.render.ReplayType.TEXT);e.setTextStyle(f,b.addDeclutter(!1));e.drawText(g,h)}};ol.renderer.vector.renderMultiLineStringGeometry_=function(b,g,a,h){var d=a.getStroke();if(d){var c=b.getReplay(a.getZIndex(),ol.render.ReplayType.LINE_STRING);c.setFillStrokeStyle(null,d);c.drawMultiLineString(g,h)}var f=a.getText();if(f){var e=b.getReplay(a.getZIndex(),ol.render.ReplayType.TEXT);e.setTextStyle(f,b.addDeclutter(!1));e.drawText(g,h)}};ol.renderer.vector.renderMultiPolygonGeometry_=function(b,h,a,i){var f=a.getFill();var d=a.getStroke();if(d||f){var c=b.getReplay(a.getZIndex(),ol.render.ReplayType.POLYGON);c.setFillStrokeStyle(f,d);c.drawMultiPolygon(h,i)}var g=a.getText();if(g){var e=b.getReplay(a.getZIndex(),ol.render.ReplayType.TEXT);e.setTextStyle(g,b.addDeclutter(!1));e.drawText(h,i)}};ol.renderer.vector.renderPointGeometry_=function(a,g,c,h){var b=c.getImage();if(b){if(b.getImageState()!=ol.ImageState.LOADED){return}var d=a.getReplay(c.getZIndex(),ol.render.ReplayType.IMAGE);d.setImageStyle(b,a.addDeclutter(!1));d.drawPoint(g,h)}var f=c.getText();if(f){var e=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);e.setTextStyle(f,a.addDeclutter(!!b));e.drawText(g,h)}};ol.renderer.vector.renderMultiPointGeometry_=function(a,g,c,h){var b=c.getImage();if(b){if(b.getImageState()!=ol.ImageState.LOADED){return}var d=a.getReplay(c.getZIndex(),ol.render.ReplayType.IMAGE);d.setImageStyle(b,a.addDeclutter(!1));d.drawMultiPoint(g,h)}var f=c.getText();if(f){var e=a.getReplay(c.getZIndex(),ol.render.ReplayType.TEXT);e.setTextStyle(f,a.addDeclutter(!!b));e.drawText(g,h)}};ol.renderer.vector.renderPolygonGeometry_=function(b,h,a,i){var f=a.getFill();var d=a.getStroke();if(f||d){var c=b.getReplay(a.getZIndex(),ol.render.ReplayType.POLYGON);c.setFillStrokeStyle(f,d);c.drawPolygon(h,i)}var g=a.getText();if(g){var e=b.getReplay(a.getZIndex(),ol.render.ReplayType.TEXT);e.setTextStyle(g,b.addDeclutter(!1));e.drawText(h,i)}};ol.renderer.vector.GEOMETRY_RENDERERS_={'Point':ol.renderer.vector.renderPointGeometry_,'LineString':ol.renderer.vector.renderLineStringGeometry_,'Polygon':ol.renderer.vector.renderPolygonGeometry_,'MultiPoint':ol.renderer.vector.renderMultiPointGeometry_,'MultiLineString':ol.renderer.vector.renderMultiLineStringGeometry_,'MultiPolygon':ol.renderer.vector.renderMultiPolygonGeometry_,'GeometryCollection':ol.renderer.vector.renderGeometryCollectionGeometry_,'Circle':ol.renderer.vector.renderCircleGeometry_};goog.provide('ol.renderer.canvas.VectorLayer');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.ViewHint');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.ext.rbush');goog.require('ol.extent');goog.require('ol.render.EventType');goog.require('ol.render.canvas');goog.require('ol.render.canvas.ReplayGroup');goog.require('ol.renderer.Type');goog.require('ol.renderer.canvas.Layer');goog.require('ol.renderer.vector');ol.renderer.canvas.VectorLayer=function(a){ol.renderer.canvas.Layer.call(this,a);this.declutterTree_=a.getDeclutter()?ol.ext.rbush(9):null;this.dirty_=!1;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.replayGroupChanged=!0;this.context=ol.dom.createCanvasContext2D();ol.events.listen(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this)};ol.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer);ol.renderer.canvas.VectorLayer['handles']=function(b,a){return b===ol.renderer.Type.CANVAS&&a.getType()===ol.LayerType.VECTOR};ol.renderer.canvas.VectorLayer['create']=function(b,a){return new ol.renderer.canvas.VectorLayer(a)};ol.renderer.canvas.VectorLayer.prototype.disposeInternal=function(){ol.events.unlisten(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this);ol.renderer.canvas.Layer.prototype.disposeInternal.call(this)};ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(b,e,c){var t=b.extent;var w=b.pixelRatio;var r=e.managed?b.skippedFeatureUids:{};var y=b.viewState;var x=y.projection;var f=y.rotation;var n=x.getExtent();var D=this.getLayer().getSource();var d=this.getTransform(b,0);this.preCompose(c,b,d);var v=e.extent;var z=v!==undefined;if(z){this.clip(c,b,v)}var i=this.replayGroup_;if(i&&!i.isEmpty()){if(this.declutterTree_){this.declutterTree_.clear()}var F=this.getLayer();var g=0;var h=0;var a;var o=e.opacity!==1;var u=F.hasListener(ol.render.EventType.RENDER);if(o||u){var k=c.canvas.width;var j=c.canvas.height;if(f){var s=Math.round(Math.sqrt(k*k+j*j));g=(s-k)/2;h=(s-j)/2;k=j=s}this.context.canvas.width=k;this.context.canvas.height=j;a=this.context}else {a=c}var E=a.globalAlpha;if(!o){a.globalAlpha=e.opacity}if(a!=c){a.translate(g,h)}var B=b.size[0]*w;var A=b.size[1]*w;ol.render.canvas.rotateAtOffset(a,-f,B/2,A/2);i.replay(a,d,f,r);if(D.getWrapX()&&x.canWrapX()&&!ol.extent.containsExtent(n,t)){var l=t[0];var p=ol.extent.getWidth(n);var m=0;var q;while(l<n[0]){--m;q=p*m;d=this.getTransform(b,q);i.replay(a,d,f,r);l+=p}m=0;l=t[2];while(l>n[2]){++m;q=p*m;d=this.getTransform(b,q);i.replay(a,d,f,r);l-=p}d=this.getTransform(b,0)}ol.render.canvas.rotateAtOffset(a,f,B/2,A/2);if(a!=c){if(u){this.dispatchRenderEvent(a,b,d)}if(o){var C=c.globalAlpha;c.globalAlpha=e.opacity;c.drawImage(a.canvas,-g,-h);c.globalAlpha=C}else {c.drawImage(a.canvas,-g,-h)}a.translate(-g,-h)}if(!o){a.globalAlpha=E}}if(z){c.restore()}this.postCompose(c,b,e,d)};ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(d,a,c,f,h){if(!this.replayGroup_){return undefined}else {var e=a.viewState.resolution;var g=a.viewState.rotation;var j=this.getLayer();var b={};var i=this.replayGroup_.forEachFeatureAtCoordinate(d,e,g,c,{},function(e){var g=ol.getUid(e).toString();if(!(g in b)){b[g]=!0;return f.call(h,e,j)}},null);return i}};ol.renderer.canvas.VectorLayer.prototype.handleFontsChanged_=function(b){var a=this.getLayer();if(a.getVisible()&&this.replayGroup_){a.changed()}};ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(d,y){var c=this.getLayer();var f=c.getSource();this.updateLogos(d,f);var w=d.viewHints[ol.ViewHint.ANIMATING];var t=d.viewHints[ol.ViewHint.INTERACTING];var r=c.getUpdateWhileAnimating();var q=c.getUpdateWhileInteracting();if(!this.dirty_&&(!r&&w)||!q&&t){return !0}var s=d.extent;var h=d.viewState;var u=h.projection;var a=h.resolution;var k=d.pixelRatio;var m=c.getRevision();var p=c.getRenderBuffer();var e=c.getRenderOrder();if(e===undefined){e=ol.renderer.vector.defaultOrder}var b=ol.extent.buffer(s,p*a);var g=h.projection.getExtent();if(f.getWrapX()&&h.projection.canWrapX()&&!ol.extent.containsExtent(g,d.extent)){var v=ol.extent.getWidth(g);var o=Math.max(ol.extent.getWidth(b)/2,v);b[0]=g[0]-o;b[2]=g[2]+o}if(!this.dirty_&&this.renderedResolution_==a&&this.renderedRevision_==m&&this.renderedRenderOrder_==e&&ol.extent.containsExtent(this.renderedExtent_,b)){this.replayGroupChanged=!1;return !0}this.replayGroup_=null;this.dirty_=!1;var j=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(a,k),b,a,k,f.getOverlaps(),this.declutterTree_,c.getRenderBuffer());f.loadFeatures(b,a,u);var n=function(e){var f;var b=e.getStyleFunction();if(b){f=b.call(e,a)}else {b=c.getStyleFunction();if(b){f=b(e,a)}}if(f){var g=this.renderFeature(e,a,k,f,j);this.dirty_=this.dirty_||g}}.bind(this);if(e){var i=[];f.forEachFeatureInExtent(b,function(a){i.push(a)},this);i.sort(e);for(var l=0,x=i.length;l<x;++l){n(i[l])}}else {f.forEachFeatureInExtent(b,n,this)}j.finish();this.renderedResolution_=a;this.renderedRevision_=m;this.renderedRenderOrder_=e;this.renderedExtent_=b;this.replayGroup_=j;this.replayGroupChanged=!0;return !0};ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(g,f,e,a,d){if(!a){return !1}var b=!1;if(Array.isArray(a)){for(var c=0,h=a.length;c<h;++c){b=ol.renderer.vector.renderFeature(d,g,a[c],ol.renderer.vector.getSquaredTolerance(f,e),this.handleStyleImageChange_,this)||b}}else {b=ol.renderer.vector.renderFeature(d,g,a,ol.renderer.vector.getSquaredTolerance(f,e),this.handleStyleImageChange_,this)}return b};goog.provide('ol.layer.VectorTileRenderType');ol.layer.VectorTileRenderType={IMAGE:'image',HYBRID:'hybrid',VECTOR:'vector'};goog.provide('ol.renderer.canvas.VectorTileLayer');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.TileState');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.ext.rbush');goog.require('ol.extent');goog.require('ol.layer.VectorTileRenderType');goog.require('ol.proj');goog.require('ol.proj.Units');goog.require('ol.render.ReplayType');goog.require('ol.render.canvas');goog.require('ol.render.canvas.ReplayGroup');goog.require('ol.render.replay');goog.require('ol.renderer.Type');goog.require('ol.renderer.canvas.TileLayer');goog.require('ol.renderer.vector');goog.require('ol.transform');ol.renderer.canvas.VectorTileLayer=function(a){this.context=null;ol.renderer.canvas.TileLayer.call(this,a);this.declutterTree_=a.getDeclutter()?ol.ext.rbush(9):null;this.dirty_=!1;this.renderedLayerRevision_;this.tmpTransform_=ol.transform.create();this.zDirection=a.getRenderMode()==ol.layer.VectorTileRenderType.VECTOR?1:0;ol.events.listen(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this)};ol.inherits(ol.renderer.canvas.VectorTileLayer,ol.renderer.canvas.TileLayer);ol.renderer.canvas.VectorTileLayer['handles']=function(b,a){return b===ol.renderer.Type.CANVAS&&a.getType()===ol.LayerType.VECTOR_TILE};ol.renderer.canvas.VectorTileLayer['create']=function(b,a){return new ol.renderer.canvas.VectorTileLayer(a)};ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS={'image':[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],'hybrid':[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING]};ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS={'image':[ol.render.ReplayType.DEFAULT],'hybrid':[ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT],'vector':ol.render.replay.ORDER};ol.renderer.canvas.VectorTileLayer.prototype.disposeInternal=function(){ol.events.unlisten(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this);ol.renderer.canvas.TileLayer.prototype.disposeInternal.call(this)};ol.renderer.canvas.VectorTileLayer.prototype.prepareFrame=function(d,e){var c=this.getLayer();var a=c.getRevision();if(this.renderedLayerRevision_!=a){this.renderedTiles.length=0;var b=c.getRenderMode();if(!this.context&&b!=ol.layer.VectorTileRenderType.VECTOR){this.context=ol.dom.createCanvasContext2D()}if(this.context&&b==ol.layer.VectorTileRenderType.VECTOR){this.context=null}}this.renderedLayerRevision_=a;return ol.renderer.canvas.TileLayer.prototype.prepareFrame.apply(this,arguments)};ol.renderer.canvas.VectorTileLayer.prototype.createReplayGroup_=function(d,r){var b=this.getLayer();var s=r.pixelRatio;var i=r.viewState.projection;var u=b.getRevision();var f=b.getRenderOrder()||null;var a=d.getReplayState(b);if(!a.dirty&&a.renderedRevision==u&&a.renderedRenderOrder==f){return}var n=b.getSource();var y=n.getTileGrid();var v=n.getTileGridForProjection(i);var g=v.getResolution(d.tileCoord[0]);var A=v.getTileCoordExtent(d.wrappedTileCoord);var B={};for(var p=0,D=d.tileKeys.length;p<D;++p){var c=d.getTile(d.tileKeys[p]);if(c.getState()==ol.TileState.ERROR){continue}var x=c.tileCoord;var k=y.getTileCoordExtent(x);var l=ol.extent.getIntersection(A,k);var q=ol.extent.equals(k,l)?null:ol.extent.buffer(l,b.getRenderBuffer()*g);var e=c.getProjection();var t=!1;if(!ol.proj.equivalent(i,e)){t=!0;c.setProjection(i)}a.dirty=!1;var h=new ol.render.canvas.ReplayGroup(0,l,g,s,n.getOverlaps(),this.declutterTree_,b.getRenderBuffer());var w=ol.renderer.vector.getSquaredTolerance(g,s);var z=function(e){var f;var c=e.getStyleFunction();if(c){f=c.call(e,g)}else {c=b.getStyleFunction();if(c){f=c(e,g)}}if(f){var i=this.renderFeature(e,w,f,h);this.dirty_=this.dirty_||i;a.dirty=a.dirty||i}};var m=c.getFeatures();if(f&&f!==a.renderedRenderOrder){m.sort(f)}var j;for(var o=0,C=m.length;o<C;++o){j=m[o];if(t){if(e.getUnits()==ol.proj.Units.TILE_PIXELS){e.setWorldExtent(k);e.setExtent(c.getExtent())}j.getGeometry().transform(e,i)}if(!q||ol.extent.intersects(q,j.getGeometry().getExtent())){z.call(this,j)}}h.finish();for(var E in h.getReplays()){B[E]=!0}c.setReplayGroup(b,d.tileCoord.toString(),h)}a.renderedRevision=u;a.renderedRenderOrder=f};ol.renderer.canvas.VectorTileLayer.prototype.drawTileImage=function(d,b,c,i,j,h,g,f,e){var a=d;this.createReplayGroup_(a,b);if(this.context){this.renderTileImage_(a,b,c);ol.renderer.canvas.TileLayer.prototype.drawTileImage.apply(this,arguments)}};ol.renderer.canvas.VectorTileLayer.prototype.forEachFeatureAtCoordinate=function(k,e,b,r,u){var l=e.viewState.resolution;var s=e.viewState.rotation;b=b==undefined?0:b;var g=this.getLayer();var p={};var i=this.renderedTiles;var v=g.getSource();var t=v.getTileGridForProjection(e.viewState.projection);var d,f;var c,q,j;var a,o,n;for(c=0,q=i.length;c<q;++c){a=i[c];o=a.wrappedTileCoord;n=t.getTileCoordExtent(o,this.tmpExtent);d=ol.extent.buffer(n,b*l,d);if(!ol.extent.containsCoordinate(d,k)){continue}for(var h=0,w=a.tileKeys.length;h<w;++h){var m=a.getTile(a.tileKeys[h]);if(m.getState()==ol.TileState.ERROR){continue}j=m.getReplayGroup(g,a.tileCoord.toString());f=f||j.forEachFeatureAtCoordinate(k,l,s,b,{},function(a){var c=ol.getUid(a).toString();if(!(c in p)){p[c]=!0;return r.call(u,a,g)}},null)}}return f};ol.renderer.canvas.VectorTileLayer.prototype.getReplayTransform_=function(p,b){var o=this.getLayer();var n=o.getSource();var g=n.getTileGrid();var f=p.tileCoord;var a=g.getResolution(f[0]);var d=b.viewState;var c=b.pixelRatio;var e=d.resolution/c;var k=g.getTileCoordExtent(f,this.tmpExtent);var h=d.center;var i=ol.extent.getTopLeft(k);var j=b.size;var l=Math.round(c*j[0]/2);var m=Math.round(c*j[1]/2);return ol.transform.compose(this.tmpTransform_,l,m,a/e,a/e,d.rotation,(i[0]-h[0])/a,(h[1]-i[1])/a)};ol.renderer.canvas.VectorTileLayer.prototype.handleFontsChanged_=function(b){var a=this.getLayer();if(a.getVisible()&&this.renderedLayerRevision_!==undefined){a.changed()}};ol.renderer.canvas.VectorTileLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorTileLayer.prototype.postCompose=function(a,f,B){var i=this.getLayer();var g=i.getDeclutter()?{}:null;var C=i.getSource();var t=i.getRenderMode();var r=ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS[t];var s=f.pixelRatio;var d=f.viewState.rotation;var y=f.size;var m,n;if(d){m=Math.round(s*y[0]/2);n=Math.round(s*y[1]/2);ol.render.canvas.rotateAtOffset(a,-d,m,n)}if(g){this.declutterTree_.clear()}var x=this.renderedTiles;var w=C.getTileGridForProjection(f.viewState.projection);var o=[];var z=[];for(var p=x.length-1;p>=0;--p){var e=x[p];if(e.getState()==ol.TileState.ABORT){continue}var u=e.tileCoord;var A=w.getTileCoordExtent(u)[0]-w.getTileCoordExtent(e.wrappedTileCoord)[0];var h=undefined;for(var q=0,E=e.tileKeys.length;q<E;++q){var l=e.getTile(e.tileKeys[q]);if(l.getState()==ol.TileState.ERROR){continue}var k=l.getReplayGroup(i,u.toString());if(t!=ol.layer.VectorTileRenderType.VECTOR&&!k.hasReplays(r)){continue}if(!h){h=this.getTransform(f,A)}var v=l.tileCoord[0];var b=k.getClipCoords(h);a.save();a.globalAlpha=B.opacity;for(var j=0,D=o.length;j<D;++j){var c=o[j];if(v<z[j]){a.beginPath();a.moveTo(b[0],b[1]);a.lineTo(b[2],b[3]);a.lineTo(b[4],b[5]);a.lineTo(b[6],b[7]);a.moveTo(c[6],c[7]);a.lineTo(c[4],c[5]);a.lineTo(c[2],c[3]);a.lineTo(c[0],c[1]);a.clip()}}k.replay(a,h,d,{},r,g);a.restore();o.push(b);z.push(v)}}if(g){ol.render.canvas.ReplayGroup.replayDeclutter(g,a,d)}if(d){ol.render.canvas.rotateAtOffset(a,d,m,n)}ol.renderer.canvas.TileLayer.prototype.postCompose.apply(this,arguments)};ol.renderer.canvas.VectorTileLayer.prototype.renderFeature=function(f,d,a,e){if(!a){return !1}var b=!1;if(Array.isArray(a)){for(var c=0,g=a.length;c<g;++c){b=ol.renderer.vector.renderFeature(e,f,a[c],d,this.handleStyleImageChange_,this)||b}}else {b=ol.renderer.vector.renderFeature(e,f,a,d,this.handleStyleImageChange_,this)}return b};ol.renderer.canvas.VectorTileLayer.prototype.renderTileImage_=function(a,c,v){var b=this.getLayer();var g=a.getReplayState(b);var m=b.getRevision();var o=ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS[b.getRenderMode()];if(o&&g.renderedTileRevision!==m){g.renderedTileRevision=m;var l=a.wrappedTileCoord;var r=l[0];var h=c.pixelRatio;var p=b.getSource();var n=p.getTileGridForProjection(c.viewState.projection);var t=n.getResolution(r);var e=a.getContext(b);var q=p.getTilePixelSize(r,h,c.viewState.projection);e.canvas.width=q[0];e.canvas.height=q[1];var k=n.getTileCoordExtent(l);for(var f=0,u=a.tileKeys.length;f<u;++f){var j=a.getTile(a.tileKeys[f]);if(j.getState()==ol.TileState.ERROR){continue}var i=h/t;var d=ol.transform.reset(this.tmpTransform_);ol.transform.scale(d,i,-i);ol.transform.translate(d,-k[0],-k[3]);var s=j.getReplayGroup(b,a.tileCoord.toString());s.replay(e,d,0,{},o)}}};goog.provide('ol.CanvasMap');goog.require('ol');goog.require('ol.PluggableMap');goog.require('ol.PluginType');goog.require('ol.control');goog.require('ol.interaction');goog.require('ol.obj');goog.require('ol.plugins');goog.require('ol.renderer.canvas.ImageLayer');goog.require('ol.renderer.canvas.Map');goog.require('ol.renderer.canvas.TileLayer');goog.require('ol.renderer.canvas.VectorLayer');goog.require('ol.renderer.canvas.VectorTileLayer');ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map);ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer]);ol.CanvasMap=function(a){a=ol.obj.assign({},a);delete a.renderer;if(!a.controls){a.controls=ol.control.defaults()}if(!a.interactions){a.interactions=ol.interaction.defaults()}ol.PluggableMap.call(this,a)};ol.inherits(ol.CanvasMap,ol.PluggableMap);goog.provide('ol.control.FullScreen');goog.require('ol');goog.require('ol.control.Control');goog.require('ol.css');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.EventType');ol.control.FullScreen=function(f){var a=f?f:{};this.cssClassName_=a.className!==undefined?a.className:'ol-full-screen';var e=a.label!==undefined?a.label:'⤢';this.labelNode_=typeof e==='string'?document.createTextNode(e):e;var c=a.labelActive!==undefined?a.labelActive:'×';this.labelActiveNode_=typeof c==='string'?document.createTextNode(c):c;var h=a.tipLabel?a.tipLabel:'Toggle full-screen';var b=document.createElement('button');b.className=this.cssClassName_+'-'+ol.control.FullScreen.isFullScreen();b.setAttribute('type','button');b.title=h;b.appendChild(this.labelNode_);ol.events.listen(b,ol.events.EventType.CLICK,this.handleClick_,this);var g=this.cssClassName_+' '+ol.css.CLASS_UNSELECTABLE+' '+ol.css.CLASS_CONTROL+' '+(!ol.control.FullScreen.isFullScreenSupported()?ol.css.CLASS_UNSUPPORTED:'');var d=document.createElement('div');d.className=g;d.appendChild(b);ol.control.Control.call(this,{element:d,target:a.target});this.keys_=a.keys!==undefined?a.keys:!1;this.source_=a.source};ol.inherits(ol.control.FullScreen,ol.control.Control);ol.control.FullScreen.prototype.handleClick_=function(a){a.preventDefault();this.handleFullScreen_()};ol.control.FullScreen.prototype.handleFullScreen_=function(){if(!ol.control.FullScreen.isFullScreenSupported()){return}var b=this.getMap();if(!b){return}if(ol.control.FullScreen.isFullScreen()){ol.control.FullScreen.exitFullScreen()}else {var a;if(this.source_){a=typeof this.source_==='string'?document.getElementById(this.source_):this.source_}else {a=b.getTargetElement()}if(this.keys_){ol.control.FullScreen.requestFullScreenWithKeys(a)}else {ol.control.FullScreen.requestFullScreen(a)}}};ol.control.FullScreen.prototype.handleFullScreenChange_=function(){var a=this.element.firstElementChild;var b=this.getMap();if(ol.control.FullScreen.isFullScreen()){a.className=this.cssClassName_+'-true';ol.dom.replaceNode(this.labelActiveNode_,this.labelNode_)}else {a.className=this.cssClassName_+'-false';ol.dom.replaceNode(this.labelNode_,this.labelActiveNode_)}if(b){b.updateSize()}};ol.control.FullScreen.prototype.setMap=function(a){ol.control.Control.prototype.setMap.call(this,a);if(a){this.listenerKeys.push(ol.events.listen(document,ol.control.FullScreen.getChangeType_(),this.handleFullScreenChange_,this))}};ol.control.FullScreen.isFullScreenSupported=function(){var a=document.body;return !!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)};ol.control.FullScreen.isFullScreen=function(){return !!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)};ol.control.FullScreen.requestFullScreen=function(a){if(a.requestFullscreen){a.requestFullscreen()}else {if(a.msRequestFullscreen){a.msRequestFullscreen()}else {if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else {if(a.webkitRequestFullscreen){a.webkitRequestFullscreen()}}}}};ol.control.FullScreen.requestFullScreenWithKeys=function(a){if(a.mozRequestFullScreenWithKeys){a.mozRequestFullScreenWithKeys()}else {if(a.webkitRequestFullscreen){a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else {ol.control.FullScreen.requestFullScreen(a)}}};ol.control.FullScreen.exitFullScreen=function(){if(document.exitFullscreen){document.exitFullscreen()}else {if(document.msExitFullscreen){document.msExitFullscreen()}else {if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else {if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}}};ol.control.FullScreen.getChangeType_=function(){var a;return function(){if(!a){var b=document.body;if(b.webkitRequestFullscreen){a='webkitfullscreenchange'}else {if(b.mozRequestFullScreen){a='mozfullscreenchange'}else {if(b.msRequestFullscreen){a='MSFullscreenChange'}else {if(b.requestFullscreen){a='fullscreenchange'}}}}}return a}}();goog.provide('ol.control.MousePosition');goog.require('ol');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.Object');goog.require('ol.control.Control');goog.require('ol.proj');ol.control.MousePosition=function(c){var a=c?c:{};var b=document.createElement('DIV');b.className=a.className!==undefined?a.className:'ol-mouse-position';var d=a.render?a.render:ol.control.MousePosition.render;ol.control.Control.call(this,{element:b,render:d,target:a.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePosition.Property_.PROJECTION),this.handleProjectionChanged_,this);if(a.coordinateFormat){this.setCoordinateFormat(a.coordinateFormat)}if(a.projection){this.setProjection(a.projection)}this.undefinedHTML_=a.undefinedHTML!==undefined?a.undefinedHTML:'';this.renderedHTML_=b.innerHTML;this.mapProjection_=null;this.transform_=null;this.lastMouseMovePixel_=null};ol.inherits(ol.control.MousePosition,ol.control.Control);ol.control.MousePosition.render=function(b){var a=b.frameState;if(!a){this.mapProjection_=null}else {if(this.mapProjection_!=a.viewState.projection){this.mapProjection_=a.viewState.projection;this.transform_=null}}this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null};ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePosition.Property_.COORDINATE_FORMAT)};ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePosition.Property_.PROJECTION)};ol.control.MousePosition.prototype.handleMouseMove=function(a){var b=this.getMap();this.lastMouseMovePixel_=b.getEventPixel(a);this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleMouseOut=function(a){this.updateHTML_(null);this.lastMouseMovePixel_=null};ol.control.MousePosition.prototype.setMap=function(a){ol.control.Control.prototype.setMap.call(this,a);if(a){var b=a.getViewport();this.listenerKeys.push(ol.events.listen(b,ol.events.EventType.MOUSEMOVE,this.handleMouseMove,this),ol.events.listen(b,ol.events.EventType.MOUSEOUT,this.handleMouseOut,this))}};ol.control.MousePosition.prototype.setCoordinateFormat=function(a){this.set(ol.control.MousePosition.Property_.COORDINATE_FORMAT,a)};ol.control.MousePosition.prototype.setProjection=function(a){this.set(ol.control.MousePosition.Property_.PROJECTION,ol.proj.get(a))};ol.control.MousePosition.prototype.updateHTML_=function(e){var b=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){var d=this.getProjection();if(d){this.transform_=ol.proj.getTransformFromProjections(this.mapProjection_,d)}else {this.transform_=ol.proj.identityTransform}}var f=this.getMap();var a=f.getCoordinateFromPixel(e);if(a){this.transform_(a,a);var c=this.getCoordinateFormat();if(c){b=c(a)}else {b=a.toString()}}}if(!this.renderedHTML_||b!=this.renderedHTML_){this.element.innerHTML=b;this.renderedHTML_=b}};ol.control.MousePosition.Property_={PROJECTION:'projection',COORDINATE_FORMAT:'coordinateFormat'};goog.provide('ol.OverlayPositioning');ol.OverlayPositioning={BOTTOM_LEFT:'bottom-left',BOTTOM_CENTER:'bottom-center',BOTTOM_RIGHT:'bottom-right',CENTER_LEFT:'center-left',CENTER_CENTER:'center-center',CENTER_RIGHT:'center-right',TOP_LEFT:'top-left',TOP_CENTER:'top-center',TOP_RIGHT:'top-right'};goog.provide('ol.Overlay');goog.require('ol');goog.require('ol.MapEventType');goog.require('ol.Object');goog.require('ol.OverlayPositioning');goog.require('ol.css');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.extent');ol.Overlay=function(a){ol.Object.call(this);this.options=a;this.id=a.id;this.insertFirst=a.insertFirst!==undefined?a.insertFirst:!0;this.stopEvent=a.stopEvent!==undefined?a.stopEvent:!0;this.element=document.createElement('DIV');this.element.className=a.className!==undefined?a.className:'ol-overlay-container '+ol.css.CLASS_SELECTABLE;this.element.style.position='absolute';this.autoPan=a.autoPan!==undefined?a.autoPan:!1;this.autoPanAnimation=a.autoPanAnimation||{};this.autoPanMargin=a.autoPanMargin!==undefined?a.autoPanMargin:20;this.rendered={bottom_:'',left_:'',right_:'',top_:'',visible:!0};this.mapPostrenderListenerKey=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.ELEMENT),this.handleElementChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.MAP),this.handleMapChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.OFFSET),this.handleOffsetChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.POSITION),this.handlePositionChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.POSITIONING),this.handlePositioningChanged,this);if(a.element!==undefined){this.setElement(a.element)}this.setOffset(a.offset!==undefined?a.offset:[0,0]);this.setPositioning(a.positioning!==undefined?a.positioning:ol.OverlayPositioning.TOP_LEFT);if(a.position!==undefined){this.setPosition(a.position)}};ol.inherits(ol.Overlay,ol.Object);ol.Overlay.prototype.getElement=function(){return this.get(ol.Overlay.Property.ELEMENT)};ol.Overlay.prototype.getId=function(){return this.id};ol.Overlay.prototype.getMap=function(){return this.get(ol.Overlay.Property.MAP)};ol.Overlay.prototype.getOffset=function(){return this.get(ol.Overlay.Property.OFFSET)};ol.Overlay.prototype.getPosition=function(){return this.get(ol.Overlay.Property.POSITION)};ol.Overlay.prototype.getPositioning=function(){return this.get(ol.Overlay.Property.POSITIONING)};ol.Overlay.prototype.handleElementChanged=function(){ol.dom.removeChildren(this.element);var a=this.getElement();if(a){this.element.appendChild(a)}};ol.Overlay.prototype.handleMapChanged=function(){if(this.mapPostrenderListenerKey){ol.dom.removeNode(this.element);ol.events.unlistenByKey(this.mapPostrenderListenerKey);this.mapPostrenderListenerKey=null}var a=this.getMap();if(a){this.mapPostrenderListenerKey=ol.events.listen(a,ol.MapEventType.POSTRENDER,this.render,this);this.updatePixelPosition();var b=this.stopEvent?a.getOverlayContainerStopEvent():a.getOverlayContainer();if(this.insertFirst){b.insertBefore(this.element,b.childNodes[0]||null)}else {b.appendChild(this.element)}}};ol.Overlay.prototype.render=function(){this.updatePixelPosition()};ol.Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition();if(this.get(ol.Overlay.Property.POSITION)&&this.autoPan){this.panIntoView()}};ol.Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.setElement=function(a){this.set(ol.Overlay.Property.ELEMENT,a)};ol.Overlay.prototype.setMap=function(a){this.set(ol.Overlay.Property.MAP,a)};ol.Overlay.prototype.setOffset=function(a){this.set(ol.Overlay.Property.OFFSET,a)};ol.Overlay.prototype.setPosition=function(a){this.set(ol.Overlay.Property.POSITION,a)};ol.Overlay.prototype.panIntoView=function(){var b=this.getMap();if(!b||!b.getTargetElement()){return}var d=this.getRect(b.getTargetElement(),b.getSize());var f=this.getElement();var c=this.getRect(f,[ol.dom.outerWidth(f),ol.dom.outerHeight(f)]);var e=this.autoPanMargin;if(!ol.extent.containsExtent(d,c)){var i=c[0]-d[0];var h=d[2]-c[2];var j=c[1]-d[1];var g=d[3]-c[3];var a=[0,0];if(i<0){a[0]=i-e}else {if(h<0){a[0]=Math.abs(h)+e}}if(j<0){a[1]=j-e}else {if(g<0){a[1]=Math.abs(g)+e}}if(a[0]!==0||a[1]!==0){var m=b.getView().getCenter();var k=b.getPixelFromCoordinate(m);var l=[k[0]+a[0],k[1]+a[1]];b.getView().animate({center:b.getCoordinateFromPixel(l),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}};ol.Overlay.prototype.getRect=function(e,c){var d=e.getBoundingClientRect();var a=d.left+window.pageXOffset;var b=d.top+window.pageYOffset;return [a,b,a+c[0],b+c[1]]};ol.Overlay.prototype.setPositioning=function(a){this.set(ol.Overlay.Property.POSITIONING,a)};ol.Overlay.prototype.setVisible=function(a){if(this.rendered.visible!==a){this.element.style.display=a?'':'none';this.rendered.visible=a}};ol.Overlay.prototype.updatePixelPosition=function(){var a=this.getMap();var b=this.getPosition();if(!a||!a.isRendered()||!b){this.setVisible(!1);return}var d=a.getPixelFromCoordinate(b);var c=a.getSize();this.updateRenderedPosition(d,c)};ol.Overlay.prototype.updateRenderedPosition=function(c,f){var b=this.element.style;var h=this.getOffset();var a=this.getPositioning();this.setVisible(!0);var d=h[0];var e=h[1];if(a==ol.OverlayPositioning.BOTTOM_RIGHT||a==ol.OverlayPositioning.CENTER_RIGHT||a==ol.OverlayPositioning.TOP_RIGHT){if(this.rendered.left_!==''){this.rendered.left_=b.left=''}var i=Math.round(f[0]-c[0]-d)+'px';if(this.rendered.right_!=i){this.rendered.right_=b.right=i}}else {if(this.rendered.right_!==''){this.rendered.right_=b.right=''}if(a==ol.OverlayPositioning.BOTTOM_CENTER||a==ol.OverlayPositioning.CENTER_CENTER||a==ol.OverlayPositioning.TOP_CENTER){d-=this.element.offsetWidth/2}var j=Math.round(c[0]+d)+'px';if(this.rendered.left_!=j){this.rendered.left_=b.left=j}}if(a==ol.OverlayPositioning.BOTTOM_LEFT||a==ol.OverlayPositioning.BOTTOM_CENTER||a==ol.OverlayPositioning.BOTTOM_RIGHT){if(this.rendered.top_!==''){this.rendered.top_=b.top=''}var g=Math.round(f[1]-c[1]-e)+'px';if(this.rendered.bottom_!=g){this.rendered.bottom_=b.bottom=g}}else {if(this.rendered.bottom_!==''){this.rendered.bottom_=b.bottom=''}if(a==ol.OverlayPositioning.CENTER_LEFT||a==ol.OverlayPositioning.CENTER_CENTER||a==ol.OverlayPositioning.CENTER_RIGHT){e-=this.element.offsetHeight/2}var k=Math.round(c[1]+e)+'px';if(this.rendered.top_!=k){this.rendered.top_=b.top=k}}};ol.Overlay.prototype.getOptions=function(){return this.options};ol.Overlay.Property={ELEMENT:'element',MAP:'map',OFFSET:'offset',POSITION:'position',POSITIONING:'positioning'};goog.provide('ol.control.OverviewMap');goog.require('ol');goog.require('ol.Collection');goog.require('ol.PluggableMap');goog.require('ol.MapEventType');goog.require('ol.MapProperty');goog.require('ol.Object');goog.require('ol.ObjectEventType');goog.require('ol.Overlay');goog.require('ol.OverlayPositioning');goog.require('ol.ViewProperty');goog.require('ol.control.Control');goog.require('ol.coordinate');goog.require('ol.css');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');ol.control.OverviewMap=function(i){var a=i?i:{};this.collapsed_=a.collapsed!==undefined?a.collapsed:!0;this.collapsible_=a.collapsible!==undefined?a.collapsible:!0;if(!this.collapsible_){this.collapsed_=!1}var o=a.className!==undefined?a.className:'ol-overviewmap';var p=a.tipLabel!==undefined?a.tipLabel:'Overview map';var d=a.collapseLabel!==undefined?a.collapseLabel:'«';if(typeof d==='string'){this.collapseLabel_=document.createElement('span');this.collapseLabel_.textContent=d}else {this.collapseLabel_=d}var f=a.label!==undefined?a.label:'»';if(typeof f==='string'){this.label_=document.createElement('span');this.label_.textContent=f}else {this.label_=f}var m=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var b=document.createElement('button');b.setAttribute('type','button');b.title=p;b.appendChild(m);ol.events.listen(b,ol.events.EventType.CLICK,this.handleClick_,this);this.ovmapDiv_=document.createElement('DIV');this.ovmapDiv_.className='ol-overviewmap-map';this.ovmap_=new ol.PluggableMap({controls:new ol.Collection(),interactions:new ol.Collection(),view:a.view});var g=this.ovmap_;if(a.layers){a.layers.forEach(function(a){g.addLayer(a)},this)}var h=document.createElement('DIV');h.className='ol-overviewmap-box';h.style.boxSizing='border-box';this.boxOverlay_=new ol.Overlay({position:[0,0],positioning:ol.OverlayPositioning.BOTTOM_LEFT,element:h});this.ovmap_.addOverlay(this.boxOverlay_);var n=o+' '+ol.css.CLASS_UNSELECTABLE+' '+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?' ol-collapsed':'')+(this.collapsible_?'':' ol-uncollapsible');var c=document.createElement('div');c.className=n;c.appendChild(this.ovmapDiv_);c.appendChild(b);var r=a.render?a.render:ol.control.OverviewMap.render;ol.control.Control.call(this,{element:c,render:r,target:a.target});var s=this;var q=this.boxOverlay_;var e=this.boxOverlay_.getElement();var l=function(a){return {clientX:a.clientX-e.offsetWidth/2,clientY:a.clientY+e.offsetHeight/2}};var k=function(b){var a=g.getEventCoordinate(l(b));q.setPosition(a)};var j=function(b){var a=g.getEventCoordinate(b);s.getMap().getView().setCenter(a);window.removeEventListener('mousemove',k);window.removeEventListener('mouseup',j)};e.addEventListener('mousedown',function(){window.addEventListener('mousemove',k);window.addEventListener('mouseup',j)})};ol.inherits(ol.control.OverviewMap,ol.control.Control);ol.control.OverviewMap.prototype.setMap=function(a){var b=this.getMap();if(a===b){return}if(b){var d=b.getView();if(d){this.unbindView_(d)}this.ovmap_.setTarget(null)}ol.control.Control.prototype.setMap.call(this,a);if(a){this.ovmap_.setTarget(this.ovmapDiv_);this.listenerKeys.push(ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this));if(this.ovmap_.getLayers().getLength()===0){this.ovmap_.setLayerGroup(a.getLayerGroup())}var c=a.getView();if(c){this.bindView_(c);if(c.isDef()){this.ovmap_.updateSize();this.resetExtent_()}}}};ol.control.OverviewMap.prototype.handleMapPropertyChange_=function(b){if(b.key===ol.MapProperty.VIEW){var a=b.oldValue;if(a){this.unbindView_(a)}var c=this.getMap().getView();this.bindView_(c)}};ol.control.OverviewMap.prototype.bindView_=function(a){ol.events.listen(a,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.unbindView_=function(a){ol.events.unlisten(a,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};ol.control.OverviewMap.render=function(a){this.validateExtent_();this.updateBox_()};ol.control.OverviewMap.prototype.validateExtent_=function(){var d=this.getMap();var a=this.ovmap_;if(!d.isRendered()||!a.isRendered()){return}var l=d.getSize();var n=d.getView();var c=n.calculateExtent(l);var b=a.getSize();var m=a.getView();var k=m.calculateExtent(b);var f=a.getPixelFromCoordinate(ol.extent.getTopLeft(c));var e=a.getPixelFromCoordinate(ol.extent.getBottomRight(c));var j=Math.abs(f[0]-e[0]);var i=Math.abs(f[1]-e[1]);var h=b[0];var g=b[1];if(j<h*ol.OVERVIEWMAP_MIN_RATIO||i<g*ol.OVERVIEWMAP_MIN_RATIO||j>h*ol.OVERVIEWMAP_MAX_RATIO||i>g*ol.OVERVIEWMAP_MAX_RATIO){this.resetExtent_()}else {if(!ol.extent.containsExtent(k,c)){this.recenter_()}}};ol.control.OverviewMap.prototype.resetExtent_=function(){if(ol.OVERVIEWMAP_MAX_RATIO===0||ol.OVERVIEWMAP_MIN_RATIO===0){return}var b=this.getMap();var e=this.ovmap_;var c=b.getSize();var h=b.getView();var a=h.calculateExtent(c);var d=e.getView();var g=Math.log(ol.OVERVIEWMAP_MAX_RATIO/ol.OVERVIEWMAP_MIN_RATIO)/Math.LN2;var f=1/(Math.pow(2,g/2)*ol.OVERVIEWMAP_MIN_RATIO);ol.extent.scaleFromCenter(a,f);d.fit(a)};ol.control.OverviewMap.prototype.recenter_=function(){var d=this.getMap();var b=this.ovmap_;var c=d.getView();var a=b.getView();a.setCenter(c.getCenter())};ol.control.OverviewMap.prototype.updateBox_=function(){var c=this.getMap();var g=this.ovmap_;if(!c.isRendered()||!g.isRendered()){return}var k=c.getSize();var h=c.getView();var m=g.getView();var j=h.getRotation();var l=this.boxOverlay_;var b=this.boxOverlay_.getElement();var f=h.calculateExtent(k);var d=m.getResolution();var a=ol.extent.getBottomLeft(f);var e=ol.extent.getTopRight(f);var i=this.calculateCoordinateRotate_(j,a);l.setPosition(i);if(b){b.style.width=Math.abs((a[0]-e[0])/d)+'px';b.style.height=Math.abs((e[1]-a[1])/d)+'px'}};ol.control.OverviewMap.prototype.calculateCoordinateRotate_=function(d,c){var a;var f=this.getMap();var e=f.getView();var b=e.getCenter();if(b){a=[c[0]-b[0],c[1]-b[1]];ol.coordinate.rotate(a,d);ol.coordinate.add(a,b)}return a};ol.control.OverviewMap.prototype.handleClick_=function(a){a.preventDefault();this.handleToggle_()};ol.control.OverviewMap.prototype.handleToggle_=function(){this.element.classList.toggle('ol-collapsed');if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else {ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_;var a=this.ovmap_;if(!this.collapsed_&&!a.isRendered()){a.updateSize();this.resetExtent_();ol.events.listenOnce(a,ol.MapEventType.POSTRENDER,function(a){this.updateBox_()},this)}};ol.control.OverviewMap.prototype.getCollapsible=function(){return this.collapsible_};ol.control.OverviewMap.prototype.setCollapsible=function(a){if(this.collapsible_===a){return}this.collapsible_=a;this.element.classList.toggle('ol-uncollapsible');if(!a&&this.collapsed_){this.handleToggle_()}};ol.control.OverviewMap.prototype.setCollapsed=function(a){if(!this.collapsible_||this.collapsed_===a){return}this.handleToggle_()};ol.control.OverviewMap.prototype.getCollapsed=function(){return this.collapsed_};ol.control.OverviewMap.prototype.getOverviewMap=function(){return this.ovmap_};goog.provide('ol.control.ScaleLineUnits');ol.control.ScaleLineUnits={DEGREES:'degrees',IMPERIAL:'imperial',NAUTICAL:'nautical',METRIC:'metric',US:'us'};goog.provide('ol.control.ScaleLine');goog.require('ol');goog.require('ol.Object');goog.require('ol.asserts');goog.require('ol.control.Control');goog.require('ol.control.ScaleLineUnits');goog.require('ol.css');goog.require('ol.events');goog.require('ol.proj');goog.require('ol.proj.Units');ol.control.ScaleLine=function(b){var a=b?b:{};var c=a.className!==undefined?a.className:'ol-scale-line';this.innerElement_=document.createElement('DIV');this.innerElement_.className=c+'-inner';this.element_=document.createElement('DIV');this.element_.className=c+' '+ol.css.CLASS_UNSELECTABLE;this.element_.appendChild(this.innerElement_);this.viewState_=null;this.minWidth_=a.minWidth!==undefined?a.minWidth:64;this.renderedVisible_=!1;this.renderedWidth_=undefined;this.renderedHTML_='';var d=a.render?a.render:ol.control.ScaleLine.render;ol.control.Control.call(this,{element:this.element_,render:d,target:a.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.ScaleLine.Property_.UNITS),this.handleUnitsChanged_,this);this.setUnits(a.units||ol.control.ScaleLineUnits.METRIC)};ol.inherits(ol.control.ScaleLine,ol.control.Control);ol.control.ScaleLine.LEADING_DIGITS=[1,2,5];ol.control.ScaleLine.prototype.getUnits=function(){return this.get(ol.control.ScaleLine.Property_.UNITS)};ol.control.ScaleLine.render=function(b){var a=b.frameState;if(!a){this.viewState_=null}else {this.viewState_=a.viewState}this.updateElement_()};ol.control.ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()};ol.control.ScaleLine.prototype.setUnits=function(a){this.set(ol.control.ScaleLine.Property_.UNITS,a)};ol.control.ScaleLine.prototype.updateElement_=function(){var g=this.viewState_;if(!g){if(this.renderedVisible_){this.element_.style.display='none';this.renderedVisible_=!1}return}var m=g.center;var h=g.projection;var d=this.getUnits();var l=d==ol.control.ScaleLineUnits.DEGREES?ol.proj.Units.DEGREES:ol.proj.Units.METERS;var a=ol.proj.getPointResolution(h,g.resolution,m,l);if(d!=ol.control.ScaleLineUnits.DEGREES){a*=h.getMetersPerUnit()}var c=this.minWidth_*a;var b='';if(d==ol.control.ScaleLineUnits.DEGREES){var f=ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES];if(h.getUnits()==ol.proj.Units.DEGREES){c*=f}else {a/=f}if(c<f/60){b='\u2033';a*=3600}else {if(c<f){b='\u2032';a*=60}else {b='°'}}}else {if(d==ol.control.ScaleLineUnits.IMPERIAL){if(c<0.9144){b='in';a/=0.0254}else {if(c<1609.344){b='ft';a/=0.3048}else {b='mi';a/=1609.344}}}else {if(d==ol.control.ScaleLineUnits.NAUTICAL){a/=1852;b='nm'}else {if(d==ol.control.ScaleLineUnits.METRIC){if(c<0.001){b='μm';a*=1000000}else {if(c<1){b='mm';a*=1000}else {if(c<1000){b='m'}else {b='km';a/=1000}}}}else {if(d==ol.control.ScaleLineUnits.US){if(c<0.9144){b='in';a*=39.37}else {if(c<1609.344){b='ft';a/=0.30480061}else {b='mi';a/=1609.3472}}}else {ol.asserts.assert(!1,33)}}}}}var k=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));var i,e;while(!0){i=ol.control.ScaleLine.LEADING_DIGITS[(k%3+3)%3]*Math.pow(10,Math.floor(k/3));e=Math.round(i/a);if(isNaN(e)){this.element_.style.display='none';this.renderedVisible_=!1;return}else {if(e>=this.minWidth_){break}}++k}var j=i+' '+b;if(this.renderedHTML_!=j){this.innerElement_.innerHTML=j;this.renderedHTML_=j}if(this.renderedWidth_!=e){this.innerElement_.style.width=e+'px';this.renderedWidth_=e}if(!this.renderedVisible_){this.element_.style.display='';this.renderedVisible_=!0}};ol.control.ScaleLine.Property_={UNITS:'units'};goog.provide('ol.control.ZoomSlider');goog.require('ol');goog.require('ol.ViewHint');goog.require('ol.control.Control');goog.require('ol.css');goog.require('ol.easing');goog.require('ol.events');goog.require('ol.events.Event');goog.require('ol.events.EventType');goog.require('ol.math');goog.require('ol.pointer.EventType');goog.require('ol.pointer.PointerEventHandler');ol.control.ZoomSlider=function(d){var a=d?d:{};this.currentResolution_=undefined;this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL;this.dragging_;this.heightLimit_=0;this.widthLimit_=0;this.previousX_;this.previousY_;this.thumbSize_=null;this.sliderInitialized_=!1;this.duration_=a.duration!==undefined?a.duration:200;var e=a.className!==undefined?a.className:'ol-zoomslider';var c=document.createElement('button');c.setAttribute('type','button');c.className=e+'-thumb '+ol.css.CLASS_UNSELECTABLE;var b=document.createElement('div');b.className=e+' '+ol.css.CLASS_UNSELECTABLE+' '+ol.css.CLASS_CONTROL;b.appendChild(c);this.dragger_=new ol.pointer.PointerEventHandler(b);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERDOWN,this.handleDraggerStart_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERMOVE,this.handleDraggerDrag_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERUP,this.handleDraggerEnd_,this);ol.events.listen(b,ol.events.EventType.CLICK,this.handleContainerClick_,this);ol.events.listen(c,ol.events.EventType.CLICK,ol.events.Event.stopPropagation);var f=a.render?a.render:ol.control.ZoomSlider.render;ol.control.Control.call(this,{element:b,render:f})};ol.inherits(ol.control.ZoomSlider,ol.control.Control);ol.control.ZoomSlider.prototype.disposeInternal=function(){this.dragger_.dispose();ol.control.Control.prototype.disposeInternal.call(this)};ol.control.ZoomSlider.Direction_={VERTICAL:0,HORIZONTAL:1};ol.control.ZoomSlider.prototype.setMap=function(a){ol.control.Control.prototype.setMap.call(this,a);if(a){a.render()}};ol.control.ZoomSlider.prototype.initSlider_=function(){var c=this.element;var b={width:c.offsetWidth,height:c.offsetHeight};var d=c.firstElementChild;var a=getComputedStyle(d);var f=d.offsetWidth+parseFloat(a['marginRight'])+parseFloat(a['marginLeft']);var e=d.offsetHeight+parseFloat(a['marginTop'])+parseFloat(a['marginBottom']);this.thumbSize_=[f,e];if(b.width>b.height){this.direction_=ol.control.ZoomSlider.Direction_.HORIZONTAL;this.widthLimit_=b.width-f}else {this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL;this.heightLimit_=b.height-e}this.sliderInitialized_=!0};ol.control.ZoomSlider.render=function(b){if(!b.frameState){return}if(!this.sliderInitialized_){this.initSlider_()}var a=b.frameState.viewState.resolution;if(a!==this.currentResolution_){this.currentResolution_=a;this.setThumbPosition_(a)}};ol.control.ZoomSlider.prototype.handleContainerClick_=function(a){var b=this.getMap().getView();var c=this.getRelativePosition_(a.offsetX-this.thumbSize_[0]/2,a.offsetY-this.thumbSize_[1]/2);var d=this.getResolutionForPosition_(c);b.animate({resolution:b.constrainResolution(d),duration:this.duration_,easing:ol.easing.easeOut})};ol.control.ZoomSlider.prototype.handleDraggerStart_=function(a){if(!this.dragging_&&a.originalEvent.target===this.element.firstElementChild){this.getMap().getView().setHint(ol.ViewHint.INTERACTING,1);this.previousX_=a.clientX;this.previousY_=a.clientY;this.dragging_=!0}};ol.control.ZoomSlider.prototype.handleDraggerDrag_=function(a){if(this.dragging_){var b=this.element.firstElementChild;var d=a.clientX-this.previousX_+parseInt(b.style.left,10);var e=a.clientY-this.previousY_+parseInt(b.style.top,10);var c=this.getRelativePosition_(d,e);this.currentResolution_=this.getResolutionForPosition_(c);this.getMap().getView().setResolution(this.currentResolution_);this.setThumbPosition_(this.currentResolution_);this.previousX_=a.clientX;this.previousY_=a.clientY}};ol.control.ZoomSlider.prototype.handleDraggerEnd_=function(b){if(this.dragging_){var a=this.getMap().getView();a.setHint(ol.ViewHint.INTERACTING,-1);a.animate({resolution:a.constrainResolution(this.currentResolution_),duration:this.duration_,easing:ol.easing.easeOut});this.dragging_=!1;this.previousX_=undefined;this.previousY_=undefined}};ol.control.ZoomSlider.prototype.setThumbPosition_=function(c){var a=this.getPositionForResolution_(c);var b=this.element.firstElementChild;if(this.direction_==ol.control.ZoomSlider.Direction_.HORIZONTAL){b.style.left=this.widthLimit_*a+'px'}else {b.style.top=this.heightLimit_*a+'px'}};ol.control.ZoomSlider.prototype.getRelativePosition_=function(b,c){var a;if(this.direction_===ol.control.ZoomSlider.Direction_.HORIZONTAL){a=b/this.widthLimit_}else {a=c/this.heightLimit_}return ol.math.clamp(a,0,1)};ol.control.ZoomSlider.prototype.getResolutionForPosition_=function(a){var b=this.getMap().getView().getResolutionForValueFunction();return b(1-a)};ol.control.ZoomSlider.prototype.getPositionForResolution_=function(a){var b=this.getMap().getView().getValueForResolutionFunction();return 1-b(a)};goog.provide('ol.control.ZoomToExtent');goog.require('ol');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.control.Control');goog.require('ol.css');ol.control.ZoomToExtent=function(e){var a=e?e:{};this.extent=a.extent?a.extent:null;var g=a.className!==undefined?a.className:'ol-zoom-extent';var d=a.label!==undefined?a.label:'E';var h=a.tipLabel!==undefined?a.tipLabel:'Fit to extent';var b=document.createElement('button');b.setAttribute('type','button');b.title=h;b.appendChild(typeof d==='string'?document.createTextNode(d):d);ol.events.listen(b,ol.events.EventType.CLICK,this.handleClick_,this);var f=g+' '+ol.css.CLASS_UNSELECTABLE+' '+ol.css.CLASS_CONTROL;var c=document.createElement('div');c.className=f;c.appendChild(b);ol.control.Control.call(this,{element:c,target:a.target})};ol.inherits(ol.control.ZoomToExtent,ol.control.Control);ol.control.ZoomToExtent.prototype.handleClick_=function(a){a.preventDefault();this.handleZoomToExtent()};ol.control.ZoomToExtent.prototype.handleZoomToExtent=function(){var c=this.getMap();var a=c.getView();var b=!this.extent?a.getProjection().getExtent():this.extent;a.fit(b)};goog.provide('ol.DeviceOrientation');goog.require('ol.events');goog.require('ol');goog.require('ol.Object');goog.require('ol.has');goog.require('ol.math');ol.DeviceOrientation=function(a){ol.Object.call(this);var b=a?a:{};this.listenerKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.DeviceOrientation.Property_.TRACKING),this.handleTrackingChanged_,this);this.setTracking(b.tracking!==undefined?b.tracking:!1)};ol.inherits(ol.DeviceOrientation,ol.Object);ol.DeviceOrientation.prototype.disposeInternal=function(){this.setTracking(!1);ol.Object.prototype.disposeInternal.call(this)};ol.DeviceOrientation.prototype.orientationChange_=function(c){var a=c;if(a.alpha!==null){var b=ol.math.toRadians(a.alpha);this.set(ol.DeviceOrientation.Property_.ALPHA,b);if(typeof a.absolute==='boolean'&&a.absolute){this.set(ol.DeviceOrientation.Property_.HEADING,b)}else {if(typeof a.webkitCompassHeading==='number'&&a.webkitCompassAccuracy!=-1){var d=ol.math.toRadians(a.webkitCompassHeading);this.set(ol.DeviceOrientation.Property_.HEADING,d)}}}if(a.beta!==null){this.set(ol.DeviceOrientation.Property_.BETA,ol.math.toRadians(a.beta))}if(a.gamma!==null){this.set(ol.DeviceOrientation.Property_.GAMMA,ol.math.toRadians(a.gamma))}this.changed()};ol.DeviceOrientation.prototype.getAlpha=function(){return this.get(ol.DeviceOrientation.Property_.ALPHA)};ol.DeviceOrientation.prototype.getBeta=function(){return this.get(ol.DeviceOrientation.Property_.BETA)};ol.DeviceOrientation.prototype.getGamma=function(){return this.get(ol.DeviceOrientation.Property_.GAMMA)};ol.DeviceOrientation.prototype.getHeading=function(){return this.get(ol.DeviceOrientation.Property_.HEADING)};ol.DeviceOrientation.prototype.getTracking=function(){return this.get(ol.DeviceOrientation.Property_.TRACKING)};ol.DeviceOrientation.prototype.handleTrackingChanged_=function(){if(ol.has.DEVICE_ORIENTATION){var a=this.getTracking();if(a&&!this.listenerKey_){this.listenerKey_=ol.events.listen(window,'deviceorientation',this.orientationChange_,this)}else {if(!a&&this.listenerKey_!==null){ol.events.unlistenByKey(this.listenerKey_);this.listenerKey_=null}}}};ol.DeviceOrientation.prototype.setTracking=function(a){this.set(ol.DeviceOrientation.Property_.TRACKING,a)};ol.DeviceOrientation.Property_={ALPHA:'alpha',BETA:'beta',GAMMA:'gamma',HEADING:'heading',TRACKING:'tracking'};goog.provide('ol.style.Image');ol.style.Image=function(a){this.opacity_=a.opacity;this.rotateWithView_=a.rotateWithView;this.rotation_=a.rotation;this.scale_=a.scale;this.snapToPixel_=a.snapToPixel};ol.style.Image.prototype.getOpacity=function(){return this.opacity_};ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Image.prototype.getRotation=function(){return this.rotation_};ol.style.Image.prototype.getScale=function(){return this.scale_};ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_};ol.style.Image.prototype.getAnchor=function(){};ol.style.Image.prototype.getImage=function(a){};ol.style.Image.prototype.getHitDetectionImage=function(a){};ol.style.Image.prototype.getImageState=function(){};ol.style.Image.prototype.getImageSize=function(){};ol.style.Image.prototype.getHitDetectionImageSize=function(){};ol.style.Image.prototype.getOrigin=function(){};ol.style.Image.prototype.getSize=function(){};ol.style.Image.prototype.setOpacity=function(a){this.opacity_=a};ol.style.Image.prototype.setRotateWithView=function(a){this.rotateWithView_=a};ol.style.Image.prototype.setRotation=function(a){this.rotation_=a};ol.style.Image.prototype.setScale=function(a){this.scale_=a};ol.style.Image.prototype.setSnapToPixel=function(a){this.snapToPixel_=a};ol.style.Image.prototype.listenImageChange=function(a,b){};ol.style.Image.prototype.load=function(){};ol.style.Image.prototype.unlistenImageChange=function(a,b){};goog.provide('ol.style.RegularShape');goog.require('ol');goog.require('ol.colorlike');goog.require('ol.dom');goog.require('ol.has');goog.require('ol.ImageState');goog.require('ol.render.canvas');goog.require('ol.style.Image');ol.style.RegularShape=function(a){this.checksums_=null;this.canvas_=null;this.hitDetectionCanvas_=null;this.fill_=a.fill!==undefined?a.fill:null;this.origin_=[0,0];this.points_=a.points;this.radius_=a.radius!==undefined?a.radius:a.radius1;this.radius2_=a.radius2;this.angle_=a.angle!==undefined?a.angle:0;this.stroke_=a.stroke!==undefined?a.stroke:null;this.anchor_=null;this.size_=null;this.imageSize_=null;this.hitDetectionImageSize_=null;this.atlasManager_=a.atlasManager;this.render_(this.atlasManager_);var c=a.snapToPixel!==undefined?a.snapToPixel:!0;var b=a.rotateWithView!==undefined?a.rotateWithView:!1;ol.style.Image.call(this,{opacity:1,rotateWithView:b,rotation:a.rotation!==undefined?a.rotation:0,scale:1,snapToPixel:c})};ol.inherits(ol.style.RegularShape,ol.style.Image);ol.style.RegularShape.prototype.clone=function(){var a=new ol.style.RegularShape({fill:this.getFill()?this.getFill().clone():undefined,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():undefined,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});a.setOpacity(this.getOpacity());a.setScale(this.getScale());return a};ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_};ol.style.RegularShape.prototype.getAngle=function(){return this.angle_};ol.style.RegularShape.prototype.getFill=function(){return this.fill_};ol.style.RegularShape.prototype.getHitDetectionImage=function(a){return this.hitDetectionCanvas_};ol.style.RegularShape.prototype.getImage=function(a){return this.canvas_};ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_};ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};ol.style.RegularShape.prototype.getImageState=function(){return ol.ImageState.LOADED};ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_};ol.style.RegularShape.prototype.getPoints=function(){return this.points_};ol.style.RegularShape.prototype.getRadius=function(){return this.radius_};ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_};ol.style.RegularShape.prototype.getSize=function(){return this.size_};ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_};ol.style.RegularShape.prototype.listenImageChange=function(a,b){};ol.style.RegularShape.prototype.load=function(){};ol.style.RegularShape.prototype.unlistenImageChange=function(a,b){};ol.style.RegularShape.prototype.render_=function(n){var d;var i='';var h='';var g=0;var k=null;var j=0;var c;var e=0;if(this.stroke_){c=this.stroke_.getColor();if(c===null){c=ol.render.canvas.defaultStrokeStyle}c=ol.colorlike.asColorLike(c);e=this.stroke_.getWidth();if(e===undefined){e=ol.render.canvas.defaultLineWidth}k=this.stroke_.getLineDash();j=this.stroke_.getLineDashOffset();if(!ol.has.CANVAS_LINE_DASH){k=null;j=0}h=this.stroke_.getLineJoin();if(h===undefined){h=ol.render.canvas.defaultLineJoin}i=this.stroke_.getLineCap();if(i===undefined){i=ol.render.canvas.defaultLineCap}g=this.stroke_.getMiterLimit();if(g===undefined){g=ol.render.canvas.defaultMiterLimit}}var a=2*(this.radius_+e)+1;var f={strokeStyle:c,strokeWidth:e,size:a,lineCap:i,lineDash:k,lineDashOffset:j,lineJoin:h,miterLimit:g};if(n===undefined){var o=ol.dom.createCanvasContext2D(a,a);this.canvas_=o.canvas;a=this.canvas_.width;d=a;this.draw_(f,o,0,0);this.createHitDetectionCanvas_(f)}else {a=Math.round(a);var l=!this.fill_;var m;if(l){m=this.drawHitDetectionCanvas_.bind(this,f)}var p=this.getChecksum();var b=n.add(p,a,a,this.draw_.bind(this,f),m);this.canvas_=b.image;this.origin_=[b.offsetX,b.offsetY];d=b.image.width;if(l){this.hitDetectionCanvas_=b.hitImage;this.hitDetectionImageSize_=[b.hitImage.width,b.hitImage.height]}else {this.hitDetectionCanvas_=this.canvas_;this.hitDetectionImageSize_=[d,d]}}this.anchor_=[a/2,a/2];this.size_=[a,a];this.imageSize_=[d,d]};ol.style.RegularShape.prototype.draw_=function(b,a,i,j){var d,f,e;a.setTransform(1,0,0,1,0,0);a.translate(i,j);a.beginPath();var c=this.points_;if(c===Infinity){a.arc(b.size/2,b.size/2,this.radius_,0,2*Math.PI,!0)}else {var h=this.radius2_!==undefined?this.radius2_:this.radius_;if(h!==this.radius_){c=2*c}for(d=0;d<=c;d++){f=d*2*Math.PI/c-Math.PI/2+this.angle_;e=d%2===0?this.radius_:h;a.lineTo(b.size/2+e*Math.cos(f),b.size/2+e*Math.sin(f))}}if(this.fill_){var g=this.fill_.getColor();if(g===null){g=ol.render.canvas.defaultFillStyle}a.fillStyle=ol.colorlike.asColorLike(g);a.fill()}if(this.stroke_){a.strokeStyle=b.strokeStyle;a.lineWidth=b.strokeWidth;if(b.lineDash){a.setLineDash(b.lineDash);a.lineDashOffset=b.lineDashOffset}a.lineCap=b.lineCap;a.lineJoin=b.lineJoin;a.miterLimit=b.miterLimit;a.stroke()}a.closePath()};ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(a){this.hitDetectionImageSize_=[a.size,a.size];if(this.fill_){this.hitDetectionCanvas_=this.canvas_;return}var b=ol.dom.createCanvasContext2D(a.size,a.size);this.hitDetectionCanvas_=b.canvas;this.drawHitDetectionCanvas_(a,b,0,0)};ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(b,a,h,i){a.setTransform(1,0,0,1,0,0);a.translate(h,i);a.beginPath();var c=this.points_;if(c===Infinity){a.arc(b.size/2,b.size/2,this.radius_,0,2*Math.PI,!0)}else {var g=this.radius2_!==undefined?this.radius2_:this.radius_;if(g!==this.radius_){c=2*c}var d,e,f;for(d=0;d<=c;d++){f=d*2*Math.PI/c-Math.PI/2+this.angle_;e=d%2===0?this.radius_:g;a.lineTo(b.size/2+e*Math.cos(f),b.size/2+e*Math.sin(f))}}a.fillStyle=ol.render.canvas.defaultFillStyle;a.fill();if(this.stroke_){a.strokeStyle=b.strokeStyle;a.lineWidth=b.strokeWidth;if(b.lineDash){a.setLineDash(b.lineDash);a.lineDashOffset=b.lineDashOffset}a.stroke()}a.closePath()};ol.style.RegularShape.prototype.getChecksum=function(){var a=this.stroke_?this.stroke_.getChecksum():'-';var b=this.fill_?this.fill_.getChecksum():'-';var c=!this.checksums_||(a!=this.checksums_[1]||b!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]);if(c){var d='r'+a+b+(this.radius_!==undefined?this.radius_.toString():'-')+(this.radius2_!==undefined?this.radius2_.toString():'-')+(this.angle_!==undefined?this.angle_.toString():'-')+(this.points_!==undefined?this.points_.toString():'-');this.checksums_=[d,a,b,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};goog.provide('ol.style.Circle');goog.require('ol');goog.require('ol.style.RegularShape');ol.style.Circle=function(b){var a=b||{};ol.style.RegularShape.call(this,{points:Infinity,fill:a.fill,radius:a.radius,snapToPixel:a.snapToPixel,stroke:a.stroke,atlasManager:a.atlasManager})};ol.inherits(ol.style.Circle,ol.style.RegularShape);ol.style.Circle.prototype.clone=function(){var a=new ol.style.Circle({fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});a.setOpacity(this.getOpacity());a.setScale(this.getScale());return a};ol.style.Circle.prototype.setRadius=function(a){this.radius_=a;this.render_(this.atlasManager_)};goog.provide('ol.style.Fill');goog.require('ol');goog.require('ol.color');ol.style.Fill=function(b){var a=b||{};this.color_=a.color!==undefined?a.color:null;this.checksum_=undefined};ol.style.Fill.prototype.clone=function(){var a=this.getColor();return new ol.style.Fill({color:a&&a.slice?a.slice():a||undefined})};ol.style.Fill.prototype.getColor=function(){return this.color_};ol.style.Fill.prototype.setColor=function(a){this.color_=a;this.checksum_=undefined};ol.style.Fill.prototype.getChecksum=function(){if(this.checksum_===undefined){if(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient){this.checksum_=ol.getUid(this.color_).toString()}else {this.checksum_='f'+(this.color_?ol.color.asString(this.color_):'-')}}return this.checksum_};goog.provide('ol.style.Stroke');goog.require('ol');ol.style.Stroke=function(b){var a=b||{};this.color_=a.color!==undefined?a.color:null;this.lineCap_=a.lineCap;this.lineDash_=a.lineDash!==undefined?a.lineDash:null;this.lineDashOffset_=a.lineDashOffset;this.lineJoin_=a.lineJoin;this.miterLimit_=a.miterLimit;this.width_=a.width;this.checksum_=undefined};ol.style.Stroke.prototype.clone=function(){var a=this.getColor();return new ol.style.Stroke({color:a&&a.slice?a.slice():a||undefined,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():undefined,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};ol.style.Stroke.prototype.getColor=function(){return this.color_};ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_};ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_};ol.style.Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_};ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_};ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_};ol.style.Stroke.prototype.getWidth=function(){return this.width_};ol.style.Stroke.prototype.setColor=function(a){this.color_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setLineCap=function(a){this.lineCap_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setLineDash=function(a){this.lineDash_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setLineDashOffset=function(a){this.lineDashOffset_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setLineJoin=function(a){this.lineJoin_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setMiterLimit=function(a){this.miterLimit_=a;this.checksum_=undefined};ol.style.Stroke.prototype.setWidth=function(a){this.width_=a;this.checksum_=undefined};ol.style.Stroke.prototype.getChecksum=function(){if(this.checksum_===undefined){this.checksum_='s';if(this.color_){if(typeof this.color_==='string'){this.checksum_+=this.color_}else {this.checksum_+=ol.getUid(this.color_).toString()}}else {this.checksum_+='-'}this.checksum_+=','+(this.lineCap_!==undefined?this.lineCap_.toString():'-')+','+(this.lineDash_?this.lineDash_.toString():'-')+','+(this.lineDashOffset_!==undefined?this.lineDashOffset_:'-')+','+(this.lineJoin_!==undefined?this.lineJoin_:'-')+','+(this.miterLimit_!==undefined?this.miterLimit_.toString():'-')+','+(this.width_!==undefined?this.width_.toString():'-')}return this.checksum_};goog.provide('ol.style.Style');goog.require('ol.asserts');goog.require('ol.geom.GeometryType');goog.require('ol.style.Circle');goog.require('ol.style.Fill');goog.require('ol.style.Stroke');ol.style.Style=function(b){var a=b||{};this.geometry_=null;this.geometryFunction_=ol.style.Style.defaultGeometryFunction;if(a.geometry!==undefined){this.setGeometry(a.geometry)}this.fill_=a.fill!==undefined?a.fill:null;this.image_=a.image!==undefined?a.image:null;this.renderer_=a.renderer!==undefined?a.renderer:null;this.stroke_=a.stroke!==undefined?a.stroke:null;this.text_=a.text!==undefined?a.text:null;this.zIndex_=a.zIndex};ol.style.Style.prototype.clone=function(){var a=this.getGeometry();if(a&&a.clone){a=a.clone()}return new ol.style.Style({geometry:a,fill:this.getFill()?this.getFill().clone():undefined,image:this.getImage()?this.getImage().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,text:this.getText()?this.getText().clone():undefined,zIndex:this.getZIndex()})};ol.style.Style.prototype.getRenderer=function(){return this.renderer_};ol.style.Style.prototype.setRenderer=function(a){this.renderer_=a};ol.style.Style.prototype.getGeometry=function(){return this.geometry_};ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_};ol.style.Style.prototype.getFill=function(){return this.fill_};ol.style.Style.prototype.setFill=function(a){this.fill_=a};ol.style.Style.prototype.getImage=function(){return this.image_};ol.style.Style.prototype.setImage=function(a){this.image_=a};ol.style.Style.prototype.getStroke=function(){return this.stroke_};ol.style.Style.prototype.setStroke=function(a){this.stroke_=a};ol.style.Style.prototype.getText=function(){return this.text_};ol.style.Style.prototype.setText=function(a){this.text_=a};ol.style.Style.prototype.getZIndex=function(){return this.zIndex_};ol.style.Style.prototype.setGeometry=function(a){if(typeof a==='function'){this.geometryFunction_=a}else {if(typeof a==='string'){this.geometryFunction_=function(b){return b.get(a)}}else {if(!a){this.geometryFunction_=ol.style.Style.defaultGeometryFunction}else {if(a!==undefined){this.geometryFunction_=function(){return a}}}}}this.geometry_=a};ol.style.Style.prototype.setZIndex=function(a){this.zIndex_=a};ol.style.Style.createFunction=function(a){var b;if(typeof a==='function'){b=a}else {var c;if(Array.isArray(a)){c=a}else {ol.asserts.assert(a instanceof ol.style.Style,41);c=[a]}b=function(){return c}}return b};ol.style.Style.default_=null;ol.style.Style.defaultFunction=function(d,c){if(!ol.style.Style.default_){var b=new ol.style.Fill({color:'rgba(255,255,255,0.4)'});var a=new ol.style.Stroke({color:'#3399CC',width:1.25});ol.style.Style.default_=[new ol.style.Style({image:new ol.style.Circle({fill:b,stroke:a,radius:5}),fill:b,stroke:a})]}return ol.style.Style.default_};ol.style.Style.createDefaultEditing=function(){var a={};var c=[255,255,255,1];var d=[0,153,255,1];var b=3;a[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,0.5]})})];a[ol.geom.GeometryType.MULTI_POLYGON]=a[ol.geom.GeometryType.POLYGON];a[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:c,width:b+2})}),new ol.style.Style({stroke:new ol.style.Stroke({color:d,width:b})})];a[ol.geom.GeometryType.MULTI_LINE_STRING]=a[ol.geom.GeometryType.LINE_STRING];a[ol.geom.GeometryType.CIRCLE]=a[ol.geom.GeometryType.POLYGON].concat(a[ol.geom.GeometryType.LINE_STRING]);a[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:b*2,fill:new ol.style.Fill({color:d}),stroke:new ol.style.Stroke({color:c,width:b/2})}),zIndex:Infinity})];a[ol.geom.GeometryType.MULTI_POINT]=a[ol.geom.GeometryType.POINT];a[ol.geom.GeometryType.GEOMETRY_COLLECTION]=a[ol.geom.GeometryType.POLYGON].concat(a[ol.geom.GeometryType.LINE_STRING],a[ol.geom.GeometryType.POINT]);return a};ol.style.Style.defaultGeometryFunction=function(a){return a.getGeometry()};goog.provide('ol.Feature');goog.require('ol.asserts');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol');goog.require('ol.Object');goog.require('ol.geom.Geometry');goog.require('ol.style.Style');ol.Feature=function(a){ol.Object.call(this);this.id_=undefined;this.geometryName_='geometry';this.style_=null;this.styleFunction_=undefined;this.geometryChangeKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);if(a!==undefined){if(a instanceof ol.geom.Geometry||!a){var c=a;this.setGeometry(c)}else {var b=a;this.setProperties(b)}}};ol.inherits(ol.Feature,ol.Object);ol.Feature.prototype.clone=function(){var a=new ol.Feature(this.getProperties());a.setGeometryName(this.getGeometryName());var b=this.getGeometry();if(b){a.setGeometry(b.clone())}var c=this.getStyle();if(c){a.setStyle(c)}return a};ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)};ol.Feature.prototype.getId=function(){return this.id_};ol.Feature.prototype.getGeometryName=function(){return this.geometryName_};ol.Feature.prototype.getStyle=function(){return this.style_};ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_};ol.Feature.prototype.handleGeometryChange_=function(){this.changed()};ol.Feature.prototype.handleGeometryChanged_=function(){if(this.geometryChangeKey_){ol.events.unlistenByKey(this.geometryChangeKey_);this.geometryChangeKey_=null}var a=this.getGeometry();if(a){this.geometryChangeKey_=ol.events.listen(a,ol.events.EventType.CHANGE,this.handleGeometryChange_,this)}this.changed()};ol.Feature.prototype.setGeometry=function(a){this.set(this.geometryName_,a)};ol.Feature.prototype.setStyle=function(a){this.style_=a;this.styleFunction_=!a?undefined:ol.Feature.createStyleFunction(a);this.changed()};ol.Feature.prototype.setId=function(a){this.id_=a;this.changed()};ol.Feature.prototype.setGeometryName=function(a){ol.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.geometryName_=a;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.handleGeometryChanged_()};ol.Feature.createStyleFunction=function(a){var b;if(typeof a==='function'){if(a.length==2){b=function(b){return a(this,b)}}else {b=a}}else {var c;if(Array.isArray(a)){c=a}else {ol.asserts.assert(a instanceof ol.style.Style,41);c=[a]}b=function(){return c}}return b};goog.provide('ol.format.FormatType');ol.format.FormatType={ARRAY_BUFFER:'arraybuffer',JSON:'json',TEXT:'text',XML:'xml'};goog.provide('ol.xml');goog.require('ol.array');ol.xml.DOCUMENT=document.implementation.createDocument('','',null);ol.xml.createElementNS=function(b,a){return ol.xml.DOCUMENT.createElementNS(b,a)};ol.xml.getAllTextContent=function(b,a){return ol.xml.getAllTextContent_(b,a,[]).join('')};ol.xml.getAllTextContent_=function(a,d,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE){if(d){c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,''))}else {c.push(a.nodeValue)}}else {var b;for(b=a.firstChild;b;b=b.nextSibling){ol.xml.getAllTextContent_(b,d,c)}}return c};ol.xml.isDocument=function(a){return a instanceof Document};ol.xml.isNode=function(a){return a instanceof Node};ol.xml.getAttributeNS=function(c,a,b){return c.getAttributeNS(a,b)||''};ol.xml.setAttributeNS=function(d,a,c,b){d.setAttributeNS(a,c,b)};ol.xml.parse=function(a){return (new DOMParser()).parseFromString(a,'application/xml')};ol.xml.makeArrayExtender=function(a,b){return function(f,c){var d=a.call(b,f,c);if(d!==undefined){var e=c[c.length-1];ol.array.extend(e,d)}}};ol.xml.makeArrayPusher=function(b,a){return function(f,c){var d=b.call(a!==undefined?a:this,f,c);if(d!==undefined){var e=c[c.length-1];e.push(d)}}};ol.xml.makeReplacer=function(b,a){return function(e,c){var d=b.call(a!==undefined?a:this,e,c);if(d!==undefined){c[c.length-1]=d}}};ol.xml.makeObjectPropertyPusher=function(c,a,b){return function(i,d){var h=c.call(b!==undefined?b:this,i,d);if(h!==undefined){var f=d[d.length-1];var e=a!==undefined?a:i.localName;var g;if(e in f){g=f[e]}else {g=f[e]=[]}g.push(h)}}};ol.xml.makeObjectPropertySetter=function(c,a,b){return function(f,d){var e=c.call(b!==undefined?b:this,f,d);if(e!==undefined){var h=d[d.length-1];var g=a!==undefined?a:f.localName;h[g]=e}}};ol.xml.makeChildAppender=function(b,a){return function(d,g,c){b.call(a!==undefined?a:this,d,g,c);var f=c[c.length-1];var e=f.node;e.appendChild(d)}};ol.xml.makeArraySerializer=function(c,d){var a,b;return function(e,h,g){if(a===undefined){a={};var f={};f[e.localName]=c;a[e.namespaceURI]=f;b=ol.xml.makeSimpleNodeFactory(e.localName)}ol.xml.serialize(a,b,h,g)}};ol.xml.makeSimpleNodeFactory=function(c,a){var b=c;return function(j,f,g){var h=f[f.length-1];var i=h.node;var d=b;if(d===undefined){d=g}var e=a;if(a===undefined){e=i.namespaceURI}return ol.xml.createElementNS(e,d)}};ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory();ol.xml.makeSequence=function(e,b){var d=b.length;var c=new Array(d);for(var a=0;a<d;++a){c[a]=e[b[a]]}return c};ol.xml.makeStructureNS=function(c,f,b){var d=b!==undefined?b:{};var a,e;for(a=0,e=c.length;a<e;++a){d[c[a]]=f}return d};ol.xml.parseNode=function(e,g,d,f){var a;for(a=g.firstElementChild;a;a=a.nextElementSibling){var b=e[a.namespaceURI];if(b!==undefined){var c=b[a.localName];if(c!==undefined){c.call(f,a,d)}}}};ol.xml.pushParseAndPop=function(d,b,e,a,c){a.push(d);ol.xml.parseNode(b,e,a,c);return a.pop()};ol.xml.serialize=function(h,i,g,e,b,f){var j=(b!==undefined?b:g).length;var c,a;for(var d=0;d<j;++d){c=g[d];if(c!==undefined){a=i.call(f,c,e,b!==undefined?b[d]:undefined);if(a!==undefined){h[a.namespaceURI][a.localName].call(f,a,c,e)}}}};ol.xml.pushSerializeAndPop=function(f,b,c,g,a,d,e){a.push(f);ol.xml.serialize(b,c,g,a,d,e);return a.pop()};goog.provide('ol.featureloader');goog.require('ol');goog.require('ol.format.FormatType');goog.require('ol.xml');ol.featureloader.loadFeaturesXhr=function(c,a,d,b){return function(h,g,f){var e=new XMLHttpRequest();e.open('GET',typeof c==='function'?c(h,g,f):c,!0);if(a.getType()==ol.format.FormatType.ARRAY_BUFFER){e.responseType='arraybuffer'}e.onload=function(k){if(!e.status||e.status>=200&&e.status<300){var j=a.getType();var i;if(j==ol.format.FormatType.JSON||j==ol.format.FormatType.TEXT){i=e.responseText}else {if(j==ol.format.FormatType.XML){i=e.responseXML;if(!i){i=ol.xml.parse(e.responseText)}}else {if(j==ol.format.FormatType.ARRAY_BUFFER){i=e.response}}}if(i){d.call(this,a.readFeatures(i,{featureProjection:f}),a.readProjection(i),a.getLastExtent())}else {b.call(this)}}else {b.call(this)}}.bind(this);e.onerror=function(){b.call(this)}.bind(this);e.send()}};ol.featureloader.xhr=function(b,a){return ol.featureloader.loadFeaturesXhr(b,a,function(c,d){this.addFeatures(c)},ol.nullFunction)};goog.provide('ol.format.Feature');goog.require('ol.geom.Geometry');goog.require('ol.obj');goog.require('ol.proj');ol.format.Feature=function(){this.defaultDataProjection=null;this.defaultFeatureProjection=null};ol.format.Feature.prototype.getReadOptions=function(c,a){var b;if(a){b={dataProjection:a.dataProjection?a.dataProjection:this.readProjection(c),featureProjection:a.featureProjection}}return this.adaptOptions(b)};ol.format.Feature.prototype.adaptOptions=function(a){return ol.obj.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},a)};ol.format.Feature.prototype.getLastExtent=function(){return null};ol.format.Feature.prototype.getType=function(){};ol.format.Feature.prototype.readFeature=function(b,a){};ol.format.Feature.prototype.readFeatures=function(b,a){};ol.format.Feature.prototype.readGeometry=function(b,a){};ol.format.Feature.prototype.readProjection=function(a){};ol.format.Feature.prototype.writeFeature=function(b,a){};ol.format.Feature.prototype.writeFeatures=function(b,a){};ol.format.Feature.prototype.writeGeometry=function(b,a){};ol.format.Feature.transformWithOptions=function(c,f,b){var d=b?ol.proj.get(b.featureProjection):null;var e=b?ol.proj.get(b.dataProjection):null;var a;if(d&&e&&!ol.proj.equivalent(d,e)){if(c instanceof ol.geom.Geometry){a=(f?c.clone():c).transform(f?d:e,f?e:d)}else {a=ol.proj.transformExtent(c,e,d)}}else {a=c}if(f&&b&&b.decimals!==undefined){var g=Math.pow(10,b.decimals);var h=function(a){for(var d=0,e=a.length;d<e;++d){a[d]=Math.round(a[d]*g)/g}return a};if(a===c){a=a.clone()}a.applyTransform(h)}return a};goog.provide('ol.format.JSONFeature');goog.require('ol');goog.require('ol.format.Feature');goog.require('ol.format.FormatType');ol.format.JSONFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.JSONFeature,ol.format.Feature);ol.format.JSONFeature.prototype.getObject_=function(a){if(typeof a==='string'){var b=JSON.parse(a);return b?b:null}else {if(a!==null){return a}else {return null}}};ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON};ol.format.JSONFeature.prototype.readFeature=function(a,b){return this.readFeatureFromObject(this.getObject_(a),this.getReadOptions(a,b))};ol.format.JSONFeature.prototype.readFeatures=function(a,b){return this.readFeaturesFromObject(this.getObject_(a),this.getReadOptions(a,b))};ol.format.JSONFeature.prototype.readFeatureFromObject=function(b,a){};ol.format.JSONFeature.prototype.readFeaturesFromObject=function(b,a){};ol.format.JSONFeature.prototype.readGeometry=function(a,b){return this.readGeometryFromObject(this.getObject_(a),this.getReadOptions(a,b))};ol.format.JSONFeature.prototype.readGeometryFromObject=function(b,a){};ol.format.JSONFeature.prototype.readProjection=function(a){return this.readProjectionFromObject(this.getObject_(a))};ol.format.JSONFeature.prototype.readProjectionFromObject=function(a){};ol.format.JSONFeature.prototype.writeFeature=function(b,a){return JSON.stringify(this.writeFeatureObject(b,a))};ol.format.JSONFeature.prototype.writeFeatureObject=function(b,a){};ol.format.JSONFeature.prototype.writeFeatures=function(b,a){return JSON.stringify(this.writeFeaturesObject(b,a))};ol.format.JSONFeature.prototype.writeFeaturesObject=function(b,a){};ol.format.JSONFeature.prototype.writeGeometry=function(b,a){return JSON.stringify(this.writeGeometryObject(b,a))};ol.format.JSONFeature.prototype.writeGeometryObject=function(b,a){};goog.provide('ol.geom.flat.interpolate');goog.require('ol.array');goog.require('ol.math');ol.geom.flat.interpolate.lineString=function(a,b,s,c,h,j){var e=NaN;var f=NaN;var q=(s-b)/c;if(q===1){e=a[b];f=a[b+1]}else {if(q==2){e=(1-h)*a[b]+h*a[b+c];f=(1-h)*a[b+1]+h*a[b+c+1]}else {if(q!==0){var m=a[b];var o=a[b+1];var l=0;var g=[0];var i;for(i=b+c;i<s;i+=c){var n=a[i];var p=a[i+1];l+=Math.sqrt((n-m)*(n-m)+(p-o)*(p-o));g.push(l);m=n;o=p}var r=h*l;var d=ol.array.binarySearch(g,r);if(d<0){var t=(r-g[-d-2])/(g[-d-1]-g[-d-2]);var k=b+(-d-2)*c;e=ol.math.lerp(a[k],a[k+c],t);f=ol.math.lerp(a[k+1],a[k+c+1],t)}else {e=a[b+d*c];f=a[b+d*c+1]}}}}if(j){j[0]=e;j[1]=f;return j}else {return [e,f]}};ol.geom.flat.interpolate.lineStringCoordinateAtM=function(b,f,g,a,e,l){if(g==f){return null}var c;if(e<b[f+a-1]){if(l){c=b.slice(f,f+a);c[a-1]=e;return c}else {return null}}else {if(b[g-1]<e){if(l){c=b.slice(g-a,g);c[a-1]=e;return c}else {return null}}}if(e==b[f+a-1]){return b.slice(f,f+a)}var d=f/a;var j=g/a;while(d<j){var i=d+j>>1;if(e<b[(i+1)*a-1]){j=i}else {d=i+1}}var k=b[d*a-1];if(e==k){return b.slice((d-1)*a,(d-1)*a+a)}var m=b[(d+1)*a-1];var n=(e-k)/(m-k);c=[];var h;for(h=0;h<a-1;++h){c.push(ol.math.lerp(b[(d-1)*a+h],b[d*a+h],n))}c.push(e);return c};ol.geom.flat.interpolate.lineStringsCoordinateAtM=function(a,e,f,b,c,i,k){if(k){return ol.geom.flat.interpolate.lineStringCoordinateAtM(a,e,f[f.length-1],b,c,i)}var d;if(c<a[b-1]){if(i){d=a.slice(0,b);d[b-1]=c;return d}else {return null}}if(a[a.length-1]<c){if(i){d=a.slice(a.length-b);d[b-1]=c;return d}else {return null}}var h,j;for(h=0,j=f.length;h<j;++h){var g=f[h];if(e==g){continue}if(c<a[e+b-1]){return null}else {if(c<=a[g-1]){return ol.geom.flat.interpolate.lineStringCoordinateAtM(a,e,g,b,c,!1)}}e=g}return null};goog.provide('ol.geom.LineString');goog.require('ol');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.closest');goog.require('ol.geom.flat.deflate');goog.require('ol.geom.flat.inflate');goog.require('ol.geom.flat.interpolate');goog.require('ol.geom.flat.intersectsextent');goog.require('ol.geom.flat.length');goog.require('ol.geom.flat.segments');goog.require('ol.geom.flat.simplify');ol.geom.LineString=function(a,b){ol.geom.SimpleGeometry.call(this);this.flatMidpoint_=null;this.flatMidpointRevision_=-1;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(a,b)};ol.inherits(ol.geom.LineString,ol.geom.SimpleGeometry);ol.geom.LineString.prototype.appendCoordinate=function(a){if(!this.flatCoordinates){this.flatCoordinates=a.slice()}else {ol.array.extend(this.flatCoordinates,a)}this.changed()};ol.geom.LineString.prototype.clone=function(){var a=new ol.geom.LineString(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.LineString.prototype.closestPointXY=function(b,c,d,a){if(a<ol.extent.closestSquaredDistanceXY(this.getExtent(),b,c)){return a}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,b,c,d,a)};ol.geom.LineString.prototype.forEachSegment=function(a,b){return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b)};ol.geom.LineString.prototype.getCoordinateAtM=function(c,a){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM){return null}var b=a!==undefined?a:!1;return ol.geom.flat.interpolate.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,c,b)};ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getCoordinateAt=function(a,b){return ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,b)};ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getFlatMidpoint=function(){if(this.flatMidpointRevision_!=this.getRevision()){this.flatMidpoint_=this.getCoordinateAt(0.5,this.flatMidpoint_);this.flatMidpointRevision_=this.getRevision()}return this.flatMidpoint_};ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(c){var a=[];a.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,c,a,0);var b=new ol.geom.LineString(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XY,a);return b};ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING};ol.geom.LineString.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a)};ol.geom.LineString.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else {this.setLayout(b,a,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride);this.changed()}};ol.geom.LineString.prototype.setFlatCoordinates=function(b,a){this.setFlatCoordinatesInternal(b,a);this.changed()};goog.provide('ol.geom.MultiLineString');goog.require('ol');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.LineString');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.closest');goog.require('ol.geom.flat.deflate');goog.require('ol.geom.flat.inflate');goog.require('ol.geom.flat.interpolate');goog.require('ol.geom.flat.intersectsextent');goog.require('ol.geom.flat.simplify');ol.geom.MultiLineString=function(a,b){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(a,b)};ol.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry);ol.geom.MultiLineString.prototype.appendLineString=function(a){if(!this.flatCoordinates){this.flatCoordinates=a.getFlatCoordinates().slice()}else {ol.array.extend(this.flatCoordinates,a.getFlatCoordinates().slice())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.MultiLineString.prototype.clone=function(){var a=new ol.geom.MultiLineString(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return a};ol.geom.MultiLineString.prototype.closestPointXY=function(b,c,d,a){if(a<ol.extent.closestSquaredDistanceXY(this.getExtent(),b,c)){return a}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,b,c,d,a)};ol.geom.MultiLineString.prototype.getCoordinateAtM=function(e,a,b){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||this.flatCoordinates.length===0){return null}var c=a!==undefined?a:!1;var d=b!==undefined?b:!1;return ol.geom.flat.interpolate.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,c,d)};ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)};ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_};ol.geom.MultiLineString.prototype.getLineString=function(a){if(a<0||this.ends_.length<=a){return null}var b=new ol.geom.LineString(null);b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(a===0?0:this.ends_[a-1],this.ends_[a]));return b};ol.geom.MultiLineString.prototype.getLineStrings=function(){var h=this.flatCoordinates;var e=this.ends_;var i=this.layout;var b=[];var d=0;var a,g;for(a=0,g=e.length;a<g;++a){var f=e[a];var c=new ol.geom.LineString(null);c.setFlatCoordinates(i,h.slice(d,f));b.push(c);d=f}return b};ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var b=[];var g=this.flatCoordinates;var c=0;var d=this.ends_;var i=this.stride;var a,f;for(a=0,f=d.length;a<f;++a){var e=d[a];var h=ol.geom.flat.interpolate.lineString(g,c,e,i,0.5);ol.array.extend(b,h);c=e}return b};ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(d){var a=[];var c=[];a.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,d,a,0,c);var b=new ol.geom.MultiLineString(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,c);return b};ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING};ol.geom.MultiLineString.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,a)};ol.geom.MultiLineString.prototype.setCoordinates=function(a,c){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else {this.setLayout(c,a,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var b=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,a,this.stride,this.ends_);this.flatCoordinates.length=b.length===0?0:b[b.length-1];this.changed()}};ol.geom.MultiLineString.prototype.setFlatCoordinates=function(b,a,c){this.setFlatCoordinatesInternal(b,a);this.ends_=c;this.changed()};ol.geom.MultiLineString.prototype.setLineStrings=function(c){var e=this.getLayout();var b=[];var f=[];var a,g;for(a=0,g=c.length;a<g;++a){var d=c[a];if(a===0){e=d.getLayout()}ol.array.extend(b,d.getFlatCoordinates());f.push(b.length)}this.setFlatCoordinates(e,b,f)};goog.provide('ol.geom.MultiPoint');goog.require('ol');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.Point');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.deflate');goog.require('ol.geom.flat.inflate');goog.require('ol.math');ol.geom.MultiPoint=function(a,b){ol.geom.SimpleGeometry.call(this);this.setCoordinates(a,b)};ol.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry);ol.geom.MultiPoint.prototype.appendPoint=function(a){if(!this.flatCoordinates){this.flatCoordinates=a.getFlatCoordinates().slice()}else {ol.array.extend(this.flatCoordinates,a.getFlatCoordinates())}this.changed()};ol.geom.MultiPoint.prototype.clone=function(){var a=new ol.geom.MultiPoint(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.MultiPoint.prototype.closestPointXY=function(i,j,g,b){if(b<ol.extent.closestSquaredDistanceXY(this.getExtent(),i,j)){return b}var d=this.flatCoordinates;var e=this.stride;var a,h,c;for(a=0,h=d.length;a<h;a+=e){var f=ol.math.squaredDistance(i,j,d[a],d[a+1]);if(f<b){b=f;for(c=0;c<e;++c){g[c]=d[a+c]}g.length=e}}return b};ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.MultiPoint.prototype.getPoint=function(a){var c=!this.flatCoordinates?0:this.flatCoordinates.length/this.stride;if(a<0||c<=a){return null}var b=new ol.geom.Point(null);b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(a*this.stride,(a+1)*this.stride));return b};ol.geom.MultiPoint.prototype.getPoints=function(){var b=this.flatCoordinates;var g=this.layout;var d=this.stride;var c=[];var a,f;for(a=0,f=b.length;a<f;a+=d){var e=new ol.geom.Point(null);e.setFlatCoordinates(g,b.slice(a,a+d));c.push(e)}return c};ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT};ol.geom.MultiPoint.prototype.intersectsExtent=function(f){var b=this.flatCoordinates;var g=this.stride;var a,c,d,e;for(a=0,c=b.length;a<c;a+=g){d=b[a];e=b[a+1];if(ol.extent.containsXY(f,d,e)){return !0}}return !1};ol.geom.MultiPoint.prototype.setCoordinates=function(a,b){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else {this.setLayout(b,a,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,a,this.stride);this.changed()}};ol.geom.MultiPoint.prototype.setFlatCoordinates=function(b,a){this.setFlatCoordinatesInternal(b,a);this.changed()};goog.provide('ol.geom.flat.center');goog.require('ol.extent');ol.geom.flat.center.linearRingss=function(h,e,f,i){var d=[];var b,g;var a=ol.extent.createEmpty();for(b=0,g=f.length;b<g;++b){var c=f[b];a=ol.extent.createOrUpdateFromFlatCoordinates(h,e,c[0],i);d.push((a[0]+a[2])/2,(a[1]+a[3])/2);e=c[c.length-1]}return d};goog.provide('ol.geom.MultiPolygon');goog.require('ol');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.Polygon');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.area');goog.require('ol.geom.flat.center');goog.require('ol.geom.flat.closest');goog.require('ol.geom.flat.contains');goog.require('ol.geom.flat.deflate');goog.require('ol.geom.flat.inflate');goog.require('ol.geom.flat.interiorpoint');goog.require('ol.geom.flat.intersectsextent');goog.require('ol.geom.flat.orient');goog.require('ol.geom.flat.simplify');ol.geom.MultiPolygon=function(a,b){ol.geom.SimpleGeometry.call(this);this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(a,b)};ol.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry);ol.geom.MultiPolygon.prototype.appendPolygon=function(b){var a;if(!this.flatCoordinates){this.flatCoordinates=b.getFlatCoordinates().slice();a=b.getEnds().slice();this.endss_.push()}else {var e=this.flatCoordinates.length;ol.array.extend(this.flatCoordinates,b.getFlatCoordinates());a=b.getEnds().slice();var c,d;for(c=0,d=a.length;c<d;++c){a[c]+=e}}this.endss_.push(a);this.changed()};ol.geom.MultiPolygon.prototype.clone=function(){var b=new ol.geom.MultiPolygon(null);var d=this.endss_.length;var c=new Array(d);for(var a=0;a<d;++a){c[a]=this.endss_[a].slice()}b.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),c);return b};ol.geom.MultiPolygon.prototype.closestPointXY=function(b,c,d,a){if(a<ol.extent.closestSquaredDistanceXY(this.getExtent(),b,c)){return a}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,b,c,d,a)};ol.geom.MultiPolygon.prototype.containsXY=function(a,b){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a,b)};ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getCoordinates=function(b){var a;if(b!==undefined){a=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRingss(a,0,this.endss_,this.stride,b)}else {a=this.flatCoordinates}return ol.geom.flat.inflate.coordinatesss(a,0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_};ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var a=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var a=new ol.geom.MultiPoint(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XYM,this.getFlatInteriorPoints().slice());return a};ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var a=this.flatCoordinates;if(ol.geom.flat.orient.linearRingssAreOriented(a,0,this.endss_,this.stride)){this.orientedFlatCoordinates_=a}else {this.orientedFlatCoordinates_=a.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(d){var a=[];var c=[];a.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(d),a,0,c);var b=new ol.geom.MultiPolygon(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,c);return b};ol.geom.MultiPolygon.prototype.getPolygon=function(b){if(b<0||this.endss_.length<=b){return null}var a;if(b===0){a=0}else {var e=this.endss_[b-1];a=e[e.length-1]}var c=this.endss_[b].slice();var h=c[c.length-1];if(a!==0){var d,g;for(d=0,g=c.length;d<g;++d){c[d]-=a}}var f=new ol.geom.Polygon(null);f.setFlatCoordinates(this.layout,this.flatCoordinates.slice(a,h),c);return f};ol.geom.MultiPolygon.prototype.getPolygons=function(){var l=this.layout;var k=this.flatCoordinates;var g=this.endss_;var e=[];var b=0;var c,i,d,j;for(c=0,i=g.length;c<i;++c){var a=g[c].slice();var h=a[a.length-1];if(b!==0){for(d=0,j=a.length;d<j;++d){a[d]-=b}}var f=new ol.geom.Polygon(null);f.setFlatCoordinates(l,k.slice(b,h),a);e.push(f);b=h}return e};ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON};ol.geom.MultiPolygon.prototype.intersectsExtent=function(a){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,a)};ol.geom.MultiPolygon.prototype.setCoordinates=function(a,d){if(!a){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_)}else {this.setLayout(d,a,3);if(!this.flatCoordinates){this.flatCoordinates=[]}var c=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,a,this.stride,this.endss_);if(c.length===0){this.flatCoordinates.length=0}else {var b=c[c.length-1];this.flatCoordinates.length=b.length===0?0:b[b.length-1]}this.changed()}};ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(b,a,c){this.setFlatCoordinatesInternal(b,a);this.endss_=c;this.changed()};ol.geom.MultiPolygon.prototype.setPolygons=function(f){var g=this.getLayout();var d=[];var h=[];var a,i,b;for(a=0,i=f.length;a<i;++a){var e=f[a];if(a===0){g=e.getLayout()}var k=d.length;b=e.getEnds();var c,j;for(c=0,j=b.length;c<j;++c){b[c]+=k}ol.array.extend(d,e.getFlatCoordinates());h.push(b)}this.setFlatCoordinates(g,d,h)};goog.provide('ol.format.EsriJSON');goog.require('ol');goog.require('ol.Feature');goog.require('ol.asserts');goog.require('ol.extent');goog.require('ol.format.Feature');goog.require('ol.format.JSONFeature');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.LineString');goog.require('ol.geom.LinearRing');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.geom.flat.deflate');goog.require('ol.geom.flat.orient');goog.require('ol.obj');goog.require('ol.proj');ol.format.EsriJSON=function(a){var b=a?a:{};ol.format.JSONFeature.call(this);this.geometryName_=b.geometryName};ol.inherits(ol.format.EsriJSON,ol.format.JSONFeature);ol.format.EsriJSON.readGeometry_=function(a,e){if(!a){return null}var b;if(typeof a.x==='number'&&typeof a.y==='number'){b=ol.geom.GeometryType.POINT}else {if(a.points){b=ol.geom.GeometryType.MULTI_POINT}else {if(a.paths){if(a.paths.length===1){b=ol.geom.GeometryType.LINE_STRING}else {b=ol.geom.GeometryType.MULTI_LINE_STRING}}else {if(a.rings){var f=ol.format.EsriJSON.getGeometryLayout_(a);var c=ol.format.EsriJSON.convertRings_(a.rings,f);a=ol.obj.assign({},a);if(c.length===1){b=ol.geom.GeometryType.POLYGON;a.rings=c[0]}else {b=ol.geom.GeometryType.MULTI_POLYGON;a.rings=c}}}}}var d=ol.format.EsriJSON.GEOMETRY_READERS_[b];return ol.format.Feature.transformWithOptions(d(a),!1,e)};ol.format.EsriJSON.convertRings_=function(d,h){var c=[];var b=[];var e=[];var a,i;for(a=0,i=d.length;a<i;++a){c.length=0;ol.geom.flat.deflate.coordinates(c,0,d[a],h.length);var k=ol.geom.flat.orient.linearRingIsClockwise(c,0,c.length,h.length);if(k){b.push([d[a]])}else {e.push(d[a])}}while(e.length){var f=e.shift();var g=!1;for(a=b.length-1;a>=0;a--){var l=b[a][0];var j=ol.extent.containsExtent((new ol.geom.LinearRing(l)).getExtent(),(new ol.geom.LinearRing(f)).getExtent());if(j){b[a].push(f);g=!0;break}}if(!g){b.push([f.reverse()])}}return b};ol.format.EsriJSON.readPointGeometry_=function(a){var b;if(a.m!==undefined&&a.z!==undefined){b=new ol.geom.Point([a.x,a.y,a.z,a.m],ol.geom.GeometryLayout.XYZM)}else {if(a.z!==undefined){b=new ol.geom.Point([a.x,a.y,a.z],ol.geom.GeometryLayout.XYZ)}else {if(a.m!==undefined){b=new ol.geom.Point([a.x,a.y,a.m],ol.geom.GeometryLayout.XYM)}else {b=new ol.geom.Point([a.x,a.y])}}}return b};ol.format.EsriJSON.readLineStringGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.LineString(a.paths[0],b)};ol.format.EsriJSON.readMultiLineStringGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.MultiLineString(a.paths,b)};ol.format.EsriJSON.getGeometryLayout_=function(b){var a=ol.geom.GeometryLayout.XY;if(b.hasZ===!0&&b.hasM===!0){a=ol.geom.GeometryLayout.XYZM}else {if(b.hasZ===!0){a=ol.geom.GeometryLayout.XYZ}else {if(b.hasM===!0){a=ol.geom.GeometryLayout.XYM}}}return a};ol.format.EsriJSON.readMultiPointGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.MultiPoint(a.points,b)};ol.format.EsriJSON.readMultiPolygonGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.MultiPolygon(a.rings,b)};ol.format.EsriJSON.readPolygonGeometry_=function(a){var b=ol.format.EsriJSON.getGeometryLayout_(a);return new ol.geom.Polygon(a.rings,b)};ol.format.EsriJSON.writePointGeometry_=function(d,e){var a=d.getCoordinates();var b;var c=d.getLayout();if(c===ol.geom.GeometryLayout.XYZ){b={x:a[0],y:a[1],z:a[2]}}else {if(c===ol.geom.GeometryLayout.XYM){b={x:a[0],y:a[1],m:a[2]}}else {if(c===ol.geom.GeometryLayout.XYZM){b={x:a[0],y:a[1],z:a[2],m:a[3]}}else {if(c===ol.geom.GeometryLayout.XY){b={x:a[0],y:a[1]}}else {ol.asserts.assert(!1,34)}}}}return b};ol.format.EsriJSON.getHasZM_=function(b){var a=b.getLayout();return {hasZ:a===ol.geom.GeometryLayout.XYZ||a===ol.geom.GeometryLayout.XYZM,hasM:a===ol.geom.GeometryLayout.XYM||a===ol.geom.GeometryLayout.XYZM}};ol.format.EsriJSON.writeLineStringGeometry_=function(a,c){var b=ol.format.EsriJSON.getHasZM_(a);return {hasZ:b.hasZ,hasM:b.hasM,paths:[a.getCoordinates()]}};ol.format.EsriJSON.writePolygonGeometry_=function(a,c){var b=ol.format.EsriJSON.getHasZM_(a);return {hasZ:b.hasZ,hasM:b.hasM,rings:a.getCoordinates(!1)}};ol.format.EsriJSON.writeMultiLineStringGeometry_=function(a,c){var b=ol.format.EsriJSON.getHasZM_(a);return {hasZ:b.hasZ,hasM:b.hasM,paths:a.getCoordinates()}};ol.format.EsriJSON.writeMultiPointGeometry_=function(a,c){var b=ol.format.EsriJSON.getHasZM_(a);return {hasZ:b.hasZ,hasM:b.hasM,points:a.getCoordinates()}};ol.format.EsriJSON.writeMultiPolygonGeometry_=function(d,g){var f=ol.format.EsriJSON.getHasZM_(d);var b=d.getCoordinates(!1);var e=[];for(var a=0;a<b.length;a++){for(var c=b[a].length-1;c>=0;c--){e.push(b[a][c])}}return {hasZ:f.hasZ,hasM:f.hasM,rings:e}};ol.format.EsriJSON.GEOMETRY_READERS_={};ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.readPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.readLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.readPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.readMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.readMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.readMultiPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_={};ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.writePointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.writeLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.writePolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.writeMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.writeMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.writeMultiPolygonGeometry_;ol.format.EsriJSON.prototype.readFeature;ol.format.EsriJSON.prototype.readFeatures;ol.format.EsriJSON.prototype.readFeatureFromObject=function(e,b){var a=e;var d=ol.format.EsriJSON.readGeometry_(a.geometry,b);var c=new ol.Feature();if(this.geometryName_){c.setGeometryName(this.geometryName_)}c.setGeometry(d);if(b&&b.idField&&a.attributes[b.idField]){c.setId(a.attributes[b.idField])}if(a.attributes){c.setProperties(a.attributes)}return c};ol.format.EsriJSON.prototype.readFeaturesFromObject=function(a,e){var i=a;var c=e?e:{};if(i.features){var h=a;var f=[];var d=h.features;var b,g;c.idField=a.objectIdFieldName;for(b=0,g=d.length;b<g;++b){f.push(this.readFeatureFromObject(d[b],c))}return f}else {return [this.readFeatureFromObject(a,c)]}};ol.format.EsriJSON.prototype.readGeometry;ol.format.EsriJSON.prototype.readGeometryFromObject=function(b,a){return ol.format.EsriJSON.readGeometry_(b,a)};ol.format.EsriJSON.prototype.readProjection;ol.format.EsriJSON.prototype.readProjectionFromObject=function(b){var a=b;if(a.spatialReference&&a.spatialReference.wkid){var c=a.spatialReference.wkid;return ol.proj.get('EPSG:'+c)}else {return null}};ol.format.EsriJSON.writeGeometry_=function(b,a){var c=ol.format.EsriJSON.GEOMETRY_WRITERS_[b.getType()];return c(ol.format.Feature.transformWithOptions(b,!0,a),a)};ol.format.EsriJSON.prototype.writeGeometry;ol.format.EsriJSON.prototype.writeGeometryObject=function(b,a){return ol.format.EsriJSON.writeGeometry_(b,this.adaptOptions(a))};ol.format.EsriJSON.prototype.writeFeature;ol.format.EsriJSON.prototype.writeFeatureObject=function(d,a){a=this.adaptOptions(a);var b={};var e=d.getGeometry();if(e){b['geometry']=ol.format.EsriJSON.writeGeometry_(e,a);if(a&&a.featureProjection){b['geometry']['spatialReference']={wkid:ol.proj.get(a.featureProjection).getCode().split(':').pop()}}}var c=d.getProperties();delete c[d.getGeometryName()];if(!ol.obj.isEmpty(c)){b['attributes']=c}else {b['attributes']={}}return b};ol.format.EsriJSON.prototype.writeFeatures;ol.format.EsriJSON.prototype.writeFeaturesObject=function(c,b){b=this.adaptOptions(b);var d=[];var a,e;for(a=0,e=c.length;a<e;++a){d.push(this.writeFeatureObject(c[a],b))}return {'features':d}};goog.provide('ol.format.filter.Filter');ol.format.filter.Filter=function(a){this.tagName_=a};ol.format.filter.Filter.prototype.getTagName=function(){return this.tagName_};goog.provide('ol.format.filter.LogicalNary');goog.require('ol');goog.require('ol.asserts');goog.require('ol.format.filter.Filter');ol.format.filter.LogicalNary=function(a,b){ol.format.filter.Filter.call(this,a);this.conditions=Array.prototype.slice.call(arguments,1);ol.asserts.assert(this.conditions.length>=2,57)};ol.inherits(ol.format.filter.LogicalNary,ol.format.filter.Filter);goog.provide('ol.format.filter.And');goog.require('ol');goog.require('ol.format.filter.LogicalNary');ol.format.filter.And=function(b){var a=['And'].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,a)};ol.inherits(ol.format.filter.And,ol.format.filter.LogicalNary);goog.provide('ol.format.filter.Bbox');goog.require('ol');goog.require('ol.format.filter.Filter');ol.format.filter.Bbox=function(a,c,b){ol.format.filter.Filter.call(this,'BBOX');this.geometryName=a;this.extent=c;this.srsName=b};ol.inherits(ol.format.filter.Bbox,ol.format.filter.Filter);goog.provide('ol.format.filter.Spatial');goog.require('ol');goog.require('ol.format.filter.Filter');ol.format.filter.Spatial=function(d,a,c,b){ol.format.filter.Filter.call(this,d);this.geometryName=a||'the_geom';this.geometry=c;this.srsName=b};ol.inherits(ol.format.filter.Spatial,ol.format.filter.Filter);goog.provide('ol.format.filter.Contains');goog.require('ol');goog.require('ol.format.filter.Spatial');ol.format.filter.Contains=function(a,c,b){ol.format.filter.Spatial.call(this,'Contains',a,c,b)};ol.inherits(ol.format.filter.Contains,ol.format.filter.Spatial);goog.provide('ol.format.filter.Comparison');goog.require('ol');goog.require('ol.format.filter.Filter');ol.format.filter.Comparison=function(b,a){ol.format.filter.Filter.call(this,b);this.propertyName=a};ol.inherits(ol.format.filter.Comparison,ol.format.filter.Filter);goog.provide('ol.format.filter.During');goog.require('ol');goog.require('ol.format.filter.Comparison');ol.format.filter.During=function(a,b,c){ol.format.filter.Comparison.call(this,'During',a);this.begin=b;this.end=c};ol.inherits(ol.format.filter.During,ol.format.filter.Comparison);goog.provide('ol.format.filter.ComparisonBinary');goog.require('ol');goog.require('ol.format.filter.Comparison');ol.format.filter.ComparisonBinary=function(d,b,c,a){ol.format.filter.Comparison.call(this,d,b);this.expression=c;this.matchCase=a};ol.inherits(ol.format.filter.ComparisonBinary,ol.format.filter.Comparison);goog.provide('ol.format.filter.EqualTo');goog.require('ol');goog.require('ol.format.filter.ComparisonBinary');ol.format.filter.EqualTo=function(b,c,a){ol.format.filter.ComparisonBinary.call(this,'PropertyIsEqualTo',b,c,a)};ol.inherits(ol.format.filter.EqualTo,ol.format.filter.ComparisonBinary);goog.provide('ol.format.filter.GreaterThan');goog.require('ol');goog.require('ol.format.filter.ComparisonBinary');ol.format.filter.GreaterThan=function(a,b){ol.format.filter.ComparisonBinary.call(this,'PropertyIsGreaterThan',a,b)};ol.inherits(ol.format.filter.GreaterThan,ol.format.filter.ComparisonBinary);goog.provide('ol.format.filter.GreaterThanOrEqualTo');goog.require('ol');goog.require('ol.format.filter.ComparisonBinary');ol.format.filter.GreaterThanOrEqualTo=function(a,b){ol.format.filter.ComparisonBinary.call(this,'PropertyIsGreaterThanOrEqualTo',a,b)};ol.inherits(ol.format.filter.GreaterThanOrEqualTo,ol.format.filter.ComparisonBinary);goog.provide('ol.format.filter.Intersects');goog.require('ol');goog.require('ol.format.filter.Spatial');ol.format.filter.Intersects=function(a,c,b){ol.format.filter.Spatial.call(this,'Intersects',a,c,b)};ol.inherits(ol.format.filter.Intersects,ol.format.filter.Spatial);goog.provide('ol.format.filter.IsBetween');goog.require('ol');goog.require('ol.format.filter.Comparison');ol.format.filter.IsBetween=function(c,a,b){ol.format.filter.Comparison.call(this,'PropertyIsBetween',c);this.lowerBoundary=a;this.upperBoundary=b};ol.inherits(ol.format.filter.IsBetween,ol.format.filter.Comparison);goog.provide('ol.format.filter.IsLike');goog.require('ol');goog.require('ol.format.filter.Comparison');ol.format.filter.IsLike=function(e,f,c,b,a,d){ol.format.filter.Comparison.call(this,'PropertyIsLike',e);this.pattern=f;this.wildCard=c!==undefined?c:'*';this.singleChar=b!==undefined?b:'.';this.escapeChar=a!==undefined?a:'!';this.matchCase=d};ol.inherits(ol.format.filter.IsLike,ol.format.filter.Comparison);goog.provide('ol.format.filter.IsNull');goog.require('ol');goog.require('ol.format.filter.Comparison');ol.format.filter.IsNull=function(a){ol.format.filter.Comparison.call(this,'PropertyIsNull',a)};ol.inherits(ol.format.filter.IsNull,ol.format.filter.Comparison);goog.provide('ol.format.filter.LessThan');goog.require('ol');goog.require('ol.format.filter.ComparisonBinary');ol.format.filter.LessThan=function(a,b){ol.format.filter.ComparisonBinary.call(this,'PropertyIsLessThan',a,b)};ol.inherits(ol.format.filter.LessThan,ol.format.filter.ComparisonBinary);goog.provide('ol.format.filter.LessThanOrEqualTo');goog.require('ol');goog.require('ol.format.filter.ComparisonBinary');ol.format.filter.LessThanOrEqualTo=function(a,b){ol.format.filter.ComparisonBinary.call(this,'PropertyIsLessThanOrEqualTo',a,b)};ol.inherits(ol.format.filter.LessThanOrEqualTo,ol.format.filter.ComparisonBinary);goog.provide('ol.format.filter.Not');goog.require('ol');goog.require('ol.format.filter.Filter');ol.format.filter.Not=function(a){ol.format.filter.Filter.call(this,'Not');this.condition=a};ol.inherits(ol.format.filter.Not,ol.format.filter.Filter);goog.provide('ol.format.filter.NotEqualTo');goog.require('ol');goog.require('ol.format.filter.ComparisonBinary');ol.format.filter.NotEqualTo=function(b,c,a){ol.format.filter.ComparisonBinary.call(this,'PropertyIsNotEqualTo',b,c,a)};ol.inherits(ol.format.filter.NotEqualTo,ol.format.filter.ComparisonBinary);goog.provide('ol.format.filter.Or');goog.require('ol');goog.require('ol.format.filter.LogicalNary');ol.format.filter.Or=function(b){var a=['Or'].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,a)};ol.inherits(ol.format.filter.Or,ol.format.filter.LogicalNary);goog.provide('ol.format.filter.Within');goog.require('ol');goog.require('ol.format.filter.Spatial');ol.format.filter.Within=function(a,c,b){ol.format.filter.Spatial.call(this,'Within',a,c,b)};ol.inherits(ol.format.filter.Within,ol.format.filter.Spatial);goog.provide('ol.format.filter');goog.require('ol.format.filter.And');goog.require('ol.format.filter.Bbox');goog.require('ol.format.filter.Contains');goog.require('ol.format.filter.During');goog.require('ol.format.filter.EqualTo');goog.require('ol.format.filter.GreaterThan');goog.require('ol.format.filter.GreaterThanOrEqualTo');goog.require('ol.format.filter.Intersects');goog.require('ol.format.filter.IsBetween');goog.require('ol.format.filter.IsLike');goog.require('ol.format.filter.IsNull');goog.require('ol.format.filter.LessThan');goog.require('ol.format.filter.LessThanOrEqualTo');goog.require('ol.format.filter.Not');goog.require('ol.format.filter.NotEqualTo');goog.require('ol.format.filter.Or');goog.require('ol.format.filter.Within');ol.format.filter.and=function(b){var a=[null].concat(Array.prototype.slice.call(arguments));return new (Function.prototype.bind.apply(ol.format.filter.And,a))()};ol.format.filter.or=function(b){var a=[null].concat(Array.prototype.slice.call(arguments));return new (Function.prototype.bind.apply(ol.format.filter.Or,a))()};ol.format.filter.not=function(a){return new ol.format.filter.Not(a)};ol.format.filter.bbox=function(a,c,b){return new ol.format.filter.Bbox(a,c,b)};ol.format.filter.contains=function(a,c,b){return new ol.format.filter.Contains(a,c,b)};ol.format.filter.intersects=function(a,c,b){return new ol.format.filter.Intersects(a,c,b)};ol.format.filter.within=function(a,c,b){return new ol.format.filter.Within(a,c,b)};ol.format.filter.equalTo=function(b,c,a){return new ol.format.filter.EqualTo(b,c,a)};ol.format.filter.notEqualTo=function(b,c,a){return new ol.format.filter.NotEqualTo(b,c,a)};ol.format.filter.lessThan=function(a,b){return new ol.format.filter.LessThan(a,b)};ol.format.filter.lessThanOrEqualTo=function(a,b){return new ol.format.filter.LessThanOrEqualTo(a,b)};ol.format.filter.greaterThan=function(a,b){return new ol.format.filter.GreaterThan(a,b)};ol.format.filter.greaterThanOrEqualTo=function(a,b){return new ol.format.filter.GreaterThanOrEqualTo(a,b)};ol.format.filter.isNull=function(a){return new ol.format.filter.IsNull(a)};ol.format.filter.between=function(c,a,b){return new ol.format.filter.IsBetween(c,a,b)};ol.format.filter.like=function(e,f,d,b,a,c){return new ol.format.filter.IsLike(e,f,d,b,a,c)};ol.format.filter.during=function(a,b,c){return new ol.format.filter.During(a,b,c)};goog.provide('ol.geom.GeometryCollection');goog.require('ol');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.geom.Geometry');goog.require('ol.geom.GeometryType');goog.require('ol.obj');ol.geom.GeometryCollection=function(a){ol.geom.Geometry.call(this);this.geometries_=a?a:null;this.listenGeometriesChange_()};ol.inherits(ol.geom.GeometryCollection,ol.geom.Geometry);ol.geom.GeometryCollection.cloneGeometries_=function(c){var b=[];var a,d;for(a=0,d=c.length;a<d;++a){b.push(c[a].clone())}return b};ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var a,b;if(!this.geometries_){return}for(a=0,b=this.geometries_.length;a<b;++a){ol.events.unlisten(this.geometries_[a],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var a,b;if(!this.geometries_){return}for(a=0,b=this.geometries_.length;a<b;++a){ol.events.listen(this.geometries_[a],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.clone=function(){var a=new ol.geom.GeometryCollection(null);a.setGeometries(this.geometries_);return a};ol.geom.GeometryCollection.prototype.closestPointXY=function(e,f,g,a){if(a<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,f)){return a}var c=this.geometries_;var b,d;for(b=0,d=c.length;b<d;++b){a=c[b].closestPointXY(e,f,g,a)}return a};ol.geom.GeometryCollection.prototype.containsXY=function(d,e){var b=this.geometries_;var a,c;for(a=0,c=b.length;a<c;++a){if(b[a].containsXY(d,e)){return !0}}return !1};ol.geom.GeometryCollection.prototype.computeExtent=function(a){ol.extent.createOrUpdateEmpty(a);var c=this.geometries_;for(var b=0,d=c.length;b<d;++b){ol.extent.extend(a,c[b].getExtent())}return a};ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)};ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_};ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(a){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(a<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&a<this.simplifiedGeometryMaxMinSquaredTolerance){return this}var d=a.toString();if(this.simplifiedGeometryCache.hasOwnProperty(d)){return this.simplifiedGeometryCache[d]}else {var e=[];var g=this.geometries_;var h=!1;var b,j;for(b=0,j=g.length;b<j;++b){var i=g[b];var f=i.getSimplifiedGeometry(a);e.push(f);if(f!==i){h=!0}}if(h){var c=new ol.geom.GeometryCollection(null);c.setGeometriesArray(e);this.simplifiedGeometryCache[d]=c;return c}else {this.simplifiedGeometryMaxMinSquaredTolerance=a;return this}}};ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION};ol.geom.GeometryCollection.prototype.intersectsExtent=function(d){var b=this.geometries_;var a,c;for(a=0,c=b.length;a<c;++a){if(b[a].intersectsExtent(d)){return !0}}return !1};ol.geom.GeometryCollection.prototype.isEmpty=function(){return this.geometries_.length===0};ol.geom.GeometryCollection.prototype.rotate=function(d,c){var b=this.geometries_;for(var a=0,e=b.length;a<e;++a){b[a].rotate(d,c)}this.changed()};ol.geom.GeometryCollection.prototype.scale=function(g,e,d){var a=d;if(!a){a=ol.extent.getCenter(this.getExtent())}var c=this.geometries_;for(var b=0,f=c.length;b<f;++b){c[b].scale(g,e,a)}this.changed()};ol.geom.GeometryCollection.prototype.setGeometries=function(a){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(a))};ol.geom.GeometryCollection.prototype.setGeometriesArray=function(a){this.unlistenGeometriesChange_();this.geometries_=a;this.listenGeometriesChange_();this.changed()};ol.geom.GeometryCollection.prototype.applyTransform=function(d){var b=this.geometries_;var a,c;for(a=0,c=b.length;a<c;++a){b[a].applyTransform(d)}this.changed()};ol.geom.GeometryCollection.prototype.translate=function(d,e){var b=this.geometries_;var a,c;for(a=0,c=b.length;a<c;++a){b[a].translate(d,e)}this.changed()};ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();ol.geom.Geometry.prototype.disposeInternal.call(this)};goog.provide('ol.format.GeoJSON');goog.require('ol');goog.require('ol.asserts');goog.require('ol.Feature');goog.require('ol.format.Feature');goog.require('ol.format.JSONFeature');goog.require('ol.geom.GeometryCollection');goog.require('ol.geom.LineString');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.obj');goog.require('ol.proj');ol.format.GeoJSON=function(b){var a=b?b:{};ol.format.JSONFeature.call(this);this.defaultDataProjection=ol.proj.get(a.defaultDataProjection?a.defaultDataProjection:'EPSG:4326');if(a.featureProjection){this.defaultFeatureProjection=ol.proj.get(a.featureProjection)}this.geometryName_=a.geometryName;this.extractGeometryName_=a.extractGeometryName};ol.inherits(ol.format.GeoJSON,ol.format.JSONFeature);ol.format.GeoJSON.readGeometry_=function(a,c){if(!a){return null}var b=ol.format.GeoJSON.GEOMETRY_READERS_[a.type];return ol.format.Feature.transformWithOptions(b(a),!1,c)};ol.format.GeoJSON.readGeometryCollectionGeometry_=function(c,a){var b=c.geometries.map(function(b){return ol.format.GeoJSON.readGeometry_(b,a)});return new ol.geom.GeometryCollection(b)};ol.format.GeoJSON.readPointGeometry_=function(a){return new ol.geom.Point(a.coordinates)};ol.format.GeoJSON.readLineStringGeometry_=function(a){return new ol.geom.LineString(a.coordinates)};ol.format.GeoJSON.readMultiLineStringGeometry_=function(a){return new ol.geom.MultiLineString(a.coordinates)};ol.format.GeoJSON.readMultiPointGeometry_=function(a){return new ol.geom.MultiPoint(a.coordinates)};ol.format.GeoJSON.readMultiPolygonGeometry_=function(a){return new ol.geom.MultiPolygon(a.coordinates)};ol.format.GeoJSON.readPolygonGeometry_=function(a){return new ol.geom.Polygon(a.coordinates)};ol.format.GeoJSON.writeGeometry_=function(b,a){var c=ol.format.GeoJSON.GEOMETRY_WRITERS_[b.getType()];return c(ol.format.Feature.transformWithOptions(b,!0,a),a)};ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(a){return {type:'GeometryCollection',geometries:[]}};ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(c,a){var b=c.getGeometriesArray().map(function(d){var b=ol.obj.assign({},a);delete b.featureProjection;return ol.format.GeoJSON.writeGeometry_(d,b)});return {type:'GeometryCollection',geometries:b}};ol.format.GeoJSON.writeLineStringGeometry_=function(a,b){return {type:'LineString',coordinates:a.getCoordinates()}};ol.format.GeoJSON.writeMultiLineStringGeometry_=function(a,b){return {type:'MultiLineString',coordinates:a.getCoordinates()}};ol.format.GeoJSON.writeMultiPointGeometry_=function(a,b){return {type:'MultiPoint',coordinates:a.getCoordinates()}};ol.format.GeoJSON.writeMultiPolygonGeometry_=function(c,a){var b;if(a){b=a.rightHanded}return {type:'MultiPolygon',coordinates:c.getCoordinates(b)}};ol.format.GeoJSON.writePointGeometry_=function(a,b){return {type:'Point',coordinates:a.getCoordinates()}};ol.format.GeoJSON.writePolygonGeometry_=function(c,a){var b;if(a){b=a.rightHanded}return {type:'Polygon',coordinates:c.getCoordinates(b)}};ol.format.GeoJSON.GEOMETRY_READERS_={'Point':ol.format.GeoJSON.readPointGeometry_,'LineString':ol.format.GeoJSON.readLineStringGeometry_,'Polygon':ol.format.GeoJSON.readPolygonGeometry_,'MultiPoint':ol.format.GeoJSON.readMultiPointGeometry_,'MultiLineString':ol.format.GeoJSON.readMultiLineStringGeometry_,'MultiPolygon':ol.format.GeoJSON.readMultiPolygonGeometry_,'GeometryCollection':ol.format.GeoJSON.readGeometryCollectionGeometry_};ol.format.GeoJSON.GEOMETRY_WRITERS_={'Point':ol.format.GeoJSON.writePointGeometry_,'LineString':ol.format.GeoJSON.writeLineStringGeometry_,'Polygon':ol.format.GeoJSON.writePolygonGeometry_,'MultiPoint':ol.format.GeoJSON.writeMultiPointGeometry_,'MultiLineString':ol.format.GeoJSON.writeMultiLineStringGeometry_,'MultiPolygon':ol.format.GeoJSON.writeMultiPolygonGeometry_,'GeometryCollection':ol.format.GeoJSON.writeGeometryCollectionGeometry_,'Circle':ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_};ol.format.GeoJSON.prototype.readFeature;ol.format.GeoJSON.prototype.readFeatures;ol.format.GeoJSON.prototype.readFeatureFromObject=function(c,d){var a=null;if(c.type==='Feature'){a=c}else {a={type:'Feature',geometry:c}}var e=ol.format.GeoJSON.readGeometry_(a.geometry,d);var b=new ol.Feature();if(this.geometryName_){b.setGeometryName(this.geometryName_)}else {if(this.extractGeometryName_&&a.geometry_name!==undefined){b.setGeometryName(a.geometry_name)}}b.setGeometry(e);if(a.id!==undefined){b.setId(a.id)}if(a.properties){b.setProperties(a.properties)}return b};ol.format.GeoJSON.prototype.readFeaturesFromObject=function(c,e){var h=c;var a=null;if(h.type==='FeatureCollection'){var g=c;a=[];var d=g.features;var b,f;for(b=0,f=d.length;b<f;++b){a.push(this.readFeatureFromObject(d[b],e))}}else {a=[this.readFeatureFromObject(c,e)]}return a};ol.format.GeoJSON.prototype.readGeometry;ol.format.GeoJSON.prototype.readGeometryFromObject=function(b,a){return ol.format.GeoJSON.readGeometry_(b,a)};ol.format.GeoJSON.prototype.readProjection;ol.format.GeoJSON.prototype.readProjectionFromObject=function(d){var c=d;var b=c.crs;var a;if(b){if(b.type=='name'){a=ol.proj.get(b.properties.name)}else {ol.asserts.assert(!1,36)}}else {a=this.defaultDataProjection}return a};ol.format.GeoJSON.prototype.writeFeature;ol.format.GeoJSON.prototype.writeFeatureObject=function(b,c){c=this.adaptOptions(c);var a={'type':'Feature'};var f=b.getId();if(f!==undefined){a.id=f}var e=b.getGeometry();if(e){a.geometry=ol.format.GeoJSON.writeGeometry_(e,c)}else {a.geometry=null}var d=b.getProperties();delete d[b.getGeometryName()];if(!ol.obj.isEmpty(d)){a.properties=d}else {a.properties=null}return a};ol.format.GeoJSON.prototype.writeFeatures;ol.format.GeoJSON.prototype.writeFeaturesObject=function(c,b){b=this.adaptOptions(b);var d=[];var a,e;for(a=0,e=c.length;a<e;++a){d.push(this.writeFeatureObject(c[a],b))}return {type:'FeatureCollection',features:d}};ol.format.GeoJSON.prototype.writeGeometry;ol.format.GeoJSON.prototype.writeGeometryObject=function(b,a){return ol.format.GeoJSON.writeGeometry_(b,this.adaptOptions(a))};goog.provide('ol.format.XMLFeature');goog.require('ol');goog.require('ol.array');goog.require('ol.format.Feature');goog.require('ol.format.FormatType');goog.require('ol.xml');ol.format.XMLFeature=function(){this.xmlSerializer_=new XMLSerializer();ol.format.Feature.call(this)};ol.inherits(ol.format.XMLFeature,ol.format.Feature);ol.format.XMLFeature.prototype.getType=function(){return ol.format.FormatType.XML};ol.format.XMLFeature.prototype.readFeature=function(a,b){if(ol.xml.isDocument(a)){return this.readFeatureFromDocument(a,b)}else {if(ol.xml.isNode(a)){return this.readFeatureFromNode(a,b)}else {if(typeof a==='string'){var c=ol.xml.parse(a);return this.readFeatureFromDocument(c,b)}else {return null}}}};ol.format.XMLFeature.prototype.readFeatureFromDocument=function(c,b){var a=this.readFeaturesFromDocument(c,b);if(a.length>0){return a[0]}else {return null}};ol.format.XMLFeature.prototype.readFeatureFromNode=function(b,a){return null};ol.format.XMLFeature.prototype.readFeatures=function(a,b){if(ol.xml.isDocument(a)){return this.readFeaturesFromDocument(a,b)}else {if(ol.xml.isNode(a)){return this.readFeaturesFromNode(a,b)}else {if(typeof a==='string'){var c=ol.xml.parse(a);return this.readFeaturesFromDocument(c,b)}else {return []}}}};ol.format.XMLFeature.prototype.readFeaturesFromDocument=function(d,c){var b=[];var a;for(a=d.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){ol.array.extend(b,this.readFeaturesFromNode(a,c))}}return b};ol.format.XMLFeature.prototype.readFeaturesFromNode=function(b,a){};ol.format.XMLFeature.prototype.readGeometry=function(a,b){if(ol.xml.isDocument(a)){return this.readGeometryFromDocument(a,b)}else {if(ol.xml.isNode(a)){return this.readGeometryFromNode(a,b)}else {if(typeof a==='string'){var c=ol.xml.parse(a);return this.readGeometryFromDocument(c,b)}else {return null}}}};ol.format.XMLFeature.prototype.readGeometryFromDocument=function(b,a){return null};ol.format.XMLFeature.prototype.readGeometryFromNode=function(b,a){return null};ol.format.XMLFeature.prototype.readProjection=function(a){if(ol.xml.isDocument(a)){return this.readProjectionFromDocument(a)}else {if(ol.xml.isNode(a)){return this.readProjectionFromNode(a)}else {if(typeof a==='string'){var b=ol.xml.parse(a);return this.readProjectionFromDocument(b)}else {return null}}}};ol.format.XMLFeature.prototype.readProjectionFromDocument=function(a){return this.defaultDataProjection};ol.format.XMLFeature.prototype.readProjectionFromNode=function(a){return this.defaultDataProjection};ol.format.XMLFeature.prototype.writeFeature=function(b,a){var c=this.writeFeatureNode(b,a);return this.xmlSerializer_.serializeToString(c)};ol.format.XMLFeature.prototype.writeFeatureNode=function(b,a){return null};ol.format.XMLFeature.prototype.writeFeatures=function(b,a){var c=this.writeFeaturesNode(b,a);return this.xmlSerializer_.serializeToString(c)};ol.format.XMLFeature.prototype.writeFeaturesNode=function(b,a){return null};ol.format.XMLFeature.prototype.writeGeometry=function(b,a){var c=this.writeGeometryNode(b,a);return this.xmlSerializer_.serializeToString(c)};ol.format.XMLFeature.prototype.writeGeometryNode=function(b,a){return null};goog.provide('ol.format.GMLBase');goog.require('ol');goog.require('ol.array');goog.require('ol.Feature');goog.require('ol.format.Feature');goog.require('ol.format.XMLFeature');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.LineString');goog.require('ol.geom.LinearRing');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.obj');goog.require('ol.proj');goog.require('ol.xml');ol.format.GMLBase=function(b){var a=b?b:{};this.featureType=a.featureType;this.featureNS=a.featureNS;this.srsName=a.srsName;this.schemaLocation='';this.FEATURE_COLLECTION_PARSERS={};this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]={'featureMember':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal),'featureMembers':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal)};ol.format.XMLFeature.call(this)};ol.inherits(ol.format.GMLBase,ol.format.XMLFeature);ol.format.GMLBase.GMLNS='http://www.opengis.net/gml';ol.format.GMLBase.ONLY_WHITESPACE_RE_=/^[\s\xa0]*$/;ol.format.GMLBase.prototype.readFeaturesInternal=function(c,g){var f=c.localName;var e=null;if(f=='FeatureCollection'){if(c.namespaceURI==='http://www.opengis.net/wfs'){e=ol.xml.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,c,g,this)}else {e=ol.xml.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,c,g,this)}}else {if(f=='featureMembers'||f=='featureMember'){var j=g[0];var d=j['featureType'];var a=j['featureNS'];var b,k,v='p',n='p0';if(!d&&c.childNodes){d=[],a={};for(b=0,k=c.childNodes.length;b<k;++b){var m=c.childNodes[b];if(m.nodeType===1){var s=m.nodeName.split(':').pop();if(d.indexOf(s)===-1){var h='';var q=0;var r=m.namespaceURI;for(var o in a){if(a[o]===r){h=o;break}++q}if(!h){h=v+q;a[h]=r}d.push(h+':'+s)}}}if(f!='featureMember'){j['featureType']=d;j['featureNS']=a}}if(typeof a==='string'){var w=a;a={};a[n]=w}var l={};var i=Array.isArray(d)?d:[d];for(var t in a){var p={};for(b=0,k=i.length;b<k;++b){var u=i[b].indexOf(':')===-1?n:i[b].split(':')[0];if(u===t){p[i[b].split(':').pop()]=f=='featureMembers'?ol.xml.makeArrayPusher(this.readFeatureElement,this):ol.xml.makeReplacer(this.readFeatureElement,this)}}l[a[t]]=p}if(f=='featureMember'){e=ol.xml.pushParseAndPop(undefined,l,c,g)}else {e=ol.xml.pushParseAndPop([],l,c,g)}}}if(e===null){e=[]}return e};ol.format.GMLBase.prototype.readGeometryElement=function(b,c){var a=c[0];a['srsName']=b.firstElementChild.getAttribute('srsName');a['srsDimension']=b.firstElementChild.getAttribute('srsDimension');var d=ol.xml.pushParseAndPop(null,this.GEOMETRY_PARSERS_,b,c,this);if(d){return ol.format.Feature.transformWithOptions(d,!1,a)}else {return undefined}};ol.format.GMLBase.prototype.readFeatureElement=function(g,i){var a;var h=g.getAttribute('fid')||ol.xml.getAttributeNS(g,ol.format.GMLBase.GMLNS,'id');var e={},c;for(a=g.firstElementChild;a;a=a.nextElementSibling){var b=a.localName;if(a.childNodes.length===0||a.childNodes.length===1&&(a.firstChild.nodeType===3||a.firstChild.nodeType===4)){var f=ol.xml.getAllTextContent(a,!1);if(ol.format.GMLBase.ONLY_WHITESPACE_RE_.test(f)){f=undefined}e[b]=f}else {if(b!=='boundedBy'){c=b}e[b]=this.readGeometryElement(a,i)}}var d=new ol.Feature(e);if(c){d.setGeometryName(c)}if(h){d.setId(h)}return d};ol.format.GMLBase.prototype.readPoint=function(d,c){var a=this.readFlatCoordinatesFromNode_(d,c);if(a){var b=new ol.geom.Point(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a);return b}};ol.format.GMLBase.prototype.readMultiPoint=function(c,b){var a=ol.xml.pushParseAndPop([],this.MULTIPOINT_PARSERS_,c,b,this);if(a){return new ol.geom.MultiPoint(a)}else {return undefined}};ol.format.GMLBase.prototype.readMultiLineString=function(d,c){var b=ol.xml.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,d,c,this);if(b){var a=new ol.geom.MultiLineString(null);a.setLineStrings(b);return a}else {return undefined}};ol.format.GMLBase.prototype.readMultiPolygon=function(d,c){var b=ol.xml.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,d,c,this);if(b){var a=new ol.geom.MultiPolygon(null);a.setPolygons(b);return a}else {return undefined}};ol.format.GMLBase.prototype.pointMemberParser_=function(b,a){ol.xml.parseNode(this.POINTMEMBER_PARSERS_,b,a,this)};ol.format.GMLBase.prototype.lineStringMemberParser_=function(b,a){ol.xml.parseNode(this.LINESTRINGMEMBER_PARSERS_,b,a,this)};ol.format.GMLBase.prototype.polygonMemberParser_=function(b,a){ol.xml.parseNode(this.POLYGONMEMBER_PARSERS_,b,a,this)};ol.format.GMLBase.prototype.readLineString=function(d,c){var a=this.readFlatCoordinatesFromNode_(d,c);if(a){var b=new ol.geom.LineString(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a);return b}else {return undefined}};ol.format.GMLBase.prototype.readFlatLinearRing_=function(c,b){var a=ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,c,b,this);if(a){return a}else {return undefined}};ol.format.GMLBase.prototype.readLinearRing=function(d,c){var a=this.readFlatCoordinatesFromNode_(d,c);if(a){var b=new ol.geom.LinearRing(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a);return b}else {return undefined}};ol.format.GMLBase.prototype.readPolygon=function(h,g){var a=ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,h,g,this);if(a&&a[0]){var d=new ol.geom.Polygon(null);var b=a[0];var e=[b.length];var c,f;for(c=1,f=a.length;c<f;++c){ol.array.extend(b,a[c]);e.push(b.length)}d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,b,e);return d}else {return undefined}};ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_=function(b,a){return ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,b,a,this)};ol.format.GMLBase.prototype.MULTIPOINT_PARSERS_={'http://www.opengis.net/gml':{'pointMember':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_),'pointMembers':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_)}};ol.format.GMLBase.prototype.MULTILINESTRING_PARSERS_={'http://www.opengis.net/gml':{'lineStringMember':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_),'lineStringMembers':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_)}};ol.format.GMLBase.prototype.MULTIPOLYGON_PARSERS_={'http://www.opengis.net/gml':{'polygonMember':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_),'polygonMembers':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_)}};ol.format.GMLBase.prototype.POINTMEMBER_PARSERS_={'http://www.opengis.net/gml':{'Point':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_)}};ol.format.GMLBase.prototype.LINESTRINGMEMBER_PARSERS_={'http://www.opengis.net/gml':{'LineString':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString)}};ol.format.GMLBase.prototype.POLYGONMEMBER_PARSERS_={'http://www.opengis.net/gml':{'Polygon':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon)}};ol.format.GMLBase.prototype.RING_PARSERS={'http://www.opengis.net/gml':{'LinearRing':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFlatLinearRing_)}};ol.format.GMLBase.prototype.readGeometryFromNode=function(c,a){var b=this.readGeometryElement(c,[this.getReadOptions(c,a?a:{})]);return b?b:null};ol.format.GMLBase.prototype.readFeatures;ol.format.GMLBase.prototype.readFeaturesFromNode=function(c,a){var b={featureType:this.featureType,featureNS:this.featureNS};if(a){ol.obj.assign(b,this.getReadOptions(c,a))}var d=this.readFeaturesInternal(c,[b]);return d||[]};ol.format.GMLBase.prototype.readProjectionFromNode=function(a){return ol.proj.get(this.srsName?this.srsName:a.firstElementChild.getAttribute('srsName'))};goog.provide('ol.format.XSD');goog.require('ol.xml');goog.require('ol.string');ol.format.XSD.NAMESPACE_URI='http://www.w3.org/2001/XMLSchema';ol.format.XSD.readBoolean=function(a){var b=ol.xml.getAllTextContent(a,!1);return ol.format.XSD.readBooleanString(b)};ol.format.XSD.readBooleanString=function(b){var a=/^\s*(true|1)|(false|0)\s*$/.exec(b);if(a){return a[1]!==undefined||!1}else {return undefined}};ol.format.XSD.readDateTime=function(b){var c=ol.xml.getAllTextContent(b,!1);var a=Date.parse(c);return isNaN(a)?undefined:a/1000};ol.format.XSD.readDecimal=function(a){var b=ol.xml.getAllTextContent(a,!1);return ol.format.XSD.readDecimalString(b)};ol.format.XSD.readDecimalString=function(b){var a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(b);if(a){return parseFloat(a[1])}else {return undefined}};ol.format.XSD.readNonNegativeInteger=function(a){var b=ol.xml.getAllTextContent(a,!1);return ol.format.XSD.readNonNegativeIntegerString(b)};ol.format.XSD.readNonNegativeIntegerString=function(b){var a=/^\s*(\d+)\s*$/.exec(b);if(a){return parseInt(a[1],10)}else {return undefined}};ol.format.XSD.readString=function(a){return ol.xml.getAllTextContent(a,!1).trim()};ol.format.XSD.writeBooleanTextNode=function(b,a){ol.format.XSD.writeStringTextNode(b,a?'1':'0')};ol.format.XSD.writeCDATASection=function(b,a){b.appendChild(ol.xml.DOCUMENT.createCDATASection(a))};ol.format.XSD.writeDateTimeTextNode=function(d,b){var a=new Date(b*1000);var c=a.getUTCFullYear()+'-'+ol.string.padNumber(a.getUTCMonth()+1,2)+'-'+ol.string.padNumber(a.getUTCDate(),2)+'T'+ol.string.padNumber(a.getUTCHours(),2)+':'+ol.string.padNumber(a.getUTCMinutes(),2)+':'+ol.string.padNumber(a.getUTCSeconds(),2)+'Z';d.appendChild(ol.xml.DOCUMENT.createTextNode(c))};ol.format.XSD.writeDecimalTextNode=function(c,a){var b=a.toPrecision();c.appendChild(ol.xml.DOCUMENT.createTextNode(b))};ol.format.XSD.writeNonNegativeIntegerTextNode=function(c,a){var b=a.toString();c.appendChild(ol.xml.DOCUMENT.createTextNode(b))};ol.format.XSD.writeStringTextNode=function(b,a){b.appendChild(ol.xml.DOCUMENT.createTextNode(a))};goog.provide('ol.format.GML3');goog.require('ol');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.format.Feature');goog.require('ol.format.GMLBase');goog.require('ol.format.XSD');goog.require('ol.geom.Geometry');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.LineString');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Polygon');goog.require('ol.obj');goog.require('ol.proj');goog.require('ol.xml');ol.format.GML3=function(b){var a=b?b:{};ol.format.GMLBase.call(this,a);this.surface_=a.surface!==undefined?a.surface:!1;this.curve_=a.curve!==undefined?a.curve:!1;this.multiCurve_=a.multiCurve!==undefined?a.multiCurve:!0;this.multiSurface_=a.multiSurface!==undefined?a.multiSurface:!0;this.schemaLocation=a.schemaLocation?a.schemaLocation:ol.format.GML3.schemaLocation_;this.hasZ=a.hasZ!==undefined?a.hasZ:!1};ol.inherits(ol.format.GML3,ol.format.GMLBase);ol.format.GML3.schemaLocation_=ol.format.GMLBase.GMLNS+' http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/'+'1.0.0/gmlsf.xsd';ol.format.GML3.prototype.readMultiCurve_=function(d,c){var b=ol.xml.pushParseAndPop([],this.MULTICURVE_PARSERS_,d,c,this);if(b){var a=new ol.geom.MultiLineString(null);a.setLineStrings(b);return a}else {return undefined}};ol.format.GML3.prototype.readMultiSurface_=function(d,c){var b=ol.xml.pushParseAndPop([],this.MULTISURFACE_PARSERS_,d,c,this);if(b){var a=new ol.geom.MultiPolygon(null);a.setPolygons(b);return a}else {return undefined}};ol.format.GML3.prototype.curveMemberParser_=function(b,a){ol.xml.parseNode(this.CURVEMEMBER_PARSERS_,b,a,this)};ol.format.GML3.prototype.surfaceMemberParser_=function(b,a){ol.xml.parseNode(this.SURFACEMEMBER_PARSERS_,b,a,this)};ol.format.GML3.prototype.readPatch_=function(b,a){return ol.xml.pushParseAndPop([null],this.PATCHES_PARSERS_,b,a,this)};ol.format.GML3.prototype.readSegment_=function(b,a){return ol.xml.pushParseAndPop([null],this.SEGMENTS_PARSERS_,b,a,this)};ol.format.GML3.prototype.readPolygonPatch_=function(b,a){return ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,b,a,this)};ol.format.GML3.prototype.readLineStringSegment_=function(b,a){return ol.xml.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,b,a,this)};ol.format.GML3.prototype.interiorParser_=function(d,a){var b=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,d,a,this);if(b){var c=a[a.length-1];c.push(b)}};ol.format.GML3.prototype.exteriorParser_=function(d,a){var b=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,d,a,this);if(b){var c=a[a.length-1];c[0]=b}};ol.format.GML3.prototype.readSurface_=function(h,g){var a=ol.xml.pushParseAndPop([null],this.SURFACE_PARSERS_,h,g,this);if(a&&a[0]){var d=new ol.geom.Polygon(null);var b=a[0];var e=[b.length];var c,f;for(c=1,f=a.length;c<f;++c){ol.array.extend(b,a[c]);e.push(b.length)}d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,b,e);return d}else {return undefined}};ol.format.GML3.prototype.readCurve_=function(d,c){var a=ol.xml.pushParseAndPop([null],this.CURVE_PARSERS_,d,c,this);if(a){var b=new ol.geom.LineString(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a);return b}else {return undefined}};ol.format.GML3.prototype.readEnvelope_=function(c,b){var a=ol.xml.pushParseAndPop([null],this.ENVELOPE_PARSERS_,c,b,this);return ol.extent.createOrUpdate(a[1][0],a[1][1],a[2][0],a[2][1])};ol.format.GML3.prototype.readFlatPos_=function(k,i){var c=ol.xml.getAllTextContent(k,!1);var m=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;var a=[];var d;while(d=m.exec(c)){a.push(parseFloat(d[1]));c=c.substr(d[0].length)}if(c!==''){return undefined}var j=i[0];var f=j['srsName'];var e='enu';if(f){var l=ol.proj.get(f);e=l.getAxisOrientation()}if(e==='neu'){var b,h;for(b=0,h=a.length;b<h;b+=3){var o=a[b];var n=a[b+1];a[b]=n;a[b+1]=o}}var g=a.length;if(g==2){a.push(0)}if(g===0){return undefined}return a};ol.format.GML3.prototype.readFlatPosList_=function(a,m){var p=ol.xml.getAllTextContent(a,!1).replace(/^\s*|\s*$/g,'');var l=m[0];var k=l['srsName'];var i=l['srsDimension'];var j='enu';if(k){var n=ol.proj.get(k);j=n.getAxisOrientation()}var d=p.split(/\s+/);var b=2;if(a.getAttribute('srsDimension')){b=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute('srsDimension'))}else {if(a.getAttribute('dimension')){b=ol.format.XSD.readNonNegativeIntegerString(a.getAttribute('dimension'))}else {if(a.parentNode.getAttribute('srsDimension')){b=ol.format.XSD.readNonNegativeIntegerString(a.parentNode.getAttribute('srsDimension'))}else {if(i){b=ol.format.XSD.readNonNegativeIntegerString(i)}}}}var f,g,h;var e=[];for(var c=0,o=d.length;c<o;c+=b){f=parseFloat(d[c]);g=parseFloat(d[c+1]);h=b===3?parseFloat(d[c+2]):0;if(j.substr(0,2)==='en'){e.push(f,g,h)}else {e.push(g,f,h)}}return e};ol.format.GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={'http://www.opengis.net/gml':{'pos':ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPos_),'posList':ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.FLAT_LINEAR_RINGS_PARSERS_={'http://www.opengis.net/gml':{'interior':ol.format.GML3.prototype.interiorParser_,'exterior':ol.format.GML3.prototype.exteriorParser_}};ol.format.GML3.prototype.GEOMETRY_PARSERS_={'http://www.opengis.net/gml':{'Point':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),'MultiPoint':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),'LineString':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),'MultiLineString':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),'LinearRing':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),'Polygon':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),'MultiPolygon':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),'Surface':ol.xml.makeReplacer(ol.format.GML3.prototype.readSurface_),'MultiSurface':ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiSurface_),'Curve':ol.xml.makeReplacer(ol.format.GML3.prototype.readCurve_),'MultiCurve':ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiCurve_),'Envelope':ol.xml.makeReplacer(ol.format.GML3.prototype.readEnvelope_)}};ol.format.GML3.prototype.MULTICURVE_PARSERS_={'http://www.opengis.net/gml':{'curveMember':ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_),'curveMembers':ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_)}};ol.format.GML3.prototype.MULTISURFACE_PARSERS_={'http://www.opengis.net/gml':{'surfaceMember':ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_),'surfaceMembers':ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_)}};ol.format.GML3.prototype.CURVEMEMBER_PARSERS_={'http://www.opengis.net/gml':{'LineString':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString),'Curve':ol.xml.makeArrayPusher(ol.format.GML3.prototype.readCurve_)}};ol.format.GML3.prototype.SURFACEMEMBER_PARSERS_={'http://www.opengis.net/gml':{'Polygon':ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon),'Surface':ol.xml.makeArrayPusher(ol.format.GML3.prototype.readSurface_)}};ol.format.GML3.prototype.SURFACE_PARSERS_={'http://www.opengis.net/gml':{'patches':ol.xml.makeReplacer(ol.format.GML3.prototype.readPatch_)}};ol.format.GML3.prototype.CURVE_PARSERS_={'http://www.opengis.net/gml':{'segments':ol.xml.makeReplacer(ol.format.GML3.prototype.readSegment_)}};ol.format.GML3.prototype.ENVELOPE_PARSERS_={'http://www.opengis.net/gml':{'lowerCorner':ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_),'upperCorner':ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.PATCHES_PARSERS_={'http://www.opengis.net/gml':{'PolygonPatch':ol.xml.makeReplacer(ol.format.GML3.prototype.readPolygonPatch_)}};ol.format.GML3.prototype.SEGMENTS_PARSERS_={'http://www.opengis.net/gml':{'LineStringSegment':ol.xml.makeReplacer(ol.format.GML3.prototype.readLineStringSegment_)}};ol.format.GML3.prototype.writePos_=function(h,j,d){var e=d[d.length-1];var g=e['hasZ'];var i=g?3:2;h.setAttribute('srsDimension',i);var f=e['srsName'];var c='enu';if(f){c=ol.proj.get(f).getAxisOrientation()}var a=j.getCoordinates();var b;if(c.substr(0,2)==='en'){b=a[0]+' '+a[1]}else {b=a[1]+' '+a[0]}if(g){var k=a[2]||0;b+=' '+k}ol.format.XSD.writeStringTextNode(h,b)};ol.format.GML3.prototype.getCoords_=function(a,c,e){var b='enu';if(c){b=ol.proj.get(c).getAxisOrientation()}var d=b.substr(0,2)==='en'?a[0]+' '+a[1]:a[1]+' '+a[0];if(e){var f=a[2]||0;d+=' '+f}return d};ol.format.GML3.prototype.writePosList_=function(h,l,b){var c=b[b.length-1];var g=c['hasZ'];var j=g?3:2;h.setAttribute('srsDimension',j);var k=c['srsName'];var d=l.getCoordinates();var i=d.length;var e=new Array(i);var f;for(var a=0;a<i;++a){f=d[a];e[a]=this.getCoords_(f,k,g)}ol.format.XSD.writeStringTextNode(h,e.join(' '))};ol.format.GML3.prototype.writePoint_=function(b,e,a){var f=a[a.length-1];var c=f['srsName'];if(c){b.setAttribute('srsName',c)}var d=ol.xml.createElementNS(b.namespaceURI,'pos');b.appendChild(d);this.writePos_(d,e,a)};ol.format.GML3.ENVELOPE_SERIALIZERS_={'http://www.opengis.net/gml':{'lowerCorner':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'upperCorner':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.GML3.prototype.writeEnvelope=function(d,a,b){var e=b[b.length-1];var c=e['srsName'];if(c){d.setAttribute('srsName',c)}var g=['lowerCorner','upperCorner'];var f=[a[0]+' '+a[1],a[2]+' '+a[3]];ol.xml.pushSerializeAndPop({node:d},ol.format.GML3.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,f,b,g,this)};ol.format.GML3.prototype.writeLinearRing_=function(b,e,a){var f=a[a.length-1];var d=f['srsName'];if(d){b.setAttribute('srsName',d)}var c=ol.xml.createElementNS(b.namespaceURI,'posList');b.appendChild(c);this.writePosList_(c,e,a)};ol.format.GML3.prototype.RING_NODE_FACTORY_=function(f,c,e){var a=c[c.length-1];var d=a.node;var b=a['exteriorWritten'];if(b===undefined){a['exteriorWritten']=!0}return ol.xml.createElementNS(d.namespaceURI,b!==undefined?'interior':'exterior')};ol.format.GML3.prototype.writeSurfaceOrPolygon_=function(a,d,b){var e=b[b.length-1];var h=e['hasZ'];var c=e['srsName'];if(a.nodeName!=='PolygonPatch'&&c){a.setAttribute('srsName',c)}if(a.nodeName==='Polygon'||a.nodeName==='PolygonPatch'){var g=d.getLinearRings();ol.xml.pushSerializeAndPop({node:a,hasZ:h,srsName:c},ol.format.GML3.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,g,b,undefined,this)}else {if(a.nodeName==='Surface'){var f=ol.xml.createElementNS(a.namespaceURI,'patches');a.appendChild(f);this.writeSurfacePatches_(f,d,b)}}};ol.format.GML3.prototype.writeCurveOrLineString_=function(a,c,b){var g=b[b.length-1];var f=g['srsName'];if(a.nodeName!=='LineStringSegment'&&f){a.setAttribute('srsName',f)}if(a.nodeName==='LineString'||a.nodeName==='LineStringSegment'){var e=ol.xml.createElementNS(a.namespaceURI,'posList');a.appendChild(e);this.writePosList_(e,c,b)}else {if(a.nodeName==='Curve'){var d=ol.xml.createElementNS(a.namespaceURI,'segments');a.appendChild(d);this.writeCurveSegments_(d,c,b)}}};ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_=function(d,e,a){var b=a[a.length-1];var h=b['hasZ'];var c=b['srsName'];var g=b['surface'];if(c){d.setAttribute('srsName',c)}var f=e.getPolygons();ol.xml.pushSerializeAndPop({node:d,hasZ:h,srsName:c,surface:g},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,f,a,undefined,this)};ol.format.GML3.prototype.writeMultiPoint_=function(d,e,a){var c=a[a.length-1];var b=c['srsName'];var g=c['hasZ'];if(b){d.setAttribute('srsName',b)}var f=e.getPoints();ol.xml.pushSerializeAndPop({node:d,hasZ:g,srsName:b},ol.format.GML3.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory('pointMember'),f,a,undefined,this)};ol.format.GML3.prototype.writeMultiCurveOrLineString_=function(d,e,a){var b=a[a.length-1];var h=b['hasZ'];var c=b['srsName'];var f=b['curve'];if(c){d.setAttribute('srsName',c)}var g=e.getLineStrings();ol.xml.pushSerializeAndPop({node:d,hasZ:h,srsName:c,curve:f},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,a,undefined,this)};ol.format.GML3.prototype.writeRing_=function(b,d,c){var a=ol.xml.createElementNS(b.namespaceURI,'LinearRing');b.appendChild(a);this.writeLinearRing_(a,d,c)};ol.format.GML3.prototype.writeSurfaceOrPolygonMember_=function(d,c,b){var a=this.GEOMETRY_NODE_FACTORY_(c,b);if(a){d.appendChild(a);this.writeSurfaceOrPolygon_(a,c,b)}};ol.format.GML3.prototype.writePointMember_=function(b,d,c){var a=ol.xml.createElementNS(b.namespaceURI,'Point');b.appendChild(a);this.writePoint_(a,d,c)};ol.format.GML3.prototype.writeLineStringOrCurveMember_=function(d,c,b){var a=this.GEOMETRY_NODE_FACTORY_(c,b);if(a){d.appendChild(a);this.writeCurveOrLineString_(a,c,b)}};ol.format.GML3.prototype.writeSurfacePatches_=function(b,d,c){var a=ol.xml.createElementNS(b.namespaceURI,'PolygonPatch');b.appendChild(a);this.writeSurfaceOrPolygon_(a,d,c)};ol.format.GML3.prototype.writeCurveSegments_=function(b,d,c){var a=ol.xml.createElementNS(b.namespaceURI,'LineStringSegment');b.appendChild(a);this.writeCurveOrLineString_(a,d,c)};ol.format.GML3.prototype.writeGeometryElement=function(f,b,d){var a=d[d.length-1];var e=ol.obj.assign({},a);e.node=f;var c;if(Array.isArray(b)){if(a.dataProjection){c=ol.proj.transformExtent(b,a.featureProjection,a.dataProjection)}else {c=b}}else {c=ol.format.Feature.transformWithOptions(b,!0,a)}ol.xml.pushSerializeAndPop(e,ol.format.GML3.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[c],d,undefined,this)};ol.format.GML3.prototype.writeFeatureElement=function(k,e,d){var l=e.getId();if(l){k.setAttribute('fid',l)}var a=d[d.length-1];var c=a['featureNS'];var m=e.getGeometryName();if(!a.serializers){a.serializers={};a.serializers[c]={}}var g=e.getProperties();var j=[],h=[];for(var b in g){var f=g[b];if(f!==null){j.push(b);h.push(f);if(b==m||f instanceof ol.geom.Geometry){if(!(b in a.serializers[c])){a.serializers[c][b]=ol.xml.makeChildAppender(this.writeGeometryElement,this)}}else {if(!(b in a.serializers[c])){a.serializers[c][b]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}}}}var i=ol.obj.assign({},a);i.node=k;ol.xml.pushSerializeAndPop(i,a.serializers,ol.xml.makeSimpleNodeFactory(undefined,c),h,d,j)};ol.format.GML3.prototype.writeFeatureMembers_=function(h,g,a){var d=a[a.length-1];var e=d['featureType'];var c=d['featureNS'];var b={};b[c]={};b[c][e]=ol.xml.makeChildAppender(this.writeFeatureElement,this);var f=ol.obj.assign({},d);f.node=h;ol.xml.pushSerializeAndPop(f,b,ol.xml.makeSimpleNodeFactory(e,c),g,a)};ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_={'http://www.opengis.net/gml':{'surfaceMember':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_),'polygonMember':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_)}};ol.format.GML3.POINTMEMBER_SERIALIZERS_={'http://www.opengis.net/gml':{'pointMember':ol.xml.makeChildAppender(ol.format.GML3.prototype.writePointMember_)}};ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_={'http://www.opengis.net/gml':{'lineStringMember':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_),'curveMember':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_)}};ol.format.GML3.RING_SERIALIZERS_={'http://www.opengis.net/gml':{'exterior':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_),'interior':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_)}};ol.format.GML3.GEOMETRY_SERIALIZERS_={'http://www.opengis.net/gml':{'Curve':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),'MultiCurve':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),'Point':ol.xml.makeChildAppender(ol.format.GML3.prototype.writePoint_),'MultiPoint':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiPoint_),'LineString':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),'MultiLineString':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),'LinearRing':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLinearRing_),'Polygon':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),'MultiPolygon':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),'Surface':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),'MultiSurface':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),'Envelope':ol.xml.makeChildAppender(ol.format.GML3.prototype.writeEnvelope)}};ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_={'MultiLineString':'lineStringMember','MultiCurve':'curveMember','MultiPolygon':'polygonMember','MultiSurface':'surfaceMember'};ol.format.GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(d,a,c){var b=a[a.length-1].node;return ol.xml.createElementNS('http://www.opengis.net/gml',ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[b.nodeName])};ol.format.GML3.prototype.GEOMETRY_NODE_FACTORY_=function(d,c,i){var b=c[c.length-1];var e=b['multiSurface'];var g=b['surface'];var h=b['curve'];var f=b['multiCurve'];var a;if(!Array.isArray(d)){a=d.getType();if(a==='MultiPolygon'&&e===!0){a='MultiSurface'}else {if(a==='Polygon'&&g===!0){a='Surface'}else {if(a==='LineString'&&h===!0){a='Curve'}else {if(a==='MultiLineString'&&f===!0){a='MultiCurve'}}}}}else {a='Envelope'}return ol.xml.createElementNS('http://www.opengis.net/gml',a)};ol.format.GML3.prototype.writeGeometryNode=function(d,a){a=this.adaptOptions(a);var b=ol.xml.createElementNS('http://www.opengis.net/gml','geom');var c={node:b,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};if(a){ol.obj.assign(c,a)}this.writeGeometryElement(b,d,[c]);return b};ol.format.GML3.prototype.writeFeatures;ol.format.GML3.prototype.writeFeaturesNode=function(d,a){a=this.adaptOptions(a);var b=ol.xml.createElementNS('http://www.opengis.net/gml','featureMembers');ol.xml.setAttributeNS(b,'http://www.w3.org/2001/XMLSchema-instance','xsi:schemaLocation',this.schemaLocation);var c={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};if(a){ol.obj.assign(c,a)}this.writeFeatureMembers_(b,d,[c]);return b};goog.provide('ol.format.GML');goog.require('ol.format.GML3');ol.format.GML=ol.format.GML3;ol.format.GML.prototype.writeFeatures;ol.format.GML.prototype.writeFeaturesNode;goog.provide('ol.format.GML2');goog.require('ol');goog.require('ol.extent');goog.require('ol.format.Feature');goog.require('ol.format.GMLBase');goog.require('ol.format.XSD');goog.require('ol.geom.Geometry');goog.require('ol.obj');goog.require('ol.proj');goog.require('ol.xml');ol.format.GML2=function(b){var a=b?b:{};ol.format.GMLBase.call(this,a);this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]['featureMember']=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);this.schemaLocation=a.schemaLocation?a.schemaLocation:ol.format.GML2.schemaLocation_};ol.inherits(ol.format.GML2,ol.format.GMLBase);ol.format.GML2.schemaLocation_=ol.format.GMLBase.GMLNS+' http://schemas.opengis.net/gml/2.1.2/feature.xsd';ol.format.GML2.prototype.readFlatCoordinates_=function(m,k){var o=ol.xml.getAllTextContent(m,!1).replace(/^\s*|\s*$/g,'');var l=k[0];var h=l['srsName'];var g='enu';if(h){var j=ol.proj.get(h);if(j){g=j.getAxisOrientation()}}var i=o.trim().split(/\s+/);var d,e,f;var b=[];for(var c=0,n=i.length;c<n;c++){var a=i[c].split(/,+/);d=parseFloat(a[0]);e=parseFloat(a[1]);f=a.length===3?parseFloat(a[2]):0;if(g.substr(0,2)==='en'){b.push(d,e,f)}else {b.push(e,d,f)}}return b};ol.format.GML2.prototype.readBox_=function(c,b){var a=ol.xml.pushParseAndPop([null],this.BOX_PARSERS_,c,b,this);return ol.extent.createOrUpdate(a[1][0],a[1][1],a[1][3],a[1][4])};ol.format.GML2.prototype.innerBoundaryIsParser_=function(d,a){var b=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,d,a,this);if(b){var c=a[a.length-1];c.push(b)}};ol.format.GML2.prototype.outerBoundaryIsParser_=function(d,a){var b=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,d,a,this);if(b){var c=a[a.length-1];c[0]=b}};ol.format.GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={'http://www.opengis.net/gml':{'coordinates':ol.xml.makeReplacer(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.FLAT_LINEAR_RINGS_PARSERS_={'http://www.opengis.net/gml':{'innerBoundaryIs':ol.format.GML2.prototype.innerBoundaryIsParser_,'outerBoundaryIs':ol.format.GML2.prototype.outerBoundaryIsParser_}};ol.format.GML2.prototype.BOX_PARSERS_={'http://www.opengis.net/gml':{'coordinates':ol.xml.makeArrayPusher(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.GEOMETRY_PARSERS_={'http://www.opengis.net/gml':{'Point':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),'MultiPoint':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),'LineString':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),'MultiLineString':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),'LinearRing':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),'Polygon':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),'MultiPolygon':ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),'Box':ol.xml.makeReplacer(ol.format.GML2.prototype.readBox_)}};ol.format.GML2.prototype.GEOMETRY_NODE_FACTORY_=function(d,c,h){var b=c[c.length-1];var e=b['multiSurface'];var g=b['surface'];var f=b['multiCurve'];var a;if(!Array.isArray(d)){a=d.getType();if(a==='MultiPolygon'&&e===!0){a='MultiSurface'}else {if(a==='Polygon'&&g===!0){a='Surface'}else {if(a==='MultiLineString'&&f===!0){a='MultiCurve'}}}}else {a='Envelope'}return ol.xml.createElementNS('http://www.opengis.net/gml',a)};ol.format.GML2.prototype.writeFeatureElement=function(k,e,d){var l=e.getId();if(l){k.setAttribute('fid',l)}var a=d[d.length-1];var c=a['featureNS'];var m=e.getGeometryName();if(!a.serializers){a.serializers={};a.serializers[c]={}}var g=e.getProperties();var j=[],h=[];for(var b in g){var f=g[b];if(f!==null){j.push(b);h.push(f);if(b==m||f instanceof ol.geom.Geometry){if(!(b in a.serializers[c])){a.serializers[c][b]=ol.xml.makeChildAppender(this.writeGeometryElement,this)}}else {if(!(b in a.serializers[c])){a.serializers[c][b]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}}}}var i=ol.obj.assign({},a);i.node=k;ol.xml.pushSerializeAndPop(i,a.serializers,ol.xml.makeSimpleNodeFactory(undefined,c),h,d,j)};ol.format.GML2.prototype.writeGeometryElement=function(f,b,d){var a=d[d.length-1];var e=ol.obj.assign({},a);e.node=f;var c;if(Array.isArray(b)){if(a.dataProjection){c=ol.proj.transformExtent(b,a.featureProjection,a.dataProjection)}else {c=b}}else {c=ol.format.Feature.transformWithOptions(b,!0,a)}ol.xml.pushSerializeAndPop(e,ol.format.GML2.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[c],d,undefined,this)};ol.format.GML2.prototype.writeCurveOrLineString_=function(a,d,b){var g=b[b.length-1];var f=g['srsName'];if(a.nodeName!=='LineStringSegment'&&f){a.setAttribute('srsName',f)}if(a.nodeName==='LineString'||a.nodeName==='LineStringSegment'){var c=this.createCoordinatesNode_(a.namespaceURI);a.appendChild(c);this.writeCoordinates_(c,d,b)}else {if(a.nodeName==='Curve'){var e=ol.xml.createElementNS(a.namespaceURI,'segments');a.appendChild(e);this.writeCurveSegments_(e,d,b)}}};ol.format.GML2.prototype.createCoordinatesNode_=function(b){var a=ol.xml.createElementNS(b,'coordinates');a.setAttribute('decimal','.');a.setAttribute('cs',',');a.setAttribute('ts',' ');return a};ol.format.GML2.prototype.writeCoordinates_=function(k,i,b){var c=b[b.length-1];var j=c['hasZ'];var h=c['srsName'];var d=i.getCoordinates();var g=d.length;var e=new Array(g);var f;for(var a=0;a<g;++a){f=d[a];e[a]=this.getCoords_(f,h,j)}ol.format.XSD.writeStringTextNode(k,e.join(' '))};ol.format.GML2.prototype.writeCurveSegments_=function(b,d,c){var a=ol.xml.createElementNS(b.namespaceURI,'LineStringSegment');b.appendChild(a);this.writeCurveOrLineString_(a,d,c)};ol.format.GML2.prototype.writeSurfaceOrPolygon_=function(a,d,b){var e=b[b.length-1];var h=e['hasZ'];var c=e['srsName'];if(a.nodeName!=='PolygonPatch'&&c){a.setAttribute('srsName',c)}if(a.nodeName==='Polygon'||a.nodeName==='PolygonPatch'){var g=d.getLinearRings();ol.xml.pushSerializeAndPop({node:a,hasZ:h,srsName:c},ol.format.GML2.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,g,b,undefined,this)}else {if(a.nodeName==='Surface'){var f=ol.xml.createElementNS(a.namespaceURI,'patches');a.appendChild(f);this.writeSurfacePatches_(f,d,b)}}};ol.format.GML2.prototype.RING_NODE_FACTORY_=function(f,c,e){var a=c[c.length-1];var d=a.node;var b=a['exteriorWritten'];if(b===undefined){a['exteriorWritten']=!0}return ol.xml.createElementNS(d.namespaceURI,b!==undefined?'innerBoundaryIs':'outerBoundaryIs')};ol.format.GML2.prototype.writeSurfacePatches_=function(b,d,c){var a=ol.xml.createElementNS(b.namespaceURI,'PolygonPatch');b.appendChild(a);this.writeSurfaceOrPolygon_(a,d,c)};ol.format.GML2.prototype.writeRing_=function(b,d,c){var a=ol.xml.createElementNS(b.namespaceURI,'LinearRing');b.appendChild(a);this.writeLinearRing_(a,d,c)};ol.format.GML2.prototype.getCoords_=function(a,c,e){var b='enu';if(c){b=ol.proj.get(c).getAxisOrientation()}var d=b.substr(0,2)==='en'?a[0]+','+a[1]:a[1]+','+a[0];if(e){var f=a[2]||0;d+=','+f}return d};ol.format.GML2.prototype.writeMultiCurveOrLineString_=function(d,e,a){var b=a[a.length-1];var h=b['hasZ'];var c=b['srsName'];var f=b['curve'];if(c){d.setAttribute('srsName',c)}var g=e.getLineStrings();ol.xml.pushSerializeAndPop({node:d,hasZ:h,srsName:c,curve:f},ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,g,a,undefined,this)};ol.format.GML2.prototype.writePoint_=function(b,f,d){var e=d[d.length-1];var i=e['hasZ'];var a=e['srsName'];if(a){b.setAttribute('srsName',a)}var c=this.createCoordinatesNode_(b.namespaceURI);b.appendChild(c);var h=f.getCoordinates();var g=this.getCoords_(h,a,i);ol.format.XSD.writeStringTextNode(c,g)};ol.format.GML2.prototype.writeMultiPoint_=function(d,e,a){var c=a[a.length-1];var g=c['hasZ'];var b=c['srsName'];if(b){d.setAttribute('srsName',b)}var f=e.getPoints();ol.xml.pushSerializeAndPop({node:d,hasZ:g,srsName:b},ol.format.GML2.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory('pointMember'),f,a,undefined,this)};ol.format.GML2.prototype.writePointMember_=function(b,d,c){var a=ol.xml.createElementNS(b.namespaceURI,'Point');b.appendChild(a);this.writePoint_(a,d,c)};ol.format.GML2.prototype.writeLineStringOrCurveMember_=function(d,c,b){var a=this.GEOMETRY_NODE_FACTORY_(c,b);if(a){d.appendChild(a);this.writeCurveOrLineString_(a,c,b)}};ol.format.GML2.prototype.writeLinearRing_=function(b,e,a){var f=a[a.length-1];var d=f['srsName'];if(d){b.setAttribute('srsName',d)}var c=this.createCoordinatesNode_(b.namespaceURI);b.appendChild(c);this.writeCoordinates_(c,e,a)};ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_=function(d,e,a){var b=a[a.length-1];var h=b['hasZ'];var c=b['srsName'];var g=b['surface'];if(c){d.setAttribute('srsName',c)}var f=e.getPolygons();ol.xml.pushSerializeAndPop({node:d,hasZ:h,srsName:c,surface:g},ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,f,a,undefined,this)};ol.format.GML2.prototype.writeSurfaceOrPolygonMember_=function(d,c,b){var a=this.GEOMETRY_NODE_FACTORY_(c,b);if(a){d.appendChild(a);this.writeSurfaceOrPolygon_(a,c,b)}};ol.format.GML2.prototype.writeEnvelope=function(d,a,b){var e=b[b.length-1];var c=e['srsName'];if(c){d.setAttribute('srsName',c)}var g=['lowerCorner','upperCorner'];var f=[a[0]+' '+a[1],a[2]+' '+a[3]];ol.xml.pushSerializeAndPop({node:d},ol.format.GML2.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,f,b,g,this)};ol.format.GML2.GEOMETRY_SERIALIZERS_={'http://www.opengis.net/gml':{'Curve':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),'MultiCurve':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),'Point':ol.xml.makeChildAppender(ol.format.GML2.prototype.writePoint_),'MultiPoint':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiPoint_),'LineString':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),'MultiLineString':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),'LinearRing':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLinearRing_),'Polygon':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),'MultiPolygon':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),'Surface':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),'MultiSurface':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),'Envelope':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeEnvelope)}};ol.format.GML2.RING_SERIALIZERS_={'http://www.opengis.net/gml':{'outerBoundaryIs':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_),'innerBoundaryIs':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_)}};ol.format.GML2.POINTMEMBER_SERIALIZERS_={'http://www.opengis.net/gml':{'pointMember':ol.xml.makeChildAppender(ol.format.GML2.prototype.writePointMember_)}};ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_={'http://www.opengis.net/gml':{'lineStringMember':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_),'curveMember':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_)}};ol.format.GML2.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(d,a,c){var b=a[a.length-1].node;return ol.xml.createElementNS('http://www.opengis.net/gml',ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_[b.nodeName])};ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_={'MultiLineString':'lineStringMember','MultiCurve':'curveMember','MultiPolygon':'polygonMember','MultiSurface':'surfaceMember'};ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_={'http://www.opengis.net/gml':{'surfaceMember':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_),'polygonMember':ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_)}};ol.format.GML2.ENVELOPE_SERIALIZERS_={'http://www.opengis.net/gml':{'lowerCorner':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'upperCorner':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};goog.provide('ol.format.GPX');goog.require('ol');goog.require('ol.Feature');goog.require('ol.array');goog.require('ol.format.Feature');goog.require('ol.format.XMLFeature');goog.require('ol.format.XSD');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.LineString');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.Point');goog.require('ol.proj');goog.require('ol.xml');ol.format.GPX=function(a){var b=a?a:{};ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get('EPSG:4326');this.readExtensions_=b.readExtensions};ol.inherits(ol.format.GPX,ol.format.XMLFeature);ol.format.GPX.NAMESPACE_URIS_=[null,'http://www.topografix.com/GPX/1/0','http://www.topografix.com/GPX/1/1'];ol.format.GPX.SCHEMA_LOCATION_='http://www.topografix.com/GPX/1/1 '+'http://www.topografix.com/GPX/1/1/gpx.xsd';ol.format.GPX.appendCoordinate_=function(a,c,d,b){a.push(parseFloat(d.getAttribute('lon')),parseFloat(d.getAttribute('lat')));if('ele' in b){a.push(b['ele']);delete b['ele'];c.hasZ=!0}else {a.push(0)}if('time' in b){a.push(b['time']);delete b['time'];c.hasM=!0}else {a.push(0)}return a};ol.format.GPX.applyLayoutOptions_=function(d,b,f){var e=ol.geom.GeometryLayout.XY;var c=2;if(d.hasZ&&d.hasM){e=ol.geom.GeometryLayout.XYZM;c=4}else {if(d.hasZ){e=ol.geom.GeometryLayout.XYZ;c=3}else {if(d.hasM){e=ol.geom.GeometryLayout.XYM;c=3}}}if(c!==4){var a,g;for(a=0,g=b.length/4;a<g;a++){b[a*c]=b[a*4];b[a*c+1]=b[a*4+1];if(d.hasZ){b[a*c+2]=b[a*4+2]}if(d.hasM){b[a*c+2]=b[a*4+3]}}b.length=b.length/4*c;if(f){for(a=0,g=f.length;a<g;a++){f[a]=f[a]/4*c}}}return e};ol.format.GPX.parseLink_=function(c,a){var d=a[a.length-1];var b=c.getAttribute('href');if(b!==null){d['link']=b}ol.xml.parseNode(ol.format.GPX.LINK_PARSERS_,c,a)};ol.format.GPX.parseExtensions_=function(c,a){var b=a[a.length-1];b['extensionsNode_']=c};ol.format.GPX.parseRtePt_=function(d,a){var c=ol.xml.pushParseAndPop({},ol.format.GPX.RTEPT_PARSERS_,d,a);if(c){var b=a[a.length-1];var e=b['flatCoordinates'];var f=b['layoutOptions'];ol.format.GPX.appendCoordinate_(e,f,d,c)}};ol.format.GPX.parseTrkPt_=function(d,a){var c=ol.xml.pushParseAndPop({},ol.format.GPX.TRKPT_PARSERS_,d,a);if(c){var b=a[a.length-1];var e=b['flatCoordinates'];var f=b['layoutOptions'];ol.format.GPX.appendCoordinate_(e,f,d,c)}};ol.format.GPX.parseTrkSeg_=function(e,a){var b=a[a.length-1];ol.xml.parseNode(ol.format.GPX.TRKSEG_PARSERS_,e,a);var c=b['flatCoordinates'];var d=b['ends'];d.push(c.length)};ol.format.GPX.readRte_=function(i,d){var g=d[0];var a=ol.xml.pushParseAndPop({'flatCoordinates':[],'layoutOptions':{}},ol.format.GPX.RTE_PARSERS_,i,d);if(!a){return undefined}var c=a['flatCoordinates'];delete a['flatCoordinates'];var f=a['layoutOptions'];delete a['layoutOptions'];var h=ol.format.GPX.applyLayoutOptions_(f,c);var b=new ol.geom.LineString(null);b.setFlatCoordinates(h,c);ol.format.Feature.transformWithOptions(b,!1,g);var e=new ol.Feature(b);e.setProperties(a);return e};ol.format.GPX.readTrk_=function(j,d){var h=d[0];var a=ol.xml.pushParseAndPop({'flatCoordinates':[],'ends':[],'layoutOptions':{}},ol.format.GPX.TRK_PARSERS_,j,d);if(!a){return undefined}var c=a['flatCoordinates'];delete a['flatCoordinates'];var f=a['ends'];delete a['ends'];var g=a['layoutOptions'];delete a['layoutOptions'];var i=ol.format.GPX.applyLayoutOptions_(g,c,f);var b=new ol.geom.MultiLineString(null);b.setFlatCoordinates(i,c,f);ol.format.Feature.transformWithOptions(b,!1,h);var e=new ol.Feature(b);e.setProperties(a);return e};ol.format.GPX.readWpt_=function(g,d){var h=d[0];var a=ol.xml.pushParseAndPop({},ol.format.GPX.WPT_PARSERS_,g,d);if(!a){return undefined}var b={};var c=ol.format.GPX.appendCoordinate_([],b,g,a);var i=ol.format.GPX.applyLayoutOptions_(b,c);var e=new ol.geom.Point(c,i);ol.format.Feature.transformWithOptions(e,!1,h);var f=new ol.Feature(e);f.setProperties(a);return f};ol.format.GPX.FEATURE_READER_={'rte':ol.format.GPX.readRte_,'trk':ol.format.GPX.readTrk_,'wpt':ol.format.GPX.readWpt_};ol.format.GPX.GPX_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'rte':ol.xml.makeArrayPusher(ol.format.GPX.readRte_),'trk':ol.xml.makeArrayPusher(ol.format.GPX.readTrk_),'wpt':ol.xml.makeArrayPusher(ol.format.GPX.readWpt_)});ol.format.GPX.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'text':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,'linkText'),'type':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,'linkType')});ol.format.GPX.RTE_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'name':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'cmt':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'desc':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'src':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'link':ol.format.GPX.parseLink_,'number':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'extensions':ol.format.GPX.parseExtensions_,'type':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'rtept':ol.format.GPX.parseRtePt_});ol.format.GPX.RTEPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'ele':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'time':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.TRK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'name':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'cmt':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'desc':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'src':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'link':ol.format.GPX.parseLink_,'number':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'type':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'extensions':ol.format.GPX.parseExtensions_,'trkseg':ol.format.GPX.parseTrkSeg_});ol.format.GPX.TRKSEG_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'trkpt':ol.format.GPX.parseTrkPt_});ol.format.GPX.TRKPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'ele':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'time':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.WPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'ele':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'time':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime),'magvar':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'geoidheight':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'name':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'cmt':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'desc':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'src':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'link':ol.format.GPX.parseLink_,'sym':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'type':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'fix':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'sat':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'hdop':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'vdop':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'pdop':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'ageofdgpsdata':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'dgpsid':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'extensions':ol.format.GPX.parseExtensions_});ol.format.GPX.prototype.handleReadExtensions_=function(a){if(!a){a=[]}for(var c=0,e=a.length;c<e;++c){var b=a[c];if(this.readExtensions_){var d=b.get('extensionsNode_')||null;this.readExtensions_(b,d)}b.set('extensionsNode_',undefined)}};ol.format.GPX.prototype.readFeature;ol.format.GPX.prototype.readFeatureFromNode=function(a,d){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,a.namespaceURI)){return null}var c=ol.format.GPX.FEATURE_READER_[a.localName];if(!c){return null}var b=c(a,[this.getReadOptions(a,d)]);if(!b){return null}this.handleReadExtensions_([b]);return b};ol.format.GPX.prototype.readFeatures;ol.format.GPX.prototype.readFeaturesFromNode=function(a,c){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,a.namespaceURI)){return []}if(a.localName=='gpx'){var b=ol.xml.pushParseAndPop([],ol.format.GPX.GPX_PARSERS_,a,[this.getReadOptions(a,c)]);if(b){this.handleReadExtensions_(b);return b}else {return []}}return []};ol.format.GPX.prototype.readProjection;ol.format.GPX.writeLink_=function(c,e,a){c.setAttribute('href',e);var d=a[a.length-1];var b=d['properties'];var f=[b['linkText'],b['linkType']];ol.xml.pushSerializeAndPop({node:c},ol.format.GPX.LINK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,f,a,ol.format.GPX.LINK_SEQUENCE_)};ol.format.GPX.writeWptType_=function(c,a,d){var e=d[d.length-1];var i=e.node;var f=i.namespaceURI;var b=e['properties'];ol.xml.setAttributeNS(c,null,'lat',a[1]);ol.xml.setAttributeNS(c,null,'lon',a[0]);var h=e['geometryLayout'];switch(h){case ol.geom.GeometryLayout.XYZM:if(a[3]!==0){b['time']=a[3]};case ol.geom.GeometryLayout.XYZ:if(a[2]!==0){b['ele']=a[2]};break;case ol.geom.GeometryLayout.XYM:if(a[2]!==0){b['time']=a[2]};break;default:}var g=c.nodeName=='rtept'?ol.format.GPX.RTEPT_TYPE_SEQUENCE_[f]:ol.format.GPX.WPT_TYPE_SEQUENCE_[f];var j=ol.xml.makeSequence(b,g);ol.xml.pushSerializeAndPop({node:c,'properties':b},ol.format.GPX.WPT_TYPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,j,d,g)};ol.format.GPX.writeRte_=function(j,f,b){var h=b[0];var c=f.getProperties();var e={node:j,'properties':c};var a=f.getGeometry();if(a){a=ol.format.Feature.transformWithOptions(a,!0,h);e['geometryLayout']=a.getLayout();c['rtept']=a.getCoordinates()}var g=b[b.length-1].node;var d=ol.format.GPX.RTE_SEQUENCE_[g.namespaceURI];var i=ol.xml.makeSequence(c,d);ol.xml.pushSerializeAndPop(e,ol.format.GPX.RTE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,i,b,d)};ol.format.GPX.writeTrk_=function(j,e,a){var h=a[0];var c=e.getProperties();var g={node:j,'properties':c};var b=e.getGeometry();if(b){b=ol.format.Feature.transformWithOptions(b,!0,h);c['trkseg']=b.getLineStrings()}var f=a[a.length-1].node;var d=ol.format.GPX.TRK_SEQUENCE_[f.namespaceURI];var i=ol.xml.makeSequence(c,d);ol.xml.pushSerializeAndPop(g,ol.format.GPX.TRK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,i,a,d)};ol.format.GPX.writeTrkSeg_=function(d,a,b){var c={node:d,'geometryLayout':a.getLayout(),'properties':{}};ol.xml.pushSerializeAndPop(c,ol.format.GPX.TRKSEG_SERIALIZERS_,ol.format.GPX.TRKSEG_NODE_FACTORY_,a.getCoordinates(),b)};ol.format.GPX.writeWpt_=function(f,d,b){var e=b[0];var c=b[b.length-1];c['properties']=d.getProperties();var a=d.getGeometry();if(a){a=ol.format.Feature.transformWithOptions(a,!0,e);c['geometryLayout']=a.getLayout();ol.format.GPX.writeWptType_(f,a.getCoordinates(),b)}};ol.format.GPX.LINK_SEQUENCE_=['text','type'];ol.format.GPX.LINK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'text':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'type':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)});ol.format.GPX.RTE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,['name','cmt','desc','src','link','number','type','rtept']);ol.format.GPX.RTE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'name':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'cmt':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'desc':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'src':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'link':ol.xml.makeChildAppender(ol.format.GPX.writeLink_),'number':ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),'type':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'rtept':ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeWptType_))});ol.format.GPX.RTEPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,['ele','time']);ol.format.GPX.TRK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,['name','cmt','desc','src','link','number','type','trkseg']);ol.format.GPX.TRK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'name':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'cmt':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'desc':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'src':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'link':ol.xml.makeChildAppender(ol.format.GPX.writeLink_),'number':ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),'type':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'trkseg':ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeTrkSeg_))});ol.format.GPX.TRKSEG_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('trkpt');ol.format.GPX.TRKSEG_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'trkpt':ol.xml.makeChildAppender(ol.format.GPX.writeWptType_)});ol.format.GPX.WPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,['ele','time','magvar','geoidheight','name','cmt','desc','src','link','sym','type','fix','sat','hdop','vdop','pdop','ageofdgpsdata','dgpsid']);ol.format.GPX.WPT_TYPE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'ele':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'time':ol.xml.makeChildAppender(ol.format.XSD.writeDateTimeTextNode),'magvar':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'geoidheight':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'name':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'cmt':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'desc':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'src':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'link':ol.xml.makeChildAppender(ol.format.GPX.writeLink_),'sym':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'type':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'fix':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'sat':ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),'hdop':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'vdop':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'pdop':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'ageofdgpsdata':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'dgpsid':ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode)});ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_={'Point':'wpt','LineString':'rte','MultiLineString':'trk'};ol.format.GPX.GPX_NODE_FACTORY_=function(e,a,f){var b=e.getGeometry();if(b){var c=ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_[b.getType()];if(c){var d=a[a.length-1].node;return ol.xml.createElementNS(d.namespaceURI,c)}}};ol.format.GPX.GPX_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{'rte':ol.xml.makeChildAppender(ol.format.GPX.writeRte_),'trk':ol.xml.makeChildAppender(ol.format.GPX.writeTrk_),'wpt':ol.xml.makeChildAppender(ol.format.GPX.writeWpt_)});ol.format.GPX.prototype.writeFeatures;ol.format.GPX.prototype.writeFeaturesNode=function(d,b){b=this.adaptOptions(b);var a=ol.xml.createElementNS('http://www.topografix.com/GPX/1/1','gpx');var e='http://www.w3.org/2000/xmlns/';var c='http://www.w3.org/2001/XMLSchema-instance';ol.xml.setAttributeNS(a,e,'xmlns:xsi',c);ol.xml.setAttributeNS(a,c,'xsi:schemaLocation',ol.format.GPX.SCHEMA_LOCATION_);a.setAttribute('version','1.1');a.setAttribute('creator','OpenLayers');ol.xml.pushSerializeAndPop({node:a},ol.format.GPX.GPX_SERIALIZERS_,ol.format.GPX.GPX_NODE_FACTORY_,d,[b]);return a};goog.provide('ol.format.IGCZ');ol.format.IGCZ={BAROMETRIC:'barometric',GPS:'gps',NONE:'none'};goog.provide('ol.format.TextFeature');goog.require('ol');goog.require('ol.format.Feature');goog.require('ol.format.FormatType');ol.format.TextFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.TextFeature,ol.format.Feature);ol.format.TextFeature.prototype.getText_=function(a){if(typeof a==='string'){return a}else {return ''}};ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT};ol.format.TextFeature.prototype.readFeature=function(b,a){return this.readFeatureFromText(this.getText_(b),this.adaptOptions(a))};ol.format.TextFeature.prototype.readFeatureFromText=function(b,a){};ol.format.TextFeature.prototype.readFeatures=function(b,a){return this.readFeaturesFromText(this.getText_(b),this.adaptOptions(a))};ol.format.TextFeature.prototype.readFeaturesFromText=function(b,a){};ol.format.TextFeature.prototype.readGeometry=function(b,a){return this.readGeometryFromText(this.getText_(b),this.adaptOptions(a))};ol.format.TextFeature.prototype.readGeometryFromText=function(b,a){};ol.format.TextFeature.prototype.readProjection=function(a){return this.readProjectionFromText(this.getText_(a))};ol.format.TextFeature.prototype.readProjectionFromText=function(a){return this.defaultDataProjection};ol.format.TextFeature.prototype.writeFeature=function(b,a){return this.writeFeatureText(b,this.adaptOptions(a))};ol.format.TextFeature.prototype.writeFeatureText=function(b,a){};ol.format.TextFeature.prototype.writeFeatures=function(b,a){return this.writeFeaturesText(b,this.adaptOptions(a))};ol.format.TextFeature.prototype.writeFeaturesText=function(b,a){};ol.format.TextFeature.prototype.writeGeometry=function(b,a){return this.writeGeometryText(b,this.adaptOptions(a))};ol.format.TextFeature.prototype.writeGeometryText=function(b,a){};goog.provide('ol.format.IGC');goog.require('ol');goog.require('ol.Feature');goog.require('ol.format.Feature');goog.require('ol.format.IGCZ');goog.require('ol.format.TextFeature');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.LineString');goog.require('ol.proj');ol.format.IGC=function(a){var b=a?a:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get('EPSG:4326');this.altitudeMode_=b.altitudeMode?b.altitudeMode:ol.format.IGCZ.NONE};ol.inherits(ol.format.IGC,ol.format.TextFeature);ol.format.IGC.B_RECORD_RE_=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/;ol.format.IGC.H_RECORD_RE_=/^H.([A-Z]{3}).*?:(.*)/;ol.format.IGC.HFDTE_RECORD_RE_=/^HFDTE(\d{2})(\d{2})(\d{2})/;ol.format.IGC.NEWLINE_RE_=/\r\n|\r|\n/;ol.format.IGC.prototype.readFeature;ol.format.IGC.prototype.readFeatureFromText=function(x,v){var d=this.altitudeMode_;var s=x.split(ol.format.IGC.NEWLINE_RE_);var o={};var b=[];var i=2000;var h=0;var j=1;var m=-1;var f,u;for(f=0,u=s.length;f<u;++f){var c=s[f];var a;if(c.charAt(0)=='B'){a=ol.format.IGC.B_RECORD_RE_.exec(c);if(a){var t=parseInt(a[1],10);var q=parseInt(a[2],10);var r=parseInt(a[3],10);var l=parseInt(a[4],10)+parseInt(a[5],10)/60000;if(a[6]=='S'){l=-l}var k=parseInt(a[7],10)+parseInt(a[8],10)/60000;if(a[9]=='W'){k=-k}b.push(k,l);if(d!=ol.format.IGCZ.NONE){var g;if(d==ol.format.IGCZ.GPS){g=parseInt(a[11],10)}else {if(d==ol.format.IGCZ.BAROMETRIC){g=parseInt(a[12],10)}else {g=0}}b.push(g)}var e=Date.UTC(i,h,j,t,q,r);if(e<m){e=Date.UTC(i,h,j+1,t,q,r)}b.push(e/1000);m=e}}else {if(c.charAt(0)=='H'){a=ol.format.IGC.HFDTE_RECORD_RE_.exec(c);if(a){j=parseInt(a[1],10);h=parseInt(a[2],10)-1;i=2000+parseInt(a[3],10)}else {a=ol.format.IGC.H_RECORD_RE_.exec(c);if(a){o[a[1]]=a[2].trim()}}}}}if(b.length===0){return null}var n=new ol.geom.LineString(null);var w=d==ol.format.IGCZ.NONE?ol.geom.GeometryLayout.XYM:ol.geom.GeometryLayout.XYZM;n.setFlatCoordinates(w,b);var p=new ol.Feature(ol.format.Feature.transformWithOptions(n,!1,v));p.setProperties(o);return p};ol.format.IGC.prototype.readFeatures;ol.format.IGC.prototype.readFeaturesFromText=function(c,b){var a=this.readFeatureFromText(c,b);if(a){return [a]}else {return []}};ol.format.IGC.prototype.readProjection;ol.format.IGC.prototype.writeFeatureText=function(b,a){};ol.format.IGC.prototype.writeFeaturesText=function(b,a){};ol.format.IGC.prototype.writeGeometryText=function(b,a){};ol.format.IGC.prototype.readGeometryFromText=function(b,a){};goog.provide('ol.style.IconAnchorUnits');ol.style.IconAnchorUnits={FRACTION:'fraction',PIXELS:'pixels'};goog.provide('ol.style.IconImage');goog.require('ol');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.EventTarget');goog.require('ol.events.EventType');goog.require('ol.ImageState');goog.require('ol.style');ol.style.IconImage=function(c,f,e,a,d,b){ol.events.EventTarget.call(this);this.hitDetectionImage_=null;this.image_=!c?new Image():c;if(a!==null){this.image_.crossOrigin=a}this.canvas_=b?document.createElement('CANVAS'):null;this.color_=b;this.imageListenerKeys_=null;this.imageState_=d;this.size_=e;this.src_=f;this.tainting_=!1;if(this.imageState_==ol.ImageState.LOADED){this.determineTainting_()}};ol.inherits(ol.style.IconImage,ol.events.EventTarget);ol.style.IconImage.get=function(g,d,h,b,f,c){var e=ol.style.iconImageCache;var a=e.get(d,b,c);if(!a){a=new ol.style.IconImage(g,d,h,b,f,c);e.set(d,b,c,a)}return a};ol.style.IconImage.prototype.determineTainting_=function(){var a=ol.dom.createCanvasContext2D(1,1);try{a.drawImage(this.image_,0,0);a.getImageData(0,0,1,1)}catch(b){this.tainting_=!0}};ol.style.IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.style.IconImage.prototype.handleImageError_=function(){this.imageState_=ol.ImageState.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.handleImageLoad_=function(){this.imageState_=ol.ImageState.LOADED;if(this.size_){this.image_.width=this.size_[0];this.image_.height=this.size_[1]}this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.determineTainting_();this.replaceColor_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.getImage=function(a){return this.canvas_?this.canvas_:this.image_};ol.style.IconImage.prototype.getImageState=function(){return this.imageState_};ol.style.IconImage.prototype.getHitDetectionImage=function(d){if(!this.hitDetectionImage_){if(this.tainting_){var c=this.size_[0];var b=this.size_[1];var a=ol.dom.createCanvasContext2D(c,b);a.fillRect(0,0,c,b);this.hitDetectionImage_=a.canvas}else {this.hitDetectionImage_=this.image_}}return this.hitDetectionImage_};ol.style.IconImage.prototype.getSize=function(){return this.size_};ol.style.IconImage.prototype.getSrc=function(){return this.src_};ol.style.IconImage.prototype.load=function(){if(this.imageState_==ol.ImageState.IDLE){this.imageState_=ol.ImageState.LOADING;this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(a){this.handleImageError_()}}};ol.style.IconImage.prototype.replaceColor_=function(){if(this.tainting_||this.color_===null){return}this.canvas_.width=this.image_.width;this.canvas_.height=this.image_.height;var c=this.canvas_.getContext('2d');c.drawImage(this.image_,0,0);var d=c.getImageData(0,0,this.image_.width,this.image_.height);var b=d.data;var h=this.color_[0]/255;var g=this.color_[1]/255;var f=this.color_[2]/255;for(var a=0,e=b.length;a<e;a+=4){b[a]*=h;b[a+1]*=g;b[a+2]*=f}c.putImageData(d,0,0)};ol.style.IconImage.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide('ol.style.IconOrigin');ol.style.IconOrigin={BOTTOM_LEFT:'bottom-left',BOTTOM_RIGHT:'bottom-right',TOP_LEFT:'top-left',TOP_RIGHT:'top-right'};goog.provide('ol.style.Icon');goog.require('ol');goog.require('ol.ImageState');goog.require('ol.asserts');goog.require('ol.color');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.style.IconAnchorUnits');goog.require('ol.style.IconImage');goog.require('ol.style.IconOrigin');goog.require('ol.style.Image');ol.style.Icon=function(f){var a=f||{};this.anchor_=a.anchor!==undefined?a.anchor:[0.5,0.5];this.normalizedAnchor_=null;this.anchorOrigin_=a.anchorOrigin!==undefined?a.anchorOrigin:ol.style.IconOrigin.TOP_LEFT;this.anchorXUnits_=a.anchorXUnits!==undefined?a.anchorXUnits:ol.style.IconAnchorUnits.FRACTION;this.anchorYUnits_=a.anchorYUnits!==undefined?a.anchorYUnits:ol.style.IconAnchorUnits.FRACTION;this.crossOrigin_=a.crossOrigin!==undefined?a.crossOrigin:null;var b=a.img!==undefined?a.img:null;var d=a.imgSize!==undefined?a.imgSize:null;var c=a.src;ol.asserts.assert(!(c!==undefined&&b),4);ol.asserts.assert(!b||b&&d,5);if((c===undefined||c.length===0)&&b){c=b.src||ol.getUid(b).toString()}ol.asserts.assert(c!==undefined&&c.length>0,6);var h=a.src!==undefined?ol.ImageState.IDLE:ol.ImageState.LOADED;this.color_=a.color!==undefined?ol.color.asArray(a.color):null;this.iconImage_=ol.style.IconImage.get(b,c,d,this.crossOrigin_,h,this.color_);this.offset_=a.offset!==undefined?a.offset:[0,0];this.offsetOrigin_=a.offsetOrigin!==undefined?a.offsetOrigin:ol.style.IconOrigin.TOP_LEFT;this.origin_=null;this.size_=a.size!==undefined?a.size:null;var j=a.opacity!==undefined?a.opacity:1;var e=a.rotateWithView!==undefined?a.rotateWithView:!1;var i=a.rotation!==undefined?a.rotation:0;var k=a.scale!==undefined?a.scale:1;var g=a.snapToPixel!==undefined?a.snapToPixel:!0;ol.style.Image.call(this,{opacity:j,rotation:i,scale:k,snapToPixel:g,rotateWithView:e})};ol.inherits(ol.style.Icon,ol.style.Image);ol.style.Icon.prototype.clone=function(){return new ol.style.Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||undefined,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():undefined,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};ol.style.Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_){return this.normalizedAnchor_}var a=this.anchor_;var b=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(!b){return null}a=this.anchor_.slice();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION){a[0]*=b[0]}if(this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){a[1]*=b[1]}}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(!b){return null}if(a===this.anchor_){a=this.anchor_.slice()}if(this.anchorOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){a[0]=-a[0]+b[0]}if(this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){a[1]=-a[1]+b[1]}}this.normalizedAnchor_=a;return this.normalizedAnchor_};ol.style.Icon.prototype.getColor=function(){return this.color_};ol.style.Icon.prototype.getImage=function(a){return this.iconImage_.getImage(a)};ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()};ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()};ol.style.Icon.prototype.getHitDetectionImage=function(a){return this.iconImage_.getHitDetectionImage(a)};ol.style.Icon.prototype.getOrigin=function(){if(this.origin_){return this.origin_}var a=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var c=this.getSize();var b=this.iconImage_.getSize();if(!c||!b){return null}a=a.slice();if(this.offsetOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){a[0]=b[0]-c[0]-a[0]}if(this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){a[1]=b[1]-c[1]-a[1]}}this.origin_=a;return this.origin_};ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()};ol.style.Icon.prototype.getSize=function(){return !this.size_?this.iconImage_.getSize():this.size_};ol.style.Icon.prototype.listenImageChange=function(a,b){return ol.events.listen(this.iconImage_,ol.events.EventType.CHANGE,a,b)};ol.style.Icon.prototype.load=function(){this.iconImage_.load()};ol.style.Icon.prototype.unlistenImageChange=function(a,b){ol.events.unlisten(this.iconImage_,ol.events.EventType.CHANGE,a,b)};goog.provide('ol.style.Text');goog.require('ol.style.Fill');goog.require('ol.style.TextPlacement');ol.style.Text=function(c){var a=c||{};this.font_=a.font;this.rotation_=a.rotation;this.rotateWithView_=a.rotateWithView;this.scale_=a.scale;this.text_=a.text;this.textAlign_=a.textAlign;this.textBaseline_=a.textBaseline;this.fill_=a.fill!==undefined?a.fill:new ol.style.Fill({color:ol.style.Text.DEFAULT_FILL_COLOR_});this.maxAngle_=a.maxAngle!==undefined?a.maxAngle:Math.PI/4;this.placement_=a.placement!==undefined?a.placement:ol.style.TextPlacement.POINT;var b=a.overflow===undefined?a.exceedLength:a.overflow;this.overflow_=b!==undefined?b:!1;this.stroke_=a.stroke!==undefined?a.stroke:null;this.offsetX_=a.offsetX!==undefined?a.offsetX:0;this.offsetY_=a.offsetY!==undefined?a.offsetY:0;this.backgroundFill_=a.backgroundFill?a.backgroundFill:null;this.backgroundStroke_=a.backgroundStroke?a.backgroundStroke:null;this.padding_=a.padding===undefined?null:a.padding};ol.style.Text.DEFAULT_FILL_COLOR_='#333';ol.style.Text.prototype.clone=function(){return new ol.style.Text({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,offsetX:this.getOffsetX(),offsetY:this.getOffsetY()})};ol.style.Text.prototype.getOverflow=function(){return this.overflow_};ol.style.Text.prototype.getFont=function(){return this.font_};ol.style.Text.prototype.getMaxAngle=function(){return this.maxAngle_};ol.style.Text.prototype.getPlacement=function(){return this.placement_};ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_};ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_};ol.style.Text.prototype.getFill=function(){return this.fill_};ol.style.Text.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Text.prototype.getRotation=function(){return this.rotation_};ol.style.Text.prototype.getScale=function(){return this.scale_};ol.style.Text.prototype.getStroke=function(){return this.stroke_};ol.style.Text.prototype.getText=function(){return this.text_};ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_};ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_};ol.style.Text.prototype.getBackgroundFill=function(){return this.backgroundFill_};ol.style.Text.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};ol.style.Text.prototype.getPadding=function(){return this.padding_};ol.style.Text.prototype.setOverflow=function(a){this.overflow_=a};ol.style.Text.prototype.setFont=function(a){this.font_=a};ol.style.Text.prototype.setMaxAngle=function(a){this.maxAngle_=a};ol.style.Text.prototype.setOffsetX=function(a){this.offsetX_=a};ol.style.Text.prototype.setOffsetY=function(a){this.offsetY_=a};ol.style.Text.prototype.setPlacement=function(a){this.placement_=a};ol.style.Text.prototype.setFill=function(a){this.fill_=a};ol.style.Text.prototype.setRotation=function(a){this.rotation_=a};ol.style.Text.prototype.setScale=function(a){this.scale_=a};ol.style.Text.prototype.setStroke=function(a){this.stroke_=a};ol.style.Text.prototype.setText=function(a){this.text_=a};ol.style.Text.prototype.setTextAlign=function(a){this.textAlign_=a};ol.style.Text.prototype.setTextBaseline=function(a){this.textBaseline_=a};ol.style.Text.prototype.setBackgroundFill=function(a){this.backgroundFill_=a};ol.style.Text.prototype.setBackgroundStroke=function(a){this.backgroundStroke_=a};ol.style.Text.prototype.setPadding=function(a){this.padding_=a};goog.provide('ol.format.KML');goog.require('ol');goog.require('ol.Feature');goog.require('ol.array');goog.require('ol.asserts');goog.require('ol.color');goog.require('ol.format.Feature');goog.require('ol.format.XMLFeature');goog.require('ol.format.XSD');goog.require('ol.geom.GeometryCollection');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.LineString');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.math');goog.require('ol.proj');goog.require('ol.style.Fill');goog.require('ol.style.Icon');goog.require('ol.style.IconAnchorUnits');goog.require('ol.style.IconOrigin');goog.require('ol.style.Stroke');goog.require('ol.style.Style');goog.require('ol.style.Text');goog.require('ol.xml');ol.format.KML=function(b){var a=b?b:{};ol.format.XMLFeature.call(this);if(!ol.format.KML.DEFAULT_STYLE_ARRAY_){ol.format.KML.createStyleDefaults_()}this.defaultDataProjection=ol.proj.get('EPSG:4326');this.defaultStyle_=a.defaultStyle?a.defaultStyle:ol.format.KML.DEFAULT_STYLE_ARRAY_;this.extractStyles_=a.extractStyles!==undefined?a.extractStyles:!0;this.writeStyles_=a.writeStyles!==undefined?a.writeStyles:!0;this.sharedStyles_={};this.showPointNames_=a.showPointNames!==undefined?a.showPointNames:!0};ol.inherits(ol.format.KML,ol.format.XMLFeature);ol.format.KML.GX_NAMESPACE_URIS_=['http://www.google.com/kml/ext/2.2'];ol.format.KML.NAMESPACE_URIS_=[null,'http://earth.google.com/kml/2.0','http://earth.google.com/kml/2.1','http://earth.google.com/kml/2.2','http://www.opengis.net/kml/2.2'];ol.format.KML.SCHEMA_LOCATION_='http://www.opengis.net/kml/2.2 '+'https://developers.google.com/kml/schema/kml22gx.xsd';ol.format.KML.createStyleDefaults_=function(){ol.format.KML.DEFAULT_COLOR_=[255,255,255,1];ol.format.KML.DEFAULT_FILL_STYLE_=new ol.style.Fill({color:ol.format.KML.DEFAULT_COLOR_});ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2];ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_=[64,64];ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_='https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png';ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_=0.5;ol.format.KML.DEFAULT_IMAGE_STYLE_=new ol.style.Icon({anchor:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:'anonymous',rotation:0,scale:ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,src:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_});ol.format.KML.DEFAULT_NO_IMAGE_STYLE_='NO_IMAGE';ol.format.KML.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:ol.format.KML.DEFAULT_COLOR_,width:1});ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_=new ol.style.Stroke({color:[51,51,51,1],width:2});ol.format.KML.DEFAULT_TEXT_STYLE_=new ol.style.Text({font:'bold 16px Helvetica',fill:ol.format.KML.DEFAULT_FILL_STYLE_,stroke:ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_,scale:0.8});ol.format.KML.DEFAULT_STYLE_=new ol.style.Style({fill:ol.format.KML.DEFAULT_FILL_STYLE_,image:ol.format.KML.DEFAULT_IMAGE_STYLE_,text:ol.format.KML.DEFAULT_TEXT_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,zIndex:0});ol.format.KML.DEFAULT_STYLE_ARRAY_=[ol.format.KML.DEFAULT_STYLE_];return ol.format.KML.DEFAULT_STYLE_ARRAY_};ol.format.KML.ICON_ANCHOR_UNITS_MAP_={'fraction':ol.style.IconAnchorUnits.FRACTION,'pixels':ol.style.IconAnchorUnits.PIXELS,'insetPixels':ol.style.IconAnchorUnits.PIXELS};ol.format.KML.createNameStyleFunction_=function(b,i){var a=null;var e=[0,0];var g='start';if(b.getImage()){var d=b.getImage().getImageSize();if(d===null){d=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_}if(d.length==2){var f=b.getImage().getScale();e[0]=f*d[0]/2;e[1]=-f*d[1]/2;g='left'}}if(b.getText()!==null){var c=b.getText();a=c.clone();a.setFont(c.getFont()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFont());a.setScale(c.getScale()||ol.format.KML.DEFAULT_TEXT_STYLE_.getScale());a.setFill(c.getFill()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFill());a.setStroke(c.getStroke()||ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_)}else {a=ol.format.KML.DEFAULT_TEXT_STYLE_.clone()}a.setText(i);a.setOffsetX(e[0]);a.setOffsetY(e[1]);a.setTextAlign(g);var h=new ol.style.Style({text:a});return h};ol.format.KML.createFeatureStyleFunction_=function(b,c,a,e,d){return function(j){var f=d;var g;var h='';if(f){if(this.getGeometry()){f=this.getGeometry().getType()===ol.geom.GeometryType.POINT}}if(f){h=this.get('name');f=f&&h}if(b){if(f){g=ol.format.KML.createNameStyleFunction_(b[0],h);return b.concat(g)}return b}if(c){var i=ol.format.KML.findStyle_(c,a,e);if(f){g=ol.format.KML.createNameStyleFunction_(i[0],h);return i.concat(g)}return i}if(f){g=ol.format.KML.createNameStyleFunction_(a[0],h);return a.concat(g)}return a}};ol.format.KML.findStyle_=function(a,c,b){if(Array.isArray(a)){return a}else {if(typeof a==='string'){if(!(a in b)&&'#'+a in b){a='#'+a}return ol.format.KML.findStyle_(b[a],c,b)}else {return c}}};ol.format.KML.readColor_=function(c){var d=ol.xml.getAllTextContent(c,!1);var b=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(d);if(b){var a=b[1];return [parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}else {return undefined}};ol.format.KML.readFlatCoordinates_=function(d){var b=ol.xml.getAllTextContent(d,!1);var c=[];var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;var a;while(a=e.exec(b)){var f=parseFloat(a[1]);var g=parseFloat(a[2]);var h=a[3]?parseFloat(a[3]):0;c.push(f,g,h);b=b.substr(a[0].length)}if(b!==''){return undefined}return c};ol.format.KML.readURI_=function(b){var c=ol.xml.getAllTextContent(b,!1).trim();var a=b.baseURI;if(!a||a=='about:blank'){a=window.location.href}if(a){var d=new URL(c,a);return d.href}else {return c}};ol.format.KML.readVec2_=function(b){var d=b.getAttribute('xunits');var c=b.getAttribute('yunits');var a;if(d!=='insetPixels'){if(c!=='insetPixels'){a=ol.style.IconOrigin.BOTTOM_LEFT}else {a=ol.style.IconOrigin.TOP_LEFT}}else {if(c!=='insetPixels'){a=ol.style.IconOrigin.BOTTOM_RIGHT}else {a=ol.style.IconOrigin.TOP_RIGHT}}return {x:parseFloat(b.getAttribute('x')),xunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[d],y:parseFloat(b.getAttribute('y')),yunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[c],origin:a}};ol.format.KML.readScale_=function(a){return ol.format.XSD.readDecimal(a)};ol.format.KML.readStyleMapValue_=function(b,a){return ol.xml.pushParseAndPop(undefined,ol.format.KML.STYLE_MAP_PARSERS_,b,a)};ol.format.KML.IconStyleParser_=function(w,h){var a=ol.xml.pushParseAndPop({},ol.format.KML.ICON_STYLE_PARSERS_,w,h);if(!a){return}var l=h[h.length-1];var b='Icon' in a?a['Icon']:{};var m=!('Icon' in a)||Object.keys(b).length>0;var d;var q=b['href'];if(q){d=q}else {if(m){d=ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_}}var g,e,f;var k=ol.style.IconOrigin.BOTTOM_LEFT;var c=a['hotSpot'];if(c){g=[c.x,c.y];e=c.xunits;f=c.yunits;k=c.origin}else {if(d===ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){g=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_;e=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_;f=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_}else {if(/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(d)){g=[0.5,0];e=ol.style.IconAnchorUnits.FRACTION;f=ol.style.IconAnchorUnits.FRACTION}}}var p;var t=b['x'];var u=b['y'];if(t!==undefined&&u!==undefined){p=[t,u]}var j;var s=b['w'];var r=b['h'];if(s!==undefined&&r!==undefined){j=[s,r]}var n;var o=a['heading'];if(o!==undefined){n=ol.math.toRadians(o)}var i=a['scale'];if(m){if(d==ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){j=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_;if(i===undefined){i=ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_}}var v=new ol.style.Icon({anchor:g,anchorOrigin:k,anchorXUnits:e,anchorYUnits:f,crossOrigin:'anonymous',offset:p,offsetOrigin:ol.style.IconOrigin.BOTTOM_LEFT,rotation:n,scale:i,size:j,src:d});l['imageStyle']=v}else {l['imageStyle']=ol.format.KML.DEFAULT_NO_IMAGE_STYLE_}};ol.format.KML.LabelStyleParser_=function(e,b){var a=ol.xml.pushParseAndPop({},ol.format.KML.LABEL_STYLE_PARSERS_,e,b);if(!a){return}var c=b[b.length-1];var d=new ol.style.Text({fill:new ol.style.Fill({color:'color' in a?a['color']:ol.format.KML.DEFAULT_COLOR_}),scale:a['scale']});c['textStyle']=d};ol.format.KML.LineStyleParser_=function(e,b){var a=ol.xml.pushParseAndPop({},ol.format.KML.LINE_STYLE_PARSERS_,e,b);if(!a){return}var d=b[b.length-1];var c=new ol.style.Stroke({color:'color' in a?a['color']:ol.format.KML.DEFAULT_COLOR_,width:'width' in a?a['width']:1});d['strokeStyle']=c};ol.format.KML.PolyStyleParser_=function(g,b){var a=ol.xml.pushParseAndPop({},ol.format.KML.POLY_STYLE_PARSERS_,g,b);if(!a){return}var c=b[b.length-1];var f=new ol.style.Fill({color:'color' in a?a['color']:ol.format.KML.DEFAULT_COLOR_});c['fillStyle']=f;var e=a['fill'];if(e!==undefined){c['fill']=e}var d=a['outline'];if(d!==undefined){c['outline']=d}};ol.format.KML.readFlatLinearRing_=function(b,a){return ol.xml.pushParseAndPop(null,ol.format.KML.FLAT_LINEAR_RING_PARSERS_,b,a)};ol.format.KML.gxCoordParser_=function(e,c){var d=c[c.length-1];var b=d.flatCoordinates;var g=ol.xml.getAllTextContent(e,!1);var f=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i;var a=f.exec(g);if(a){var h=parseFloat(a[1]);var i=parseFloat(a[2]);var j=parseFloat(a[3]);b.push(h,i,j,0)}else {b.push(0,0,0,0)}};ol.format.KML.readGxMultiTrack_=function(d,c){var b=ol.xml.pushParseAndPop([],ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_,d,c);if(!b){return undefined}var a=new ol.geom.MultiLineString(null);a.setLineStrings(b);return a};ol.format.KML.readGxTrack_=function(h,g){var c=ol.xml.pushParseAndPop({flatCoordinates:[],whens:[]},ol.format.KML.GX_TRACK_PARSERS_,h,g);if(!c){return undefined}var b=c.flatCoordinates;var e=c.whens;var a,f;for(a=0,f=Math.min(b.length,e.length);a<f;++a){b[4*a+3]=e[a]}var d=new ol.geom.LineString(null);d.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,b);return d};ol.format.KML.readIcon_=function(c,b){var a=ol.xml.pushParseAndPop({},ol.format.KML.ICON_PARSERS_,c,b);if(a){return a}else {return null}};ol.format.KML.readFlatCoordinatesFromNode_=function(b,a){return ol.xml.pushParseAndPop(null,ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_,b,a)};ol.format.KML.readLineString_=function(d,c){var e=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,d,c);var b=ol.format.KML.readFlatCoordinatesFromNode_(d,c);if(b){var a=new ol.geom.LineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,b);a.setProperties(e);return a}else {return undefined}};ol.format.KML.readLinearRing_=function(d,c){var e=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,d,c);var a=ol.format.KML.readFlatCoordinatesFromNode_(d,c);if(a){var b=new ol.geom.Polygon(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a,[a.length]);b.setProperties(e);return b}else {return undefined}};ol.format.KML.readMultiGeometry_=function(l,k){var a=ol.xml.pushParseAndPop([],ol.format.KML.MULTI_GEOMETRY_PARSERS_,l,k);if(!a){return null}if(a.length===0){return new ol.geom.GeometryCollection(a)}var b;var h=!0;var d=a[0].getType();var e,c,f;for(c=1,f=a.length;c<f;++c){e=a[c];if(e.getType()!=d){h=!1;break}}if(h){var i;var g;if(d==ol.geom.GeometryType.POINT){var j=a[0];i=j.getLayout();g=j.getFlatCoordinates();for(c=1,f=a.length;c<f;++c){e=a[c];ol.array.extend(g,e.getFlatCoordinates())}b=new ol.geom.MultiPoint(null);b.setFlatCoordinates(i,g);ol.format.KML.setCommonGeometryProperties_(b,a)}else {if(d==ol.geom.GeometryType.LINE_STRING){b=new ol.geom.MultiLineString(null);b.setLineStrings(a);ol.format.KML.setCommonGeometryProperties_(b,a)}else {if(d==ol.geom.GeometryType.POLYGON){b=new ol.geom.MultiPolygon(null);b.setPolygons(a);ol.format.KML.setCommonGeometryProperties_(b,a)}else {if(d==ol.geom.GeometryType.GEOMETRY_COLLECTION){b=new ol.geom.GeometryCollection(a)}else {ol.asserts.assert(!1,37)}}}}}else {b=new ol.geom.GeometryCollection(a)}return b};ol.format.KML.readPoint_=function(d,c){var e=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,d,c);var b=ol.format.KML.readFlatCoordinatesFromNode_(d,c);if(b){var a=new ol.geom.Point(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,b);a.setProperties(e);return a}else {return undefined}};ol.format.KML.readPolygon_=function(g,e){var i=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,g,e);var a=ol.xml.pushParseAndPop([null],ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_,g,e);if(a&&a[0]){var d=new ol.geom.Polygon(null);var b=a[0];var f=[b.length];var c,h;for(c=1,h=a.length;c<h;++c){ol.array.extend(b,a[c]);f.push(b.length)}d.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,b,f);d.setProperties(i);return d}else {return undefined}};ol.format.KML.readStyle_=function(i,g){var a=ol.xml.pushParseAndPop({},ol.format.KML.STYLE_PARSERS_,i,g);if(!a){return null}var d='fillStyle' in a?a['fillStyle']:ol.format.KML.DEFAULT_FILL_STYLE_;var f=a['fill'];if(f!==undefined&&!f){d=null}var b='imageStyle' in a?a['imageStyle']:ol.format.KML.DEFAULT_IMAGE_STYLE_;if(b==ol.format.KML.DEFAULT_NO_IMAGE_STYLE_){b=undefined}var h='textStyle' in a?a['textStyle']:ol.format.KML.DEFAULT_TEXT_STYLE_;var c='strokeStyle' in a?a['strokeStyle']:ol.format.KML.DEFAULT_STROKE_STYLE_;var e=a['outline'];if(e!==undefined&&!e){c=null}return [new ol.style.Style({fill:d,image:b,stroke:c,text:h,zIndex:undefined})]};ol.format.KML.setCommonGeometryProperties_=function(h,b){var k=b.length;var j=new Array(b.length);var i=new Array(b.length);var g=new Array(b.length);var f,a,e,d,c;e=d=c=!1;for(a=0;a<k;++a){f=b[a];j[a]=f.get('extrude');i[a]=f.get('tessellate');g[a]=f.get('altitudeMode');e=e||j[a]!==undefined;d=d||i[a]!==undefined;c=c||g[a]}if(e){h.set('extrude',j)}if(d){h.set('tessellate',i)}if(c){h.set('altitudeMode',g)}};ol.format.KML.DataParser_=function(d,b){var c=d.getAttribute('name');ol.xml.parseNode(ol.format.KML.DATA_PARSERS_,d,b);var a=b[b.length-1];if(c!==null){a[c]=a.value}else {if(a.displayName!==null){a[a.displayName]=a.value}}delete a['value']};ol.format.KML.ExtendedDataParser_=function(b,a){ol.xml.parseNode(ol.format.KML.EXTENDED_DATA_PARSERS_,b,a)};ol.format.KML.RegionParser_=function(b,a){ol.xml.parseNode(ol.format.KML.REGION_PARSERS_,b,a)};ol.format.KML.PairDataParser_=function(f,a){var b=ol.xml.pushParseAndPop({},ol.format.KML.PAIR_PARSERS_,f,a);if(!b){return}var e=b['key'];if(e&&e=='normal'){var c=b['styleUrl'];if(c){a[a.length-1]=c}var d=b['Style'];if(d){a[a.length-1]=d}}};ol.format.KML.PlacemarkStyleMapParser_=function(d,b){var a=ol.format.KML.readStyleMapValue_(d,b);if(!a){return}var c=b[b.length-1];if(Array.isArray(a)){c['Style']=a}else {if(typeof a==='string'){c['styleUrl']=a}else {ol.asserts.assert(!1,38)}}};ol.format.KML.SchemaDataParser_=function(b,a){ol.xml.parseNode(ol.format.KML.SCHEMA_DATA_PARSERS_,b,a)};ol.format.KML.SimpleDataParser_=function(c,a){var b=c.getAttribute('name');if(b!==null){var e=ol.format.XSD.readString(c);var d=a[a.length-1];d[b]=e}};ol.format.KML.LatLonAltBoxParser_=function(e,c){var a=ol.xml.pushParseAndPop({},ol.format.KML.LAT_LON_ALT_BOX_PARSERS_,e,c);if(!a){return}var b=c[c.length-1];var d=[parseFloat(a['west']),parseFloat(a['south']),parseFloat(a['east']),parseFloat(a['north'])];b['extent']=d;b['altitudeMode']=a['altitudeMode'];b['minAltitude']=parseFloat(a['minAltitude']);b['maxAltitude']=parseFloat(a['maxAltitude'])};ol.format.KML.LodParser_=function(d,c){var a=ol.xml.pushParseAndPop({},ol.format.KML.LOD_PARSERS_,d,c);if(!a){return}var b=c[c.length-1];b['minLodPixels']=parseFloat(a['minLodPixels']);b['maxLodPixels']=parseFloat(a['maxLodPixels']);b['minFadeExtent']=parseFloat(a['minFadeExtent']);b['maxFadeExtent']=parseFloat(a['maxFadeExtent'])};ol.format.KML.innerBoundaryIsParser_=function(d,a){var b=ol.xml.pushParseAndPop(undefined,ol.format.KML.INNER_BOUNDARY_IS_PARSERS_,d,a);if(b){var c=a[a.length-1];c.push(b)}};ol.format.KML.outerBoundaryIsParser_=function(d,a){var b=ol.xml.pushParseAndPop(undefined,ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_,d,a);if(b){var c=a[a.length-1];c[0]=b}};ol.format.KML.LinkParser_=function(b,a){ol.xml.parseNode(ol.format.KML.LINK_PARSERS_,b,a)};ol.format.KML.whenParser_=function(e,a){var c=a[a.length-1];var d=c.whens;var f=ol.xml.getAllTextContent(e,!1);var b=Date.parse(f);d.push(isNaN(b)?0:b)};ol.format.KML.DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'displayName':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'value':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.KML.EXTENDED_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'Data':ol.format.KML.DataParser_,'SchemaData':ol.format.KML.SchemaDataParser_});ol.format.KML.REGION_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'LatLonAltBox':ol.format.KML.LatLonAltBoxParser_,'Lod':ol.format.KML.LodParser_});ol.format.KML.LAT_LON_ALT_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'altitudeMode':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'minAltitude':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'maxAltitude':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'north':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'south':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'east':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'west':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.LOD_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'minLodPixels':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'maxLodPixels':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'minFadeExtent':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'maxFadeExtent':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'extrude':ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),'tessellate':ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),'altitudeMode':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.KML.FLAT_LINEAR_RING_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'coordinates':ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'innerBoundaryIs':ol.format.KML.innerBoundaryIsParser_,'outerBoundaryIs':ol.format.KML.outerBoundaryIsParser_});ol.format.KML.GX_TRACK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'when':ol.format.KML.whenParser_},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{'coord':ol.format.KML.gxCoordParser_}));ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'coordinates':ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.ICON_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'href':ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{'x':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'y':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'w':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'h':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}));ol.format.KML.ICON_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'Icon':ol.xml.makeObjectPropertySetter(ol.format.KML.readIcon_),'heading':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'hotSpot':ol.xml.makeObjectPropertySetter(ol.format.KML.readVec2_),'scale':ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.INNER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'LinearRing':ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.LABEL_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'color':ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),'scale':ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.LINE_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'color':ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),'width':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.MULTI_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'LineString':ol.xml.makeArrayPusher(ol.format.KML.readLineString_),'LinearRing':ol.xml.makeArrayPusher(ol.format.KML.readLinearRing_),'MultiGeometry':ol.xml.makeArrayPusher(ol.format.KML.readMultiGeometry_),'Point':ol.xml.makeArrayPusher(ol.format.KML.readPoint_),'Polygon':ol.xml.makeArrayPusher(ol.format.KML.readPolygon_)});ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{'Track':ol.xml.makeArrayPusher(ol.format.KML.readGxTrack_)});ol.format.KML.NETWORK_LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'ExtendedData':ol.format.KML.ExtendedDataParser_,'Region':ol.format.KML.RegionParser_,'Link':ol.format.KML.LinkParser_,'address':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'description':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'name':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'open':ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),'phoneNumber':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'visibility':ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'href':ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'LinearRing':ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.PAIR_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'Style':ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),'key':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'styleUrl':ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.PLACEMARK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'ExtendedData':ol.format.KML.ExtendedDataParser_,'Region':ol.format.KML.RegionParser_,'MultiGeometry':ol.xml.makeObjectPropertySetter(ol.format.KML.readMultiGeometry_,'geometry'),'LineString':ol.xml.makeObjectPropertySetter(ol.format.KML.readLineString_,'geometry'),'LinearRing':ol.xml.makeObjectPropertySetter(ol.format.KML.readLinearRing_,'geometry'),'Point':ol.xml.makeObjectPropertySetter(ol.format.KML.readPoint_,'geometry'),'Polygon':ol.xml.makeObjectPropertySetter(ol.format.KML.readPolygon_,'geometry'),'Style':ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),'StyleMap':ol.format.KML.PlacemarkStyleMapParser_,'address':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'description':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'name':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'open':ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),'phoneNumber':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'styleUrl':ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_),'visibility':ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{'MultiTrack':ol.xml.makeObjectPropertySetter(ol.format.KML.readGxMultiTrack_,'geometry'),'Track':ol.xml.makeObjectPropertySetter(ol.format.KML.readGxTrack_,'geometry')}));ol.format.KML.POLY_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'color':ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),'fill':ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),'outline':ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.SCHEMA_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'SimpleData':ol.format.KML.SimpleDataParser_});ol.format.KML.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'IconStyle':ol.format.KML.IconStyleParser_,'LabelStyle':ol.format.KML.LabelStyleParser_,'LineStyle':ol.format.KML.LineStyleParser_,'PolyStyle':ol.format.KML.PolyStyleParser_});ol.format.KML.STYLE_MAP_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'Pair':ol.format.KML.PairDataParser_});ol.format.KML.prototype.readDocumentOrFolder_=function(d,b){var c=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'Document':ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),'Folder':ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),'Placemark':ol.xml.makeArrayPusher(this.readPlacemark_,this),'Style':this.readSharedStyle_.bind(this),'StyleMap':this.readSharedStyleMap_.bind(this)});var a=ol.xml.pushParseAndPop([],c,d,b,this);if(a){return a}else {return undefined}};ol.format.KML.prototype.readPlacemark_=function(e,d){var a=ol.xml.pushParseAndPop({'geometry':null},ol.format.KML.PLACEMARK_PARSERS_,e,d);if(!a){return undefined}var b=new ol.Feature();var f=e.getAttribute('id');if(f!==null){b.setId(f)}var i=d[0];var c=a['geometry'];if(c){ol.format.Feature.transformWithOptions(c,!1,i)}b.setGeometry(c);delete a['geometry'];if(this.extractStyles_){var j=a['Style'];var h=a['styleUrl'];var g=ol.format.KML.createFeatureStyleFunction_(j,h,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);b.setStyle(g)}delete a['Style'];b.setProperties(a);return b};ol.format.KML.prototype.readSharedStyle_=function(c,f){var d=c.getAttribute('id');if(d!==null){var e=ol.format.KML.readStyle_(c,f);if(e){var b;var a=c.baseURI;if(!a||a=='about:blank'){a=window.location.href}if(a){var g=new URL('#'+d,a);b=g.href}else {b='#'+d}this.sharedStyles_[b]=e}}};ol.format.KML.prototype.readSharedStyleMap_=function(c,f){var d=c.getAttribute('id');if(d===null){return}var e=ol.format.KML.readStyleMapValue_(c,f);if(!e){return}var b;var a=c.baseURI;if(!a||a=='about:blank'){a=window.location.href}if(a){var g=new URL('#'+d,a);b=g.href}else {b='#'+d}this.sharedStyles_[b]=e};ol.format.KML.prototype.readFeature;ol.format.KML.prototype.readFeatureFromNode=function(a,c){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)){return null}var b=this.readPlacemark_(a,[this.getReadOptions(a,c)]);if(b){return b}else {return null}};ol.format.KML.prototype.readFeatures;ol.format.KML.prototype.readFeaturesFromNode=function(a,e){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)){return []}var b;var d=a.localName;if(d=='Document'||d=='Folder'){b=this.readDocumentOrFolder_(a,[this.getReadOptions(a,e)]);if(b){return b}else {return []}}else {if(d=='Placemark'){var f=this.readPlacemark_(a,[this.getReadOptions(a,e)]);if(f){return [f]}else {return []}}else {if(d=='kml'){b=[];var c;for(c=a.firstElementChild;c;c=c.nextElementSibling){var g=this.readFeaturesFromNode(c,e);if(g){ol.array.extend(b,g)}}return b}else {return []}}}};ol.format.KML.prototype.readName=function(a){if(ol.xml.isDocument(a)){return this.readNameFromDocument(a)}else {if(ol.xml.isNode(a)){return this.readNameFromNode(a)}else {if(typeof a==='string'){var b=ol.xml.parse(a);return this.readNameFromDocument(b)}else {return undefined}}}};ol.format.KML.prototype.readNameFromDocument=function(c){var a;for(a=c.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){var b=this.readNameFromNode(a);if(b){return b}}}return undefined};ol.format.KML.prototype.readNameFromNode=function(d){var a;for(a=d.firstElementChild;a;a=a.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)&&a.localName=='name'){return ol.format.XSD.readString(a)}}for(a=d.firstElementChild;a;a=a.nextElementSibling){var b=a.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)&&(b=='Document'||b=='Folder'||b=='Placemark'||b=='kml')){var c=this.readNameFromNode(a);if(c){return c}}}return undefined};ol.format.KML.prototype.readNetworkLinks=function(a){var b=[];if(ol.xml.isDocument(a)){ol.array.extend(b,this.readNetworkLinksFromDocument(a))}else {if(ol.xml.isNode(a)){ol.array.extend(b,this.readNetworkLinksFromNode(a))}else {if(typeof a==='string'){var c=ol.xml.parse(a);ol.array.extend(b,this.readNetworkLinksFromDocument(c))}}}return b};ol.format.KML.prototype.readNetworkLinksFromDocument=function(c){var a,b=[];for(a=c.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){ol.array.extend(b,this.readNetworkLinksFromNode(a))}}return b};ol.format.KML.prototype.readNetworkLinksFromNode=function(d){var a,b=[];for(a=d.firstElementChild;a;a=a.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)&&a.localName=='NetworkLink'){var e=ol.xml.pushParseAndPop({},ol.format.KML.NETWORK_LINK_PARSERS_,a,[]);b.push(e)}}for(a=d.firstElementChild;a;a=a.nextElementSibling){var c=a.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)&&(c=='Document'||c=='Folder'||c=='kml')){ol.array.extend(b,this.readNetworkLinksFromNode(a))}}return b};ol.format.KML.prototype.readRegion=function(a){var b=[];if(ol.xml.isDocument(a)){ol.array.extend(b,this.readRegionFromDocument(a))}else {if(ol.xml.isNode(a)){ol.array.extend(b,this.readRegionFromNode(a))}else {if(typeof a==='string'){var c=ol.xml.parse(a);ol.array.extend(b,this.readRegionFromDocument(c))}}}return b};ol.format.KML.prototype.readRegionFromDocument=function(c){var a,b=[];for(a=c.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){ol.array.extend(b,this.readRegionFromNode(a))}}return b};ol.format.KML.prototype.readRegionFromNode=function(d){var a,c=[];for(a=d.firstElementChild;a;a=a.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)&&a.localName=='Region'){var e=ol.xml.pushParseAndPop({},ol.format.KML.REGION_PARSERS_,a,[]);c.push(e)}}for(a=d.firstElementChild;a;a=a.nextElementSibling){var b=a.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,a.namespaceURI)&&(b=='Document'||b=='Folder'||b=='kml')){ol.array.extend(c,this.readRegionFromNode(a))}}return c};ol.format.KML.prototype.readProjection;ol.format.KML.writeColorTextNode_=function(g,f){var a=ol.color.asArray(f);var e=a.length==4?a[3]:1;var c=[e*255,a[2],a[1],a[0]];var b;for(b=0;b<4;++b){var d=parseInt(c[b],10).toString(16);c[b]=d.length==1?'0'+d:d}ol.format.XSD.writeStringTextNode(g,c.join(''))};ol.format.KML.writeCoordinatesTextNode_=function(k,b,g){var h=g[g.length-1];var f=h['layout'];var i=h['stride'];var e;if(f==ol.geom.GeometryLayout.XY||f==ol.geom.GeometryLayout.XYM){e=2}else {if(f==ol.geom.GeometryLayout.XYZ||f==ol.geom.GeometryLayout.XYZM){e=3}else {ol.asserts.assert(!1,34)}}var a,d;var j=b.length;var c='';if(j>0){c+=b[0];for(a=1;a<e;++a){c+=','+b[a]}for(d=i;d<j;d+=i){c+=' '+b[d];for(a=1;a<e;++a){c+=','+b[d+a]}}}ol.format.XSD.writeStringTextNode(k,c)};ol.format.KML.writeDataNode_=function(d,e,b){d.setAttribute('name',e.name);var c={node:d};var a=e.value;if(typeof a=='object'){if(a!==null&&a.displayName){ol.xml.pushSerializeAndPop(c,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[a.displayName],b,['displayName'])}if(a!==null&&a.value){ol.xml.pushSerializeAndPop(c,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[a.value],b,['value'])}}else {ol.xml.pushSerializeAndPop(c,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[a],b,['value'])}};ol.format.KML.writeDataNodeName_=function(b,a){ol.format.XSD.writeCDATASection(b,a)};ol.format.KML.writeDataNodeValue_=function(b,a){ol.format.XSD.writeStringTextNode(b,a)};ol.format.KML.writeDocument_=function(d,b,a){var c={node:d};ol.xml.pushSerializeAndPop(c,ol.format.KML.DOCUMENT_SERIALIZERS_,ol.format.KML.DOCUMENT_NODE_FACTORY_,b,a,undefined,this)};ol.format.KML.writeExtendedData_=function(h,b,d){var e={node:h};var c=b.names,g=b.values;var f=c.length;for(var a=0;a<f;a++){ol.xml.pushSerializeAndPop(e,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.format.KML.DATA_NODE_FACTORY_,[{name:c[a],value:g[a]}],d)}};ol.format.KML.writeIcon_=function(g,e,b){var d={node:g};var f=b[b.length-1].node;var a=ol.format.KML.ICON_SEQUENCE_[f.namespaceURI];var c=ol.xml.makeSequence(e,a);ol.xml.pushSerializeAndPop(d,ol.format.KML.ICON_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,c,b,a);a=ol.format.KML.ICON_SEQUENCE_[ol.format.KML.GX_NAMESPACE_URIS_[0]];c=ol.xml.makeSequence(e,a);ol.xml.pushSerializeAndPop(d,ol.format.KML.ICON_SERIALIZERS_,ol.format.KML.GX_NODE_FACTORY_,c,b,a)};ol.format.KML.writeIconStyle_=function(p,b,g){var m={node:p};var d={};var q=b.getSrc();var a=b.getSize();var h=b.getImageSize();var c={'href':q};if(a){c['w']=a[0];c['h']=a[1];var e=b.getAnchor();var f=b.getOrigin();if(f&&h&&f[0]!==0&&f[1]!==a[1]){c['x']=f[0];c['y']=h[1]-(f[1]+a[1])}if(e&&(e[0]!==a[0]/2||e[1]!==a[1]/2)){var n={x:e[0],xunits:ol.style.IconAnchorUnits.PIXELS,y:a[1]-e[1],yunits:ol.style.IconAnchorUnits.PIXELS};d['hotSpot']=n}}d['Icon']=c;var k=b.getScale();if(k!==1){d['scale']=k}var j=b.getRotation();if(j!==0){d['heading']=j}var l=g[g.length-1].node;var i=ol.format.KML.ICON_STYLE_SEQUENCE_[l.namespaceURI];var o=ol.xml.makeSequence(d,i);ol.xml.pushSerializeAndPop(m,ol.format.KML.ICON_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,o,g,i)};ol.format.KML.writeLabelStyle_=function(j,e,a){var h={node:j};var b={};var f=e.getFill();if(f){b['color']=f.getColor()}var c=e.getScale();if(c&&c!==1){b['scale']=c}var g=a[a.length-1].node;var d=ol.format.KML.LABEL_STYLE_SEQUENCE_[g.namespaceURI];var i=ol.xml.makeSequence(b,d);ol.xml.pushSerializeAndPop(h,ol.format.KML.LABEL_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,i,a,d)};ol.format.KML.writeLineStyle_=function(h,c,a){var f={node:h};var e={'color':c.getColor(),'width':c.getWidth()};var d=a[a.length-1].node;var b=ol.format.KML.LINE_STYLE_SEQUENCE_[d.namespaceURI];var g=ol.xml.makeSequence(e,b);ol.xml.pushSerializeAndPop(f,ol.format.KML.LINE_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,g,a,b)};ol.format.KML.writeMultiGeometry_=function(g,b,e){var f={node:g};var d=b.getType();var a;var c;if(d==ol.geom.GeometryType.GEOMETRY_COLLECTION){a=b.getGeometries();c=ol.format.KML.GEOMETRY_NODE_FACTORY_}else {if(d==ol.geom.GeometryType.MULTI_POINT){a=b.getPoints();c=ol.format.KML.POINT_NODE_FACTORY_}else {if(d==ol.geom.GeometryType.MULTI_LINE_STRING){a=b.getLineStrings();c=ol.format.KML.LINE_STRING_NODE_FACTORY_}else {if(d==ol.geom.GeometryType.MULTI_POLYGON){a=b.getPolygons();c=ol.format.KML.POLYGON_NODE_FACTORY_}else {ol.asserts.assert(!1,39)}}}}ol.xml.pushSerializeAndPop(f,ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_,c,a,e)};ol.format.KML.writeBoundaryIs_=function(d,b,a){var c={node:d};ol.xml.pushSerializeAndPop(c,ol.format.KML.BOUNDARY_IS_SERIALIZERS_,ol.format.KML.LINEAR_RING_NODE_FACTORY_,[b],a)};ol.format.KML.writePlacemark_=function(m,a,b){var f={node:m};if(a.getId()){m.setAttribute('id',a.getId())}var c=a.getProperties();var k={'address':1,'description':1,'name':1,'open':1,'phoneNumber':1,'styleUrl':1,'visibility':1};k[a.getGeometryName()]=1;var g=Object.keys(c||{}).sort().filter(function(c){return !k[c]});if(g.length>0){var p=ol.xml.makeSequence(c,g);var n={names:g,values:p};ol.xml.pushSerializeAndPop(f,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.EXTENDEDDATA_NODE_FACTORY_,[n],b)}var h=a.getStyleFunction();if(h){var e=h.call(a,0);if(e){var l=Array.isArray(e)?e[0]:e;if(this.writeStyles_){c['Style']=l}var j=l.getText();if(j){c['name']=j.getText()}}}var o=b[b.length-1].node;var i=ol.format.KML.PLACEMARK_SEQUENCE_[o.namespaceURI];var r=ol.xml.makeSequence(c,i);ol.xml.pushSerializeAndPop(f,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,r,b,i);var q=b[0];var d=a.getGeometry();if(d){d=ol.format.Feature.transformWithOptions(d,!0,q)}ol.xml.pushSerializeAndPop(f,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.GEOMETRY_NODE_FACTORY_,[d],b)};ol.format.KML.writePrimitiveGeometry_=function(i,a,b){var f=a.getFlatCoordinates();var c={node:i};c['layout']=a.getLayout();c['stride']=a.getStride();var e=a.getProperties();e.coordinates=f;var g=b[b.length-1].node;var d=ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_[g.namespaceURI];var h=ol.xml.makeSequence(e,d);ol.xml.pushSerializeAndPop(c,ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,h,b,d)};ol.format.KML.writePolygon_=function(f,e,b){var a=e.getLinearRings();var d=a.shift();var c={node:f};ol.xml.pushSerializeAndPop(c,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_,a,b);ol.xml.pushSerializeAndPop(c,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_,[d],b)};ol.format.KML.writePolyStyle_=function(d,c,a){var b={node:d};ol.xml.pushSerializeAndPop(b,ol.format.KML.POLY_STYLE_SERIALIZERS_,ol.format.KML.COLOR_NODE_FACTORY_,[c.getColor()],a)};ol.format.KML.writeScaleTextNode_=function(b,a){ol.format.XSD.writeDecimalTextNode(b,Math.round(a*1000000)/1000000)};ol.format.KML.writeStyle_=function(l,b,c){var j={node:l};var a={};var g=b.getFill();var e=b.getStroke();var f=b.getImage();var h=b.getText();if(f instanceof ol.style.Icon){a['IconStyle']=f}if(h){a['LabelStyle']=h}if(e){a['LineStyle']=e}if(g){a['PolyStyle']=g}var i=c[c.length-1].node;var d=ol.format.KML.STYLE_SEQUENCE_[i.namespaceURI];var k=ol.xml.makeSequence(a,d);ol.xml.pushSerializeAndPop(j,ol.format.KML.STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,k,c,d)};ol.format.KML.writeVec2_=function(a,b){a.setAttribute('x',b.x);a.setAttribute('y',b.y);a.setAttribute('xunits',b.xunits);a.setAttribute('yunits',b.yunits)};ol.format.KML.KML_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,['Document','Placemark']);ol.format.KML.KML_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'Document':ol.xml.makeChildAppender(ol.format.KML.writeDocument_),'Placemark':ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.DOCUMENT_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'Placemark':ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'Data':ol.xml.makeChildAppender(ol.format.KML.writeDataNode_),'value':ol.xml.makeChildAppender(ol.format.KML.writeDataNodeValue_),'displayName':ol.xml.makeChildAppender(ol.format.KML.writeDataNodeName_)});ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_={'Point':'Point','LineString':'LineString','LinearRing':'LinearRing','Polygon':'Polygon','MultiPoint':'MultiGeometry','MultiLineString':'MultiGeometry','MultiPolygon':'MultiGeometry','GeometryCollection':'MultiGeometry'};ol.format.KML.ICON_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,['href'],ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,['x','y','w','h']));ol.format.KML.ICON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'href':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{'x':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'y':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'w':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'h':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)}));ol.format.KML.ICON_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,['scale','heading','Icon','hotSpot']);ol.format.KML.ICON_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'Icon':ol.xml.makeChildAppender(ol.format.KML.writeIcon_),'heading':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),'hotSpot':ol.xml.makeChildAppender(ol.format.KML.writeVec2_),'scale':ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LABEL_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,['color','scale']);ol.format.KML.LABEL_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'color':ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),'scale':ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LINE_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,['color','width']);ol.format.KML.LINE_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'color':ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),'width':ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)});ol.format.KML.BOUNDARY_IS_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'LinearRing':ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_)});ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'LineString':ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),'Point':ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),'Polygon':ol.xml.makeChildAppender(ol.format.KML.writePolygon_),'GeometryCollection':ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_)});ol.format.KML.PLACEMARK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,['name','open','visibility','address','phoneNumber','description','styleUrl','Style']);ol.format.KML.PLACEMARK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'ExtendedData':ol.xml.makeChildAppender(ol.format.KML.writeExtendedData_),'MultiGeometry':ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_),'LineString':ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),'LinearRing':ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),'Point':ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),'Polygon':ol.xml.makeChildAppender(ol.format.KML.writePolygon_),'Style':ol.xml.makeChildAppender(ol.format.KML.writeStyle_),'address':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'description':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'name':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'open':ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),'phoneNumber':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'styleUrl':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'visibility':ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode)});ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,['extrude','tessellate','altitudeMode','coordinates']);ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'extrude':ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),'tessellate':ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),'altitudeMode':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),'coordinates':ol.xml.makeChildAppender(ol.format.KML.writeCoordinatesTextNode_)});ol.format.KML.POLYGON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'outerBoundaryIs':ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_),'innerBoundaryIs':ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_)});ol.format.KML.POLY_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'color':ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_)});ol.format.KML.STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,['IconStyle','LabelStyle','LineStyle','PolyStyle']);ol.format.KML.STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{'IconStyle':ol.xml.makeChildAppender(ol.format.KML.writeIconStyle_),'LabelStyle':ol.xml.makeChildAppender(ol.format.KML.writeLabelStyle_),'LineStyle':ol.xml.makeChildAppender(ol.format.KML.writeLineStyle_),'PolyStyle':ol.xml.makeChildAppender(ol.format.KML.writePolyStyle_)});ol.format.KML.GX_NODE_FACTORY_=function(c,b,a){return ol.xml.createElementNS(ol.format.KML.GX_NAMESPACE_URIS_[0],'gx:'+a)};ol.format.KML.DOCUMENT_NODE_FACTORY_=function(d,a,c){var b=a[a.length-1].node;return ol.xml.createElementNS(b.namespaceURI,'Placemark')};ol.format.KML.GEOMETRY_NODE_FACTORY_=function(b,a,d){if(b){var c=a[a.length-1].node;return ol.xml.createElementNS(c.namespaceURI,ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_[b.getType()])}};ol.format.KML.COLOR_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('color');ol.format.KML.DATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('Data');ol.format.KML.EXTENDEDDATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('ExtendedData');ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('innerBoundaryIs');ol.format.KML.POINT_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('Point');ol.format.KML.LINE_STRING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('LineString');ol.format.KML.LINEAR_RING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('LinearRing');ol.format.KML.POLYGON_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('Polygon');ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory('outerBoundaryIs');ol.format.KML.prototype.writeFeatures;ol.format.KML.prototype.writeFeaturesNode=function(b,c){c=this.adaptOptions(c);var a=ol.xml.createElementNS(ol.format.KML.NAMESPACE_URIS_[4],'kml');var g='http://www.w3.org/2000/xmlns/';var e='http://www.w3.org/2001/XMLSchema-instance';ol.xml.setAttributeNS(a,g,'xmlns:gx',ol.format.KML.GX_NAMESPACE_URIS_[0]);ol.xml.setAttributeNS(a,g,'xmlns:xsi',e);ol.xml.setAttributeNS(a,e,'xsi:schemaLocation',ol.format.KML.SCHEMA_LOCATION_);var h={node:a};var d={};if(b.length>1){d['Document']=b}else {if(b.length==1){d['Placemark']=b[0]}}var f=ol.format.KML.KML_SEQUENCE_[a.namespaceURI];var i=ol.xml.makeSequence(d,f);ol.xml.pushSerializeAndPop(h,ol.format.KML.KML_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,i,[c],f,this);return a};goog.provide('ol.ext.PBF');ol.ext.PBF=function(){};(function(){(function(d){var f=function(h,i,o,f,k){var a,c;var m=k*8-f-1;var n=(1<<m)-1;var l=n>>1;var b=-7;var e=o?k-1:0;var j=o?-1:1;var g=h[i+e];e+=j;a=g&(1<<-b)-1;g>>=-b;b+=m;for(;b>0;a=a*256+h[i+e],e+=j,b-=8){}c=a&(1<<-b)-1;a>>=-b;b+=f;for(;b>0;c=c*256+h[i+e],e+=j,b-=8){}if(a===0){a=1-l}else {if(a===n){return c?NaN:(g?-1:1)*Infinity}else {c=c+Math.pow(2,f);a=a-l}}return (g?-1:1)*c*Math.pow(2,a-f)};var e=function(k,b,l,o,c,n){var a,e,g;var i=n*8-c-1;var j=(1<<i)-1;var f=j>>1;var p=c===23?Math.pow(2,-24)-Math.pow(2,-77):0;var h=o?0:n-1;var m=o?1:-1;var q=b<0||b===0&&1/b<0?1:0;b=Math.abs(b);if(isNaN(b)||b===Infinity){e=isNaN(b)?1:0;a=j}else {a=Math.floor(Math.log(b)/Math.LN2);if(b*(g=Math.pow(2,-a))<1){a--;g*=2}if(a+f>=1){b+=p/g}else {b+=p*Math.pow(2,1-f)}if(b*g>=2){a++;g/=2}if(a+f>=j){e=0;a=j}else {if(a+f>=1){e=(b*g-1)*Math.pow(2,c);a=a+f}else {e=b*Math.pow(2,f-1)*Math.pow(2,c);a=0}}}for(;c>=8;k[l+h]=e&255,h+=m,e/=256,c-=8){}a=a<<c|e;i+=c;for(;i>0;k[l+h]=a&255,h+=m,a/=256,i-=8){}k[l+h-m]|=q*128};var a={read:f,write:e};var g=Pbf;function Pbf(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0);this.pos=0;this.type=0;this.length=this.buf.length}Pbf.Varint=0;Pbf.Fixed64=1;Pbf.Bytes=2;Pbf.Fixed32=5;var b=(1<<16)*(1<<16);var c=1/b;Pbf.prototype={destroy:function(){this.buf=null},readFields:function(e,c,a){a=a||this.length;while(this.pos<a){var b=this.readVarint(),g=b>>3,f=this.pos;this.type=b&7;e(g,c,this);if(this.pos===f){this.skip(b)}}return c},readMessage:function(a,b){return this.readFields(a,b,this.readVarint()+this.pos)},readFixed32:function(){var a=readUInt32(this.buf,this.pos);this.pos+=4;return a},readSFixed32:function(){var a=readInt32(this.buf,this.pos);this.pos+=4;return a},readFixed64:function(){var a=readUInt32(this.buf,this.pos)+readUInt32(this.buf,this.pos+4)*b;this.pos+=8;return a},readSFixed64:function(){var a=readUInt32(this.buf,this.pos)+readInt32(this.buf,this.pos+4)*b;this.pos+=8;return a},readFloat:function(){var b=a.read(this.buf,this.pos,!0,23,4);this.pos+=4;return b},readDouble:function(){var b=a.read(this.buf,this.pos,!0,52,8);this.pos+=8;return b},readVarint:function(e){var c=this.buf,b,a;a=c[this.pos++];b=a&127;if(a<128){return b}a=c[this.pos++];b|=(a&127)<<7;if(a<128){return b}a=c[this.pos++];b|=(a&127)<<14;if(a<128){return b}a=c[this.pos++];b|=(a&127)<<21;if(a<128){return b}a=c[this.pos];b|=(a&15)<<28;return readVarintRemainder(b,e,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2===1?(a+1)/-2:a/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var a=this.readVarint()+this.pos,b=readUtf8(this.buf,this.pos,a);this.pos=a;return b},readBytes:function(){var a=this.readVarint()+this.pos,b=this.buf.subarray(this.pos,a);this.pos=a;return b},readPackedVarint:function(a,b){var c=readPackedEnd(this);a=a||[];while(this.pos<c){a.push(this.readVarint(b))}return a},readPackedSVarint:function(a){var b=readPackedEnd(this);a=a||[];while(this.pos<b){a.push(this.readSVarint())}return a},readPackedBoolean:function(a){var b=readPackedEnd(this);a=a||[];while(this.pos<b){a.push(this.readBoolean())}return a},readPackedFloat:function(a){var b=readPackedEnd(this);a=a||[];while(this.pos<b){a.push(this.readFloat())}return a},readPackedDouble:function(a){var b=readPackedEnd(this);a=a||[];while(this.pos<b){a.push(this.readDouble())}return a},readPackedFixed32:function(a){var b=readPackedEnd(this);a=a||[];while(this.pos<b){a.push(this.readFixed32())}return a},readPackedSFixed32:function(a){var b=readPackedEnd(this);a=a||[];while(this.pos<b){a.push(this.readSFixed32())}return a},readPackedFixed64:function(a){var b=readPackedEnd(this);a=a||[];while(this.pos<b){a.push(this.readFixed64())}return a},readPackedSFixed64:function(a){var b=readPackedEnd(this);a=a||[];while(this.pos<b){a.push(this.readSFixed64())}return a},skip:function(b){var a=b&7;if(a===Pbf.Varint){while(this.buf[this.pos++]>127){}}else {if(a===Pbf.Bytes){this.pos=this.readVarint()+this.pos}else {if(a===Pbf.Fixed32){this.pos+=4}else {if(a===Pbf.Fixed64){this.pos+=8}else {throw new Error('Unimplemented type: '+a)}}}}},writeTag:function(b,a){this.writeVarint(b<<3|a)},realloc:function(c){var a=this.length||16;while(a<this.pos+c){a*=2}if(a!==this.length){var b=new Uint8Array(a);b.set(this.buf);this.buf=b;this.length=a}},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4);writeInt32(this.buf,a,this.pos);this.pos+=4},writeSFixed32:function(a){this.realloc(4);writeInt32(this.buf,a,this.pos);this.pos+=4},writeFixed64:function(a){this.realloc(8);writeInt32(this.buf,a&-1,this.pos);writeInt32(this.buf,Math.floor(a*c),this.pos+4);this.pos+=8},writeSFixed64:function(a){this.realloc(8);writeInt32(this.buf,a&-1,this.pos);writeInt32(this.buf,Math.floor(a*c),this.pos+4);this.pos+=8},writeVarint:function(a){a=+a||0;if(a>268435455||a<0){writeBigVarint(a,this);return}this.realloc(4);this.buf[this.pos++]=a&127|(a>127?128:0);if(a<=127){return}this.buf[this.pos++]=(a>>>=7)&127|(a>127?128:0);if(a<=127){return}this.buf[this.pos++]=(a>>>=7)&127|(a>127?128:0);if(a<=127){return}this.buf[this.pos++]=a>>>7&127},writeSVarint:function(a){this.writeVarint(a<0?-a*2-1:a*2)},writeBoolean:function(a){this.writeVarint(Boolean(a))},writeString:function(b){b=String(b);this.realloc(b.length*4);this.pos++;var c=this.pos;this.pos=writeUtf8(this.buf,b,this.pos);var a=this.pos-c;if(a>=128){makeRoomForExtraLength(c,a,this)}this.pos=c-1;this.writeVarint(a);this.pos+=a},writeFloat:function(b){this.realloc(4);a.write(this.buf,b,this.pos,!0,23,4);this.pos+=4},writeDouble:function(b){this.realloc(8);a.write(this.buf,b,this.pos,!0,52,8);this.pos+=8},writeBytes:function(c){var a=c.length;this.writeVarint(a);this.realloc(a);for(var b=0;b<a;b++){this.buf[this.pos++]=c[b]}},writeRawMessage:function(e,c){this.pos++;var b=this.pos;e(c,this);var a=this.pos-b;if(a>=128){makeRoomForExtraLength(b,a,this)}this.pos=b-1;this.writeVarint(a);this.pos+=a},writeMessage:function(b,c,a){this.writeTag(b,Pbf.Bytes);this.writeRawMessage(c,a)},writePackedVarint:function(b,a){this.writeMessage(b,writePackedVarint,a)},writePackedSVarint:function(b,a){this.writeMessage(b,writePackedSVarint,a)},writePackedBoolean:function(b,a){this.writeMessage(b,writePackedBoolean,a)},writePackedFloat:function(b,a){this.writeMessage(b,writePackedFloat,a)},writePackedDouble:function(b,a){this.writeMessage(b,writePackedDouble,a)},writePackedFixed32:function(b,a){this.writeMessage(b,writePackedFixed32,a)},writePackedSFixed32:function(b,a){this.writeMessage(b,writePackedSFixed32,a)},writePackedFixed64:function(b,a){this.writeMessage(b,writePackedFixed64,a)},writePackedSFixed64:function(b,a){this.writeMessage(b,writePackedSFixed64,a)},writeBytesField:function(b,a){this.writeTag(b,Pbf.Bytes);this.writeBytes(a)},writeFixed32Field:function(a,b){this.writeTag(a,Pbf.Fixed32);this.writeFixed32(b)},writeSFixed32Field:function(a,b){this.writeTag(a,Pbf.Fixed32);this.writeSFixed32(b)},writeFixed64Field:function(a,b){this.writeTag(a,Pbf.Fixed64);this.writeFixed64(b)},writeSFixed64Field:function(a,b){this.writeTag(a,Pbf.Fixed64);this.writeSFixed64(b)},writeVarintField:function(a,b){this.writeTag(a,Pbf.Varint);this.writeVarint(b)},writeSVarintField:function(a,b){this.writeTag(a,Pbf.Varint);this.writeSVarint(b)},writeStringField:function(b,a){this.writeTag(b,Pbf.Bytes);this.writeString(a)},writeFloatField:function(a,b){this.writeTag(a,Pbf.Fixed32);this.writeFloat(b)},writeDoubleField:function(a,b){this.writeTag(a,Pbf.Fixed64);this.writeDouble(b)},writeBooleanField:function(a,b){this.writeVarintField(a,Boolean(b))}};function readVarintRemainder(f,g,c){var e=c.buf,b,a;a=e[c.pos++];b=(a&112)>>4;if(a<128){return toNum(f,b,g)}a=e[c.pos++];b|=(a&127)<<3;if(a<128){return toNum(f,b,g)}a=e[c.pos++];b|=(a&127)<<10;if(a<128){return toNum(f,b,g)}a=e[c.pos++];b|=(a&127)<<17;if(a<128){return toNum(f,b,g)}a=e[c.pos++];b|=(a&127)<<24;if(a<128){return toNum(f,b,g)}a=e[c.pos++];b|=(a&1)<<31;if(a<128){return toNum(f,b,g)}throw new Error('Expected varint not more than 10 bytes')}function readPackedEnd(a){return a.type===Pbf.Bytes?a.readVarint()+a.pos:a.pos+1}function toNum(b,a,c){if(c){return a*4.294967296E9+(b>>>0)}return (a>>>0)*4.294967296E9+(b>>>0)}function writeBigVarint(b,e){var a,c;if(b>=0){a=b%4.294967296E9|0;c=b/4.294967296E9|0}else {a=~(-b%4.294967296E9);c=~(-b/4.294967296E9);if(a^4.294967295E9){a=a+1|0}else {a=0;c=c+1|0}}if(b>=1.8446744073709552E19||b<-1.8446744073709552E19){throw new Error("Given varint doesn't fit into 10 bytes")}e.realloc(10);writeBigVarintLow(a,c,e);writeBigVarintHigh(c,e)}function writeBigVarintLow(b,c,a){a.buf[a.pos++]=b&127|128;b>>>=7;a.buf[a.pos++]=b&127|128;b>>>=7;a.buf[a.pos++]=b&127|128;b>>>=7;a.buf[a.pos++]=b&127|128;b>>>=7;a.buf[a.pos]=b&127}function writeBigVarintHigh(a,b){var c=(a&7)<<4;b.buf[b.pos++]|=c|((a>>>=3)?128:0);if(!a){return}b.buf[b.pos++]=a&127|((a>>>=7)?128:0);if(!a){return}b.buf[b.pos++]=a&127|((a>>>=7)?128:0);if(!a){return}b.buf[b.pos++]=a&127|((a>>>=7)?128:0);if(!a){return}b.buf[b.pos++]=a&127|((a>>>=7)?128:0);if(!a){return}b.buf[b.pos++]=a&127}function makeRoomForExtraLength(f,a,b){var e=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.ceil(Math.log(a)/(Math.LN2*7));b.realloc(e);for(var c=b.pos-1;c>=f;c--){b.buf[c+e]=b.buf[c]}}function writePackedVarint(b,c){for(var a=0;a<b.length;a++){c.writeVarint(b[a])}}function writePackedSVarint(b,c){for(var a=0;a<b.length;a++){c.writeSVarint(b[a])}}function writePackedFloat(b,c){for(var a=0;a<b.length;a++){c.writeFloat(b[a])}}function writePackedDouble(b,c){for(var a=0;a<b.length;a++){c.writeDouble(b[a])}}function writePackedBoolean(b,c){for(var a=0;a<b.length;a++){c.writeBoolean(b[a])}}function writePackedFixed32(b,c){for(var a=0;a<b.length;a++){c.writeFixed32(b[a])}}function writePackedSFixed32(b,c){for(var a=0;a<b.length;a++){c.writeSFixed32(b[a])}}function writePackedFixed64(b,c){for(var a=0;a<b.length;a++){c.writeFixed64(b[a])}}function writePackedSFixed64(b,c){for(var a=0;a<b.length;a++){c.writeSFixed64(b[a])}}function readUInt32(a,b){return (a[b]|a[b+1]<<8|a[b+2]<<16)+a[b+3]*16777216}function writeInt32(a,c,b){a[b]=c;a[b+1]=c>>>8;a[b+2]=c>>>16;a[b+3]=c>>>24}function readInt32(a,b){return (a[b]|a[b+1]<<8|a[b+2]<<16)+(a[b+3]<<24)}function readUtf8(g,l,k){var i='';var b=l;while(b<k){var e=g[b];var a=null;var f=e>239?4:e>223?3:e>191?2:1;if(b+f>k){break}var c,h,j;if(f===1){if(e<128){a=e}}else {if(f===2){c=g[b+1];if((c&192)===128){a=(e&31)<<6|c&63;if(a<=127){a=null}}}else {if(f===3){c=g[b+1];h=g[b+2];if((c&192)===128&&(h&192)===128){a=(e&15)<<12|(c&63)<<6|h&63;if(a<=2047||a>=55296&&a<=57343){a=null}}}else {if(f===4){c=g[b+1];h=g[b+2];j=g[b+3];if((c&192)===128&&(h&192)===128&&(j&192)===128){a=(e&15)<<18|(c&63)<<12|(h&63)<<6|j&63;if(a<=65535||a>=1114112){a=null}}}}}}if(a===null){a=65533;f=1}else {if(a>65535){a-=65536;i+=String.fromCharCode(a>>>10&1023|55296);a=56320|a&1023}}i+=String.fromCharCode(a);b+=f}return i}function writeUtf8(c,g,b){for(var f=0,a,e;f<g.length;f++){a=g.charCodeAt(f);if(a>55295&&a<57344){if(e){if(a<56320){c[b++]=239;c[b++]=191;c[b++]=189;e=a;continue}else {a=e-55296<<10|a-56320|65536;e=null}}else {if(a>56319||f+1===g.length){c[b++]=239;c[b++]=191;c[b++]=189}else {e=a}continue}}else {if(e){c[b++]=239;c[b++]=191;c[b++]=189;e=null}}if(a<128){c[b++]=a}else {if(a<2048){c[b++]=a>>6|192}else {if(a<65536){c[b++]=a>>12|224}else {c[b++]=a>>18|240;c[b++]=a>>12&63|128}c[b++]=a>>6&63|128}c[b++]=a&63|128}}return b}d['default']=g})(this.PBF=this.PBF||{})}).call(ol.ext);ol.ext.PBF=ol.ext.PBF['default'];goog.provide('ol.render.Feature');goog.require('ol');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.geom.GeometryType');goog.require('ol.geom.flat.center');goog.require('ol.geom.flat.interiorpoint');goog.require('ol.geom.flat.interpolate');goog.require('ol.geom.flat.transform');goog.require('ol.transform');ol.render.Feature=function(d,a,c,b,e){this.extent_;this.id_=e;this.type_=d;this.flatCoordinates_=a;this.flatInteriorPoints_=null;this.flatMidpoints_=null;this.ends_=c;this.properties_=b;this.tmpTransform_=ol.transform.create()};ol.render.Feature.prototype.get=function(a){return this.properties_[a]};ol.render.Feature.prototype.getEnds=ol.render.Feature.prototype.getEndss=function(){return this.ends_};ol.render.Feature.prototype.getExtent=function(){if(!this.extent_){this.extent_=this.type_===ol.geom.GeometryType.POINT?ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates_):ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates_,0,this.flatCoordinates_.length,2)}return this.extent_};ol.render.Feature.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var a=ol.extent.getCenter(this.getExtent());this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRings(this.flatCoordinates_,0,this.ends_,2,a,0)}return this.flatInteriorPoints_};ol.render.Feature.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var a=ol.geom.flat.center.linearRingss(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.flatCoordinates_,0,this.ends_,2,a)}return this.flatInteriorPoints_};ol.render.Feature.prototype.getFlatMidpoint=function(){if(!this.flatMidpoints_){this.flatMidpoints_=ol.geom.flat.interpolate.lineString(this.flatCoordinates_,0,this.flatCoordinates_.length,2,0.5)}return this.flatMidpoints_};ol.render.Feature.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];var e=this.flatCoordinates_;var b=0;var c=this.ends_;for(var a=0,g=c.length;a<g;++a){var d=c[a];var f=ol.geom.flat.interpolate.lineString(e,b,d,2,0.5);ol.array.extend(this.flatMidpoints_,f);b=d}}return this.flatMidpoints_};ol.render.Feature.prototype.getId=function(){return this.id_};ol.render.Feature.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};ol.render.Feature.prototype.getFlatCoordinates=ol.render.Feature.prototype.getOrientedFlatCoordinates;ol.render.Feature.prototype.getGeometry=function(){return this};ol.render.Feature.prototype.getProperties=function(){return this.properties_};ol.render.Feature.prototype.getSimplifiedGeometry=ol.render.Feature.prototype.getGeometry;ol.render.Feature.prototype.getStride=function(){return 2};ol.render.Feature.prototype.getStyleFunction=ol.nullFunction;ol.render.Feature.prototype.getType=function(){return this.type_};ol.render.Feature.prototype.transform=function(c,f){var e=c.getExtent();var a=c.getWorldExtent();var d=ol.extent.getHeight(a)/ol.extent.getHeight(e);var b=this.tmpTransform_;ol.transform.compose(b,a[0],a[3],d,-d,0,0,0);ol.geom.flat.transform.transform2D(this.flatCoordinates_,0,this.flatCoordinates_.length,2,b,this.flatCoordinates_)};goog.provide('ol.format.MVT');goog.require('ol');goog.require('ol.asserts');goog.require('ol.ext.PBF');goog.require('ol.format.Feature');goog.require('ol.format.FormatType');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.LineString');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.geom.flat.orient');goog.require('ol.proj.Projection');goog.require('ol.proj.Units');goog.require('ol.render.Feature');ol.format.MVT=function(b){ol.format.Feature.call(this);var a=b?b:{};this.defaultDataProjection=new ol.proj.Projection({code:'EPSG:3857',units:ol.proj.Units.TILE_PIXELS});this.featureClass_=a.featureClass?a.featureClass:ol.render.Feature;this.geometryName_=a.geometryName;this.layerName_=a.layerName?a.layerName:'layer';this.layers_=a.layers?a.layers:null;this.extent_=null};ol.inherits(ol.format.MVT,ol.format.Feature);ol.format.MVT.pbfReaders_={layers:function(e,c,b){if(e===3){var a={keys:[],values:[],features:[]};var d=b.readVarint()+b.pos;b.readFields(ol.format.MVT.pbfReaders_.layer,a,d);a.length=a.features.length;if(a.length){c[a.name]=a}}},layer:function(b,c,a){if(b===15){c.version=a.readVarint()}else {if(b===1){c.name=a.readString()}else {if(b===5){c.extent=a.readVarint()}else {if(b===2){c.features.push(a.pos)}else {if(b===3){c.keys.push(a.readString())}else {if(b===4){var d=null;var e=a.readVarint()+a.pos;while(a.pos<e){b=a.readVarint()>>3;d=b===1?a.readString():b===2?a.readFloat():b===3?a.readDouble():b===4?a.readVarint64():b===5?a.readVarint():b===6?a.readSVarint():b===7?a.readBoolean():null}c.values.push(d)}}}}}}},feature:function(c,b,a){if(c==1){b.id=a.readVarint()}else {if(c==2){var e=a.readVarint()+a.pos;while(a.pos<e){var f=b.layer.keys[a.readVarint()];var d=b.layer.values[a.readVarint()];b.properties[f]=d}}else {if(c==3){b.type=a.readVarint()}else {if(c==4){b.geometry=a.pos}}}}}};ol.format.MVT.readRawFeature_=function(a,c,e){a.pos=c.features[e];var d=a.readVarint()+a.pos;var b={layer:c,type:0,properties:{}};a.readFields(ol.format.MVT.pbfReaders_.feature,b,d);return b};ol.format.MVT.readRawGeometry_=function(c,k,e,h){c.pos=k.geometry;var l=c.readVarint()+c.pos;var d=1;var f=0;var i=0;var j=0;var a=0;var b=0;while(c.pos<l){if(!f){var g=c.readVarint();d=g&7;f=g>>3}f--;if(d===1||d===2){i+=c.readSVarint();j+=c.readSVarint();if(d===1){if(a>b){h.push(a);b=a}}e.push(i,j);a+=2}else {if(d===7){if(a>b){e.push(e[b],e[b+1]);a+=2}}else {ol.asserts.assert(!1,59)}}}if(a>b){h.push(a);b=a}};ol.format.MVT.getGeometryType_=function(b,c){var a;if(b===1){a=c===1?ol.geom.GeometryType.POINT:ol.geom.GeometryType.MULTI_POINT}else {if(b===2){a=c===1?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING}else {if(b===3){a=ol.geom.GeometryType.POLYGON}}}return a};ol.format.MVT.prototype.createFeature_=function(q,d,o){var l=d.type;if(l===0){return null}var c;var n=d.id;var h=d.properties;h[this.layerName_]=d.layer.name;var g=[];var a=[];ol.format.MVT.readRawGeometry_(q,d,g,a);var b=ol.format.MVT.getGeometryType_(l,a.length);if(this.featureClass_===ol.render.Feature){c=new this.featureClass_(b,g,a,h,n)}else {var e;if(b==ol.geom.GeometryType.POLYGON){var i=[];var k=0;var j=0;for(var f=0,r=a.length;f<r;++f){var m=a[f];if(!ol.geom.flat.orient.linearRingIsClockwise(g,k,m,2)){i.push(a.slice(j,f));j=f}k=m}if(i.length>1){a=i;e=new ol.geom.MultiPolygon(null)}else {e=new ol.geom.Polygon(null)}}else {e=b===ol.geom.GeometryType.POINT?new ol.geom.Point(null):b===ol.geom.GeometryType.LINE_STRING?new ol.geom.LineString(null):b===ol.geom.GeometryType.POLYGON?new ol.geom.Polygon(null):b===ol.geom.GeometryType.MULTI_POINT?new ol.geom.MultiPoint(null):b===ol.geom.GeometryType.MULTI_LINE_STRING?new ol.geom.MultiLineString(null):null}e.setFlatCoordinates(ol.geom.GeometryLayout.XY,g,a);c=new this.featureClass_();if(this.geometryName_){c.setGeometryName(this.geometryName_)}var p=ol.format.Feature.transformWithOptions(e,!1,this.adaptOptions(o));c.setGeometry(p);c.setId(n);c.setProperties(h)}return c};ol.format.MVT.prototype.getLastExtent=function(){return this.extent_};ol.format.MVT.prototype.getType=function(){return ol.format.FormatType.ARRAY_BUFFER};ol.format.MVT.prototype.readFeatures=function(i,k){var g=this.layers_;var b=new ol.ext.PBF(i);var e=b.readFields(ol.format.MVT.pbfReaders_.layers,{});var f=[];var a;for(var h in e){if(g&&g.indexOf(h)==-1){continue}a=e[h];var d;for(var c=0,j=a.length;c<j;++c){d=ol.format.MVT.readRawFeature_(b,a,c);f.push(this.createFeature_(b,d))}this.extent_=a?[0,0,a.extent,a.extent]:null}return f};ol.format.MVT.prototype.readProjection=function(a){return this.defaultDataProjection};ol.format.MVT.prototype.setLayers=function(a){this.layers_=a};ol.format.MVT.prototype.readFeature=function(){};ol.format.MVT.prototype.readGeometry=function(){};ol.format.MVT.prototype.writeFeature=function(){};ol.format.MVT.prototype.writeGeometry=function(){};ol.format.MVT.prototype.writeFeatures=function(){};goog.provide('ol.format.OSMXML');goog.require('ol');goog.require('ol.array');goog.require('ol.Feature');goog.require('ol.format.Feature');goog.require('ol.format.XMLFeature');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.LineString');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.obj');goog.require('ol.proj');goog.require('ol.xml');ol.format.OSMXML=function(){ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get('EPSG:4326')};ol.inherits(ol.format.OSMXML,ol.format.XMLFeature);ol.format.OSMXML.readNode_=function(b,a){var i=a[0];var g=a[a.length-1];var h=b.getAttribute('id');var d=[parseFloat(b.getAttribute('lon')),parseFloat(b.getAttribute('lat'))];g.nodes[h]=d;var f=ol.xml.pushParseAndPop({tags:{}},ol.format.OSMXML.NODE_PARSERS_,b,a);if(!ol.obj.isEmpty(f.tags)){var e=new ol.geom.Point(d);ol.format.Feature.transformWithOptions(e,!1,i);var c=new ol.Feature(e);c.setId(h);c.setProperties(f.tags);g.features.push(c)}};ol.format.OSMXML.readWay_=function(b,a){var e=b.getAttribute('id');var c=ol.xml.pushParseAndPop({id:e,ndrefs:[],tags:{}},ol.format.OSMXML.WAY_PARSERS_,b,a);var d=a[a.length-1];d.ways.push(c)};ol.format.OSMXML.readNd_=function(c,a){var b=a[a.length-1];b.ndrefs.push(c.getAttribute('ref'))};ol.format.OSMXML.readTag_=function(b,a){var c=a[a.length-1];c.tags[b.getAttribute('k')]=b.getAttribute('v')};ol.format.OSMXML.NAMESPACE_URIS_=[null];ol.format.OSMXML.WAY_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{'nd':ol.format.OSMXML.readNd_,'tag':ol.format.OSMXML.readTag_});ol.format.OSMXML.PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{'node':ol.format.OSMXML.readNode_,'way':ol.format.OSMXML.readWay_});ol.format.OSMXML.NODE_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{'tag':ol.format.OSMXML.readTag_});ol.format.OSMXML.prototype.readFeatures;ol.format.OSMXML.prototype.readFeaturesFromNode=function(f,j){var i=this.getReadOptions(f,j);if(f.localName=='osm'){var c=ol.xml.pushParseAndPop({nodes:{},ways:[],features:[]},ol.format.OSMXML.PARSERS_,f,[i]);for(var h=0;h<c.ways.length;h++){var a=c.ways[h];var d=[];for(var g=0,l=a.ndrefs.length;g<l;g++){var k=c.nodes[a.ndrefs[g]];ol.array.extend(d,k)}var b;if(a.ndrefs[0]==a.ndrefs[a.ndrefs.length-1]){b=new ol.geom.Polygon(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XY,d,[d.length])}else {b=new ol.geom.LineString(null);b.setFlatCoordinates(ol.geom.GeometryLayout.XY,d)}ol.format.Feature.transformWithOptions(b,!1,i);var e=new ol.Feature(b);e.setId(a.id);e.setProperties(a.tags);c.features.push(e)}if(c.features){return c.features}}return []};ol.format.OSMXML.prototype.readProjection;ol.format.OSMXML.prototype.writeFeatureNode=function(b,a){};ol.format.OSMXML.prototype.writeFeaturesNode=function(b,a){};ol.format.OSMXML.prototype.writeGeometryNode=function(b,a){};goog.provide('ol.format.XLink');ol.format.XLink.NAMESPACE_URI='http://www.w3.org/1999/xlink';ol.format.XLink.readHref=function(a){return a.getAttributeNS(ol.format.XLink.NAMESPACE_URI,'href')};goog.provide('ol.format.XML');goog.require('ol.xml');ol.format.XML=function(){};ol.format.XML.prototype.read=function(a){if(ol.xml.isDocument(a)){return this.readFromDocument(a)}else {if(ol.xml.isNode(a)){return this.readFromNode(a)}else {if(typeof a==='string'){var b=ol.xml.parse(a);return this.readFromDocument(b)}else {return null}}}};ol.format.XML.prototype.readFromDocument=function(a){};ol.format.XML.prototype.readFromNode=function(a){};goog.provide('ol.format.OWS');goog.require('ol');goog.require('ol.format.XLink');goog.require('ol.format.XML');goog.require('ol.format.XSD');goog.require('ol.xml');ol.format.OWS=function(){ol.format.XML.call(this)};ol.inherits(ol.format.OWS,ol.format.XML);ol.format.OWS.prototype.readFromDocument=function(b){for(var a=b.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){return this.readFromNode(a)}}return null};ol.format.OWS.prototype.readFromNode=function(b){var a=ol.xml.pushParseAndPop({},ol.format.OWS.PARSERS_,b,[]);return a?a:null};ol.format.OWS.readAddress_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.ADDRESS_PARSERS_,b,a)};ol.format.OWS.readAllowedValues_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.ALLOWED_VALUES_PARSERS_,b,a)};ol.format.OWS.readConstraint_=function(b,c){var a=b.getAttribute('name');if(!a){return undefined}return ol.xml.pushParseAndPop({'name':a},ol.format.OWS.CONSTRAINT_PARSERS_,b,c)};ol.format.OWS.readContactInfo_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.CONTACT_INFO_PARSERS_,b,a)};ol.format.OWS.readDcp_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.DCP_PARSERS_,b,a)};ol.format.OWS.readGet_=function(b,c){var a=ol.format.XLink.readHref(b);if(!a){return undefined}return ol.xml.pushParseAndPop({'href':a},ol.format.OWS.REQUEST_METHOD_PARSERS_,b,c)};ol.format.OWS.readHttp_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.HTTP_PARSERS_,b,a)};ol.format.OWS.readOperation_=function(c,a){var e=c.getAttribute('name');var b=ol.xml.pushParseAndPop({},ol.format.OWS.OPERATION_PARSERS_,c,a);if(!b){return undefined}var d=a[a.length-1];d[e]=b};ol.format.OWS.readOperationsMetadata_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.OPERATIONS_METADATA_PARSERS_,b,a)};ol.format.OWS.readPhone_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.PHONE_PARSERS_,b,a)};ol.format.OWS.readServiceIdentification_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_,b,a)};ol.format.OWS.readServiceContact_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_CONTACT_PARSERS_,b,a)};ol.format.OWS.readServiceProvider_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_PROVIDER_PARSERS_,b,a)};ol.format.OWS.readValue_=function(a,b){return ol.format.XSD.readString(a)};ol.format.OWS.NAMESPACE_URIS_=[null,'http://www.opengis.net/ows/1.1'];ol.format.OWS.PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'ServiceIdentification':ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceIdentification_),'ServiceProvider':ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceProvider_),'OperationsMetadata':ol.xml.makeObjectPropertySetter(ol.format.OWS.readOperationsMetadata_)});ol.format.OWS.ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'DeliveryPoint':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'City':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'AdministrativeArea':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'PostalCode':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Country':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'ElectronicMailAddress':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.ALLOWED_VALUES_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'Value':ol.xml.makeObjectPropertyPusher(ol.format.OWS.readValue_)});ol.format.OWS.CONSTRAINT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'AllowedValues':ol.xml.makeObjectPropertySetter(ol.format.OWS.readAllowedValues_)});ol.format.OWS.CONTACT_INFO_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'Phone':ol.xml.makeObjectPropertySetter(ol.format.OWS.readPhone_),'Address':ol.xml.makeObjectPropertySetter(ol.format.OWS.readAddress_)});ol.format.OWS.DCP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'HTTP':ol.xml.makeObjectPropertySetter(ol.format.OWS.readHttp_)});ol.format.OWS.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'Get':ol.xml.makeObjectPropertyPusher(ol.format.OWS.readGet_),'Post':undefined});ol.format.OWS.OPERATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'DCP':ol.xml.makeObjectPropertySetter(ol.format.OWS.readDcp_)});ol.format.OWS.OPERATIONS_METADATA_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'Operation':ol.format.OWS.readOperation_});ol.format.OWS.PHONE_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'Voice':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Facsimile':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.REQUEST_METHOD_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'Constraint':ol.xml.makeObjectPropertyPusher(ol.format.OWS.readConstraint_)});ol.format.OWS.SERVICE_CONTACT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'IndividualName':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'PositionName':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'ContactInfo':ol.xml.makeObjectPropertySetter(ol.format.OWS.readContactInfo_)});ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'Abstract':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'AccessConstraints':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Fees':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Title':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'ServiceTypeVersion':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'ServiceType':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.SERVICE_PROVIDER_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{'ProviderName':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'ProviderSite':ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),'ServiceContact':ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceContact_)});goog.provide('ol.geom.flat.flip');ol.geom.flat.flip.flipXY=function(d,h,j,i,f,e){var a,b;if(f!==undefined){a=f;b=e!==undefined?e:0}else {a=[];b=0}var c=h;while(c<j){var k=d[c++];a[b++]=d[c++];a[b++]=k;for(var g=2;g<i;++g){a[b++]=d[c++]}}a.length=b;return a};goog.provide('ol.format.Polyline');goog.require('ol');goog.require('ol.asserts');goog.require('ol.Feature');goog.require('ol.format.Feature');goog.require('ol.format.TextFeature');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.LineString');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.flip');goog.require('ol.geom.flat.inflate');goog.require('ol.proj');ol.format.Polyline=function(b){var a=b?b:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get('EPSG:4326');this.factor_=a.factor?a.factor:100000;this.geometryLayout_=a.geometryLayout?a.geometryLayout:ol.geom.GeometryLayout.XY};ol.inherits(ol.format.Polyline,ol.format.TextFeature);ol.format.Polyline.encodeDeltas=function(c,e,f){var i=f?f:100000;var a;var d=new Array(e);for(a=0;a<e;++a){d[a]=0}var b,h;for(b=0,h=c.length;b<h;){for(a=0;a<e;++a,++b){var g=c[b];var j=g-d[a];d[a]=g;c[b]=j}}return ol.format.Polyline.encodeFloats(c,i)};ol.format.Polyline.decodeDeltas=function(h,e,f){var i=f?f:100000;var a;var d=new Array(e);for(a=0;a<e;++a){d[a]=0}var c=ol.format.Polyline.decodeFloats(h,i);var b,g;for(b=0,g=c.length;b<g;){for(a=0;a<e;++a,++b){d[a]+=c[b];c[b]=d[a]}}return c};ol.format.Polyline.encodeFloats=function(b,c){var e=c?c:100000;var a,d;for(a=0,d=b.length;a<d;++a){b[a]=Math.round(b[a]*e)}return ol.format.Polyline.encodeSignedIntegers(b)};ol.format.Polyline.decodeFloats=function(e,c){var f=c?c:100000;var b=ol.format.Polyline.decodeSignedIntegers(e);var a,d;for(a=0,d=b.length;a<d;++a){b[a]/=f}return b};ol.format.Polyline.encodeSignedIntegers=function(b){var a,d;for(a=0,d=b.length;a<d;++a){var c=b[a];b[a]=c<0?~(c<<1):c<<1}return ol.format.Polyline.encodeUnsignedIntegers(b)};ol.format.Polyline.decodeSignedIntegers=function(e){var b=ol.format.Polyline.decodeUnsignedIntegers(e);var a,d;for(a=0,d=b.length;a<d;++a){var c=b[a];b[a]=c&1?~(c>>1):c>>1}return b};ol.format.Polyline.encodeUnsignedIntegers=function(c){var b='';var a,d;for(a=0,d=c.length;a<d;++a){b+=ol.format.Polyline.encodeUnsignedInteger(c[a])}return b};ol.format.Polyline.decodeUnsignedIntegers=function(d){var e=[];var b=0;var c=0;var a,f;for(a=0,f=d.length;a<f;++a){var g=d.charCodeAt(a)-63;b|=(g&31)<<c;if(g<32){e.push(b);b=0;c=0}else {c+=5}}return e};ol.format.Polyline.encodeUnsignedInteger=function(b){var a,c='';while(b>=32){a=(32|b&31)+63;c+=String.fromCharCode(a);b>>=5}a=b+63;c+=String.fromCharCode(a);return c};ol.format.Polyline.prototype.readFeature;ol.format.Polyline.prototype.readFeatureFromText=function(c,a){var b=this.readGeometryFromText(c,a);return new ol.Feature(b)};ol.format.Polyline.prototype.readFeatures;ol.format.Polyline.prototype.readFeaturesFromText=function(c,a){var b=this.readFeatureFromText(c,a);return [b]};ol.format.Polyline.prototype.readGeometry;ol.format.Polyline.prototype.readGeometryFromText=function(e,d){var b=ol.geom.SimpleGeometry.getStrideForLayout(this.geometryLayout_);var a=ol.format.Polyline.decodeDeltas(e,b,this.factor_);ol.geom.flat.flip.flipXY(a,0,a.length,b,a);var c=ol.geom.flat.inflate.coordinates(a,0,a.length,b);return ol.format.Feature.transformWithOptions(new ol.geom.LineString(c,this.geometryLayout_),!1,this.adaptOptions(d))};ol.format.Polyline.prototype.readProjection;ol.format.Polyline.prototype.writeFeatureText=function(c,b){var a=c.getGeometry();if(a){return this.writeGeometryText(a,b)}else {ol.asserts.assert(!1,40);return ''}};ol.format.Polyline.prototype.writeFeaturesText=function(b,a){return this.writeFeatureText(b[0],a)};ol.format.Polyline.prototype.writeGeometry;ol.format.Polyline.prototype.writeGeometryText=function(b,d){b=ol.format.Feature.transformWithOptions(b,!0,this.adaptOptions(d));var a=b.getFlatCoordinates();var c=b.getStride();ol.geom.flat.flip.flipXY(a,0,a.length,c,a);return ol.format.Polyline.encodeDeltas(a,c,this.factor_)};goog.provide('ol.format.TopoJSON');goog.require('ol');goog.require('ol.Feature');goog.require('ol.format.Feature');goog.require('ol.format.JSONFeature');goog.require('ol.geom.LineString');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.proj');ol.format.TopoJSON=function(b){var a=b?b:{};ol.format.JSONFeature.call(this);this.layerName_=a.layerName;this.layers_=a.layers?a.layers:null;this.defaultDataProjection=ol.proj.get(a.defaultDataProjection?a.defaultDataProjection:'EPSG:4326')};ol.inherits(ol.format.TopoJSON,ol.format.JSONFeature);ol.format.TopoJSON.concatenateArcs_=function(f,g){var a=[];var d,e;var b,h;var c,i;for(b=0,h=f.length;b<h;++b){d=f[b];if(b>0){a.pop()}if(d>=0){e=g[d]}else {e=g[~d].slice().reverse()}a.push.apply(a,e)}for(c=0,i=a.length;c<i;++c){a[c]=a[c].slice()}return a};ol.format.TopoJSON.readPointGeometry_=function(d,c,b){var a=d.coordinates;if(c&&b){ol.format.TopoJSON.transformVertex_(a,c,b)}return new ol.geom.Point(a)};ol.format.TopoJSON.readMultiPointGeometry_=function(f,d,c){var b=f.coordinates;var a,e;if(d&&c){for(a=0,e=b.length;a<e;++a){ol.format.TopoJSON.transformVertex_(b[a],d,c)}}return new ol.geom.MultiPoint(b)};ol.format.TopoJSON.readLineStringGeometry_=function(b,c){var a=ol.format.TopoJSON.concatenateArcs_(b.arcs,c);return new ol.geom.LineString(a)};ol.format.TopoJSON.readMultiLineStringGeometry_=function(c,e){var b=[];var a,d;for(a=0,d=c.arcs.length;a<d;++a){b[a]=ol.format.TopoJSON.concatenateArcs_(c.arcs[a],e)}return new ol.geom.MultiLineString(b)};ol.format.TopoJSON.readPolygonGeometry_=function(c,e){var b=[];var a,d;for(a=0,d=c.arcs.length;a<d;++a){b[a]=ol.format.TopoJSON.concatenateArcs_(c.arcs[a],e)}return new ol.geom.Polygon(b)};ol.format.TopoJSON.readMultiPolygonGeometry_=function(f,i){var e=[];var d,c,b,h;var a,g;for(a=0,g=f.arcs.length;a<g;++a){d=f.arcs[a];c=[];for(b=0,h=d.length;b<h;++b){c[b]=ol.format.TopoJSON.concatenateArcs_(d[b],i)}e[a]=c}return new ol.geom.MultiPolygon(e)};ol.format.TopoJSON.readFeaturesFromGeometryCollection_=function(f,j,i,g,h,k,e){var b=f.geometries;var c=[];var a,d;for(a=0,d=b.length;a<d;++a){c[a]=ol.format.TopoJSON.readFeatureFromGeometry_(b[a],j,i,g,h,k,e)}return c};ol.format.TopoJSON.readFeatureFromGeometry_=function(a,k,j,i,g,l,h){var d;var e=a.type;var f=ol.format.TopoJSON.GEOMETRY_READERS_[e];if(e==='Point'||e==='MultiPoint'){d=f(a,j,i)}else {d=f(a,k)}var c=new ol.Feature();c.setGeometry(ol.format.Feature.transformWithOptions(d,!1,h));if(a.id!==undefined){c.setId(a.id)}var b=a.properties;if(g){if(!b){b={}}b[g]=l}if(b){c.setProperties(b)}return c};ol.format.TopoJSON.prototype.readFeatures;ol.format.TopoJSON.prototype.readFeaturesFromObject=function(l,j){if(l.type=='Topology'){var c=l;var d,h=null,e=null;if(c.transform){d=c.transform;h=d.scale;e=d.translate}var i=c.arcs;if(d){ol.format.TopoJSON.transformArcs_(i,h,e)}var f=[];var b=c.objects;var k=this.layerName_;var a,g;for(a in b){if(this.layers_&&this.layers_.indexOf(a)==-1){continue}if(b[a].type==='GeometryCollection'){g=b[a];f.push.apply(f,ol.format.TopoJSON.readFeaturesFromGeometryCollection_(g,i,h,e,k,a,j))}else {g=b[a];f.push(ol.format.TopoJSON.readFeatureFromGeometry_(g,i,h,e,k,a,j))}}return f}else {return []}};ol.format.TopoJSON.transformArcs_=function(b,e,d){var a,c;for(a=0,c=b.length;a<c;++a){ol.format.TopoJSON.transformArc_(b[a],e,d)}};ol.format.TopoJSON.transformArc_=function(c,h,g){var e=0;var f=0;var a;var b,d;for(b=0,d=c.length;b<d;++b){a=c[b];e+=a[0];f+=a[1];a[0]=e;a[1]=f;ol.format.TopoJSON.transformVertex_(a,h,g)}};ol.format.TopoJSON.transformVertex_=function(a,c,b){a[0]=a[0]*c[0]+b[0];a[1]=a[1]*c[1]+b[1]};ol.format.TopoJSON.prototype.readProjection;ol.format.TopoJSON.prototype.readProjectionFromObject=function(a){return this.defaultDataProjection};ol.format.TopoJSON.GEOMETRY_READERS_={'Point':ol.format.TopoJSON.readPointGeometry_,'LineString':ol.format.TopoJSON.readLineStringGeometry_,'Polygon':ol.format.TopoJSON.readPolygonGeometry_,'MultiPoint':ol.format.TopoJSON.readMultiPointGeometry_,'MultiLineString':ol.format.TopoJSON.readMultiLineStringGeometry_,'MultiPolygon':ol.format.TopoJSON.readMultiPolygonGeometry_};ol.format.TopoJSON.prototype.writeFeatureObject=function(b,a){};ol.format.TopoJSON.prototype.writeFeaturesObject=function(b,a){};ol.format.TopoJSON.prototype.writeGeometryObject=function(b,a){};ol.format.TopoJSON.prototype.readGeometryFromObject=function(){};ol.format.TopoJSON.prototype.readFeatureFromObject=function(){};goog.provide('ol.format.WFS');goog.require('ol');goog.require('ol.asserts');goog.require('ol.format.GML2');goog.require('ol.format.GML3');goog.require('ol.format.GMLBase');goog.require('ol.format.filter');goog.require('ol.format.XMLFeature');goog.require('ol.format.XSD');goog.require('ol.geom.Geometry');goog.require('ol.obj');goog.require('ol.proj');goog.require('ol.xml');ol.format.WFS=function(b){var a=b?b:{};this.featureType_=a.featureType;this.featureNS_=a.featureNS;this.gmlFormat_=a.gmlFormat?a.gmlFormat:new ol.format.GML3();this.schemaLocation_=a.schemaLocation?a.schemaLocation:ol.format.WFS.SCHEMA_LOCATIONS[ol.format.WFS.DEFAULT_VERSION];ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WFS,ol.format.XMLFeature);ol.format.WFS.FEATURE_PREFIX='feature';ol.format.WFS.XMLNS='http://www.w3.org/2000/xmlns/';ol.format.WFS.OGCNS='http://www.opengis.net/ogc';ol.format.WFS.WFSNS='http://www.opengis.net/wfs';ol.format.WFS.FESNS='http://www.opengis.net/fes';ol.format.WFS.SCHEMA_LOCATIONS={'1.1.0':'http://www.opengis.net/wfs '+'http://schemas.opengis.net/wfs/1.1.0/wfs.xsd','1.0.0':'http://www.opengis.net/wfs '+'http://schemas.opengis.net/wfs/1.0.0/wfs.xsd'};ol.format.WFS.DEFAULT_VERSION='1.1.0';ol.format.WFS.prototype.getFeatureType=function(){return this.featureType_};ol.format.WFS.prototype.setFeatureType=function(a){this.featureType_=a};ol.format.WFS.prototype.readFeatures;ol.format.WFS.prototype.readFeaturesFromNode=function(d,b){var c={'featureType':this.featureType_,'featureNS':this.featureNS_};ol.obj.assign(c,this.getReadOptions(d,b?b:{}));var e=[c];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]['featureMember']=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);var a=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,d,e,this.gmlFormat_);if(!a){a=[]}return a};ol.format.WFS.prototype.readTransactionResponse=function(a){if(ol.xml.isDocument(a)){return this.readTransactionResponseFromDocument(a)}else {if(ol.xml.isNode(a)){return this.readTransactionResponseFromNode(a)}else {if(typeof a==='string'){var b=ol.xml.parse(a);return this.readTransactionResponseFromDocument(b)}else {return undefined}}}};ol.format.WFS.prototype.readFeatureCollectionMetadata=function(a){if(ol.xml.isDocument(a)){return this.readFeatureCollectionMetadataFromDocument(a)}else {if(ol.xml.isNode(a)){return this.readFeatureCollectionMetadataFromNode(a)}else {if(typeof a==='string'){var b=ol.xml.parse(a);return this.readFeatureCollectionMetadataFromDocument(b)}else {return undefined}}}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromDocument=function(b){for(var a=b.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){return this.readFeatureCollectionMetadataFromNode(a)}}return undefined};ol.format.WFS.FEATURE_COLLECTION_PARSERS_={'http://www.opengis.net/gml':{'boundedBy':ol.xml.makeObjectPropertySetter(ol.format.GMLBase.prototype.readGeometryElement,'bounds')}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromNode=function(b){var a={};var c=ol.format.XSD.readNonNegativeIntegerString(b.getAttribute('numberOfFeatures'));a['numberOfFeatures']=c;return ol.xml.pushParseAndPop(a,ol.format.WFS.FEATURE_COLLECTION_PARSERS_,b,[],this.gmlFormat_)};ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_={'http://www.opengis.net/wfs':{'totalInserted':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'totalUpdated':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'totalDeleted':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}};ol.format.WFS.readTransactionSummary_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_,b,a)};ol.format.WFS.OGC_FID_PARSERS_={'http://www.opengis.net/ogc':{'FeatureId':ol.xml.makeArrayPusher(function(a,b){return a.getAttribute('fid')})}};ol.format.WFS.fidParser_=function(b,a){ol.xml.parseNode(ol.format.WFS.OGC_FID_PARSERS_,b,a)};ol.format.WFS.INSERT_RESULTS_PARSERS_={'http://www.opengis.net/wfs':{'Feature':ol.format.WFS.fidParser_}};ol.format.WFS.readInsertResults_=function(b,a){return ol.xml.pushParseAndPop([],ol.format.WFS.INSERT_RESULTS_PARSERS_,b,a)};ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_={'http://www.opengis.net/wfs':{'TransactionSummary':ol.xml.makeObjectPropertySetter(ol.format.WFS.readTransactionSummary_,'transactionSummary'),'InsertResults':ol.xml.makeObjectPropertySetter(ol.format.WFS.readInsertResults_,'insertIds')}};ol.format.WFS.prototype.readTransactionResponseFromDocument=function(b){for(var a=b.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){return this.readTransactionResponseFromNode(a)}}return undefined};ol.format.WFS.prototype.readTransactionResponseFromNode=function(a){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_,a,[])};ol.format.WFS.QUERY_SERIALIZERS_={'http://www.opengis.net/wfs':{'PropertyName':ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.WFS.writeFeature_=function(h,d,a){var b=a[a.length-1];var e=b['featureType'];var g=b['featureNS'];var f=b['gmlVersion'];var c=ol.xml.createElementNS(g,e);h.appendChild(c);if(f===2){ol.format.GML2.prototype.writeFeatureElement(c,d,a)}else {ol.format.GML3.prototype.writeFeatureElement(c,d,a)}};ol.format.WFS.writeOgcFidFilter_=function(c,d,e){var a=ol.xml.createElementNS(ol.format.WFS.OGCNS,'Filter');var b=ol.xml.createElementNS(ol.format.WFS.OGCNS,'FeatureId');a.appendChild(b);b.setAttribute('fid',d);c.appendChild(a)};ol.format.WFS.getTypeName_=function(a,b){a=a?a:ol.format.WFS.FEATURE_PREFIX;var c=a+':';if(b.indexOf(c)===0){return b}else {return c+b}};ol.format.WFS.writeDelete_=function(c,e,a){var b=a[a.length-1];ol.asserts.assert(e.getId()!==undefined,26);var g=b['featureType'];var d=b['featurePrefix'];var h=b['featureNS'];var i=ol.format.WFS.getTypeName_(d,g);c.setAttribute('typeName',i);ol.xml.setAttributeNS(c,ol.format.WFS.XMLNS,'xmlns:'+d,h);var f=e.getId();if(f!==undefined){ol.format.WFS.writeOgcFidFilter_(c,f,a)}};ol.format.WFS.writeUpdate_=function(d,b,c){var a=c[c.length-1];ol.asserts.assert(b.getId()!==undefined,27);var m=a['featureType'];var h=a['featurePrefix'];var n=a['featureNS'];var o=ol.format.WFS.getTypeName_(h,m);var l=b.getGeometryName();d.setAttribute('typeName',o);ol.xml.setAttributeNS(d,ol.format.WFS.XMLNS,'xmlns:'+h,n);var k=b.getId();if(k!==undefined){var g=b.getKeys();var i=[];for(var e=0,p=g.length;e<p;e++){var f=b.get(g[e]);if(f!==undefined){var j=g[e];if(f instanceof ol.geom.Geometry){j=l}i.push({name:j,value:f})}}ol.xml.pushSerializeAndPop({'gmlVersion':a['gmlVersion'],node:d,'hasZ':a['hasZ'],'srsName':a['srsName']},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory('Property'),i,c);ol.format.WFS.writeOgcFidFilter_(d,k,c)}};ol.format.WFS.writeProperty_=function(e,a,b){var d=ol.xml.createElementNS(ol.format.WFS.WFSNS,'Name');var g=b[b.length-1];var f=g['gmlVersion'];e.appendChild(d);ol.format.XSD.writeStringTextNode(d,a.name);if(a.value!==undefined&&a.value!==null){var c=ol.xml.createElementNS(ol.format.WFS.WFSNS,'Value');e.appendChild(c);if(a.value instanceof ol.geom.Geometry){if(f===2){ol.format.GML2.prototype.writeGeometryElement(c,a.value,b)}else {ol.format.GML3.prototype.writeGeometryElement(c,a.value,b)}}else {ol.format.XSD.writeStringTextNode(c,a.value)}}};ol.format.WFS.writeNative_=function(b,a,c){if(a.vendorId){b.setAttribute('vendorId',a.vendorId)}if(a.safeToIgnore!==undefined){b.setAttribute('safeToIgnore',a.safeToIgnore)}if(a.value!==undefined){ol.format.XSD.writeStringTextNode(b,a.value)}};ol.format.WFS.TRANSACTION_SERIALIZERS_={'http://www.opengis.net/wfs':{'Insert':ol.xml.makeChildAppender(ol.format.WFS.writeFeature_),'Update':ol.xml.makeChildAppender(ol.format.WFS.writeUpdate_),'Delete':ol.xml.makeChildAppender(ol.format.WFS.writeDelete_),'Property':ol.xml.makeChildAppender(ol.format.WFS.writeProperty_),'Native':ol.xml.makeChildAppender(ol.format.WFS.writeNative_)}};ol.format.WFS.writeQuery_=function(b,f,c){var a=c[c.length-1];var d=a['featurePrefix'];var g=a['featureNS'];var l=a['propertyNames'];var h=a['srsName'];var e;if(d){e=ol.format.WFS.getTypeName_(d,f)}else {e=f}b.setAttribute('typeName',e);if(h){b.setAttribute('srsName',h)}if(g){ol.xml.setAttributeNS(b,ol.format.WFS.XMLNS,'xmlns:'+d,g)}var k=ol.obj.assign({},a);k.node=b;ol.xml.pushSerializeAndPop(k,ol.format.WFS.QUERY_SERIALIZERS_,ol.xml.makeSimpleNodeFactory('PropertyName'),l,c);var i=a['filter'];if(i){var j=ol.xml.createElementNS(ol.format.WFS.OGCNS,'Filter');b.appendChild(j);ol.format.WFS.writeFilterCondition_(j,i,c)}};ol.format.WFS.writeFilterCondition_=function(d,a,b){var c={node:d};ol.xml.pushSerializeAndPop(c,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(a.getTagName()),[a],b)};ol.format.WFS.writeBboxFilter_=function(c,b,a){var d=a[a.length-1];d['srsName']=b.srsName;ol.format.WFS.writeOgcPropertyName_(c,b.geometryName);ol.format.GML3.prototype.writeGeometryElement(c,b.extent,a)};ol.format.WFS.writeContainsFilter_=function(c,b,a){var d=a[a.length-1];d['srsName']=b.srsName;ol.format.WFS.writeOgcPropertyName_(c,b.geometryName);ol.format.GML3.prototype.writeGeometryElement(c,b.geometry,a)};ol.format.WFS.writeIntersectsFilter_=function(c,b,a){var d=a[a.length-1];d['srsName']=b.srsName;ol.format.WFS.writeOgcPropertyName_(c,b.geometryName);ol.format.GML3.prototype.writeGeometryElement(c,b.geometry,a)};ol.format.WFS.writeWithinFilter_=function(c,b,a){var d=a[a.length-1];d['srsName']=b.srsName;ol.format.WFS.writeOgcPropertyName_(c,b.geometryName);ol.format.GML3.prototype.writeGeometryElement(c,b.geometry,a)};ol.format.WFS.writeDuringFilter_=function(e,b,g){var c=ol.xml.createElementNS(ol.format.WFS.FESNS,'ValueReference');ol.format.XSD.writeStringTextNode(c,b.propertyName);e.appendChild(c);var a=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,'TimePeriod');e.appendChild(a);var d=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,'begin');a.appendChild(d);ol.format.WFS.writeTimeInstant_(d,b.begin);var f=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,'end');a.appendChild(f);ol.format.WFS.writeTimeInstant_(f,b.end)};ol.format.WFS.writeLogicalFilter_=function(g,e,d){var f={node:g};var b=e.conditions;for(var a=0,h=b.length;a<h;++a){var c=b[a];ol.xml.pushSerializeAndPop(f,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(c.getTagName()),[c],d)}};ol.format.WFS.writeNotFilter_=function(e,c,b){var d={node:e};var a=c.condition;ol.xml.pushSerializeAndPop(d,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(a.getTagName()),[a],b)};ol.format.WFS.writeComparisonFilter_=function(b,a,c){if(a.matchCase!==undefined){b.setAttribute('matchCase',a.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(b,a.propertyName);ol.format.WFS.writeOgcLiteral_(b,''+a.expression)};ol.format.WFS.writeIsNullFilter_=function(b,a,c){ol.format.WFS.writeOgcPropertyName_(b,a.propertyName)};ol.format.WFS.writeIsBetweenFilter_=function(b,a,e){ol.format.WFS.writeOgcPropertyName_(b,a.propertyName);var c=ol.xml.createElementNS(ol.format.WFS.OGCNS,'LowerBoundary');b.appendChild(c);ol.format.WFS.writeOgcLiteral_(c,''+a.lowerBoundary);var d=ol.xml.createElementNS(ol.format.WFS.OGCNS,'UpperBoundary');b.appendChild(d);ol.format.WFS.writeOgcLiteral_(d,''+a.upperBoundary)};ol.format.WFS.writeIsLikeFilter_=function(b,a,c){b.setAttribute('wildCard',a.wildCard);b.setAttribute('singleChar',a.singleChar);b.setAttribute('escapeChar',a.escapeChar);if(a.matchCase!==undefined){b.setAttribute('matchCase',a.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(b,a.propertyName);ol.format.WFS.writeOgcLiteral_(b,''+a.pattern)};ol.format.WFS.writeOgcExpression_=function(b,d,c){var a=ol.xml.createElementNS(ol.format.WFS.OGCNS,b);ol.format.XSD.writeStringTextNode(a,c);d.appendChild(a)};ol.format.WFS.writeOgcPropertyName_=function(b,a){ol.format.WFS.writeOgcExpression_('PropertyName',b,a)};ol.format.WFS.writeOgcLiteral_=function(b,a){ol.format.WFS.writeOgcExpression_('Literal',b,a)};ol.format.WFS.writeTimeInstant_=function(c,d){var b=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,'TimeInstant');c.appendChild(b);var a=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,'timePosition');b.appendChild(a);ol.format.XSD.writeStringTextNode(a,d)};ol.format.WFS.GETFEATURE_SERIALIZERS_={'http://www.opengis.net/wfs':{'Query':ol.xml.makeChildAppender(ol.format.WFS.writeQuery_)},'http://www.opengis.net/ogc':{'During':ol.xml.makeChildAppender(ol.format.WFS.writeDuringFilter_),'And':ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),'Or':ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),'Not':ol.xml.makeChildAppender(ol.format.WFS.writeNotFilter_),'BBOX':ol.xml.makeChildAppender(ol.format.WFS.writeBboxFilter_),'Contains':ol.xml.makeChildAppender(ol.format.WFS.writeContainsFilter_),'Intersects':ol.xml.makeChildAppender(ol.format.WFS.writeIntersectsFilter_),'Within':ol.xml.makeChildAppender(ol.format.WFS.writeWithinFilter_),'PropertyIsEqualTo':ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),'PropertyIsNotEqualTo':ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),'PropertyIsLessThan':ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),'PropertyIsLessThanOrEqualTo':ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),'PropertyIsGreaterThan':ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),'PropertyIsGreaterThanOrEqualTo':ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),'PropertyIsNull':ol.xml.makeChildAppender(ol.format.WFS.writeIsNullFilter_),'PropertyIsBetween':ol.xml.makeChildAppender(ol.format.WFS.writeIsBetweenFilter_),'PropertyIsLike':ol.xml.makeChildAppender(ol.format.WFS.writeIsLikeFilter_)}};ol.format.WFS.writeFilter=function(b){var a=ol.xml.createElementNS(ol.format.WFS.OGCNS,'Filter');ol.format.WFS.writeFilterCondition_(a,b,[]);return a};ol.format.WFS.writeGetFeature_=function(e,c,a){var d=a[a.length-1];var b=ol.obj.assign({},d);b.node=e;ol.xml.pushSerializeAndPop(b,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory('Query'),c,a)};ol.format.WFS.prototype.writeGetFeature=function(a){var b=ol.xml.createElementNS(ol.format.WFS.WFSNS,'GetFeature');b.setAttribute('service','WFS');b.setAttribute('version','1.1.0');var c;if(a){if(a.handle){b.setAttribute('handle',a.handle)}if(a.outputFormat){b.setAttribute('outputFormat',a.outputFormat)}if(a.maxFeatures!==undefined){b.setAttribute('maxFeatures',a.maxFeatures)}if(a.resultType){b.setAttribute('resultType',a.resultType)}if(a.startIndex!==undefined){b.setAttribute('startIndex',a.startIndex)}if(a.count!==undefined){b.setAttribute('count',a.count)}c=a.filter;if(a.bbox){ol.asserts.assert(a.geometryName,12);var d=ol.format.filter.bbox(a.geometryName,a.bbox,a.srsName);if(c){c=ol.format.filter.and(c,d)}else {c=d}}}ol.xml.setAttributeNS(b,'http://www.w3.org/2001/XMLSchema-instance','xsi:schemaLocation',this.schemaLocation_);var e={node:b,'srsName':a.srsName,'featureNS':a.featureNS?a.featureNS:this.featureNS_,'featurePrefix':a.featurePrefix,'geometryName':a.geometryName,'filter':c,'propertyNames':a.propertyNames?a.propertyNames:[]};ol.asserts.assert(Array.isArray(a.featureTypes),11);ol.format.WFS.writeGetFeature_(b,a.featureTypes,[e]);return b};ol.format.WFS.prototype.writeTransaction=function(j,k,i,a){var e=[];var b=ol.xml.createElementNS(ol.format.WFS.WFSNS,'Transaction');var h=a.version?a.version:ol.format.WFS.DEFAULT_VERSION;var f=h==='1.0.0'?2:3;b.setAttribute('service','WFS');b.setAttribute('version',h);var g;var c;if(a){g=a.gmlOptions?a.gmlOptions:{};if(a.handle){b.setAttribute('handle',a.handle)}}var l=ol.format.WFS.SCHEMA_LOCATIONS[h];ol.xml.setAttributeNS(b,'http://www.w3.org/2001/XMLSchema-instance','xsi:schemaLocation',l);var d=a.featurePrefix?a.featurePrefix:ol.format.WFS.FEATURE_PREFIX;if(j){c={node:b,'featureNS':a.featureNS,'featureType':a.featureType,'featurePrefix':d,'gmlVersion':f,'hasZ':a.hasZ,'srsName':a.srsName};ol.obj.assign(c,g);ol.xml.pushSerializeAndPop(c,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory('Insert'),j,e)}if(k){c={node:b,'featureNS':a.featureNS,'featureType':a.featureType,'featurePrefix':d,'gmlVersion':f,'hasZ':a.hasZ,'srsName':a.srsName};ol.obj.assign(c,g);ol.xml.pushSerializeAndPop(c,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory('Update'),k,e)}if(i){ol.xml.pushSerializeAndPop({node:b,'featureNS':a.featureNS,'featureType':a.featureType,'featurePrefix':d,'gmlVersion':f,'srsName':a.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory('Delete'),i,e)}if(a.nativeElements){ol.xml.pushSerializeAndPop({node:b,'featureNS':a.featureNS,'featureType':a.featureType,'featurePrefix':d,'gmlVersion':f,'srsName':a.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory('Native'),a.nativeElements,e)}return b};ol.format.WFS.prototype.readProjection;ol.format.WFS.prototype.readProjectionFromDocument=function(b){for(var a=b.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){return this.readProjectionFromNode(a)}}return null};ol.format.WFS.prototype.readProjectionFromNode=function(b){if(b.firstElementChild&&b.firstElementChild.firstElementChild){b=b.firstElementChild.firstElementChild;for(var a=b.firstElementChild;a;a=a.nextElementSibling){if(!(a.childNodes.length===0||a.childNodes.length===1&&a.firstChild.nodeType===3)){var c=[{}];this.gmlFormat_.readGeometryElement(a,c);return ol.proj.get(c.pop().srsName)}}}return null};goog.provide('ol.format.WKT');goog.require('ol');goog.require('ol.Feature');goog.require('ol.format.Feature');goog.require('ol.format.TextFeature');goog.require('ol.geom.GeometryCollection');goog.require('ol.geom.GeometryType');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.LineString');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.geom.SimpleGeometry');ol.format.WKT=function(a){var b=a?a:{};ol.format.TextFeature.call(this);this.splitCollection_=b.splitCollection!==undefined?b.splitCollection:!1};ol.inherits(ol.format.WKT,ol.format.TextFeature);ol.format.WKT.EMPTY='EMPTY';ol.format.WKT.Z='Z';ol.format.WKT.M='M';ol.format.WKT.ZM='ZM';ol.format.WKT.encodePointGeometry_=function(b){var a=b.getCoordinates();if(a.length===0){return ''}return a.join(' ')};ol.format.WKT.encodeMultiPointGeometry_=function(d){var c=[];var b=d.getPoints();for(var a=0,e=b.length;a<e;++a){c.push('('+ol.format.WKT.encodePointGeometry_(b[a])+')')}return c.join(',')};ol.format.WKT.encodeGeometryCollectionGeometry_=function(d){var b=[];var c=d.getGeometries();for(var a=0,e=c.length;a<e;++a){b.push(ol.format.WKT.encode_(c[a]))}return b.join(',')};ol.format.WKT.encodeLineStringGeometry_=function(d){var b=d.getCoordinates();var c=[];for(var a=0,e=b.length;a<e;++a){c.push(b[a].join(' '))}return c.join(',')};ol.format.WKT.encodeMultiLineStringGeometry_=function(d){var c=[];var b=d.getLineStrings();for(var a=0,e=b.length;a<e;++a){c.push('('+ol.format.WKT.encodeLineStringGeometry_(b[a])+')')}return c.join(',')};ol.format.WKT.encodePolygonGeometry_=function(d){var b=[];var c=d.getLinearRings();for(var a=0,e=c.length;a<e;++a){b.push('('+ol.format.WKT.encodeLineStringGeometry_(c[a])+')')}return b.join(',')};ol.format.WKT.encodeMultiPolygonGeometry_=function(d){var c=[];var b=d.getPolygons();for(var a=0,e=b.length;a<e;++a){c.push('('+ol.format.WKT.encodePolygonGeometry_(b[a])+')')}return c.join(',')};ol.format.WKT.encodeGeometryLayout_=function(c){var a=c.getLayout();var b='';if(a===ol.geom.GeometryLayout.XYZ||a===ol.geom.GeometryLayout.XYZM){b+=ol.format.WKT.Z}if(a===ol.geom.GeometryLayout.XYM||a===ol.geom.GeometryLayout.XYZM){b+=ol.format.WKT.M}return b};ol.format.WKT.encode_=function(b){var a=b.getType();var e=ol.format.WKT.GeometryEncoder_[a];var d=e(b);a=a.toUpperCase();if(b instanceof ol.geom.SimpleGeometry){var c=ol.format.WKT.encodeGeometryLayout_(b);if(c.length>0){a+=' '+c}}if(d.length===0){return a+' '+ol.format.WKT.EMPTY}return a+'('+d+')'};ol.format.WKT.GeometryEncoder_={'Point':ol.format.WKT.encodePointGeometry_,'LineString':ol.format.WKT.encodeLineStringGeometry_,'Polygon':ol.format.WKT.encodePolygonGeometry_,'MultiPoint':ol.format.WKT.encodeMultiPointGeometry_,'MultiLineString':ol.format.WKT.encodeMultiLineStringGeometry_,'MultiPolygon':ol.format.WKT.encodeMultiPolygonGeometry_,'GeometryCollection':ol.format.WKT.encodeGeometryCollectionGeometry_};ol.format.WKT.prototype.parse_=function(c){var b=new ol.format.WKT.Lexer(c);var a=new ol.format.WKT.Parser(b);return a.parse()};ol.format.WKT.prototype.readFeature;ol.format.WKT.prototype.readFeatureFromText=function(d,c){var b=this.readGeometryFromText(d,c);if(b){var a=new ol.Feature();a.setGeometry(b);return a}return null};ol.format.WKT.prototype.readFeatures;ol.format.WKT.prototype.readFeaturesFromText=function(g,f){var a=[];var b=this.readGeometryFromText(g,f);if(this.splitCollection_&&b.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION){a=b.getGeometriesArray()}else {a=[b]}var c,e=[];for(var d=0,h=a.length;d<h;++d){c=new ol.Feature();c.setGeometry(a[d]);e.push(c)}return e};ol.format.WKT.prototype.readGeometry;ol.format.WKT.prototype.readGeometryFromText=function(c,b){var a=this.parse_(c);if(a){return ol.format.Feature.transformWithOptions(a,!1,b)}else {return null}};ol.format.WKT.prototype.writeFeature;ol.format.WKT.prototype.writeFeatureText=function(c,b){var a=c.getGeometry();if(a){return this.writeGeometryText(a,b)}return ''};ol.format.WKT.prototype.writeFeatures;ol.format.WKT.prototype.writeFeaturesText=function(a,c){if(a.length==1){return this.writeFeatureText(a[0],c)}var d=[];for(var b=0,f=a.length;b<f;++b){d.push(a[b].getGeometry())}var e=new ol.geom.GeometryCollection(d);return this.writeGeometryText(e,c)};ol.format.WKT.prototype.writeGeometry;ol.format.WKT.prototype.writeGeometryText=function(b,a){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(b,!0,a))};ol.format.WKT.TokenType_={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6};ol.format.WKT.Lexer=function(a){this.wkt=a;this.index_=-1};ol.format.WKT.Lexer.prototype.isAlpha_=function(a){return a>='a'&&a<='z'||a>='A'&&a<='Z'};ol.format.WKT.Lexer.prototype.isNumeric_=function(a,b){var c=b!==undefined?b:!1;return a>='0'&&a<='9'||a=='.'&&!c};ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(a){return a==' '||a=='\t'||a=='\r'||a=='\n'};ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};ol.format.WKT.Lexer.prototype.nextToken=function(){var a=this.nextChar_();var b={position:this.index_,value:a};if(a=='('){b.type=ol.format.WKT.TokenType_.LEFT_PAREN}else {if(a==','){b.type=ol.format.WKT.TokenType_.COMMA}else {if(a==')'){b.type=ol.format.WKT.TokenType_.RIGHT_PAREN}else {if(this.isNumeric_(a)||a=='-'){b.type=ol.format.WKT.TokenType_.NUMBER;b.value=this.readNumber_()}else {if(this.isAlpha_(a)){b.type=ol.format.WKT.TokenType_.TEXT;b.value=this.readText_()}else {if(this.isWhiteSpace_(a)){return this.nextToken()}else {if(a===''){b.type=ol.format.WKT.TokenType_.EOF}else {throw new Error('Unexpected character: '+a)}}}}}}}return b};ol.format.WKT.Lexer.prototype.readNumber_=function(){var a,d=this.index_;var c=!1;var b=!1;do{if(a=='.'){c=!0}else {if(a=='e'||a=='E'){b=!0}}a=this.nextChar_()}while(this.isNumeric_(a,c)||!b&&(a=='e'||a=='E')||b&&(a=='-'||a=='+'));return parseFloat(this.wkt.substring(d,this.index_--))};ol.format.WKT.Lexer.prototype.readText_=function(){var a,b=this.index_;do{a=this.nextChar_()}while(this.isAlpha_(a));return this.wkt.substring(b,this.index_--).toUpperCase()};ol.format.WKT.Parser=function(a){this.lexer_=a;this.token_;this.layout_=ol.geom.GeometryLayout.XY};ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};ol.format.WKT.Parser.prototype.isTokenType=function(b){var a=this.token_.type==b;return a};ol.format.WKT.Parser.prototype.match=function(b){var a=this.isTokenType(b);if(a){this.consume_()}return a};ol.format.WKT.Parser.prototype.parse=function(){this.consume_();var a=this.parseGeometry_();return a};ol.format.WKT.Parser.prototype.parseGeometryLayout_=function(){var a=ol.geom.GeometryLayout.XY;var c=this.token_;if(this.isTokenType(ol.format.WKT.TokenType_.TEXT)){var b=c.value;if(b===ol.format.WKT.Z){a=ol.geom.GeometryLayout.XYZ}else {if(b===ol.format.WKT.M){a=ol.geom.GeometryLayout.XYM}else {if(b===ol.format.WKT.ZM){a=ol.geom.GeometryLayout.XYZM}}}if(a!==ol.geom.GeometryLayout.XY){this.consume_()}}return a};ol.format.WKT.Parser.prototype.parseGeometry_=function(){var f=this.token_;if(this.match(ol.format.WKT.TokenType_.TEXT)){var a=f.value;this.layout_=this.parseGeometryLayout_();if(a==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase()){var e=this.parseGeometryCollectionText_();return new ol.geom.GeometryCollection(e)}else {var b=ol.format.WKT.Parser.GeometryParser_[a];var c=ol.format.WKT.Parser.GeometryConstructor_[a];if(!b||!c){throw new Error('Invalid geometry type: '+a)}var d=b.call(this);return new c(d,this.layout_)}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=[];do{a.push(this.parseGeometry_())}while(this.match(ol.format.WKT.TokenType_.COMMA));if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return a}}else {if(this.isEmptyGeometry_()){return []}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parsePoint_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return a}}else {if(this.isEmptyGeometry_()){return null}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parsePointList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return a}}else {if(this.isEmptyGeometry_()){return []}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return a}}else {if(this.isEmptyGeometry_()){return []}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a;if(this.token_.type==ol.format.WKT.TokenType_.LEFT_PAREN){a=this.parsePointTextList_()}else {a=this.parsePointList_()}if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return a}}else {if(this.isEmptyGeometry_()){return []}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return a}}else {if(this.isEmptyGeometry_()){return []}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var a=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return a}}else {if(this.isEmptyGeometry_()){return []}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePoint_=function(){var a=[];var b=this.layout_.length;for(var c=0;c<b;++c){var d=this.token_;if(this.match(ol.format.WKT.TokenType_.NUMBER)){a.push(d.value)}else {break}}if(a.length==b){return a}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointList_=function(){var a=[this.parsePoint_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){a.push(this.parsePoint_())}return a};ol.format.WKT.Parser.prototype.parsePointTextList_=function(){var a=[this.parsePointText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){a.push(this.parsePointText_())}return a};ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){var a=[this.parseLineStringText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){a.push(this.parseLineStringText_())}return a};ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){var a=[this.parsePolygonText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){a.push(this.parsePolygonText_())}return a};ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var a=this.isTokenType(ol.format.WKT.TokenType_.TEXT)&&this.token_.value==ol.format.WKT.EMPTY;if(a){this.consume_()}return a};ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return 'Unexpected `'+this.token_.value+'` at position '+this.token_.position+' in `'+this.lexer_.wkt+'`'};ol.format.WKT.Parser.GeometryConstructor_={'POINT':ol.geom.Point,'LINESTRING':ol.geom.LineString,'POLYGON':ol.geom.Polygon,'MULTIPOINT':ol.geom.MultiPoint,'MULTILINESTRING':ol.geom.MultiLineString,'MULTIPOLYGON':ol.geom.MultiPolygon};ol.format.WKT.Parser.GeometryParser_={'POINT':ol.format.WKT.Parser.prototype.parsePointText_,'LINESTRING':ol.format.WKT.Parser.prototype.parseLineStringText_,'POLYGON':ol.format.WKT.Parser.prototype.parsePolygonText_,'MULTIPOINT':ol.format.WKT.Parser.prototype.parseMultiPointText_,'MULTILINESTRING':ol.format.WKT.Parser.prototype.parseMultiLineStringText_,'MULTIPOLYGON':ol.format.WKT.Parser.prototype.parseMultiPolygonText_};goog.provide('ol.format.WMSCapabilities');goog.require('ol');goog.require('ol.format.XLink');goog.require('ol.format.XML');goog.require('ol.format.XSD');goog.require('ol.xml');ol.format.WMSCapabilities=function(){ol.format.XML.call(this);this.version=undefined};ol.inherits(ol.format.WMSCapabilities,ol.format.XML);ol.format.WMSCapabilities.prototype.read;ol.format.WMSCapabilities.prototype.readFromDocument=function(b){for(var a=b.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){return this.readFromNode(a)}}return null};ol.format.WMSCapabilities.prototype.readFromNode=function(b){this.version=b.getAttribute('version').trim();var a=ol.xml.pushParseAndPop({'version':this.version},ol.format.WMSCapabilities.PARSERS_,b,[]);return a?a:null};ol.format.WMSCapabilities.readAttribution_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_,b,a)};ol.format.WMSCapabilities.readBoundingBox_=function(a,d){var c=[ol.format.XSD.readDecimalString(a.getAttribute('minx')),ol.format.XSD.readDecimalString(a.getAttribute('miny')),ol.format.XSD.readDecimalString(a.getAttribute('maxx')),ol.format.XSD.readDecimalString(a.getAttribute('maxy'))];var b=[ol.format.XSD.readDecimalString(a.getAttribute('resx')),ol.format.XSD.readDecimalString(a.getAttribute('resy'))];return {'crs':a.getAttribute('CRS'),'extent':c,'res':b}};ol.format.WMSCapabilities.readEXGeographicBoundingBox_=function(g,f){var a=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,g,f);if(!a){return undefined}var e=a['westBoundLongitude'];var d=a['southBoundLatitude'];var b=a['eastBoundLongitude'];var c=a['northBoundLatitude'];if(e===undefined||d===undefined||b===undefined||c===undefined){return undefined}return [e,d,b,c]};ol.format.WMSCapabilities.readCapability_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CAPABILITY_PARSERS_,b,a)};ol.format.WMSCapabilities.readService_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.SERVICE_PARSERS_,b,a)};ol.format.WMSCapabilities.readContactInformation_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_,b,a)};ol.format.WMSCapabilities.readContactPersonPrimary_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_,b,a)};ol.format.WMSCapabilities.readContactAddress_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_,b,a)};ol.format.WMSCapabilities.readException_=function(b,a){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.EXCEPTION_PARSERS_,b,a)};ol.format.WMSCapabilities.readCapabilityLayer_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,b,a)};ol.format.WMSCapabilities.readLayer_=function(c,h){var b=h[h.length-1];var a=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,c,h);if(!a){return undefined}var e=ol.format.XSD.readBooleanString(c.getAttribute('queryable'));if(e===undefined){e=b['queryable']}a['queryable']=e!==undefined?e:!1;var j=ol.format.XSD.readNonNegativeIntegerString(c.getAttribute('cascaded'));if(j===undefined){j=b['cascaded']}a['cascaded']=j;var f=ol.format.XSD.readBooleanString(c.getAttribute('opaque'));if(f===undefined){f=b['opaque']}a['opaque']=f!==undefined?f:!1;var d=ol.format.XSD.readBooleanString(c.getAttribute('noSubsets'));if(d===undefined){d=b['noSubsets']}a['noSubsets']=d!==undefined?d:!1;var i=ol.format.XSD.readDecimalString(c.getAttribute('fixedWidth'));if(!i){i=b['fixedWidth']}a['fixedWidth']=i;var g=ol.format.XSD.readDecimalString(c.getAttribute('fixedHeight'));if(!g){g=b['fixedHeight']}a['fixedHeight']=g;var l=['Style','CRS','AuthorityURL'];l.forEach(function(d){if(d in b){var e=a[d]||[];a[d]=e.concat(b[d])}});var k=['EX_GeographicBoundingBox','BoundingBox','Dimension','Attribution','MinScaleDenominator','MaxScaleDenominator'];k.forEach(function(d){if(!(d in a)){var e=b[d];a[d]=e}});return a};ol.format.WMSCapabilities.readDimension_=function(a,c){var b={'name':a.getAttribute('name'),'units':a.getAttribute('units'),'unitSymbol':a.getAttribute('unitSymbol'),'default':a.getAttribute('default'),'multipleValues':ol.format.XSD.readBooleanString(a.getAttribute('multipleValues')),'nearestValue':ol.format.XSD.readBooleanString(a.getAttribute('nearestValue')),'current':ol.format.XSD.readBooleanString(a.getAttribute('current')),'values':ol.format.XSD.readString(a)};return b};ol.format.WMSCapabilities.readFormatOnlineresource_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,b,a)};ol.format.WMSCapabilities.readRequest_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.REQUEST_PARSERS_,b,a)};ol.format.WMSCapabilities.readDCPType_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.DCPTYPE_PARSERS_,b,a)};ol.format.WMSCapabilities.readHTTP_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.HTTP_PARSERS_,b,a)};ol.format.WMSCapabilities.readOperationType_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_,b,a)};ol.format.WMSCapabilities.readSizedFormatOnlineresource_=function(b,c){var a=ol.format.WMSCapabilities.readFormatOnlineresource_(b,c);if(a){var d=[ol.format.XSD.readNonNegativeIntegerString(b.getAttribute('width')),ol.format.XSD.readNonNegativeIntegerString(b.getAttribute('height'))];a['size']=d;return a}return undefined};ol.format.WMSCapabilities.readAuthorityURL_=function(b,c){var a=ol.format.WMSCapabilities.readFormatOnlineresource_(b,c);if(a){a['name']=b.getAttribute('name');return a}return undefined};ol.format.WMSCapabilities.readMetadataURL_=function(b,c){var a=ol.format.WMSCapabilities.readFormatOnlineresource_(b,c);if(a){a['type']=b.getAttribute('type');return a}return undefined};ol.format.WMSCapabilities.readStyle_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.STYLE_PARSERS_,b,a)};ol.format.WMSCapabilities.readKeywordList_=function(b,a){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_,b,a)};ol.format.WMSCapabilities.NAMESPACE_URIS_=[null,'http://www.opengis.net/wms'];ol.format.WMSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Service':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readService_),'Capability':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapability_)});ol.format.WMSCapabilities.CAPABILITY_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Request':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readRequest_),'Exception':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readException_),'Layer':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapabilityLayer_)});ol.format.WMSCapabilities.SERVICE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Name':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Title':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Abstract':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'KeywordList':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),'OnlineResource':ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),'ContactInformation':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactInformation_),'Fees':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'AccessConstraints':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'LayerLimit':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'MaxWidth':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'MaxHeight':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)});ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'ContactPersonPrimary':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactPersonPrimary_),'ContactPosition':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'ContactAddress':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactAddress_),'ContactVoiceTelephone':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'ContactFacsimileTelephone':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'ContactElectronicMailAddress':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'ContactPerson':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'ContactOrganization':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'AddressType':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Address':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'City':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'StateOrProvince':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'PostCode':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Country':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.EXCEPTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Format':ol.xml.makeArrayPusher(ol.format.XSD.readString)});ol.format.WMSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Name':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Title':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Abstract':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'KeywordList':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),'CRS':ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),'EX_GeographicBoundingBox':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readEXGeographicBoundingBox_),'BoundingBox':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readBoundingBox_),'Dimension':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDimension_),'Attribution':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readAttribution_),'AuthorityURL':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readAuthorityURL_),'Identifier':ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),'MetadataURL':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readMetadataURL_),'DataURL':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),'FeatureListURL':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),'Style':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readStyle_),'MinScaleDenominator':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'MaxScaleDenominator':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'Layer':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readLayer_)});ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Title':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'OnlineResource':ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),'LogoURL':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readSizedFormatOnlineresource_)});ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'westBoundLongitude':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'eastBoundLongitude':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'southBoundLatitude':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'northBoundLatitude':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.WMSCapabilities.REQUEST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'GetCapabilities':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),'GetMap':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),'GetFeatureInfo':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_)});ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Format':ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),'DCPType':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDCPType_)});ol.format.WMSCapabilities.DCPTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'HTTP':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readHTTP_)});ol.format.WMSCapabilities.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Get':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),'Post':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Name':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Title':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Abstract':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'LegendURL':ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readSizedFormatOnlineresource_),'StyleSheetURL':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),'StyleURL':ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Format':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'OnlineResource':ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)});ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{'Keyword':ol.xml.makeArrayPusher(ol.format.XSD.readString)});goog.provide('ol.format.WMSGetFeatureInfo');goog.require('ol');goog.require('ol.array');goog.require('ol.format.GML2');goog.require('ol.format.XMLFeature');goog.require('ol.obj');goog.require('ol.xml');ol.format.WMSGetFeatureInfo=function(a){var b=a?a:{};this.featureNS_='http://mapserver.gis.umn.edu/mapserver';this.gmlFormat_=new ol.format.GML2();this.layers_=b.layers?b.layers:null;ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WMSGetFeatureInfo,ol.format.XMLFeature);ol.format.WMSGetFeatureInfo.featureIdentifier_='_feature';ol.format.WMSGetFeatureInfo.layerIdentifier_='_layer';ol.format.WMSGetFeatureInfo.prototype.getLayers=function(){return this.layers_};ol.format.WMSGetFeatureInfo.prototype.setLayers=function(a){this.layers_=a};ol.format.WMSGetFeatureInfo.prototype.readFeatures_=function(a,i){a.setAttribute('namespaceURI',this.featureNS_);var k=a.localName;var b=[];if(a.childNodes.length===0){return b}if(k=='msGMLOutput'){for(var e=0,o=a.childNodes.length;e<o;e++){var c=a.childNodes[e];if(c.nodeType!==Node.ELEMENT_NODE){continue}var d=i[0];var n=ol.format.WMSGetFeatureInfo.layerIdentifier_;var j=c.localName.replace(n,'');if(this.layers_&&!ol.array.includes(this.layers_,j)){continue}var g=j+ol.format.WMSGetFeatureInfo.featureIdentifier_;d['featureType']=g;d['featureNS']=this.featureNS_;var l={};l[g]=ol.xml.makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var m=ol.xml.makeStructureNS([d['featureNS'],null],l);c.setAttribute('namespaceURI',this.featureNS_);var f=ol.xml.pushParseAndPop([],m,c,i,this.gmlFormat_);if(f){ol.array.extend(b,f)}}}if(k=='FeatureCollection'){var h=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,a,[{}],this.gmlFormat_);if(h){b=h}}return b};ol.format.WMSGetFeatureInfo.prototype.readFeatures;ol.format.WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(c,a){var b={};if(a){ol.obj.assign(b,this.getReadOptions(c,a))}return this.readFeatures_(c,[b])};ol.format.WMSGetFeatureInfo.prototype.writeFeatureNode=function(b,a){};ol.format.WMSGetFeatureInfo.prototype.writeFeaturesNode=function(b,a){};ol.format.WMSGetFeatureInfo.prototype.writeGeometryNode=function(b,a){};goog.provide('ol.format.WMTSCapabilities');goog.require('ol');goog.require('ol.extent');goog.require('ol.format.OWS');goog.require('ol.format.XLink');goog.require('ol.format.XML');goog.require('ol.format.XSD');goog.require('ol.xml');ol.format.WMTSCapabilities=function(){ol.format.XML.call(this);this.owsParser_=new ol.format.OWS()};ol.inherits(ol.format.WMTSCapabilities,ol.format.XML);ol.format.WMTSCapabilities.prototype.read;ol.format.WMTSCapabilities.prototype.readFromDocument=function(b){for(var a=b.firstChild;a;a=a.nextSibling){if(a.nodeType==Node.ELEMENT_NODE){return this.readFromNode(a)}}return null};ol.format.WMTSCapabilities.prototype.readFromNode=function(b){var c=b.getAttribute('version').trim();var a=this.owsParser_.readFromNode(b);if(!a){return null}a['version']=c;a=ol.xml.pushParseAndPop(a,ol.format.WMTSCapabilities.PARSERS_,b,[]);return a?a:null};ol.format.WMTSCapabilities.readContents_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.CONTENTS_PARSERS_,b,a)};ol.format.WMTSCapabilities.readLayer_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.LAYER_PARSERS_,b,a)};ol.format.WMTSCapabilities.readTileMatrixSet_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_PARSERS_,b,a)};ol.format.WMTSCapabilities.readStyle_=function(b,c){var a=ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.STYLE_PARSERS_,b,c);if(!a){return undefined}var d=b.getAttribute('isDefault')==='true';a['isDefault']=d;return a};ol.format.WMTSCapabilities.readTileMatrixSetLink_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_,b,a)};ol.format.WMTSCapabilities.readDimensions_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.DIMENSION_PARSERS_,b,a)};ol.format.WMTSCapabilities.readResourceUrl_=function(b,f){var e=b.getAttribute('format');var d=b.getAttribute('template');var c=b.getAttribute('resourceType');var a={};if(e){a['format']=e}if(d){a['template']=d}if(c){a['resourceType']=c}return a};ol.format.WMTSCapabilities.readWgs84BoundingBox_=function(c,b){var a=ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.WGS84_BBOX_READERS_,c,b);if(a.length!=2){return undefined}return ol.extent.boundingExtent(a)};ol.format.WMTSCapabilities.readLegendUrl_=function(b,c){var a={};a['format']=b.getAttribute('format');a['href']=ol.format.XLink.readHref(b);return a};ol.format.WMTSCapabilities.readCoordinates_=function(d,e){var a=ol.format.XSD.readString(d).split(' ');if(!a||a.length!=2){return undefined}var b=+a[0];var c=+a[1];if(isNaN(b)||isNaN(c)){return undefined}return [b,c]};ol.format.WMTSCapabilities.readTileMatrix_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TM_PARSERS_,b,a)};ol.format.WMTSCapabilities.readTileMatrixLimitsList_=function(b,a){return ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_,b,a)};ol.format.WMTSCapabilities.readTileMatrixLimits_=function(b,a){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_,b,a)};ol.format.WMTSCapabilities.NAMESPACE_URIS_=[null,'http://www.opengis.net/wmts/1.0'];ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_=[null,'http://www.opengis.net/ows/1.1'];ol.format.WMTSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'Contents':ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readContents_)});ol.format.WMTSCapabilities.CONTENTS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'Layer':ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLayer_),'TileMatrixSet':ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSet_)});ol.format.WMTSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'Style':ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readStyle_),'Format':ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),'TileMatrixSetLink':ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSetLink_),'Dimension':ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readDimensions_),'ResourceURL':ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readResourceUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{'Title':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Abstract':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'WGS84BoundingBox':ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readWgs84BoundingBox_),'Identifier':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'LegendURL':ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLegendUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{'Title':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Identifier':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'TileMatrixSet':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'TileMatrixSetLimits':ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readTileMatrixLimitsList_)});ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'TileMatrixLimits':ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readTileMatrixLimits_)});ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'TileMatrix':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'MinTileRow':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'MaxTileRow':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'MinTileCol':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'MaxTileCol':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)});ol.format.WMTSCapabilities.DIMENSION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'Default':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Value':ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{'Identifier':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.WGS84_BBOX_READERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{'LowerCorner':ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_),'UpperCorner':ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_)});ol.format.WMTSCapabilities.TMS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'WellKnownScaleSet':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'TileMatrix':ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrix_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{'SupportedCRS':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),'Identifier':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TM_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{'TopLeftCorner':ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readCoordinates_),'ScaleDenominator':ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),'TileWidth':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'TileHeight':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'MatrixWidth':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),'MatrixHeight':ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{'Identifier':ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));goog.provide('ol.GeolocationProperty');ol.GeolocationProperty={ACCURACY:'accuracy',ACCURACY_GEOMETRY:'accuracyGeometry',ALTITUDE:'altitude',ALTITUDE_ACCURACY:'altitudeAccuracy',HEADING:'heading',POSITION:'position',PROJECTION:'projection',SPEED:'speed',TRACKING:'tracking',TRACKING_OPTIONS:'trackingOptions'};goog.provide('ol.Geolocation');goog.require('ol');goog.require('ol.GeolocationProperty');goog.require('ol.Object');goog.require('ol.Sphere');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.geom.Polygon');goog.require('ol.has');goog.require('ol.math');goog.require('ol.proj');goog.require('ol.proj.EPSG4326');ol.Geolocation=function(b){ol.Object.call(this);var a=b||{};this.position_=null;this.transform_=ol.proj.identityTransform;this.sphere_=new ol.Sphere(ol.proj.EPSG4326.RADIUS);this.watchId_=undefined;ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.PROJECTION),this.handleProjectionChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.TRACKING),this.handleTrackingChanged_,this);if(a.projection!==undefined){this.setProjection(a.projection)}if(a.trackingOptions!==undefined){this.setTrackingOptions(a.trackingOptions)}this.setTracking(a.tracking!==undefined?a.tracking:!1)};ol.inherits(ol.Geolocation,ol.Object);ol.Geolocation.prototype.disposeInternal=function(){this.setTracking(!1);ol.Object.prototype.disposeInternal.call(this)};ol.Geolocation.prototype.handleProjectionChanged_=function(){var a=this.getProjection();if(a){this.transform_=ol.proj.getTransformFromProjections(ol.proj.get('EPSG:4326'),a);if(this.position_){this.set(ol.GeolocationProperty.POSITION,this.transform_(this.position_))}}};ol.Geolocation.prototype.handleTrackingChanged_=function(){if(ol.has.GEOLOCATION){var a=this.getTracking();if(a&&this.watchId_===undefined){this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions())}else {if(!a&&this.watchId_!==undefined){navigator.geolocation.clearWatch(this.watchId_);this.watchId_=undefined}}}};ol.Geolocation.prototype.positionChange_=function(d){var a=d.coords;this.set(ol.GeolocationProperty.ACCURACY,a.accuracy);this.set(ol.GeolocationProperty.ALTITUDE,a.altitude===null?undefined:a.altitude);this.set(ol.GeolocationProperty.ALTITUDE_ACCURACY,a.altitudeAccuracy===null?undefined:a.altitudeAccuracy);this.set(ol.GeolocationProperty.HEADING,a.heading===null?undefined:ol.math.toRadians(a.heading));if(!this.position_){this.position_=[a.longitude,a.latitude]}else {this.position_[0]=a.longitude;this.position_[1]=a.latitude}var c=this.transform_(this.position_);this.set(ol.GeolocationProperty.POSITION,c);this.set(ol.GeolocationProperty.SPEED,a.speed===null?undefined:a.speed);var b=ol.geom.Polygon.circular(this.sphere_,this.position_,a.accuracy);b.applyTransform(this.transform_);this.set(ol.GeolocationProperty.ACCURACY_GEOMETRY,b);this.changed()};ol.Geolocation.prototype.positionError_=function(a){a.type=ol.events.EventType.ERROR;this.setTracking(!1);this.dispatchEvent(a)};ol.Geolocation.prototype.getAccuracy=function(){return this.get(ol.GeolocationProperty.ACCURACY)};ol.Geolocation.prototype.getAccuracyGeometry=function(){return this.get(ol.GeolocationProperty.ACCURACY_GEOMETRY)||null};ol.Geolocation.prototype.getAltitude=function(){return this.get(ol.GeolocationProperty.ALTITUDE)};ol.Geolocation.prototype.getAltitudeAccuracy=function(){return this.get(ol.GeolocationProperty.ALTITUDE_ACCURACY)};ol.Geolocation.prototype.getHeading=function(){return this.get(ol.GeolocationProperty.HEADING)};ol.Geolocation.prototype.getPosition=function(){return this.get(ol.GeolocationProperty.POSITION)};ol.Geolocation.prototype.getProjection=function(){return this.get(ol.GeolocationProperty.PROJECTION)};ol.Geolocation.prototype.getSpeed=function(){return this.get(ol.GeolocationProperty.SPEED)};ol.Geolocation.prototype.getTracking=function(){return this.get(ol.GeolocationProperty.TRACKING)};ol.Geolocation.prototype.getTrackingOptions=function(){return this.get(ol.GeolocationProperty.TRACKING_OPTIONS)};ol.Geolocation.prototype.setProjection=function(a){this.set(ol.GeolocationProperty.PROJECTION,ol.proj.get(a))};ol.Geolocation.prototype.setTracking=function(a){this.set(ol.GeolocationProperty.TRACKING,a)};ol.Geolocation.prototype.setTrackingOptions=function(a){this.set(ol.GeolocationProperty.TRACKING_OPTIONS,a)};goog.provide('ol.geom.Circle');goog.require('ol');goog.require('ol.extent');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.GeometryType');goog.require('ol.geom.SimpleGeometry');goog.require('ol.geom.flat.deflate');ol.geom.Circle=function(c,a,b){ol.geom.SimpleGeometry.call(this);var d=a?a:0;this.setCenterAndRadius(c,d,b)};ol.inherits(ol.geom.Circle,ol.geom.SimpleGeometry);ol.geom.Circle.prototype.clone=function(){var a=new ol.geom.Circle(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return a};ol.geom.Circle.prototype.closestPointXY=function(i,j,c,g){var b=this.flatCoordinates;var e=i-b[0];var f=j-b[1];var d=e*e+f*f;if(d<g){var a;if(d===0){for(a=0;a<this.stride;++a){c[a]=b[a]}}else {var h=this.getRadius()/Math.sqrt(d);c[0]=b[0]+h*e;c[1]=b[1]+h*f;for(a=2;a<this.stride;++a){c[a]=b[a]}}c.length=this.stride;return d}else {return g}};ol.geom.Circle.prototype.containsXY=function(d,e){var a=this.flatCoordinates;var b=d-a[0];var c=e-a[1];return b*b+c*c<=this.getRadiusSquared_()};ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.Circle.prototype.computeExtent=function(c){var a=this.flatCoordinates;var b=a[this.stride]-a[0];return ol.extent.createOrUpdate(a[0]-b,a[1]-b,a[0]+b,a[1]+b,c)};ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};ol.geom.Circle.prototype.getRadiusSquared_=function(){var a=this.flatCoordinates[this.stride]-this.flatCoordinates[0];var b=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return a*a+b*b};ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE};ol.geom.Circle.prototype.intersectsExtent=function(a){var c=this.getExtent();if(ol.extent.intersects(a,c)){var b=this.getCenter();if(a[0]<=b[0]&&a[2]>=b[0]){return !0}if(a[1]<=b[1]&&a[3]>=b[1]){return !0}return ol.extent.forEachCorner(a,this.intersectsCoordinate,this)}return !1};ol.geom.Circle.prototype.setCenter=function(d){var c=this.stride;var e=this.flatCoordinates[c]-this.flatCoordinates[0];var b=d.slice();b[c]=b[0]+e;var a;for(a=1;a<c;++a){b[c+a]=d[a]}this.setFlatCoordinates(this.layout,b)};ol.geom.Circle.prototype.setCenterAndRadius=function(c,g,f){if(!c){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else {this.setLayout(f,c,0);if(!this.flatCoordinates){this.flatCoordinates=[]}var a=this.flatCoordinates;var d=ol.geom.flat.deflate.coordinate(a,0,c,this.stride);a[d++]=a[0]+g;var b,e;for(b=1,e=this.stride;b<e;++b){a[d++]=a[b]}a.length=d;this.changed()}};ol.geom.Circle.prototype.getCoordinates=function(){};ol.geom.Circle.prototype.setCoordinates=function(a,b){};ol.geom.Circle.prototype.setFlatCoordinates=function(b,a){this.setFlatCoordinatesInternal(b,a);this.changed()};ol.geom.Circle.prototype.setRadius=function(a){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+a;this.changed()};ol.geom.Circle.prototype.transform;goog.provide('ol.geom.flat.geodesic');goog.require('ol.math');goog.require('ol.proj');ol.geom.flat.geodesic.line_=function(m,o,r){var l=[];var i=m(0);var j=m(1);var a=o(i);var b=o(j);var p=[j,i];var q=[b,a];var e=[1,0];var n={};var s=100000;var k,d,f,g,h,c;while(--s>0&&e.length>0){f=e.pop();i=p.pop();a=q.pop();c=f.toString();if(!(c in n)){l.push(a[0],a[1]);n[c]=!0}g=e.pop();j=p.pop();b=q.pop();h=(f+g)/2;k=m(h);d=o(k);if(ol.math.squaredSegmentDistance(d[0],d[1],a[0],a[1],b[0],b[1])<r){l.push(b[0],b[1]);c=g.toString();n[c]=!0}else {e.push(g,h,h,f);q.push(b,d,d,a);p.push(j,k,k,i)}}return l};ol.geom.flat.geodesic.greatCircleArc=function(e,i,f,d,n,k){var l=ol.proj.get('EPSG:4326');var a=Math.cos(ol.math.toRadians(i));var b=Math.sin(ol.math.toRadians(i));var c=Math.cos(ol.math.toRadians(d));var h=Math.sin(ol.math.toRadians(d));var g=Math.cos(ol.math.toRadians(f-e));var m=Math.sin(ol.math.toRadians(f-e));var j=b*h+a*c*g;return ol.geom.flat.geodesic.line_(function(s){if(1<=j){return [f,d]}var r=s*Math.acos(j);var o=Math.cos(r);var p=Math.sin(r);var v=m*c;var u=a*h-b*c*g;var l=Math.atan2(v,u);var q=Math.asin(b*o+a*p*Math.cos(l));var t=ol.math.toRadians(e)+Math.atan2(Math.sin(l)*p*a,o-b*Math.sin(q));return [ol.math.toDegrees(t),ol.math.toDegrees(q)]},ol.proj.getTransform(l,n),k)};ol.geom.flat.geodesic.meridian=function(f,a,e,d,c){var b=ol.proj.get('EPSG:4326');return ol.geom.flat.geodesic.line_(function(b){return [f,a+(e-a)*b]},ol.proj.getTransform(b,d),c)};ol.geom.flat.geodesic.parallel=function(f,a,e,d,c){var b=ol.proj.get('EPSG:4326');return ol.geom.flat.geodesic.line_(function(b){return [a+(e-a)*b,f]},ol.proj.getTransform(b,d),c)};goog.provide('ol.geom.flat.topology');goog.require('ol.geom.flat.area');ol.geom.flat.topology.lineStringIsClosed=function(a,b,d,c){var e=d-c;if(a[b]===a[e]&&a[b+1]===a[e+1]&&(d-b)/c>3){return !!ol.geom.flat.area.linearRing(a,b,d,c)}return !1};goog.provide('ol.Graticule');goog.require('ol.coordinate');goog.require('ol.extent');goog.require('ol.geom.GeometryLayout');goog.require('ol.geom.LineString');goog.require('ol.geom.Point');goog.require('ol.geom.flat.geodesic');goog.require('ol.math');goog.require('ol.proj');goog.require('ol.render.EventType');goog.require('ol.style.Fill');goog.require('ol.style.Stroke');goog.require('ol.style.Text');ol.Graticule=function(c){var a=c||{};this.map_=null;this.projection_=null;this.maxLat_=Infinity;this.maxLon_=Infinity;this.minLat_=-Infinity;this.minLon_=-Infinity;this.maxLatP_=Infinity;this.maxLonP_=Infinity;this.minLatP_=-Infinity;this.minLonP_=-Infinity;this.targetSize_=a.targetSize!==undefined?a.targetSize:100;this.maxLines_=a.maxLines!==undefined?a.maxLines:100;this.meridians_=[];this.parallels_=[];this.strokeStyle_=a.strokeStyle!==undefined?a.strokeStyle:ol.Graticule.DEFAULT_STROKE_STYLE_;this.fromLonLatTransform_=undefined;this.toLonLatTransform_=undefined;this.projectionCenterLonLat_=null;this.meridiansLabels_=null;this.parallelsLabels_=null;if(a.showLabels==!0){var b=ol.coordinate.degreesToStringHDMS;this.lonLabelFormatter_=a.lonLabelFormatter==undefined?b.bind(this,'EW'):a.lonLabelFormatter;this.latLabelFormatter_=a.latLabelFormatter==undefined?b.bind(this,'NS'):a.latLabelFormatter;this.lonLabelPosition_=a.lonLabelPosition==undefined?0:a.lonLabelPosition;this.latLabelPosition_=a.latLabelPosition==undefined?1:a.latLabelPosition;this.lonLabelStyle_=a.lonLabelStyle!==undefined?a.lonLabelStyle:new ol.style.Text({font:'12px Calibri,sans-serif',textBaseline:'bottom',fill:new ol.style.Fill({color:'rgba(0,0,0,1)'}),stroke:new ol.style.Stroke({color:'rgba(255,255,255,1)',width:3})});this.latLabelStyle_=a.latLabelStyle!==undefined?a.latLabelStyle:new ol.style.Text({font:'12px Calibri,sans-serif',textAlign:'end',fill:new ol.style.Fill({color:'rgba(0,0,0,1)'}),stroke:new ol.style.Stroke({color:'rgba(255,255,255,1)',width:3})});this.meridiansLabels_=[];this.parallelsLabels_=[]}this.setMap(a.map!==undefined?a.map:null)};ol.Graticule.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:'rgba(0,0,0,0.2)'});ol.Graticule.intervals_=[90,45,30,20,10,5,2,1,0.5,0.2,0.1,0.05,0.01,0.005,0.002,0.001];ol.Graticule.prototype.addMeridian_=function(d,h,g,e,c,a){var b=this.getMeridian_(d,h,g,e,a);if(ol.extent.intersects(b.getExtent(),c)){if(this.meridiansLabels_){var f=this.getMeridianPoint_(b,c,a);this.meridiansLabels_[a]={geom:f,text:this.lonLabelFormatter_(d)}}this.meridians_[a++]=b}return a};ol.Graticule.prototype.getMeridianPoint_=function(h,a,c){var b=h.getFlatCoordinates();var e=Math.max(a[1],b[1]);var f=Math.min(a[3],b[b.length-1]);var i=ol.math.clamp(a[1]+Math.abs(a[1]-a[3])*this.lonLabelPosition_,e,f);var g=[b[0],i];var d=this.meridiansLabels_[c]!==undefined?this.meridiansLabels_[c].geom:new ol.geom.Point(null);d.setCoordinates(g);return d};ol.Graticule.prototype.addParallel_=function(d,h,g,e,c,a){var b=this.getParallel_(d,h,g,e,a);if(ol.extent.intersects(b.getExtent(),c)){if(this.parallelsLabels_){var f=this.getParallelPoint_(b,c,a);this.parallelsLabels_[a]={geom:f,text:this.latLabelFormatter_(d)}}this.parallels_[a++]=b}return a};ol.Graticule.prototype.getParallelPoint_=function(h,a,c){var b=h.getFlatCoordinates();var f=Math.max(a[0],b[0]);var e=Math.min(a[2],b[b.length-2]);var i=ol.math.clamp(a[0]+Math.abs(a[0]-a[2])*this.latLabelPosition_,f,e);var g=[i,b[1]];var d=this.parallelsLabels_[c]!==undefined?this.parallelsLabels_[c].geom:new ol.geom.Point(null);d.setCoordinates(g);return d};ol.Graticule.prototype.createGraticule_=function(d,r,q,g){var e=this.getInterval_(q);if(e==-1){this.meridians_.length=this.parallels_.length=0;if(this.meridiansLabels_){this.meridiansLabels_.length=0}if(this.parallelsLabels_){this.parallelsLabels_.length=0}return}var p=this.toLonLatTransform_(r);var j=p[0];var i=p[1];var k=this.maxLines_;var f,a,b,c;var h=[Math.max(d[0],this.minLonP_),Math.max(d[1],this.minLatP_),Math.min(d[2],this.maxLonP_),Math.min(d[3],this.maxLatP_)];h=ol.proj.transformExtent(h,this.projection_,'EPSG:4326');var l=h[3];var m=h[2];var n=h[1];var o=h[0];j=Math.floor(j/e)*e;c=ol.math.clamp(j,this.minLon_,this.maxLon_);a=this.addMeridian_(c,n,l,g,d,0);f=0;while(c!=this.minLon_&&f++<k){c=Math.max(c-e,this.minLon_);a=this.addMeridian_(c,n,l,g,d,a)}c=ol.math.clamp(j,this.minLon_,this.maxLon_);f=0;while(c!=this.maxLon_&&f++<k){c=Math.min(c+e,this.maxLon_);a=this.addMeridian_(c,n,l,g,d,a)}this.meridians_.length=a;if(this.meridiansLabels_){this.meridiansLabels_.length=a}i=Math.floor(i/e)*e;b=ol.math.clamp(i,this.minLat_,this.maxLat_);a=this.addParallel_(b,o,m,g,d,0);f=0;while(b!=this.minLat_&&f++<k){b=Math.max(b-e,this.minLat_);a=this.addParallel_(b,o,m,g,d,a)}b=ol.math.clamp(i,this.minLat_,this.maxLat_);f=0;while(b!=this.maxLat_&&f++<k){b=Math.min(b+e,this.maxLat_);a=this.addParallel_(b,o,m,g,d,a)}this.parallels_.length=a;if(this.parallelsLabels_){this.parallelsLabels_.length=a}};ol.Graticule.prototype.getInterval_=function(j){var f=this.projectionCenterLonLat_[0];var e=this.projectionCenterLonLat_[1];var g=-1;var d,i,c,h;var k=Math.pow(this.targetSize_*j,2);var a=[];var b=[];for(d=0,i=ol.Graticule.intervals_.length;d<i;++d){c=ol.Graticule.intervals_[d]/2;a[0]=f-c;a[1]=e-c;b[0]=f+c;b[1]=e+c;this.fromLonLatTransform_(a,a);this.fromLonLatTransform_(b,b);h=Math.pow(b[0]-a[0],2)+Math.pow(b[1]-a[1],2);if(h<=k){break}g=ol.Graticule.intervals_[d]}return g};ol.Graticule.prototype.getMap=function(){return this.map_};ol.Graticule.prototype.getMeridian_=function(g,f,e,c,b){var d=ol.geom.flat.geodesic.meridian(g,f,e,this.projection_,c);var a=this.meridians_[b]!==undefined?this.meridians_[b]:new ol.geom.LineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,d);return a};ol.Graticule.prototype.getMeridians=function(){return this.meridians_};ol.Graticule.prototype.getParallel_=function(g,f,e,c,b){var d=ol.geom.flat.geodesic.parallel(g,f,e,this.projection_,c);var a=this.parallels_[b]!==undefined?this.parallels_[b]:new ol.geom.LineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,d);return a};ol.Graticule.prototype.getParallels=function(){return this.parallels_};ol.Graticule.prototype.handlePostCompose_=function(k){var c=k.vectorContext;var f=k.frameState;var o=f.extent;var h=f.viewState;var n=h.center;var j=h.projection;var g=h.resolution;var i=f.pixelRatio;var m=g*g/(4*i*i);var l=!this.projection_||!ol.proj.equivalent(this.projection_,j);if(l){this.updateProjectionInfo_(j)}this.createGraticule_(o,n,g,m);c.setFillStrokeStyle(null,this.strokeStyle_);var a,b,e;for(a=0,b=this.meridians_.length;a<b;++a){e=this.meridians_[a];c.drawGeometry(e)}for(a=0,b=this.parallels_.length;a<b;++a){e=this.parallels_[a];c.drawGeometry(e)}var d;if(this.meridiansLabels_){for(a=0,b=this.meridiansLabels_.length;a<b;++a){d=this.meridiansLabels_[a];this.lonLabelStyle_.setText(d.text);c.setTextStyle(this.lonLabelStyle_);c.drawGeometry(d.geom)}}if(this.parallelsLabels_){for(a=0,b=this.parallelsLabels_.length;a<b;++a){d=this.parallelsLabels_[a];this.latLabelStyle_.setText(d.text);c.setTextStyle(this.latLabelStyle_);c.drawGeometry(d.geom)}}};ol.Graticule.prototype.updateProjectionInfo_=function(a){var d=ol.proj.get('EPSG:4326');var i=a.getExtent();var b=a.getWorldExtent();var c=ol.proj.transformExtent(b,d,a);var j=b[3];var k=b[2];var l=b[1];var m=b[0];var e=c[3];var f=c[2];var g=c[1];var h=c[0];this.maxLat_=j;this.maxLon_=k;this.minLat_=l;this.minLon_=m;this.maxLatP_=e;this.maxLonP_=f;this.minLatP_=g;this.minLonP_=h;this.fromLonLatTransform_=ol.proj.getTransform(d,a);this.toLonLatTransform_=ol.proj.getTransform(a,d);this.projectionCenterLonLat_=this.toLonLatTransform_(ol.extent.getCenter(i));this.projection_=a};ol.Graticule.prototype.setMap=function(a){if(this.map_){this.map_.un(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);this.map_.render()}if(a){a.on(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);a.render()}this.map_=a};goog.provide('ol.Image');goog.require('ol');goog.require('ol.ImageBase');goog.require('ol.ImageState');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');ol.Image=function(e,d,c,f,a,b){ol.ImageBase.call(this,e,d,c,ol.ImageState.IDLE);this.src_=f;this.image_=new Image();if(a!==null){this.image_.crossOrigin=a}this.imageListenerKeys_=null;this.state=ol.ImageState.IDLE;this.imageLoadFunction_=b};ol.inherits(ol.Image,ol.ImageBase);ol.Image.prototype.getImage=function(){return this.image_};ol.Image.prototype.handleImageError_=function(){this.state=ol.ImageState.ERROR;this.unlistenImage_();this.changed()};ol.Image.prototype.handleImageLoad_=function(){if(this.resolution===undefined){this.resolution=ol.extent.getHeight(this.extent)/this.image_.height}this.state=ol.ImageState.LOADED;this.unlistenImage_();this.changed()};ol.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE||this.state==ol.ImageState.ERROR){this.state=ol.ImageState.LOADING;this.changed();this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.imageLoadFunction_(this,this.src_)}};ol.Image.prototype.setImage=function(a){this.image_=a};ol.Image.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide('ol.Tile');goog.require('ol');goog.require('ol.TileState');goog.require('ol.easing');goog.require('ol.events.EventTarget');goog.require('ol.events.EventType');ol.Tile=function(c,d,a){ol.events.EventTarget.call(this);var b=a?a:{};this.tileCoord=c;this.state=d;this.interimTile=null;this.key='';this.transition_=b.transition===undefined?250:b.transition;this.transitionStarts_={}};ol.inherits(ol.Tile,ol.events.EventTarget);ol.Tile.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Tile.prototype.getKey=function(){return this.key+'/'+this.tileCoord};ol.Tile.prototype.getInterimTile=function(){if(!this.interimTile){return this}var a=this.interimTile;do{if(a.getState()==ol.TileState.LOADED){return a}a=a.interimTile}while(a);return this};ol.Tile.prototype.refreshInterimChain=function(){if(!this.interimTile){return}var a=this.interimTile;var b=this;do{if(a.getState()==ol.TileState.LOADED){a.interimTile=null;break}else {if(a.getState()==ol.TileState.LOADING){b=a}else {if(a.getState()==ol.TileState.IDLE){b.interimTile=a.interimTile}else {b=a}}}a=b.interimTile}while(a)};ol.Tile.prototype.getTileCoord=function(){return this.tileCoord};ol.Tile.prototype.getState=function(){return this.state};ol.Tile.prototype.setState=function(a){this.state=a;this.changed()};ol.Tile.prototype.load=function(){};ol.Tile.prototype.getAlpha=function(d,c){if(!this.transition_){return 1}var a=this.transitionStarts_[d];if(!a){a=c;this.transitionStarts_[d]=a}else {if(a===-1){return 1}}var b=c-a+1000/60;if(b>=this.transition_){return 1}return ol.easing.easeIn(b/this.transition_)};ol.Tile.prototype.inTransition=function(a){if(!this.transition_){return !1}return this.transitionStarts_[a]!==-1};ol.Tile.prototype.endTransition=function(a){if(this.transition_){this.transitionStarts_[a]=-1}};goog.provide('ol.ImageTile');goog.require('ol');goog.require('ol.Tile');goog.require('ol.TileState');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.EventType');ol.ImageTile=function(d,e,f,a,b,c){ol.Tile.call(this,d,e,c);this.crossOrigin_=a;this.src_=f;this.image_=new Image();if(a!==null){this.image_.crossOrigin=a}this.imageListenerKeys_=null;this.tileLoadFunction_=b};ol.inherits(ol.ImageTile,ol.Tile);ol.ImageTile.prototype.disposeInternal=function(){if(this.state==ol.TileState.LOADING){this.unlistenImage_();this.image_=ol.ImageTile.getBlankImage()}if(this.interimTile){this.interimTile.dispose()}this.state=ol.TileState.ABORT;this.changed();ol.Tile.prototype.disposeInternal.call(this)};ol.ImageTile.prototype.getImage=function(){return this.image_};ol.ImageTile.prototype.getKey=function(){return this.src_};ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.TileState.ERROR;this.unlistenImage_();this.image_=ol.ImageTile.getBlankImage();this.changed()};ol.ImageTile.prototype.handleImageLoad_=function(){if(this.image_.naturalWidth&&this.image_.naturalHeight){this.state=ol.TileState.LOADED}else {this.state=ol.TileState.EMPTY}this.unlistenImage_();this.changed()};ol.ImageTile.prototype.load=function(){if(this.state==ol.TileState.ERROR){this.state=ol.TileState.IDLE;this.image_=new Image();if(this.crossOrigin_!==null){this.image_.crossOrigin=this.crossOrigin_}}if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;this.changed();this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.tileLoadFunction_(this,this.src_)}};ol.ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};ol.ImageTile.getBlankImage=function(){var a=ol.dom.createCanvasContext2D(1,1);a.fillStyle='rgba(0,0,0,0)';a.fillRect(0,0,1,1);return a.canvas};goog.provide('ol.interaction.DragAndDrop');goog.require('ol');goog.require('ol.functions');goog.require('ol.events');goog.require('ol.events.Event');goog.require('ol.events.EventType');goog.require('ol.interaction.Interaction');goog.require('ol.proj');ol.interaction.DragAndDrop=function(b){var a=b?b:{};ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DragAndDrop.handleEvent});this.formatConstructors_=a.formatConstructors?a.formatConstructors:[];this.projection_=a.projection?ol.proj.get(a.projection):null;this.dropListenKeys_=null;this.source_=a.source||null;this.target=a.target?a.target:null};ol.inherits(ol.interaction.DragAndDrop,ol.interaction.Interaction);ol.interaction.DragAndDrop.handleDrop_=function(f){var d=f.dataTransfer.files;var a,e,b;for(a=0,e=d.length;a<e;++a){b=d.item(a);var c=new FileReader();c.addEventListener(ol.events.EventType.LOAD,this.handleResult_.bind(this,b));c.readAsText(b)}};ol.interaction.DragAndDrop.handleStop_=function(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect='copy'};ol.interaction.DragAndDrop.prototype.handleResult_=function(j,i){var h=i.target.result;var l=this.getMap();var b=this.projection_;if(!b){var k=l.getView();b=k.getProjection()}var d=this.formatConstructors_;var a=[];var c,e;for(c=0,e=d.length;c<e;++c){var f=d[c];var g=new f();a=this.tryReadFeatures_(g,h,{featureProjection:b});if(a&&a.length>0){break}}if(this.source_){this.source_.clear();this.source_.addFeatures(a)}this.dispatchEvent(new ol.interaction.DragAndDrop.Event(ol.interaction.DragAndDrop.EventType_.ADD_FEATURES,j,a,b))};ol.interaction.DragAndDrop.handleEvent=ol.functions.TRUE;ol.interaction.DragAndDrop.prototype.registerListeners_=function(){var b=this.getMap();if(b){var a=this.target?this.target:b.getViewport();this.dropListenKeys_=[ol.events.listen(a,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleDrop_,this),ol.events.listen(a,ol.events.EventType.DRAGENTER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(a,ol.events.EventType.DRAGOVER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(a,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleStop_,this)]}};ol.interaction.DragAndDrop.prototype.setActive=function(a){ol.interaction.Interaction.prototype.setActive.call(this,a);if(a){this.registerListeners_()}else {this.unregisterListeners_()}};ol.interaction.DragAndDrop.prototype.setMap=function(a){this.unregisterListeners_();ol.interaction.Interaction.prototype.setMap.call(this,a);if(this.getActive()){this.registerListeners_()}};ol.interaction.DragAndDrop.prototype.tryReadFeatures_=function(b,c,a){try{return b.readFeatures(c,a)}catch(d){return null}};ol.interaction.DragAndDrop.prototype.unregisterListeners_=function(){if(this.dropListenKeys_){this.dropListenKeys_.forEach(ol.events.unlistenByKey);this.dropListenKeys_=null}};ol.interaction.DragAndDrop.EventType_={ADD_FEATURES:'addfeatures'};ol.interaction.DragAndDrop.Event=function(d,c,b,a){ol.events.Event.call(this,d);this.features=b;this.file=c;this.projection=a};ol.inherits(ol.interaction.DragAndDrop.Event,ol.events.Event);goog.provide('ol.interaction.DragRotateAndZoom');goog.require('ol');goog.require('ol.RotationConstraint');goog.require('ol.ViewHint');goog.require('ol.events.condition');goog.require('ol.interaction.Interaction');goog.require('ol.interaction.Pointer');ol.interaction.DragRotateAndZoom=function(b){var a=b?b:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotateAndZoom.handleDownEvent_,handleDragEvent:ol.interaction.DragRotateAndZoom.handleDragEvent_,handleUpEvent:ol.interaction.DragRotateAndZoom.handleUpEvent_});this.condition_=a.condition?a.condition:ol.events.condition.shiftKeyOnly;this.lastAngle_=undefined;this.lastMagnitude_=undefined;this.lastScaleDelta_=0;this.duration_=a.duration!==undefined?a.duration:400};ol.inherits(ol.interaction.DragRotateAndZoom,ol.interaction.Pointer);ol.interaction.DragRotateAndZoom.handleDragEvent_=function(b){if(!ol.events.condition.mouseOnly(b)){return}var i=b.map;var h=i.getSize();var f=b.pixel;var d=f[0]-h[0]/2;var e=h[1]/2-f[1];var g=Math.atan2(e,d);var c=Math.sqrt(d*d+e*e);var a=i.getView();if(a.getConstraints().rotation!==ol.RotationConstraint.disable&&this.lastAngle_!==undefined){var j=g-this.lastAngle_;ol.interaction.Interaction.rotateWithoutConstraints(a,a.getRotation()-j)}this.lastAngle_=g;if(this.lastMagnitude_!==undefined){var k=this.lastMagnitude_*(a.getResolution()/c);ol.interaction.Interaction.zoomWithoutConstraints(a,k)}if(this.lastMagnitude_!==undefined){this.lastScaleDelta_=this.lastMagnitude_/c}this.lastMagnitude_=c};ol.interaction.DragRotateAndZoom.handleUpEvent_=function(b){if(!ol.events.condition.mouseOnly(b)){return !0}var d=b.map;var a=d.getView();a.setHint(ol.ViewHint.INTERACTING,-1);var c=this.lastScaleDelta_-1;ol.interaction.Interaction.rotate(a,a.getRotation());ol.interaction.Interaction.zoom(a,a.getResolution(),undefined,this.duration_,c);this.lastScaleDelta_=0;return !1};ol.interaction.DragRotateAndZoom.handleDownEvent_=function(a){if(!ol.events.condition.mouseOnly(a)){return !1}if(this.condition_(a)){a.map.getView().setHint(ol.ViewHint.INTERACTING,1);this.lastAngle_=undefined;this.lastMagnitude_=undefined;return !0}else {return !1}};goog.provide('ol.interaction.DrawEventType');ol.interaction.DrawEventType={DRAWSTART:'drawstart',DRAWEND:'drawend'};goog.provide('ol.layer.Vector');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.layer.Layer');goog.require('ol.layer.VectorRenderType');goog.require('ol.obj');goog.require('ol.style.Style');ol.layer.Vector=function(c){var a=c?c:{};var b=ol.obj.assign({},a);delete b.style;delete b.renderBuffer;delete b.updateWhileAnimating;delete b.updateWhileInteracting;ol.layer.Layer.call(this,b);this.declutter_=a.declutter!==undefined?a.declutter:!1;this.renderBuffer_=a.renderBuffer!==undefined?a.renderBuffer:100;this.style_=null;this.styleFunction_=undefined;this.setStyle(a.style);this.updateWhileAnimating_=a.updateWhileAnimating!==undefined?a.updateWhileAnimating:!1;this.updateWhileInteracting_=a.updateWhileInteracting!==undefined?a.updateWhileInteracting:!1;this.renderMode_=a.renderMode||ol.layer.VectorRenderType.VECTOR;this.type=ol.LayerType.VECTOR};ol.inherits(ol.layer.Vector,ol.layer.Layer);ol.layer.Vector.prototype.getDeclutter=function(){return this.declutter_};ol.layer.Vector.prototype.setDeclutter=function(a){this.declutter_=a};ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_};ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.Vector.Property_.RENDER_ORDER)};ol.layer.Vector.prototype.getSource;ol.layer.Vector.prototype.getStyle=function(){return this.style_};ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_};ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};ol.layer.Vector.prototype.setRenderOrder=function(a){this.set(ol.layer.Vector.Property_.RENDER_ORDER,a)};ol.layer.Vector.prototype.setStyle=function(a){this.style_=a!==undefined?a:ol.style.Style.defaultFunction;this.styleFunction_=a===null?undefined:ol.style.Style.createFunction(this.style_);this.changed()};ol.layer.Vector.prototype.getRenderMode=function(){return this.renderMode_};ol.layer.Vector.Property_={RENDER_ORDER:'renderOrder'};goog.provide('ol.loadingstrategy');ol.loadingstrategy.all=function(b,a){return [[-Infinity,-Infinity,Infinity,Infinity]]};ol.loadingstrategy.bbox=function(a,b){return [a]};ol.loadingstrategy.tile=function(a){return function(g,f){var e=a.getZForResolution(f);var c=a.getTileRangeForExtentAndZ(g,e);var d=[];var b=[e,0,0];for(b[1]=c.minX;b[1]<=c.maxX;++b[1]){for(b[2]=c.minY;b[2]<=c.maxY;++b[2]){d.push(a.getTileCoordExtent(b))}}return d}};goog.provide('ol.source.Source');goog.require('ol');goog.require('ol.Attribution');goog.require('ol.Object');goog.require('ol.proj');goog.require('ol.source.State');ol.source.Source=function(a){ol.Object.call(this);this.projection_=ol.proj.get(a.projection);this.attributions_=null;this.attributions2_=this.adaptAttributions_(a.attributions);this.logo_=a.logo;this.state_=a.state!==undefined?a.state:ol.source.State.READY;this.wrapX_=a.wrapX!==undefined?a.wrapX:!1};ol.inherits(ol.source.Source,ol.Object);ol.source.Source.prototype.adaptAttributions_=function(a){if(!a){return null}if(a instanceof ol.Attribution){this.attributions_=[a];return function(b){return [a.getHTML()]}}if(Array.isArray(a)){if(a[0] instanceof ol.Attribution){this.attributions_=a;var b=a.map(function(b){return b.getHTML()});return function(c){return b}}this.attributions_=a.map(function(b){return new ol.Attribution({html:b})});return function(b){return a}}if(typeof a==='function'){return a}this.attributions_=[new ol.Attribution({html:a})];return function(b){return [a]}};ol.source.Source.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.source.Source.prototype.getAttributions=function(){return this.attributions_};ol.source.Source.prototype.getAttributions2=function(){return this.attributions2_};ol.source.Source.prototype.getLogo=function(){return this.logo_};ol.source.Source.prototype.getProjection=function(){return this.projection_};ol.source.Source.prototype.getResolutions=function(){};ol.source.Source.prototype.getState=function(){return this.state_};ol.source.Source.prototype.getWrapX=function(){return this.wrapX_};ol.source.Source.prototype.refresh=function(){this.changed()};ol.source.Source.prototype.setAttributions=function(a){this.attributions2_=this.adaptAttributions_(a);this.changed()};ol.source.Source.prototype.setLogo=function(a){this.logo_=a};ol.source.Source.prototype.setState=function(a){this.state_=a;this.changed()};goog.provide('ol.source.VectorEventType');ol.source.VectorEventType={ADDFEATURE:'addfeature',CHANGEFEATURE:'changefeature',CLEAR:'clear',REMOVEFEATURE:'removefeature'};goog.provide('ol.structs.RBush');goog.require('ol');goog.require('ol.ext.rbush');goog.require('ol.extent');goog.require('ol.obj');ol.structs.RBush=function(a){this.rbush_=ol.ext.rbush(a);this.items_={}};ol.structs.RBush.prototype.insert=function(a,b){var c={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:b};this.rbush_.insert(c);this.items_[ol.getUid(b)]=c};ol.structs.RBush.prototype.load=function(g,c){var d=new Array(c.length);for(var a=0,h=c.length;a<h;a++){var b=g[a];var e=c[a];var f={minX:b[0],minY:b[1],maxX:b[2],maxY:b[3],value:e};d[a]=f;this.items_[ol.getUid(e)]=f}this.rbush_.load(d)};ol.structs.RBush.prototype.remove=function(b){var a=ol.getUid(b);var c=this.items_[a];delete this.items_[a];return this.rbush_.remove(c)!==null};ol.structs.RBush.prototype.update=function(c,b){var a=this.items_[ol.getUid(b)];var d=[a.minX,a.minY,a.maxX,a.maxY];if(!ol.extent.equals(d,c)){this.remove(b);this.insert(c,b)}};ol.structs.RBush.prototype.getAll=function(){var a=this.rbush_.all();return a.map(function(a){return a.value})};ol.structs.RBush.prototype.getInExtent=function(a){var c={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]};var b=this.rbush_.search(c);return b.map(function(b){return b.value})};ol.structs.RBush.prototype.forEach=function(a,b){return this.forEach_(this.getAll(),a,b)};ol.structs.RBush.prototype.forEachInExtent=function(c,a,b){return this.forEach_(this.getInExtent(c),a,b)};ol.structs.RBush.prototype.forEach_=function(c,d,e){var a;for(var b=0,f=c.length;b<f;b++){a=d.call(e,c[b]);if(a){return a}}return a};ol.structs.RBush.prototype.isEmpty=function(){return ol.obj.isEmpty(this.items_)};ol.structs.RBush.prototype.clear=function(){this.rbush_.clear();this.items_={}};ol.structs.RBush.prototype.getExtent=function(b){var a=this.rbush_.data;return ol.extent.createOrUpdate(a.minX,a.minY,a.maxX,a.maxY,b)};ol.structs.RBush.prototype.concat=function(a){this.rbush_.load(a.rbush_.all());for(var b in a.items_){this.items_[b|0]=a.items_[b|0]}};goog.provide('ol.source.Vector');goog.require('ol');goog.require('ol.Collection');goog.require('ol.CollectionEventType');goog.require('ol.ObjectEventType');goog.require('ol.array');goog.require('ol.asserts');goog.require('ol.events');goog.require('ol.events.Event');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.featureloader');goog.require('ol.functions');goog.require('ol.loadingstrategy');goog.require('ol.obj');goog.require('ol.source.Source');goog.require('ol.source.State');goog.require('ol.source.VectorEventType');goog.require('ol.structs.RBush');ol.source.Vector=function(e){var a=e||{};ol.source.Source.call(this,{attributions:a.attributions,logo:a.logo,projection:undefined,state:ol.source.State.READY,wrapX:a.wrapX!==undefined?a.wrapX:!0});this.loader_=ol.nullFunction;this.format_=a.format;this.overlaps_=a.overlaps==undefined?!0:a.overlaps;this.url_=a.url;if(a.loader!==undefined){this.loader_=a.loader}else {if(this.url_!==undefined){ol.asserts.assert(this.format_,7);this.loader_=ol.featureloader.xhr(this.url_,this.format_)}}this.strategy_=a.strategy!==undefined?a.strategy:ol.loadingstrategy.all;var d=a.useSpatialIndex!==undefined?a.useSpatialIndex:!0;this.featuresRtree_=d?new ol.structs.RBush():null;this.loadedExtentsRtree_=new ol.structs.RBush();this.nullGeometryFeatures_={};this.idIndex_={};this.undefIdIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;var b,c;if(a.features instanceof ol.Collection){b=a.features;c=b.getArray()}else {if(Array.isArray(a.features)){c=a.features}}if(!d&&b===undefined){b=new ol.Collection(c)}if(c!==undefined){this.addFeaturesInternal(c)}if(b!==undefined){this.bindFeaturesCollection_(b)}};ol.inherits(ol.source.Vector,ol.source.Source);ol.source.Vector.prototype.addFeature=function(a){this.addFeatureInternal(a);this.changed()};ol.source.Vector.prototype.addFeatureInternal=function(a){var b=ol.getUid(a).toString();if(!this.addToIndex_(b,a)){return}this.setupChangeEvents_(b,a);var c=a.getGeometry();if(c){var d=c.getExtent();if(this.featuresRtree_){this.featuresRtree_.insert(d,a)}}else {this.nullGeometryFeatures_[b]=a}this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,a))};ol.source.Vector.prototype.setupChangeEvents_=function(b,a){this.featureChangeKeys_[b]=[ol.events.listen(a,ol.events.EventType.CHANGE,this.handleFeatureChange_,this),ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]};ol.source.Vector.prototype.addToIndex_=function(c,a){var d=!0;var b=a.getId();if(b!==undefined){if(!(b.toString() in this.idIndex_)){this.idIndex_[b.toString()]=a}else {d=!1}}else {ol.asserts.assert(!(c in this.undefIdIndex_),30);this.undefIdIndex_[c]=a}return d};ol.source.Vector.prototype.addFeatures=function(a){this.addFeaturesInternal(a);this.changed()};ol.source.Vector.prototype.addFeaturesInternal=function(g){var e,a,c,b;var i=[];var d=[];var f=[];for(a=0,c=g.length;a<c;a++){b=g[a];e=ol.getUid(b).toString();if(this.addToIndex_(e,b)){d.push(b)}}for(a=0,c=d.length;a<c;a++){b=d[a];e=ol.getUid(b).toString();this.setupChangeEvents_(e,b);var h=b.getGeometry();if(h){var j=h.getExtent();i.push(j);f.push(b)}else {this.nullGeometryFeatures_[e]=b}}if(this.featuresRtree_){this.featuresRtree_.load(i,f)}for(a=0,c=d.length;a<c;a++){this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,d[a]))}};ol.source.Vector.prototype.bindFeaturesCollection_=function(b){var a=!1;ol.events.listen(this,ol.source.VectorEventType.ADDFEATURE,function(c){if(!a){a=!0;b.push(c.feature);a=!1}});ol.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,function(c){if(!a){a=!0;b.remove(c.feature);a=!1}});ol.events.listen(b,ol.CollectionEventType.ADD,function(c){if(!a){a=!0;this.addFeature(c.element);a=!1}},this);ol.events.listen(b,ol.CollectionEventType.REMOVE,function(c){if(!a){a=!0;this.removeFeature(c.element);a=!1}},this);this.featuresCollection_=b};ol.source.Vector.prototype.clear=function(c){if(c){for(var b in this.featureChangeKeys_){var d=this.featureChangeKeys_[b];d.forEach(ol.events.unlistenByKey)}if(!this.featuresCollection_){this.featureChangeKeys_={};this.idIndex_={};this.undefIdIndex_={}}}else {if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var e in this.nullGeometryFeatures_){this.removeFeatureInternal(this.nullGeometryFeatures_[e])}}}if(this.featuresCollection_){this.featuresCollection_.clear()}if(this.featuresRtree_){this.featuresRtree_.clear()}this.loadedExtentsRtree_.clear();this.nullGeometryFeatures_={};var a=new ol.source.Vector.Event(ol.source.VectorEventType.CLEAR);this.dispatchEvent(a);this.changed()};ol.source.Vector.prototype.forEachFeature=function(a,b){if(this.featuresRtree_){return this.featuresRtree_.forEach(a,b)}else {if(this.featuresCollection_){return this.featuresCollection_.forEach(a,b)}}};ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(a,b,c){var d=[a[0],a[1],a[0],a[1]];return this.forEachFeatureInExtent(d,function(d){var e=d.getGeometry();if(e.intersectsCoordinate(a)){return b.call(c,d)}else {return undefined}})};ol.source.Vector.prototype.forEachFeatureInExtent=function(c,a,b){if(this.featuresRtree_){return this.featuresRtree_.forEachInExtent(c,a,b)}else {if(this.featuresCollection_){return this.featuresCollection_.forEach(a,b)}}};ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(a,b,c){return this.forEachFeatureInExtent(a,function(d){var f=d.getGeometry();if(f.intersectsExtent(a)){var e=b.call(c,d);if(e){return e}}})};ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_};ol.source.Vector.prototype.getFeatures=function(){var a;if(this.featuresCollection_){a=this.featuresCollection_.getArray()}else {if(this.featuresRtree_){a=this.featuresRtree_.getAll();if(!ol.obj.isEmpty(this.nullGeometryFeatures_)){ol.array.extend(a,ol.obj.getValues(this.nullGeometryFeatures_))}}}return a};ol.source.Vector.prototype.getFeaturesAtCoordinate=function(b){var a=[];this.forEachFeatureAtCoordinateDirect(b,function(c){a.push(c)});return a};ol.source.Vector.prototype.getFeaturesInExtent=function(a){return this.featuresRtree_.getInExtent(a)};ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(f,g){var c=f[0];var d=f[1];var e=null;var h=[NaN,NaN];var a=Infinity;var b=[-Infinity,-Infinity,Infinity,Infinity];var i=g?g:ol.functions.TRUE;this.featuresRtree_.forEachInExtent(b,function(k){if(i(k)){var m=k.getGeometry();var l=a;a=m.closestPointXY(c,d,h,a);if(a<l){e=k;var j=Math.sqrt(a);b[0]=c-j;b[1]=d-j;b[2]=c+j;b[3]=d+j}}});return e};ol.source.Vector.prototype.getExtent=function(a){return this.featuresRtree_.getExtent(a)};ol.source.Vector.prototype.getFeatureById=function(b){var a=this.idIndex_[b.toString()];return a!==undefined?a:null};ol.source.Vector.prototype.getFormat=function(){return this.format_};ol.source.Vector.prototype.getOverlaps=function(){return this.overlaps_};ol.source.Vector.prototype.getResolutions=function(){};ol.source.Vector.prototype.getUrl=function(){return this.url_};ol.source.Vector.prototype.handleFeatureChange_=function(g){var a=g.target;var b=ol.getUid(a).toString();var d=a.getGeometry();if(!d){if(!(b in this.nullGeometryFeatures_)){if(this.featuresRtree_){this.featuresRtree_.remove(a)}this.nullGeometryFeatures_[b]=a}}else {var e=d.getExtent();if(b in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[b];if(this.featuresRtree_){this.featuresRtree_.insert(e,a)}}else {if(this.featuresRtree_){this.featuresRtree_.update(e,a)}}}var f=a.getId();if(f!==undefined){var c=f.toString();if(b in this.undefIdIndex_){delete this.undefIdIndex_[b];this.idIndex_[c]=a}else {if(this.idIndex_[c]!==a){this.removeFromIdIndex_(a);this.idIndex_[c]=a}}}else {if(!(b in this.undefIdIndex_)){this.removeFromIdIndex_(a);this.undefIdIndex_[b]=a}}this.changed();this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,a))};ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ol.obj.isEmpty(this.nullGeometryFeatures_)};ol.source.Vector.prototype.loadFeatures=function(i,e,h){var c=this.loadedExtentsRtree_;var d=this.strategy_(i,e);var b,f;for(b=0,f=d.length;b<f;++b){var a=d[b];var g=c.forEachInExtent(a,function(b){return ol.extent.containsExtent(b.extent,a)});if(!g){this.loader_.call(this,a,e,h);c.insert(a,{extent:a.slice()})}}};ol.source.Vector.prototype.removeLoadedExtent=function(c){var b=this.loadedExtentsRtree_;var a;b.forEachInExtent(c,function(b){if(ol.extent.equals(b.extent,c)){a=b;return !0}});if(a){b.remove(a)}};ol.source.Vector.prototype.removeFeature=function(a){var b=ol.getUid(a).toString();if(b in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[b]}else {if(this.featuresRtree_){this.featuresRtree_.remove(a)}}this.removeFeatureInternal(a);this.changed()};ol.source.Vector.prototype.removeFeatureInternal=function(b){var a=ol.getUid(b).toString();this.featureChangeKeys_[a].forEach(ol.events.unlistenByKey);delete this.featureChangeKeys_[a];var c=b.getId();if(c!==undefined){delete this.idIndex_[c.toString()]}else {delete this.undefIdIndex_[a]}this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.REMOVEFEATURE,b))};ol.source.Vector.prototype.removeFromIdIndex_=function(c){var a=!1;for(var b in this.idIndex_){if(this.idIndex_[b]===c){delete this.idIndex_[b];a=!0;break}}return a};ol.source.Vector.prototype.setLoader=function(a){this.loader_=a};ol.source.Vector.Event=function(b,a){ol.events.Event.call(this,b);this.feature=a};ol.inherits(ol.source.Vector.Event,ol.events.Event);goog.provide('ol.interaction.Draw');goog.require('ol');goog.require('ol.Feature');goog.require('ol.MapBrowserEventType');goog.require('ol.Object');goog.require('ol.coordinate');goog.require('ol.events');goog.require('ol.events.Event');goog.require('ol.events.condition');goog.require('ol.extent');goog.require('ol.functions');goog.require('ol.geom.Circle');goog.require('ol.geom.GeometryType');goog.require('ol.geom.LineString');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.interaction.DrawEventType');goog.require('ol.interaction.Pointer');goog.require('ol.interaction.Property');goog.require('ol.layer.Vector');goog.require('ol.source.Vector');goog.require('ol.style.Style');ol.interaction.Draw=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Draw.handleDownEvent_,handleEvent:ol.interaction.Draw.handleEvent,handleUpEvent:ol.interaction.Draw.handleUpEvent_});this.shouldHandle_=!1;this.downPx_=null;this.freehand_=!1;this.source_=a.source?a.source:null;this.features_=a.features?a.features:null;this.snapTolerance_=a.snapTolerance?a.snapTolerance:12;this.type_=a.type;this.mode_=ol.interaction.Draw.getMode_(this.type_);this.stopClick_=!!a.stopClick;this.minPoints_=a.minPoints?a.minPoints:this.mode_===ol.interaction.Draw.Mode_.POLYGON?3:2;this.maxPoints_=a.maxPoints?a.maxPoints:Infinity;this.finishCondition_=a.finishCondition?a.finishCondition:ol.functions.TRUE;var b=a.geometryFunction;if(!b){if(this.type_===ol.geom.GeometryType.CIRCLE){b=function(b,c){var d=c?c:new ol.geom.Circle([NaN,NaN]);var e=ol.coordinate.squaredDistance(b[0],b[1]);d.setCenterAndRadius(b[0],Math.sqrt(e));return d}}else {var c;var d=this.mode_;if(d===ol.interaction.Draw.Mode_.POINT){c=ol.geom.Point}else {if(d===ol.interaction.Draw.Mode_.LINE_STRING){c=ol.geom.LineString}else {if(d===ol.interaction.Draw.Mode_.POLYGON){c=ol.geom.Polygon}}}b=function(e,f){var b=f;if(b){if(d===ol.interaction.Draw.Mode_.POLYGON){if(e[0].length){b.setCoordinates([e[0].concat([e[0][0]])])}else {b.setCoordinates([])}}else {b.setCoordinates(e)}}else {b=new c(e)}return b}}}this.geometryFunction_=b;this.finishCoordinate_=null;this.sketchFeature_=null;this.sketchPoint_=null;this.sketchCoords_=null;this.sketchLine_=null;this.sketchLineCoords_=null;this.squaredClickTolerance_=a.clickTolerance?a.clickTolerance*a.clickTolerance:36;this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:a.wrapX?a.wrapX:!1}),style:a.style?a.style:ol.interaction.Draw.getDefaultStyleFunction()});this.geometryName_=a.geometryName;this.condition_=a.condition?a.condition:ol.events.condition.noModifierKeys;this.freehandCondition_;if(a.freehand){this.freehandCondition_=ol.events.condition.always}else {this.freehandCondition_=a.freehandCondition?a.freehandCondition:ol.events.condition.shiftKeyOnly}ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.updateState_,this)};ol.inherits(ol.interaction.Draw,ol.interaction.Pointer);ol.interaction.Draw.getDefaultStyleFunction=function(){var a=ol.style.Style.createDefaultEditing();return function(b,c){return a[b.getGeometry().getType()]}};ol.interaction.Draw.prototype.setMap=function(a){ol.interaction.Pointer.prototype.setMap.call(this,a);this.updateState_()};ol.interaction.Draw.handleEvent=function(a){this.freehand_=this.mode_!==ol.interaction.Draw.Mode_.POINT&&this.freehandCondition_(a);var b=!0;if(this.freehand_&&a.type===ol.MapBrowserEventType.POINTERDRAG&&this.sketchFeature_!==null){this.addToDrawing_(a);b=!1}else {if(this.freehand_&&a.type===ol.MapBrowserEventType.POINTERDOWN){b=!1}else {if(a.type===ol.MapBrowserEventType.POINTERMOVE){b=this.handlePointerMove_(a)}else {if(a.type===ol.MapBrowserEventType.DBLCLICK){b=!1}}}}return ol.interaction.Pointer.handleEvent.call(this,a)&&b};ol.interaction.Draw.handleDownEvent_=function(a){this.shouldHandle_=!this.freehand_;if(this.freehand_){this.downPx_=a.pixel;if(!this.finishCoordinate_){this.startDrawing_(a)}return !0}else {if(this.condition_(a)){this.downPx_=a.pixel;return !0}else {return !1}}};ol.interaction.Draw.handleUpEvent_=function(a){var b=!0;this.handlePointerMove_(a);var c=this.mode_===ol.interaction.Draw.Mode_.CIRCLE;if(this.shouldHandle_){if(!this.finishCoordinate_){this.startDrawing_(a);if(this.mode_===ol.interaction.Draw.Mode_.POINT){this.finishDrawing()}}else {if(this.freehand_||c){this.finishDrawing()}else {if(this.atFinish_(a)){if(this.finishCondition_(a)){this.finishDrawing()}}else {this.addToDrawing_(a)}}}b=!1}else {if(this.freehand_){this.finishCoordinate_=null;this.abortDrawing_()}}if(!b&&this.stopClick_){a.stopPropagation()}return b};ol.interaction.Draw.prototype.handlePointerMove_=function(a){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var d=this.downPx_;var c=a.pixel;var e=d[0]-c[0];var f=d[1]-c[1];var b=e*e+f*f;this.shouldHandle_=this.freehand_?b>this.squaredClickTolerance_:b<=this.squaredClickTolerance_}if(this.finishCoordinate_){this.modifyDrawing_(a)}else {this.createOrUpdateSketchPoint_(a)}return !0};ol.interaction.Draw.prototype.atFinish_=function(g){var c=!1;if(this.sketchFeature_){var b=!1;var a=[this.finishCoordinate_];if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){b=this.sketchCoords_.length>this.minPoints_}else {if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){b=this.sketchCoords_[0].length>this.minPoints_;a=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]}}if(b){var l=g.map;for(var d=0,m=a.length;d<m;d++){var e=a[d];var f=l.getPixelFromCoordinate(e);var h=g.pixel;var i=h[0]-f[0];var j=h[1]-f[1];var k=this.freehand_?1:this.snapTolerance_;c=Math.sqrt(i*i+j*j)<=k;if(c){this.finishCoordinate_=e;break}}}}return c};ol.interaction.Draw.prototype.createOrUpdateSketchPoint_=function(c){var a=c.coordinate.slice();if(!this.sketchPoint_){this.sketchPoint_=new ol.Feature(new ol.geom.Point(a));this.updateSketchFeatures_()}else {var b=this.sketchPoint_.getGeometry();b.setCoordinates(a)}};ol.interaction.Draw.prototype.startDrawing_=function(c){var a=c.coordinate;this.finishCoordinate_=a;if(this.mode_===ol.interaction.Draw.Mode_.POINT){this.sketchCoords_=a.slice()}else {if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){this.sketchCoords_=[[a.slice(),a.slice()]];this.sketchLineCoords_=this.sketchCoords_[0]}else {this.sketchCoords_=[a.slice(),a.slice()];if(this.mode_===ol.interaction.Draw.Mode_.CIRCLE){this.sketchLineCoords_=this.sketchCoords_}}}if(this.sketchLineCoords_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(this.sketchLineCoords_))}var b=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new ol.Feature();if(this.geometryName_){this.sketchFeature_.setGeometryName(this.geometryName_)}this.sketchFeature_.setGeometry(b);this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.modifyDrawing_=function(f){var d=f.coordinate;var e=this.sketchFeature_.getGeometry();var a,b;if(this.mode_===ol.interaction.Draw.Mode_.POINT){b=this.sketchCoords_}else {if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){a=this.sketchCoords_[0];b=a[a.length-1];if(this.atFinish_(f)){d=this.finishCoordinate_.slice()}}else {a=this.sketchCoords_;b=a[a.length-1]}}b[0]=d[0];b[1]=d[1];this.geometryFunction_(this.sketchCoords_,e);if(this.sketchPoint_){var h=this.sketchPoint_.getGeometry();h.setCoordinates(d)}var c;if(e instanceof ol.geom.Polygon&&this.mode_!==ol.interaction.Draw.Mode_.POLYGON){if(!this.sketchLine_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(null))}var g=e.getLinearRing(0);c=this.sketchLine_.getGeometry();c.setFlatCoordinates(g.getLayout(),g.getFlatCoordinates())}else {if(this.sketchLineCoords_){c=this.sketchLine_.getGeometry();c.setCoordinates(this.sketchLineCoords_)}}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.addToDrawing_=function(e){var c=e.coordinate;var d=this.sketchFeature_.getGeometry();var b;var a;if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){this.finishCoordinate_=c.slice();a=this.sketchCoords_;if(a.length>=this.maxPoints_){if(this.freehand_){a.pop()}else {b=!0}}a.push(c.slice());this.geometryFunction_(a,d)}else {if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){a=this.sketchCoords_[0];if(a.length>=this.maxPoints_){if(this.freehand_){a.pop()}else {b=!0}}a.push(c.slice());if(b){this.finishCoordinate_=a[0]}this.geometryFunction_(this.sketchCoords_,d)}}this.updateSketchFeatures_();if(b){this.finishDrawing()}};ol.interaction.Draw.prototype.removeLastPoint=function(){if(!this.sketchFeature_){return}var c=this.sketchFeature_.getGeometry();var a,b;if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){a=this.sketchCoords_;a.splice(-2,1);this.geometryFunction_(a,c);if(a.length>=2){this.finishCoordinate_=a[a.length-2].slice()}}else {if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){a=this.sketchCoords_[0];a.splice(-2,1);b=this.sketchLine_.getGeometry();b.setCoordinates(a);this.geometryFunction_(this.sketchCoords_,c)}}if(a.length===0){this.finishCoordinate_=null}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.finishDrawing=function(){var b=this.abortDrawing_();var a=this.sketchCoords_;var c=b.getGeometry();if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){a.pop();this.geometryFunction_(a,c)}else {if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){a[0].pop();this.geometryFunction_(a,c);a=c.getCoordinates()}}if(this.type_===ol.geom.GeometryType.MULTI_POINT){b.setGeometry(new ol.geom.MultiPoint([a]))}else {if(this.type_===ol.geom.GeometryType.MULTI_LINE_STRING){b.setGeometry(new ol.geom.MultiLineString([a]))}else {if(this.type_===ol.geom.GeometryType.MULTI_POLYGON){b.setGeometry(new ol.geom.MultiPolygon([a]))}}}this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWEND,b));if(this.features_){this.features_.push(b)}if(this.source_){this.source_.addFeature(b)}};ol.interaction.Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var a=this.sketchFeature_;if(a){this.sketchFeature_=null;this.sketchPoint_=null;this.sketchLine_=null;this.overlay_.getSource().clear(!0)}return a};ol.interaction.Draw.prototype.extend=function(a){var d=a.getGeometry();var c=d;this.sketchFeature_=a;this.sketchCoords_=c.getCoordinates();var b=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=b.slice();this.sketchCoords_.push(b.slice());this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Draw.prototype.updateSketchFeatures_=function(){var a=[];if(this.sketchFeature_){a.push(this.sketchFeature_)}if(this.sketchLine_){a.push(this.sketchLine_)}if(this.sketchPoint_){a.push(this.sketchPoint_)}var b=this.overlay_.getSource();b.clear(!0);b.addFeatures(a)};ol.interaction.Draw.prototype.updateState_=function(){var b=this.getMap();var a=this.getActive();if(!b||!a){this.abortDrawing_()}this.overlay_.setMap(a?b:null)};ol.interaction.Draw.createRegularPolygon=function(b,a){return function(f,e){var c=f[0];var d=f[1];var h=Math.sqrt(ol.coordinate.squaredDistance(c,d));var g=e?e:ol.geom.Polygon.fromCircle(new ol.geom.Circle(c),b);var i=a?a:Math.atan((d[1]-c[1])/(d[0]-c[0]));ol.geom.Polygon.makeRegular(g,c,h,i);return g}};ol.interaction.Draw.createBox=function(){return function(d,c){var a=ol.extent.boundingExtent(d);var b=c||new ol.geom.Polygon(null);b.setCoordinates([[ol.extent.getBottomLeft(a),ol.extent.getBottomRight(a),ol.extent.getTopRight(a),ol.extent.getTopLeft(a),ol.extent.getBottomLeft(a)]]);return b}};ol.interaction.Draw.getMode_=function(a){var b;if(a===ol.geom.GeometryType.POINT||a===ol.geom.GeometryType.MULTI_POINT){b=ol.interaction.Draw.Mode_.POINT}else {if(a===ol.geom.GeometryType.LINE_STRING||a===ol.geom.GeometryType.MULTI_LINE_STRING){b=ol.interaction.Draw.Mode_.LINE_STRING}else {if(a===ol.geom.GeometryType.POLYGON||a===ol.geom.GeometryType.MULTI_POLYGON){b=ol.interaction.Draw.Mode_.POLYGON}else {if(a===ol.geom.GeometryType.CIRCLE){b=ol.interaction.Draw.Mode_.CIRCLE}}}}return b};ol.interaction.Draw.Mode_={POINT:'Point',LINE_STRING:'LineString',POLYGON:'Polygon',CIRCLE:'Circle'};ol.interaction.Draw.Event=function(b,a){ol.events.Event.call(this,b);this.feature=a};ol.inherits(ol.interaction.Draw.Event,ol.events.Event);goog.provide('ol.interaction.ExtentEventType');ol.interaction.ExtentEventType={EXTENTCHANGED:'extentchanged'};goog.provide('ol.interaction.Extent');goog.require('ol');goog.require('ol.Feature');goog.require('ol.MapBrowserEventType');goog.require('ol.MapBrowserPointerEvent');goog.require('ol.coordinate');goog.require('ol.events.Event');goog.require('ol.extent');goog.require('ol.geom.GeometryType');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.interaction.ExtentEventType');goog.require('ol.interaction.Pointer');goog.require('ol.layer.Vector');goog.require('ol.source.Vector');goog.require('ol.style.Style');ol.interaction.Extent=function(a){var b=a||{};this.extent_=null;this.pointerHandler_=null;this.pixelTolerance_=b.pixelTolerance!==undefined?b.pixelTolerance:10;this.snappedToVertex_=!1;this.extentFeature_=null;this.vertexFeature_=null;if(!a){a={}}ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Extent.handleDownEvent_,handleDragEvent:ol.interaction.Extent.handleDragEvent_,handleEvent:ol.interaction.Extent.handleEvent_,handleUpEvent:ol.interaction.Extent.handleUpEvent_});this.extentOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.boxStyle?a.boxStyle:ol.interaction.Extent.getDefaultExtentStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.vertexOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.pointerStyle?a.pointerStyle:ol.interaction.Extent.getDefaultPointerStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(a.extent){this.setExtent(a.extent)}};ol.inherits(ol.interaction.Extent,ol.interaction.Pointer);ol.interaction.Extent.handleEvent_=function(a){if(!(a instanceof ol.MapBrowserPointerEvent)){return !0}if(a.type==ol.MapBrowserEventType.POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(a)}ol.interaction.Pointer.handleEvent.call(this,a);return !1};ol.interaction.Extent.handleDownEvent_=function(f){var g=f.pixel;var h=f.map;var a=this.getExtent();var b=this.snapToVertex_(g,h);var c=function(b){var c=null;var d=null;if(b[0]==a[0]){c=a[2]}else {if(b[0]==a[2]){c=a[0]}}if(b[1]==a[1]){d=a[3]}else {if(b[1]==a[3]){d=a[1]}}if(c!==null&&d!==null){return [c,d]}return null};if(b&&a){var d=b[0]==a[0]||b[0]==a[2]?b[0]:null;var e=b[1]==a[1]||b[1]==a[3]?b[1]:null;if(d!==null&&e!==null){this.pointerHandler_=ol.interaction.Extent.getPointHandler_(c(b))}else {if(d!==null){this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(c([d,a[1]]),c([d,a[3]]))}else {if(e!==null){this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(c([a[0],e]),c([a[2],e]))}}}}else {b=h.getCoordinateFromPixel(g);this.setExtent([b[0],b[1],b[0],b[1]]);this.pointerHandler_=ol.interaction.Extent.getPointHandler_(b)}return !0};ol.interaction.Extent.handleDragEvent_=function(b){if(this.pointerHandler_){var a=b.coordinate;this.setExtent(this.pointerHandler_(a));this.createOrUpdatePointerFeature_(a)}return !0};ol.interaction.Extent.handleUpEvent_=function(b){this.pointerHandler_=null;var a=this.getExtent();if(!a||ol.extent.getArea(a)===0){this.setExtent(null)}return !1};ol.interaction.Extent.getDefaultExtentStyleFunction_=function(){var a=ol.style.Style.createDefaultEditing();return function(c,b){return a[ol.geom.GeometryType.POLYGON]}};ol.interaction.Extent.getDefaultPointerStyleFunction_=function(){var a=ol.style.Style.createDefaultEditing();return function(c,b){return a[ol.geom.GeometryType.POINT]}};ol.interaction.Extent.getPointHandler_=function(a){return function(b){return ol.extent.boundingExtent([a,b])}};ol.interaction.Extent.getEdgeHandler_=function(a,b){if(a[0]==b[0]){return function(c){return ol.extent.boundingExtent([a,[c[0],b[1]]])}}else {if(a[1]==b[1]){return function(c){return ol.extent.boundingExtent([a,[b[0],c[1]]])}}else {return null}}};ol.interaction.Extent.getSegments_=function(a){return [[[a[0],a[1]],[a[0],a[3]]],[[a[0],a[3]],[a[2],a[3]]],[[a[2],a[3]],[a[2],a[1]]],[[a[2],a[1]],[a[0],a[1]]]]};ol.interaction.Extent.prototype.snapToVertex_=function(j,b){var c=b.getCoordinateFromPixel(j);var k=function(a,d){return ol.coordinate.squaredDistanceToSegment(c,a)-ol.coordinate.squaredDistanceToSegment(c,d)};var i=this.getExtent();if(i){var h=ol.interaction.Extent.getSegments_(i);h.sort(k);var a=h[0];var e=ol.coordinate.closestOnSegment(c,a);var d=b.getPixelFromCoordinate(e);if(ol.coordinate.distance(j,d)<=this.pixelTolerance_){var l=b.getPixelFromCoordinate(a[0]);var m=b.getPixelFromCoordinate(a[1]);var f=ol.coordinate.squaredDistance(d,l);var g=ol.coordinate.squaredDistance(d,m);var n=Math.sqrt(Math.min(f,g));this.snappedToVertex_=n<=this.pixelTolerance_;if(this.snappedToVertex_){e=f>g?a[1]:a[0]}return e}}return null};ol.interaction.Extent.prototype.handlePointerMove_=function(b){var c=b.pixel;var d=b.map;var a=this.snapToVertex_(c,d);if(!a){a=d.getCoordinateFromPixel(c)}this.createOrUpdatePointerFeature_(a)};ol.interaction.Extent.prototype.createOrUpdateExtentFeature_=function(b){var a=this.extentFeature_;if(!a){if(!b){a=new ol.Feature({})}else {a=new ol.Feature(ol.geom.Polygon.fromExtent(b))}this.extentFeature_=a;this.extentOverlay_.getSource().addFeature(a)}else {if(!b){a.setGeometry(undefined)}else {a.setGeometry(ol.geom.Polygon.fromExtent(b))}}return a};ol.interaction.Extent.prototype.createOrUpdatePointerFeature_=function(b){var a=this.vertexFeature_;if(!a){a=new ol.Feature(new ol.geom.Point(b));this.vertexFeature_=a;this.vertexOverlay_.getSource().addFeature(a)}else {var c=a.getGeometry();c.setCoordinates(b)}return a};ol.interaction.Extent.prototype.setMap=function(a){this.extentOverlay_.setMap(a);this.vertexOverlay_.setMap(a);ol.interaction.Pointer.prototype.setMap.call(this,a)};ol.interaction.Extent.prototype.getExtent=function(){return this.extent_};ol.interaction.Extent.prototype.setExtent=function(a){this.extent_=a?a:null;this.createOrUpdateExtentFeature_(a);this.dispatchEvent(new ol.interaction.Extent.Event(this.extent_))};ol.interaction.Extent.Event=function(a){ol.events.Event.call(this,ol.interaction.ExtentEventType.EXTENTCHANGED);this.extent=a};ol.inherits(ol.interaction.Extent.Event,ol.events.Event);goog.provide('ol.interaction.ModifyEventType');ol.interaction.ModifyEventType={MODIFYSTART:'modifystart',MODIFYEND:'modifyend'};goog.provide('ol.interaction.Modify');goog.require('ol');goog.require('ol.Collection');goog.require('ol.CollectionEventType');goog.require('ol.Feature');goog.require('ol.MapBrowserEventType');goog.require('ol.MapBrowserPointerEvent');goog.require('ol.array');goog.require('ol.coordinate');goog.require('ol.events');goog.require('ol.events.Event');goog.require('ol.events.EventType');goog.require('ol.events.condition');goog.require('ol.extent');goog.require('ol.geom.GeometryType');goog.require('ol.geom.Point');goog.require('ol.interaction.ModifyEventType');goog.require('ol.interaction.Pointer');goog.require('ol.layer.Vector');goog.require('ol.source.Vector');goog.require('ol.source.VectorEventType');goog.require('ol.structs.RBush');goog.require('ol.style.Style');ol.interaction.Modify=function(a){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Modify.handleDownEvent_,handleDragEvent:ol.interaction.Modify.handleDragEvent_,handleEvent:ol.interaction.Modify.handleEvent,handleUpEvent:ol.interaction.Modify.handleUpEvent_});this.condition_=a.condition?a.condition:ol.events.condition.primaryAction;this.defaultDeleteCondition_=function(b){return ol.events.condition.altKeyOnly(b)&&ol.events.condition.singleClick(b)};this.deleteCondition_=a.deleteCondition?a.deleteCondition:this.defaultDeleteCondition_;this.insertVertexCondition_=a.insertVertexCondition?a.insertVertexCondition:ol.events.condition.always;this.vertexFeature_=null;this.vertexSegments_=null;this.lastPixel_=[0,0];this.ignoreNextSingleClick_=!1;this.modified_=!1;this.rBush_=new ol.structs.RBush();this.pixelTolerance_=a.pixelTolerance!==undefined?a.pixelTolerance:10;this.snappedToVertex_=!1;this.changingFeature_=!1;this.dragSegments_=[];this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?a.style:ol.interaction.Modify.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.SEGMENT_WRITERS_={'Point':this.writePointGeometry_,'LineString':this.writeLineStringGeometry_,'LinearRing':this.writeLineStringGeometry_,'Polygon':this.writePolygonGeometry_,'MultiPoint':this.writeMultiPointGeometry_,'MultiLineString':this.writeMultiLineStringGeometry_,'MultiPolygon':this.writeMultiPolygonGeometry_,'Circle':this.writeCircleGeometry_,'GeometryCollection':this.writeGeometryCollectionGeometry_};this.source_=null;var b;if(a.source){this.source_=a.source;b=new ol.Collection(this.source_.getFeatures());ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleSourceAdd_,this);ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleSourceRemove_,this)}else {b=a.features}if(!b){throw new Error('The modify interaction requires features or a source')}this.features_=b;this.features_.forEach(this.addFeature_,this);ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this);ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this);this.lastPointerEvent_=null};ol.inherits(ol.interaction.Modify,ol.interaction.Pointer);ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX=0;ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX=1;ol.interaction.Modify.prototype.addFeature_=function(b){var a=b.getGeometry();if(a&&a.getType() in this.SEGMENT_WRITERS_){this.SEGMENT_WRITERS_[a.getType()].call(this,b,a)}var c=this.getMap();if(c&&c.isRendered()&&this.getActive()){this.handlePointerAtPixel_(this.lastPixel_,c)}ol.events.listen(b,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.willModifyFeatures_=function(a){if(!this.modified_){this.modified_=!0;this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYSTART,this.features_,a))}};ol.interaction.Modify.prototype.removeFeature_=function(a){this.removeFeatureSegmentData_(a);if(this.vertexFeature_&&this.features_.getLength()===0){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}ol.events.unlisten(a,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.removeFeatureSegmentData_=function(d){var c=this.rBush_;var a=[];c.forEach(function(b){if(d===b.feature){a.push(b)}});for(var b=a.length-1;b>=0;--b){c.remove(a[b])}};ol.interaction.Modify.prototype.setActive=function(a){if(this.vertexFeature_&&!a){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}ol.interaction.Pointer.prototype.setActive.call(this,a)};ol.interaction.Modify.prototype.setMap=function(a){this.overlay_.setMap(a);ol.interaction.Pointer.prototype.setMap.call(this,a)};ol.interaction.Modify.prototype.handleSourceAdd_=function(a){if(a.feature){this.features_.push(a.feature)}};ol.interaction.Modify.prototype.handleSourceRemove_=function(a){if(a.feature){this.features_.remove(a.feature)}};ol.interaction.Modify.prototype.handleFeatureAdd_=function(a){this.addFeature_(a.element)};ol.interaction.Modify.prototype.handleFeatureChange_=function(b){if(!this.changingFeature_){var a=b.target;this.removeFeature_(a);this.addFeature_(a)}};ol.interaction.Modify.prototype.handleFeatureRemove_=function(b){var a=b.element;this.removeFeature_(a)};ol.interaction.Modify.prototype.writePointGeometry_=function(d,a){var b=a.getCoordinates();var c={feature:d,geometry:a,segment:[b,b]};this.rBush_.insert(a.getExtent(),c)};ol.interaction.Modify.prototype.writeMultiPointGeometry_=function(g,c){var e=c.getCoordinates();var b,a,f,d;for(a=0,f=e.length;a<f;++a){b=e[a];d={feature:g,geometry:c,depth:[a],index:a,segment:[b,b]};this.rBush_.insert(c.getExtent(),d)}};ol.interaction.Modify.prototype.writeLineStringGeometry_=function(g,e){var c=e.getCoordinates();var a,f,b,d;for(a=0,f=c.length-1;a<f;++a){b=c.slice(a,a+2);d={feature:g,geometry:e,index:a,segment:b};this.rBush_.insert(ol.extent.boundingExtent(b),d)}};ol.interaction.Modify.prototype.writeMultiLineStringGeometry_=function(j,f){var g=f.getCoordinates();var c,a,h,b,i,d,e;for(b=0,i=g.length;b<i;++b){c=g[b];for(a=0,h=c.length-1;a<h;++a){d=c.slice(a,a+2);e={feature:j,geometry:f,depth:[b],index:a,segment:d};this.rBush_.insert(ol.extent.boundingExtent(d),e)}}};ol.interaction.Modify.prototype.writePolygonGeometry_=function(j,f){var g=f.getCoordinates();var c,a,h,b,i,d,e;for(b=0,i=g.length;b<i;++b){c=g[b];for(a=0,h=c.length-1;a<h;++a){d=c.slice(a,a+2);e={feature:j,geometry:f,depth:[b],index:a,segment:d};this.rBush_.insert(ol.extent.boundingExtent(d),e)}}};ol.interaction.Modify.prototype.writeMultiPolygonGeometry_=function(m,h){var i=h.getCoordinates();var d,a,j,b,k,c,l,f,e,g;for(c=0,l=i.length;c<l;++c){f=i[c];for(b=0,k=f.length;b<k;++b){d=f[b];for(a=0,j=d.length-1;a<j;++a){e=d.slice(a,a+2);g={feature:m,geometry:h,depth:[b,c],index:a,segment:e};this.rBush_.insert(ol.extent.boundingExtent(e),g)}}}};ol.interaction.Modify.prototype.writeCircleGeometry_=function(e,b){var a=b.getCenter();var d={feature:e,geometry:b,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,segment:[a,a]};var c={feature:e,geometry:b,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,segment:[a,a]};var f=[d,c];d.featureSegments=c.featureSegments=f;this.rBush_.insert(ol.extent.createOrUpdateFromCoordinate(a),d);this.rBush_.insert(b.getExtent(),c)};ol.interaction.Modify.prototype.writeGeometryCollectionGeometry_=function(d,c){var a,b=c.getGeometriesArray();for(a=0;a<b.length;++a){this.SEGMENT_WRITERS_[b[a].getType()].call(this,d,b[a])}};ol.interaction.Modify.prototype.createOrUpdateVertexFeature_=function(b){var a=this.vertexFeature_;if(!a){a=new ol.Feature(new ol.geom.Point(b));this.vertexFeature_=a;this.overlay_.getSource().addFeature(a)}else {var c=a.getGeometry();c.setCoordinates(b)}return a};ol.interaction.Modify.compareIndexes_=function(a,b){return a.index-b.index};ol.interaction.Modify.handleDownEvent_=function(d){if(!this.condition_(d)){return !1}this.handlePointerAtPixel_(d.pixel,d.map);var m=d.map.getCoordinateFromPixel(d.pixel);this.dragSegments_.length=0;this.modified_=!1;var k=this.vertexFeature_;if(k){var f=[];var p=k.getGeometry();var e=p.getCoordinates();var o=ol.extent.boundingExtent([e]);var g=this.rBush_.getInExtent(o);var c={};g.sort(ol.interaction.Modify.compareIndexes_);for(var i=0,q=g.length;i<q;++i){var a=g[i];var h=a.segment;var b=ol.getUid(a.feature);var l=a.depth;if(l){b+='-'+l.join('-')}if(!c[b]){c[b]=new Array(2)}if(a.geometry.getType()===ol.geom.GeometryType.CIRCLE&&a.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var n=ol.interaction.Modify.closestOnSegmentData_(m,a);if(ol.coordinate.equals(n,e)&&!c[b][0]){this.dragSegments_.push([a,0]);c[b][0]=a}}else {if(ol.coordinate.equals(h[0],e)&&!c[b][0]){this.dragSegments_.push([a,0]);c[b][0]=a}else {if(ol.coordinate.equals(h[1],e)&&!c[b][1]){if((a.geometry.getType()===ol.geom.GeometryType.LINE_STRING||a.geometry.getType()===ol.geom.GeometryType.MULTI_LINE_STRING)&&c[b][0]&&c[b][0].index===0){continue}this.dragSegments_.push([a,1]);c[b][1]=a}else {if(this.insertVertexCondition_(d)&&ol.getUid(h) in this.vertexSegments_&&(!c[b][0]&&!c[b][1])){f.push([a,e])}}}}}if(f.length){this.willModifyFeatures_(d)}for(var j=f.length-1;j>=0;--j){this.insertVertex_.apply(this,f[j])}}return !!this.vertexFeature_};ol.interaction.Modify.handleDragEvent_=function(j){this.ignoreNextSingleClick_=!1;this.willModifyFeatures_(j);var a=j.coordinate;for(var h=0,k=this.dragSegments_.length;h<k;++h){var i=this.dragSegments_[h];var e=i[0];var g=e.depth;var c=e.geometry;var b;var d=e.segment;var f=i[1];while(a.length<c.getStride()){a.push(d[f][a.length])}switch(c.getType()){case ol.geom.GeometryType.POINT:b=a;d[0]=d[1]=a;break;case ol.geom.GeometryType.MULTI_POINT:b=c.getCoordinates();b[e.index]=a;d[0]=d[1]=a;break;case ol.geom.GeometryType.LINE_STRING:b=c.getCoordinates();b[e.index+f]=a;d[f]=a;break;case ol.geom.GeometryType.MULTI_LINE_STRING:b=c.getCoordinates();b[g[0]][e.index+f]=a;d[f]=a;break;case ol.geom.GeometryType.POLYGON:b=c.getCoordinates();b[g[0]][e.index+f]=a;d[f]=a;break;case ol.geom.GeometryType.MULTI_POLYGON:b=c.getCoordinates();b[g[1]][g[0]][e.index+f]=a;d[f]=a;break;case ol.geom.GeometryType.CIRCLE:d[0]=d[1]=a;if(e.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX){this.changingFeature_=!0;c.setCenter(a);this.changingFeature_=!1}else {this.changingFeature_=!0;c.setRadius(ol.coordinate.distance(c.getCenter(),a));this.changingFeature_=!1};break;default:}if(b){this.setGeometryCoordinates_(c,b)}}this.createOrUpdateVertexFeature_(a)};ol.interaction.Modify.handleUpEvent_=function(g){var a;var b;for(var f=this.dragSegments_.length-1;f>=0;--f){a=this.dragSegments_[f][0];b=a.geometry;if(b.getType()===ol.geom.GeometryType.CIRCLE){var e=b.getCenter();var d=a.featureSegments[0];var c=a.featureSegments[1];d.segment[0]=d.segment[1]=e;c.segment[0]=c.segment[1]=e;this.rBush_.update(ol.extent.createOrUpdateFromCoordinate(e),d);this.rBush_.update(b.getExtent(),c)}else {this.rBush_.update(ol.extent.boundingExtent(a.segment),a)}}if(this.modified_){this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,g));this.modified_=!1}return !1};ol.interaction.Modify.handleEvent=function(a){if(!(a instanceof ol.MapBrowserPointerEvent)){return !0}this.lastPointerEvent_=a;var b;if(!a.map.getView().getInteracting()&&a.type==ol.MapBrowserEventType.POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(a)}if(this.vertexFeature_&&this.deleteCondition_(a)){if(a.type!=ol.MapBrowserEventType.SINGLECLICK||!this.ignoreNextSingleClick_){b=this.removePoint()}else {b=!0}}if(a.type==ol.MapBrowserEventType.SINGLECLICK){this.ignoreNextSingleClick_=!1}return ol.interaction.Pointer.handleEvent.call(this,a)&&!b};ol.interaction.Modify.prototype.handlePointerMove_=function(a){this.lastPixel_=a.pixel;this.handlePointerAtPixel_(a.pixel,a.map)};ol.interaction.Modify.prototype.handlePointerAtPixel_=function(n,d){var e=d.getCoordinateFromPixel(n);var o=function(a,b){return ol.interaction.Modify.pointDistanceToSegmentDataSquared_(e,a)-ol.interaction.Modify.pointDistanceToSegmentDataSquared_(e,b)};var s=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(e),d.getView().getResolution()*this.pixelTolerance_);var r=this.rBush_;var c=r.getInExtent(s);if(c.length>0){c.sort(o);var g=c[0];var a=g.segment;var f=ol.interaction.Modify.closestOnSegmentData_(e,g);var i=d.getPixelFromCoordinate(f);var j=ol.coordinate.distance(n,i);if(j<=this.pixelTolerance_){var h={};if(g.geometry.getType()===ol.geom.GeometryType.CIRCLE&&g.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){this.snappedToVertex_=!0;this.createOrUpdateVertexFeature_(f)}else {var p=d.getPixelFromCoordinate(a[0]);var q=d.getPixelFromCoordinate(a[1]);var l=ol.coordinate.squaredDistance(i,p);var m=ol.coordinate.squaredDistance(i,q);j=Math.sqrt(Math.min(l,m));this.snappedToVertex_=j<=this.pixelTolerance_;if(this.snappedToVertex_){f=l>m?a[1]:a[0]}this.createOrUpdateVertexFeature_(f);var b;for(var k=1,t=c.length;k<t;++k){b=c[k].segment;if(ol.coordinate.equals(a[0],b[0])&&ol.coordinate.equals(a[1],b[1])||ol.coordinate.equals(a[0],b[1])&&ol.coordinate.equals(a[1],b[0])){h[ol.getUid(b)]=!0}else {break}}}h[ol.getUid(a)]=!0;this.vertexSegments_=h;return}}if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};ol.interaction.Modify.pointDistanceToSegmentDataSquared_=function(c,a){var e=a.geometry;if(e.getType()===ol.geom.GeometryType.CIRCLE){var d=e;if(a.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var f=ol.coordinate.squaredDistance(d.getCenter(),c);var b=Math.sqrt(f)-d.getRadius();return b*b}}return ol.coordinate.squaredDistanceToSegment(c,a.segment)};ol.interaction.Modify.closestOnSegmentData_=function(b,a){var c=a.geometry;if(c.getType()===ol.geom.GeometryType.CIRCLE&&a.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){return c.getClosestPoint(b)}return ol.coordinate.closestOnSegment(b,a.segment)};ol.interaction.Modify.prototype.insertVertex_=function(f,c){var k=f.segment;var j=f.feature;var a=f.geometry;var d=f.depth;var e=f.index;var b;while(c.length<a.getStride()){c.push(0)}switch(a.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:b=a.getCoordinates();b[d[0]].splice(e+1,0,c);break;case ol.geom.GeometryType.POLYGON:b=a.getCoordinates();b[d[0]].splice(e+1,0,c);break;case ol.geom.GeometryType.MULTI_POLYGON:b=a.getCoordinates();b[d[1]][d[0]].splice(e+1,0,c);break;case ol.geom.GeometryType.LINE_STRING:b=a.getCoordinates();b.splice(e+1,0,c);break;default:return;}this.setGeometryCoordinates_(a,b);var i=this.rBush_;i.remove(f);this.updateSegmentIndices_(a,e,d,1);var h={segment:[k[0],c],feature:j,geometry:a,depth:d,index:e};i.insert(ol.extent.boundingExtent(h.segment),h);this.dragSegments_.push([h,1]);var g={segment:[c,k[1]],feature:j,geometry:a,depth:d,index:e+1};i.insert(ol.extent.boundingExtent(g.segment),g);this.dragSegments_.push([g,0]);this.ignoreNextSingleClick_=!0};ol.interaction.Modify.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ol.MapBrowserEventType.POINTERDRAG){var a=this.lastPointerEvent_;this.willModifyFeatures_(a);this.removeVertex_();this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,a));this.modified_=!1;return !0}return !1};ol.interaction.Modify.prototype.removeVertex_=function(){var n=this.dragSegments_;var d={};var h=!1;var b,f,l,j,m,e,g;var k,i,a,c;for(m=n.length-1;m>=0;--m){l=n[m];a=l[0];c=ol.getUid(a.feature);if(a.depth){c+='-'+a.depth.join('-')}if(!(c in d)){d[c]={}}if(l[1]===0){d[c].right=a;d[c].index=a.index}else {if(l[1]==1){d[c].left=a;d[c].index=a.index+1}}}for(c in d){i=d[c].right;g=d[c].left;e=d[c].index;k=e-1;if(g!==undefined){a=g}else {a=i}if(k<0){k=0}j=a.geometry;f=j.getCoordinates();b=f;h=!1;switch(j.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:if(f[a.depth[0]].length>2){f[a.depth[0]].splice(e,1);h=!0};break;case ol.geom.GeometryType.LINE_STRING:if(f.length>2){f.splice(e,1);h=!0};break;case ol.geom.GeometryType.MULTI_POLYGON:b=b[a.depth[1]];case ol.geom.GeometryType.POLYGON:b=b[a.depth[0]];if(b.length>4){if(e==b.length-1){e=0}b.splice(e,1);h=!0;if(e===0){b.pop();b.push(b[0]);k=b.length-1}};break;default:}if(h){this.setGeometryCoordinates_(j,f);var o=[];if(g!==undefined){this.rBush_.remove(g);o.push(g.segment[0])}if(i!==undefined){this.rBush_.remove(i);o.push(i.segment[1])}if(g!==undefined&&i!==undefined){var p={depth:a.depth,feature:a.feature,geometry:a.geometry,index:k,segment:o};this.rBush_.insert(ol.extent.boundingExtent(p.segment),p)}this.updateSegmentIndices_(j,e,a.depth,-1);if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}n.length=0}}return h};ol.interaction.Modify.prototype.setGeometryCoordinates_=function(b,a){this.changingFeature_=!0;b.setCoordinates(a);this.changingFeature_=!1};ol.interaction.Modify.prototype.updateSegmentIndices_=function(a,d,b,c){this.rBush_.forEachInExtent(a.getExtent(),function(e){if(e.geometry===a&&(b===undefined||e.depth===undefined||ol.array.equals(e.depth,b))&&e.index>d){e.index+=c}})};ol.interaction.Modify.getDefaultStyleFunction=function(){var a=ol.style.Style.createDefaultEditing();return function(c,b){return a[ol.geom.GeometryType.POINT]}};ol.interaction.Modify.Event=function(c,b,a){ol.events.Event.call(this,c);this.features=b;this.mapBrowserEvent=a};ol.inherits(ol.interaction.Modify.Event,ol.events.Event);goog.provide('ol.interaction.Select');goog.require('ol');goog.require('ol.CollectionEventType');goog.require('ol.array');goog.require('ol.events');goog.require('ol.events.Event');goog.require('ol.events.condition');goog.require('ol.functions');goog.require('ol.geom.GeometryType');goog.require('ol.interaction.Interaction');goog.require('ol.layer.Vector');goog.require('ol.obj');goog.require('ol.source.Vector');goog.require('ol.style.Style');ol.interaction.Select=function(c){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.Select.handleEvent});var a=c?c:{};this.condition_=a.condition?a.condition:ol.events.condition.singleClick;this.addCondition_=a.addCondition?a.addCondition:ol.events.condition.never;this.removeCondition_=a.removeCondition?a.removeCondition:ol.events.condition.never;this.toggleCondition_=a.toggleCondition?a.toggleCondition:ol.events.condition.shiftKeyOnly;this.multi_=a.multi?a.multi:!1;this.filter_=a.filter?a.filter:ol.functions.TRUE;this.hitTolerance_=a.hitTolerance?a.hitTolerance:0;var e=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,features:a.features,wrapX:a.wrapX}),style:a.style?a.style:ol.interaction.Select.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.featureOverlay_=e;var b;if(a.layers){if(typeof a.layers==='function'){b=a.layers}else {var f=a.layers;b=function(a){return ol.array.includes(f,a)}}}else {b=ol.functions.TRUE}this.layerFilter_=b;this.featureLayerAssociation_={};var d=this.featureOverlay_.getSource().getFeaturesCollection();ol.events.listen(d,ol.CollectionEventType.ADD,this.addFeature_,this);ol.events.listen(d,ol.CollectionEventType.REMOVE,this.removeFeature_,this)};ol.inherits(ol.interaction.Select,ol.interaction.Interaction);ol.interaction.Select.prototype.addFeatureLayerAssociation_=function(a,b){var c=ol.getUid(a);this.featureLayerAssociation_[c]=b};ol.interaction.Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()};ol.interaction.Select.prototype.getHitTolerance=function(){return this.hitTolerance_};ol.interaction.Select.prototype.getLayer=function(a){var b=ol.getUid(a);return this.featureLayerAssociation_[b]};ol.interaction.Select.handleEvent=function(a){if(!this.condition_(a)){return !0}var k=this.addCondition_(a);var i=this.removeCondition_(a);var h=this.toggleCondition_(a);var m=!k&&!i&&!h;var l=a.map;var c=this.featureOverlay_.getSource().getFeaturesCollection();var d=[];var b=[];if(m){ol.obj.clear(this.featureLayerAssociation_);l.forEachFeatureAtPixel(a.pixel,function(c,d){if(this.filter_(c,d)){b.push(c);this.addFeatureLayerAssociation_(c,d);return !this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var e;for(e=c.getLength()-1;e>=0;--e){var g=c.item(e);var j=b.indexOf(g);if(j>-1){b.splice(j,1)}else {c.remove(g);d.push(g)}}if(b.length!==0){c.extend(b)}}else {l.forEachFeatureAtPixel(a.pixel,function(e,f){if(this.filter_(e,f)){if((k||h)&&!ol.array.includes(c.getArray(),e)){b.push(e);this.addFeatureLayerAssociation_(e,f)}else {if((i||h)&&ol.array.includes(c.getArray(),e)){d.push(e);this.removeFeatureLayerAssociation_(e)}}return !this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var f;for(f=d.length-1;f>=0;--f){c.remove(d[f])}c.extend(b)}if(b.length>0||d.length>0){this.dispatchEvent(new ol.interaction.Select.Event(ol.interaction.Select.EventType_.SELECT,b,d,a))}return ol.events.condition.pointerMove(a)};ol.interaction.Select.prototype.setHitTolerance=function(a){this.hitTolerance_=a};ol.interaction.Select.prototype.setMap=function(a){var b=this.getMap();var c=this.featureOverlay_.getSource().getFeaturesCollection();if(b){c.forEach(b.unskipFeature,b)}ol.interaction.Interaction.prototype.setMap.call(this,a);this.featureOverlay_.setMap(a);if(a){c.forEach(a.skipFeature,a)}};ol.interaction.Select.getDefaultStyleFunction=function(){var a=ol.style.Style.createDefaultEditing();ol.array.extend(a[ol.geom.GeometryType.POLYGON],a[ol.geom.GeometryType.LINE_STRING]);ol.array.extend(a[ol.geom.GeometryType.GEOMETRY_COLLECTION],a[ol.geom.GeometryType.LINE_STRING]);return function(b,c){if(!b.getGeometry()){return null}return a[b.getGeometry().getType()]}};ol.interaction.Select.prototype.addFeature_=function(b){var a=this.getMap();if(a){a.skipFeature(b.element)}};ol.interaction.Select.prototype.removeFeature_=function(b){var a=this.getMap();if(a){a.unskipFeature(b.element)}};ol.interaction.Select.prototype.removeFeatureLayerAssociation_=function(a){var b=ol.getUid(a);delete this.featureLayerAssociation_[b]};ol.interaction.Select.Event=function(d,c,b,a){ol.events.Event.call(this,d);this.selected=c;this.deselected=b;this.mapBrowserEvent=a};ol.inherits(ol.interaction.Select.Event,ol.events.Event);ol.interaction.Select.EventType_={SELECT:'select'};goog.provide('ol.interaction.Snap');goog.require('ol');goog.require('ol.Collection');goog.require('ol.CollectionEventType');goog.require('ol.coordinate');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.functions');goog.require('ol.geom.GeometryType');goog.require('ol.geom.Polygon');goog.require('ol.interaction.Pointer');goog.require('ol.obj');goog.require('ol.source.Vector');goog.require('ol.source.VectorEventType');goog.require('ol.structs.RBush');ol.interaction.Snap=function(b){ol.interaction.Pointer.call(this,{handleEvent:ol.interaction.Snap.handleEvent_,handleDownEvent:ol.functions.TRUE,handleUpEvent:ol.interaction.Snap.handleUpEvent_});var a=b?b:{};this.source_=a.source?a.source:null;this.vertex_=a.vertex!==undefined?a.vertex:!0;this.edge_=a.edge!==undefined?a.edge:!0;this.features_=a.features?a.features:null;this.featuresListenerKeys_=[];this.featureChangeListenerKeys_={};this.indexedFeaturesExtents_={};this.pendingFeatures_={};this.pixelCoordinate_=null;this.pixelTolerance_=a.pixelTolerance!==undefined?a.pixelTolerance:10;this.sortByDistance_=ol.interaction.Snap.sortByDistance.bind(this);this.rBush_=new ol.structs.RBush();this.SEGMENT_WRITERS_={'Point':this.writePointGeometry_,'LineString':this.writeLineStringGeometry_,'LinearRing':this.writeLineStringGeometry_,'Polygon':this.writePolygonGeometry_,'MultiPoint':this.writeMultiPointGeometry_,'MultiLineString':this.writeMultiLineStringGeometry_,'MultiPolygon':this.writeMultiPolygonGeometry_,'GeometryCollection':this.writeGeometryCollectionGeometry_,'Circle':this.writeCircleGeometry_}};ol.inherits(ol.interaction.Snap,ol.interaction.Pointer);ol.interaction.Snap.prototype.addFeature=function(b,e){var f=e!==undefined?e:!0;var d=ol.getUid(b);var a=b.getGeometry();if(a){var c=this.SEGMENT_WRITERS_[a.getType()];if(c){this.indexedFeaturesExtents_[d]=a.getExtent(ol.extent.createEmpty());c.call(this,b,a)}}if(f){this.featureChangeListenerKeys_[d]=ol.events.listen(b,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)}};ol.interaction.Snap.prototype.forEachFeatureAdd_=function(a){this.addFeature(a)};ol.interaction.Snap.prototype.forEachFeatureRemove_=function(a){this.removeFeature(a)};ol.interaction.Snap.prototype.getFeatures_=function(){var a;if(this.features_){a=this.features_}else {if(this.source_){a=this.source_.getFeatures()}}return a};ol.interaction.Snap.prototype.handleFeatureAdd_=function(a){var b;if(a instanceof ol.source.Vector.Event){b=a.feature}else {if(a instanceof ol.Collection.Event){b=a.element}}this.addFeature(b)};ol.interaction.Snap.prototype.handleFeatureRemove_=function(a){var b;if(a instanceof ol.source.Vector.Event){b=a.feature}else {if(a instanceof ol.Collection.Event){b=a.element}}this.removeFeature(b)};ol.interaction.Snap.prototype.handleFeatureChange_=function(c){var a=c.target;if(this.handlingDownUpSequence){var b=ol.getUid(a);if(!(b in this.pendingFeatures_)){this.pendingFeatures_[b]=a}}else {this.updateFeature_(a)}};ol.interaction.Snap.prototype.removeFeature=function(e,d){var h=d!==undefined?d:!0;var c=ol.getUid(e);var f=this.indexedFeaturesExtents_[c];if(f){var g=this.rBush_;var a,b=[];g.forEachInExtent(f,function(a){if(e===a.feature){b.push(a)}});for(a=b.length-1;a>=0;--a){g.remove(b[a])}}if(h){ol.events.unlistenByKey(this.featureChangeListenerKeys_[c]);delete this.featureChangeListenerKeys_[c]}};ol.interaction.Snap.prototype.setMap=function(c){var d=this.getMap();var a=this.featuresListenerKeys_;var b=this.getFeatures_();if(d){a.forEach(ol.events.unlistenByKey);a.length=0;b.forEach(this.forEachFeatureRemove_,this)}ol.interaction.Pointer.prototype.setMap.call(this,c);if(c){if(this.features_){a.push(ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this))}else {if(this.source_){a.push(ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleFeatureAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleFeatureRemove_,this))}}b.forEach(this.forEachFeatureAdd_,this)}};ol.interaction.Snap.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Snap.prototype.snapTo=function(f,n,c){var q=c.getCoordinateFromPixel([f[0]-this.pixelTolerance_,f[1]+this.pixelTolerance_]);var p=c.getCoordinateFromPixel([f[0]+this.pixelTolerance_,f[1]-this.pixelTolerance_]);var r=ol.extent.boundingExtent([q,p]);var e=this.rBush_.getInExtent(r);if(this.vertex_&&!this.edge_){e=e.filter(function(a){return a.feature.getGeometry().getType()!==ol.geom.GeometryType.CIRCLE})}var i=!1;var j=!1;var d=null;var a=null;var m,k,l,g,h;if(e.length>0){this.pixelCoordinate_=n;e.sort(this.sortByDistance_);var b=e[0].segment;var o=e[0].feature.getGeometry().getType()===ol.geom.GeometryType.CIRCLE;if(this.vertex_&&!this.edge_){k=c.getPixelFromCoordinate(b[0]);l=c.getPixelFromCoordinate(b[1]);g=ol.coordinate.squaredDistance(f,k);h=ol.coordinate.squaredDistance(f,l);m=Math.sqrt(Math.min(g,h));i=m<=this.pixelTolerance_;if(i){j=!0;d=g>h?b[1]:b[0];a=c.getPixelFromCoordinate(d)}}else {if(this.edge_){if(o){d=ol.coordinate.closestOnCircle(n,e[0].feature.getGeometry())}else {d=ol.coordinate.closestOnSegment(n,b)}a=c.getPixelFromCoordinate(d);if(ol.coordinate.distance(f,a)<=this.pixelTolerance_){j=!0;if(this.vertex_&&!o){k=c.getPixelFromCoordinate(b[0]);l=c.getPixelFromCoordinate(b[1]);g=ol.coordinate.squaredDistance(a,k);h=ol.coordinate.squaredDistance(a,l);m=Math.sqrt(Math.min(g,h));i=m<=this.pixelTolerance_;if(i){d=g>h?b[1]:b[0];a=c.getPixelFromCoordinate(d)}}}}}if(j){a=[Math.round(a[0]),Math.round(a[1])]}}return {snapped:j,vertex:d,vertexPixel:a}};ol.interaction.Snap.prototype.updateFeature_=function(a){this.removeFeature(a,!1);this.addFeature(a,!1)};ol.interaction.Snap.prototype.writeCircleGeometry_=function(g,f){var h=ol.geom.Polygon.fromCircle(f);var c=h.getCoordinates()[0];var a,e,b,d;for(a=0,e=c.length-1;a<e;++a){b=c.slice(a,a+2);d={feature:g,segment:b};this.rBush_.insert(ol.extent.boundingExtent(b),d)}};ol.interaction.Snap.prototype.writeGeometryCollectionGeometry_=function(e,d){var a,b=d.getGeometriesArray();for(a=0;a<b.length;++a){var c=this.SEGMENT_WRITERS_[b[a].getType()];if(c){c.call(this,e,b[a])}}};ol.interaction.Snap.prototype.writeLineStringGeometry_=function(g,f){var c=f.getCoordinates();var a,e,b,d;for(a=0,e=c.length-1;a<e;++a){b=c.slice(a,a+2);d={feature:g,segment:b};this.rBush_.insert(ol.extent.boundingExtent(b),d)}};ol.interaction.Snap.prototype.writeMultiLineStringGeometry_=function(j,i){var f=i.getCoordinates();var c,a,g,b,h,d,e;for(b=0,h=f.length;b<h;++b){c=f[b];for(a=0,g=c.length-1;a<g;++a){d=c.slice(a,a+2);e={feature:j,segment:d};this.rBush_.insert(ol.extent.boundingExtent(d),e)}}};ol.interaction.Snap.prototype.writeMultiPointGeometry_=function(g,d){var e=d.getCoordinates();var b,a,f,c;for(a=0,f=e.length;a<f;++a){b=e[a];c={feature:g,segment:[b,b]};this.rBush_.insert(d.getExtent(),c)}};ol.interaction.Snap.prototype.writeMultiPolygonGeometry_=function(m,l){var h=l.getCoordinates();var d,a,i,b,j,c,k,f,e,g;for(c=0,k=h.length;c<k;++c){f=h[c];for(b=0,j=f.length;b<j;++b){d=f[b];for(a=0,i=d.length-1;a<i;++a){e=d.slice(a,a+2);g={feature:m,segment:e};this.rBush_.insert(ol.extent.boundingExtent(e),g)}}}};ol.interaction.Snap.prototype.writePointGeometry_=function(d,b){var a=b.getCoordinates();var c={feature:d,segment:[a,a]};this.rBush_.insert(b.getExtent(),c)};ol.interaction.Snap.prototype.writePolygonGeometry_=function(j,i){var f=i.getCoordinates();var c,a,g,b,h,d,e;for(b=0,h=f.length;b<h;++b){c=f[b];for(a=0,g=c.length-1;a<g;++a){d=c.slice(a,a+2);e={feature:j,segment:d};this.rBush_.insert(ol.extent.boundingExtent(d),e)}}};ol.interaction.Snap.handleEvent_=function(a){var b=this.snapTo(a.pixel,a.coordinate,a.map);if(b.snapped){a.coordinate=b.vertex.slice(0,2);a.pixel=b.vertexPixel}return ol.interaction.Pointer.handleEvent.call(this,a)};ol.interaction.Snap.handleUpEvent_=function(b){var a=ol.obj.getValues(this.pendingFeatures_);if(a.length){a.forEach(this.updateFeature_,this);this.pendingFeatures_={}}return !1};ol.interaction.Snap.sortByDistance=function(a,b){return ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,a.segment)-ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,b.segment)};goog.provide('ol.interaction.TranslateEventType');ol.interaction.TranslateEventType={TRANSLATESTART:'translatestart',TRANSLATING:'translating',TRANSLATEEND:'translateend'};goog.provide('ol.interaction.Translate');goog.require('ol');goog.require('ol.Collection');goog.require('ol.Object');goog.require('ol.events');goog.require('ol.events.Event');goog.require('ol.functions');goog.require('ol.array');goog.require('ol.interaction.Pointer');goog.require('ol.interaction.Property');goog.require('ol.interaction.TranslateEventType');ol.interaction.Translate=function(c){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Translate.handleDownEvent_,handleDragEvent:ol.interaction.Translate.handleDragEvent_,handleMoveEvent:ol.interaction.Translate.handleMoveEvent_,handleUpEvent:ol.interaction.Translate.handleUpEvent_});var a=c?c:{};this.lastCoordinate_=null;this.features_=a.features!==undefined?a.features:null;var b;if(a.layers){if(typeof a.layers==='function'){b=a.layers}else {var d=a.layers;b=function(a){return ol.array.includes(d,a)}}}else {b=ol.functions.TRUE}this.layerFilter_=b;this.hitTolerance_=a.hitTolerance?a.hitTolerance:0;this.lastFeature_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.handleActiveChanged_,this)};ol.inherits(ol.interaction.Translate,ol.interaction.Pointer);ol.interaction.Translate.handleDownEvent_=function(a){this.lastFeature_=this.featuresAtPixel_(a.pixel,a.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=a.coordinate;ol.interaction.Translate.handleMoveEvent_.call(this,a);var b=this.features_||new ol.Collection([this.lastFeature_]);this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATESTART,b,a.coordinate));return !0}return !1};ol.interaction.Translate.handleUpEvent_=function(a){if(this.lastCoordinate_){this.lastCoordinate_=null;ol.interaction.Translate.handleMoveEvent_.call(this,a);var b=this.features_||new ol.Collection([this.lastFeature_]);this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATEEND,b,a.coordinate));return !0}return !1};ol.interaction.Translate.handleDragEvent_=function(e){if(this.lastCoordinate_){var a=e.coordinate;var c=a[0]-this.lastCoordinate_[0];var d=a[1]-this.lastCoordinate_[1];var b=this.features_||new ol.Collection([this.lastFeature_]);b.forEach(function(a){var b=a.getGeometry();b.translate(c,d);a.setGeometry(b)});this.lastCoordinate_=a;this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATING,b,a))}};ol.interaction.Translate.handleMoveEvent_=function(a){var b=a.map.getViewport();if(this.featuresAtPixel_(a.pixel,a.map)){b.classList.remove(this.lastCoordinate_?'ol-grab':'ol-grabbing');b.classList.add(this.lastCoordinate_?'ol-grabbing':'ol-grab')}else {b.classList.remove('ol-grab','ol-grabbing')}};ol.interaction.Translate.prototype.featuresAtPixel_=function(a,b){return b.forEachFeatureAtPixel(a,function(c){if(!this.features_||ol.array.includes(this.features_.getArray(),c)){return c}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};ol.interaction.Translate.prototype.getHitTolerance=function(){return this.hitTolerance_};ol.interaction.Translate.prototype.setHitTolerance=function(a){this.hitTolerance_=a};ol.interaction.Translate.prototype.setMap=function(b){var a=this.getMap();ol.interaction.Pointer.prototype.setMap.call(this,b);this.updateState_(a)};ol.interaction.Translate.prototype.handleActiveChanged_=function(){this.updateState_(null)};ol.interaction.Translate.prototype.updateState_=function(c){var a=this.getMap();var b=this.getActive();if(!a||!b){a=a||c;if(a){var d=a.getViewport();d.classList.remove('ol-grab','ol-grabbing')}}};ol.interaction.Translate.Event=function(c,b,a){ol.events.Event.call(this,c);this.features=b;this.coordinate=a};ol.inherits(ol.interaction.Translate.Event,ol.events.Event);goog.provide('ol.layer.Heatmap');goog.require('ol.events');goog.require('ol');goog.require('ol.Object');goog.require('ol.dom');goog.require('ol.layer.Vector');goog.require('ol.math');goog.require('ol.obj');goog.require('ol.render.EventType');goog.require('ol.style.Icon');goog.require('ol.style.Style');ol.layer.Heatmap=function(e){var a=e?e:{};var b=ol.obj.assign({},a);delete b.gradient;delete b.radius;delete b.blur;delete b.shadow;delete b.weight;ol.layer.Vector.call(this,b);this.gradient_=null;this.shadow_=a.shadow!==undefined?a.shadow:250;this.circleImage_=undefined;this.styleCache_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.GRADIENT),this.handleGradientChanged_,this);this.setGradient(a.gradient?a.gradient:ol.layer.Heatmap.DEFAULT_GRADIENT);this.setBlur(a.blur!==undefined?a.blur:15);this.setRadius(a.radius!==undefined?a.radius:8);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.BLUR),this.handleStyleChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.RADIUS),this.handleStyleChanged_,this);this.handleStyleChanged_();var d=a.weight?a.weight:'weight';var c;if(typeof d==='string'){c=function(a){return a.get(d)}}else {c=d}this.setStyle(function(g,h){var d=c(g);var b=d!==undefined?ol.math.clamp(d,0,1):1;var f=255*b|0;var a=this.styleCache_[f];if(!a){a=[new ol.style.Style({image:new ol.style.Icon({opacity:b,src:this.circleImage_})})];this.styleCache_[f]=a}return a}.bind(this));this.setRenderOrder(null);ol.events.listen(this,ol.render.EventType.RENDER,this.handleRender_,this)};ol.inherits(ol.layer.Heatmap,ol.layer.Vector);ol.layer.Heatmap.DEFAULT_GRADIENT=['#00f','#0ff','#0f0','#ff0','#f00'];ol.layer.Heatmap.createGradient_=function(e){var c=1;var b=256;var a=ol.dom.createCanvasContext2D(c,b);var f=a.createLinearGradient(0,0,c,b);var g=1/(e.length-1);for(var d=0,h=e.length;d<h;++d){f.addColorStop(d*g,e[d])}a.fillStyle=f;a.fillRect(0,0,c,b);return a.getImageData(0,0,c,b).data};ol.layer.Heatmap.prototype.createCircle_=function(){var d=this.getRadius();var e=this.getBlur();var b=d+e+1;var f=2*b;var a=ol.dom.createCanvasContext2D(f,f);a.shadowOffsetX=a.shadowOffsetY=this.shadow_;a.shadowBlur=e;a.shadowColor='#000';a.beginPath();var c=b-this.shadow_;a.arc(c,c,d,0,Math.PI*2,!0);a.fill();return a.canvas.toDataURL()};ol.layer.Heatmap.prototype.getBlur=function(){return this.get(ol.layer.Heatmap.Property_.BLUR)};ol.layer.Heatmap.prototype.getGradient=function(){return this.get(ol.layer.Heatmap.Property_.GRADIENT)};ol.layer.Heatmap.prototype.getRadius=function(){return this.get(ol.layer.Heatmap.Property_.RADIUS)};ol.layer.Heatmap.prototype.handleGradientChanged_=function(){this.gradient_=ol.layer.Heatmap.createGradient_(this.getGradient())};ol.layer.Heatmap.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_();this.styleCache_=new Array(256);this.changed()};ol.layer.Heatmap.prototype.handleRender_=function(h){var d=h.context;var e=d.canvas;var f=d.getImageData(0,0,e.width,e.height);var c=f.data;var a,g,b;for(a=0,g=c.length;a<g;a+=4){b=c[a+3]*4;if(b){c[a]=this.gradient_[b];c[a+1]=this.gradient_[b+1];c[a+2]=this.gradient_[b+2]}}d.putImageData(f,0,0)};ol.layer.Heatmap.prototype.setBlur=function(a){this.set(ol.layer.Heatmap.Property_.BLUR,a)};ol.layer.Heatmap.prototype.setGradient=function(a){this.set(ol.layer.Heatmap.Property_.GRADIENT,a)};ol.layer.Heatmap.prototype.setRadius=function(a){this.set(ol.layer.Heatmap.Property_.RADIUS,a)};ol.layer.Heatmap.Property_={BLUR:'blur',GRADIENT:'gradient',RADIUS:'radius'};goog.provide('ol.layer.Image');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.layer.Layer');ol.layer.Image=function(a){var b=a?a:{};ol.layer.Layer.call(this,b);this.type=ol.LayerType.IMAGE};ol.inherits(ol.layer.Image,ol.layer.Layer);ol.layer.Image.prototype.getSource;goog.provide('ol.layer.TileProperty');ol.layer.TileProperty={PRELOAD:'preload',USE_INTERIM_TILES_ON_ERROR:'useInterimTilesOnError'};goog.provide('ol.layer.Tile');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.layer.Layer');goog.require('ol.layer.TileProperty');goog.require('ol.obj');ol.layer.Tile=function(c){var a=c?c:{};var b=ol.obj.assign({},a);delete b.preload;delete b.useInterimTilesOnError;ol.layer.Layer.call(this,b);this.setPreload(a.preload!==undefined?a.preload:0);this.setUseInterimTilesOnError(a.useInterimTilesOnError!==undefined?a.useInterimTilesOnError:!0);this.type=ol.LayerType.TILE};ol.inherits(ol.layer.Tile,ol.layer.Layer);ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)};ol.layer.Tile.prototype.getSource;ol.layer.Tile.prototype.setPreload=function(a){this.set(ol.layer.TileProperty.PRELOAD,a)};ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.Tile.prototype.setUseInterimTilesOnError=function(a){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,a)};goog.provide('ol.layer.VectorTile');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.asserts');goog.require('ol.layer.TileProperty');goog.require('ol.layer.Vector');goog.require('ol.layer.VectorTileRenderType');goog.require('ol.obj');ol.layer.VectorTile=function(d){var a=d?d:{};var b=a.renderMode||ol.layer.VectorTileRenderType.HYBRID;ol.asserts.assert(b==undefined||b==ol.layer.VectorTileRenderType.IMAGE||b==ol.layer.VectorTileRenderType.HYBRID||b==ol.layer.VectorTileRenderType.VECTOR,28);if(a.declutter&&b==ol.layer.VectorTileRenderType.IMAGE){b=ol.layer.VectorTileRenderType.HYBRID}a.renderMode=b;var c=ol.obj.assign({},a);delete c.preload;delete c.useInterimTilesOnError;ol.layer.Vector.call(this,c);this.setPreload(a.preload?a.preload:0);this.setUseInterimTilesOnError(a.useInterimTilesOnError?a.useInterimTilesOnError:!0);this.type=ol.LayerType.VECTOR_TILE};ol.inherits(ol.layer.VectorTile,ol.layer.Vector);ol.layer.VectorTile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)};ol.layer.VectorTile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.VectorTile.prototype.setPreload=function(a){this.set(ol.layer.TileProperty.PRELOAD,a)};ol.layer.VectorTile.prototype.setUseInterimTilesOnError=function(a){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,a)};ol.layer.VectorTile.prototype.getSource;goog.provide('ol.webgl.Shader');goog.require('ol.functions');ol.webgl.Shader=function(a){this.source_=a};ol.webgl.Shader.prototype.getType=function(){};ol.webgl.Shader.prototype.getSource=function(){return this.source_};ol.webgl.Shader.prototype.isAnimated=ol.functions.FALSE;goog.provide('ol.webgl.Fragment');goog.require('ol');goog.require('ol.webgl');goog.require('ol.webgl.Shader');ol.webgl.Fragment=function(a){ol.webgl.Shader.call(this,a)};ol.inherits(ol.webgl.Fragment,ol.webgl.Shader);ol.webgl.Fragment.prototype.getType=function(){return ol.webgl.FRAGMENT_SHADER};goog.provide('ol.webgl.Vertex');goog.require('ol');goog.require('ol.webgl');goog.require('ol.webgl.Shader');ol.webgl.Vertex=function(a){ol.webgl.Shader.call(this,a)};ol.inherits(ol.webgl.Vertex,ol.webgl.Shader);ol.webgl.Vertex.prototype.getType=function(){return ol.webgl.VERTEX_SHADER};goog.provide('ol.render.webgl.circlereplay.defaultshader');goog.require('ol');goog.require('ol.webgl.Fragment');goog.require('ol.webgl.Vertex');ol.render.webgl.circlereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?'precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n':'precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}');ol.render.webgl.circlereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?'varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n':'varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}');goog.provide('ol.render.webgl.circlereplay.defaultshader.Locations');goog.require('ol');ol.render.webgl.circlereplay.defaultshader.Locations=function(b,a){this.u_projectionMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_projectionMatrix':'h');this.u_offsetScaleMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_offsetScaleMatrix':'i');this.u_offsetRotateMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_offsetRotateMatrix':'j');this.u_lineWidth=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_lineWidth':'k');this.u_pixelRatio=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_pixelRatio':'l');this.u_opacity=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_opacity':'m');this.u_fillColor=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_fillColor':'n');this.u_strokeColor=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_strokeColor':'o');this.u_size=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_size':'p');this.a_position=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_position':'e');this.a_instruction=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_instruction':'f');this.a_radius=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_radius':'g')};goog.provide('ol.vec.Mat4');ol.vec.Mat4.create=function(){return [1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};ol.vec.Mat4.fromTransform=function(a,b){a[0]=b[0];a[1]=b[1];a[4]=b[2];a[5]=b[3];a[12]=b[4];a[13]=b[5];return a};goog.provide('ol.render.webgl.Replay');goog.require('ol');goog.require('ol.extent');goog.require('ol.render.VectorContext');goog.require('ol.transform');goog.require('ol.vec.Mat4');goog.require('ol.webgl');ol.render.webgl.Replay=function(b,a){ol.render.VectorContext.call(this);this.tolerance=b;this.maxExtent=a;this.origin=ol.extent.getCenter(a);this.projectionMatrix_=ol.transform.create();this.offsetRotateMatrix_=ol.transform.create();this.offsetScaleMatrix_=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.indices=[];this.indicesBuffer=null;this.startIndices=[];this.startIndicesFeature=[];this.vertices=[];this.verticesBuffer=null;this.lineStringReplay=undefined};ol.inherits(ol.render.webgl.Replay,ol.render.VectorContext);ol.render.webgl.Replay.prototype.getDeleteResourcesFunction=function(a){};ol.render.webgl.Replay.prototype.finish=function(a){};ol.render.webgl.Replay.prototype.setUpProgram=function(d,b,c,a){};ol.render.webgl.Replay.prototype.shutDownProgram=function(b,a){};ol.render.webgl.Replay.prototype.drawReplay=function(d,c,a,b){};ol.render.webgl.Replay.prototype.drawHitDetectionReplayOneByOne=function(e,d,a,b,c){};ol.render.webgl.Replay.prototype.drawHitDetectionReplay=function(d,c,a,b,f,e){if(!f){return this.drawHitDetectionReplayAll(d,c,a,b)}else {return this.drawHitDetectionReplayOneByOne(d,c,a,b,e)}};ol.render.webgl.Replay.prototype.drawHitDetectionReplayAll=function(a,e,c,d){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);this.drawReplay(a,e,c,!0);var b=d(null);if(b){return b}else {return undefined}};ol.render.webgl.Replay.prototype.replay=function(b,j,i,f,c,u,x,g,h,w,s){var a=b.getGL();var v,q,m,t,r,o,p,n;if(this.lineStringReplay){v=a.isEnabled(a.STENCIL_TEST);q=a.getParameter(a.STENCIL_FUNC);m=a.getParameter(a.STENCIL_VALUE_MASK);t=a.getParameter(a.STENCIL_REF);r=a.getParameter(a.STENCIL_WRITEMASK);o=a.getParameter(a.STENCIL_FAIL);p=a.getParameter(a.STENCIL_PASS_DEPTH_PASS);n=a.getParameter(a.STENCIL_PASS_DEPTH_FAIL);a.enable(a.STENCIL_TEST);a.clear(a.STENCIL_BUFFER_BIT);a.stencilMask(255);a.stencilFunc(a.ALWAYS,1,255);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE);this.lineStringReplay.replay(b,j,i,f,c,u,x,g,h,w,s);a.stencilMask(0);a.stencilFunc(a.NOTEQUAL,1,255)}b.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer);b.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var d=this.setUpProgram(a,b,c,u);var e=ol.transform.reset(this.projectionMatrix_);ol.transform.scale(e,2/(i*c[0]),2/(i*c[1]));ol.transform.rotate(e,-f);ol.transform.translate(e,-(j[0]-this.origin[0]),-(j[1]-this.origin[1]));var l=ol.transform.reset(this.offsetScaleMatrix_);ol.transform.scale(l,2/c[0],2/c[1]);var k=ol.transform.reset(this.offsetRotateMatrix_);if(f!==0){ol.transform.rotate(k,-f)}a.uniformMatrix4fv(d.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,e));a.uniformMatrix4fv(d.u_offsetScaleMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,l));a.uniformMatrix4fv(d.u_offsetRotateMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,k));a.uniform1f(d.u_opacity,x);var y;if(h===undefined){this.drawReplay(a,b,g,!1)}else {y=this.drawHitDetectionReplay(a,b,g,h,w,s)}this.shutDownProgram(a,d);if(this.lineStringReplay){if(!v){a.disable(a.STENCIL_TEST)}a.clear(a.STENCIL_BUFFER_BIT);a.stencilFunc(q,t,m);a.stencilMask(r);a.stencilOp(o,n,p)}return y};ol.render.webgl.Replay.prototype.drawElements=function(h,a,b,g){var e=a.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT;var d=a.hasOESElementIndexUint?4:2;var f=g-b;var c=b*d;h.drawElements(ol.webgl.TRIANGLES,f,e,c)};goog.provide('ol.render.webgl');ol.render.webgl.defaultFont='10px sans-serif';ol.render.webgl.defaultFillStyle=[0,0,0,1];ol.render.webgl.defaultLineCap='round';ol.render.webgl.defaultLineDash=[];ol.render.webgl.defaultLineDashOffset=0;ol.render.webgl.defaultLineJoin='round';ol.render.webgl.defaultMiterLimit=10;ol.render.webgl.defaultStrokeStyle=[0,0,0,1];ol.render.webgl.defaultTextAlign=0.5;ol.render.webgl.defaultTextBaseline=0.5;ol.render.webgl.defaultLineWidth=1;ol.render.webgl.triangleIsCounterClockwise=function(b,c,d,f,e,g){var a=(d-b)*(g-c)-(e-b)*(f-c);return a<=ol.render.webgl.EPSILON&&a>=-ol.render.webgl.EPSILON?undefined:a>0};ol.render.webgl.EPSILON=Number.EPSILON||2.220446049250313E-16;goog.provide('ol.webgl.Buffer');goog.require('ol.webgl');ol.webgl.Buffer=function(b,a){this.arr_=b!==undefined?b:[];this.usage_=a!==undefined?a:ol.webgl.Buffer.Usage_.STATIC_DRAW};ol.webgl.Buffer.prototype.getArray=function(){return this.arr_};ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_};ol.webgl.Buffer.Usage_={STATIC_DRAW:ol.webgl.STATIC_DRAW,STREAM_DRAW:ol.webgl.STREAM_DRAW,DYNAMIC_DRAW:ol.webgl.DYNAMIC_DRAW};goog.provide('ol.render.webgl.CircleReplay');goog.require('ol');goog.require('ol.array');goog.require('ol.color');goog.require('ol.extent');goog.require('ol.obj');goog.require('ol.geom.flat.transform');goog.require('ol.render.webgl.circlereplay.defaultshader');goog.require('ol.render.webgl.circlereplay.defaultshader.Locations');goog.require('ol.render.webgl.Replay');goog.require('ol.render.webgl');goog.require('ol.webgl');goog.require('ol.webgl.Buffer');ol.render.webgl.CircleReplay=function(b,a){ol.render.webgl.Replay.call(this,b,a);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.radius_=0;this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:undefined,lineWidth:undefined,changed:!1}};ol.inherits(ol.render.webgl.CircleReplay,ol.render.webgl.Replay);ol.render.webgl.CircleReplay.prototype.drawCoordinates_=function(c,g,i,h){var a=this.vertices.length;var e=this.indices.length;var d=a/4;var b,f;for(b=g,f=i;b<f;b+=h){this.vertices[a++]=c[b];this.vertices[a++]=c[b+1];this.vertices[a++]=0;this.vertices[a++]=this.radius_;this.vertices[a++]=c[b];this.vertices[a++]=c[b+1];this.vertices[a++]=1;this.vertices[a++]=this.radius_;this.vertices[a++]=c[b];this.vertices[a++]=c[b+1];this.vertices[a++]=2;this.vertices[a++]=this.radius_;this.vertices[a++]=c[b];this.vertices[a++]=c[b+1];this.vertices[a++]=3;this.vertices[a++]=this.radius_;this.indices[e++]=d;this.indices[e++]=d+1;this.indices[e++]=d+2;this.indices[e++]=d+2;this.indices[e++]=d+3;this.indices[e++]=d;d+=4}};ol.render.webgl.CircleReplay.prototype.drawCircle=function(b,f){var d=b.getRadius();var e=b.getStride();if(d){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(f);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=!1}this.radius_=d;var a=b.getFlatCoordinates();a=ol.geom.flat.transform.translate(a,0,2,e,-this.origin[0],-this.origin[1]);this.drawCoordinates_(a,0,2,e)}else {if(this.state_.changed){this.styles_.pop();if(this.styles_.length){var c=this.styles_[this.styles_.length-1];this.state_.fillColor=c[0];this.state_.strokeColor=c[1];this.state_.lineWidth=c[2];this.state_.changed=!1}}}};ol.render.webgl.CircleReplay.prototype.finish=function(a){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);if(this.styleIndices_.length===0&&this.styles_.length>0){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.CircleReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer;var c=this.indicesBuffer;return function(){a.deleteBuffer(b);a.deleteBuffer(c)}};ol.render.webgl.CircleReplay.prototype.setUpProgram=function(b,e,h,g){var c,d;c=ol.render.webgl.circlereplay.defaultshader.fragment;d=ol.render.webgl.circlereplay.defaultshader.vertex;var f=e.getProgram(c,d);var a;if(!this.defaultLocations_){a=new ol.render.webgl.circlereplay.defaultshader.Locations(b,f);this.defaultLocations_=a}else {a=this.defaultLocations_}e.useProgram(f);b.enableVertexAttribArray(a.a_position);b.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,!1,16,0);b.enableVertexAttribArray(a.a_instruction);b.vertexAttribPointer(a.a_instruction,1,ol.webgl.FLOAT,!1,16,8);b.enableVertexAttribArray(a.a_radius);b.vertexAttribPointer(a.a_radius,1,ol.webgl.FLOAT,!1,16,12);b.uniform2fv(a.u_size,h);b.uniform1f(a.u_pixelRatio,g);return a};ol.render.webgl.CircleReplay.prototype.shutDownProgram=function(b,a){b.disableVertexAttribArray(a.a_position);b.disableVertexAttribArray(a.a_instruction);b.disableVertexAttribArray(a.a_radius)};ol.render.webgl.CircleReplay.prototype.drawReplay=function(c,g,f,h){if(!ol.obj.isEmpty(f)){this.drawReplaySkipping_(c,g,f)}else {var a,d,e,b;e=this.startIndices[this.startIndices.length-1];for(a=this.styleIndices_.length-1;a>=0;--a){d=this.styleIndices_[a];b=this.styles_[a];this.setFillStyle_(c,b[0]);this.setStrokeStyle_(c,b[1],b[2]);this.drawElements(c,g,d,e);e=d}}};ol.render.webgl.CircleReplay.prototype.drawHitDetectionReplayOneByOne=function(b,n,l,m,h){var d,f,g,e,j,c,i,a;a=this.startIndices.length-2;g=this.startIndices[a+1];for(d=this.styleIndices_.length-1;d>=0;--d){e=this.styles_[d];this.setFillStyle_(b,e[0]);this.setStrokeStyle_(b,e[1],e[2]);j=this.styleIndices_[d];while(a>=0&&this.startIndices[a]>=j){f=this.startIndices[a];c=this.startIndicesFeature[a];i=ol.getUid(c).toString();if(l[i]===undefined&&c.getGeometry()&&(h===undefined||ol.extent.intersects(h,c.getGeometry().getExtent()))){b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);this.drawElements(b,n,f,g);var k=m(c);if(k){return k}}a--;g=f}}return undefined};ol.render.webgl.CircleReplay.prototype.drawReplaySkipping_=function(f,j,l){var d,b,c,e,h,k,i,a,g;a=this.startIndices.length-2;c=b=this.startIndices[a+1];for(d=this.styleIndices_.length-1;d>=0;--d){e=this.styles_[d];this.setFillStyle_(f,e[0]);this.setStrokeStyle_(f,e[1],e[2]);h=this.styleIndices_[d];while(a>=0&&this.startIndices[a]>=h){g=this.startIndices[a];k=this.startIndicesFeature[a];i=ol.getUid(k).toString();if(l[i]){if(b!==c){this.drawElements(f,j,b,c)}c=g}a--;b=g}if(b!==c){this.drawElements(f,j,b,c)}b=c=h}};ol.render.webgl.CircleReplay.prototype.setFillStyle_=function(b,a){b.uniform4fv(this.defaultLocations_.u_fillColor,a)};ol.render.webgl.CircleReplay.prototype.setStrokeStyle_=function(a,c,b){a.uniform4fv(this.defaultLocations_.u_strokeColor,c);a.uniform1f(this.defaultLocations_.u_lineWidth,b)};ol.render.webgl.CircleReplay.prototype.setFillStrokeStyle=function(g,d){var a,b;if(d){var f=d.getLineDash();this.state_.lineDash=f?f:ol.render.webgl.defaultLineDash;var e=d.getLineDashOffset();this.state_.lineDashOffset=e?e:ol.render.webgl.defaultLineDashOffset;a=d.getColor();if(!(a instanceof CanvasGradient)&&!(a instanceof CanvasPattern)){a=ol.color.asArray(a).map(function(a,b){return b!=3?a/255:a})||ol.render.webgl.defaultStrokeStyle}else {a=ol.render.webgl.defaultStrokeStyle}b=d.getWidth();b=b!==undefined?b:ol.render.webgl.defaultLineWidth}else {a=[0,0,0,0];b=0}var c=g?g.getColor():[0,0,0,0];if(!(c instanceof CanvasGradient)&&!(c instanceof CanvasPattern)){c=ol.color.asArray(c).map(function(a,b){return b!=3?a/255:a})||ol.render.webgl.defaultFillStyle}else {c=ol.render.webgl.defaultFillStyle}if(!this.state_.strokeColor||!ol.array.equals(this.state_.strokeColor,a)||!this.state_.fillColor||!ol.array.equals(this.state_.fillColor,c)||this.state_.lineWidth!==b){this.state_.changed=!0;this.state_.fillColor=c;this.state_.strokeColor=a;this.state_.lineWidth=b;this.styles_.push([c,a,b])}};goog.provide('ol.render.webgl.texturereplay.defaultshader');goog.require('ol');goog.require('ol.webgl.Fragment');goog.require('ol.webgl.Vertex');ol.render.webgl.texturereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?'precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n':'precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}');ol.render.webgl.texturereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?'varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n':'varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}');goog.provide('ol.render.webgl.texturereplay.defaultshader.Locations');goog.require('ol');ol.render.webgl.texturereplay.defaultshader.Locations=function(b,a){this.u_projectionMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_projectionMatrix':'h');this.u_offsetScaleMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_offsetScaleMatrix':'i');this.u_offsetRotateMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_offsetRotateMatrix':'j');this.u_opacity=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_opacity':'k');this.u_image=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_image':'l');this.a_position=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_position':'c');this.a_texCoord=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_texCoord':'d');this.a_offsets=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_offsets':'e');this.a_opacity=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_opacity':'f');this.a_rotateWithView=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_rotateWithView':'g')};goog.provide('ol.webgl.ContextEventType');ol.webgl.ContextEventType={LOST:'webglcontextlost',RESTORED:'webglcontextrestored'};goog.provide('ol.webgl.Context');goog.require('ol');goog.require('ol.Disposable');goog.require('ol.array');goog.require('ol.events');goog.require('ol.obj');goog.require('ol.webgl');goog.require('ol.webgl.ContextEventType');ol.webgl.Context=function(b,a){this.canvas_=b;this.gl_=a;this.bufferCache_={};this.shaderCache_={};this.programCache_={};this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null;this.hasOESElementIndexUint=ol.array.includes(ol.WEBGL_EXTENSIONS,'OES_element_index_uint');if(this.hasOESElementIndexUint){a.getExtension('OES_element_index_uint')}ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this)};ol.inherits(ol.webgl.Context,ol.Disposable);ol.webgl.Context.prototype.bindBuffer=function(a,b){var c=this.getGL();var f=b.getArray();var e=String(ol.getUid(b));if(e in this.bufferCache_){var h=this.bufferCache_[e];c.bindBuffer(a,h.buffer)}else {var g=c.createBuffer();c.bindBuffer(a,g);var d;if(a==ol.webgl.ARRAY_BUFFER){d=new Float32Array(f)}else {if(a==ol.webgl.ELEMENT_ARRAY_BUFFER){d=this.hasOESElementIndexUint?new Uint32Array(f):new Uint16Array(f)}}c.bufferData(a,d,b.getUsage());this.bufferCache_[e]={buf:b,buffer:g}}};ol.webgl.Context.prototype.deleteBuffer=function(d){var b=this.getGL();var a=String(ol.getUid(d));var c=this.bufferCache_[a];if(!b.isContextLost()){b.deleteBuffer(c.buffer)}delete this.bufferCache_[a]};ol.webgl.Context.prototype.disposeInternal=function(){ol.events.unlistenAll(this.canvas_);var a=this.getGL();if(!a.isContextLost()){var b;for(b in this.bufferCache_){a.deleteBuffer(this.bufferCache_[b].buffer)}for(b in this.programCache_){a.deleteProgram(this.programCache_[b])}for(b in this.shaderCache_){a.deleteShader(this.shaderCache_[b])}a.deleteFramebuffer(this.hitDetectionFramebuffer_);a.deleteRenderbuffer(this.hitDetectionRenderbuffer_);a.deleteTexture(this.hitDetectionTexture_)}};ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_};ol.webgl.Context.prototype.getGL=function(){return this.gl_};ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){if(!this.hitDetectionFramebuffer_){this.initHitDetectionFramebuffer_()}return this.hitDetectionFramebuffer_};ol.webgl.Context.prototype.getShader=function(b){var c=String(ol.getUid(b));if(c in this.shaderCache_){return this.shaderCache_[c]}else {var d=this.getGL();var a=d.createShader(b.getType());d.shaderSource(a,b.getSource());d.compileShader(a);this.shaderCache_[c]=a;return a}};ol.webgl.Context.prototype.getProgram=function(d,e){var c=ol.getUid(d)+'/'+ol.getUid(e);if(c in this.programCache_){return this.programCache_[c]}else {var b=this.getGL();var a=b.createProgram();b.attachShader(a,this.getShader(d));b.attachShader(a,this.getShader(e));b.linkProgram(a);this.programCache_[c]=a;return a}};ol.webgl.Context.prototype.handleWebGLContextLost=function(){ol.obj.clear(this.bufferCache_);ol.obj.clear(this.shaderCache_);ol.obj.clear(this.programCache_);this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null};ol.webgl.Context.prototype.handleWebGLContextRestored=function(){};ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var a=this.gl_;var c=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,c);var d=ol.webgl.Context.createEmptyTexture(a,1,1);var b=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,b);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,1,1);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,d,0);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,b);a.bindTexture(a.TEXTURE_2D,null);a.bindRenderbuffer(a.RENDERBUFFER,null);a.bindFramebuffer(a.FRAMEBUFFER,null);this.hitDetectionFramebuffer_=c;this.hitDetectionTexture_=d;this.hitDetectionRenderbuffer_=b};ol.webgl.Context.prototype.useProgram=function(a){if(a==this.currentProgram_){return !1}else {var b=this.getGL();b.useProgram(a);this.currentProgram_=a;return !0}};ol.webgl.Context.createTexture_=function(a,b,c){var d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);if(b!==undefined){a.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,b)}if(c!==undefined){a.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,c)}return d};ol.webgl.Context.createEmptyTexture=function(a,f,e,b,c){var d=ol.webgl.Context.createTexture_(a,b,c);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,f,e,0,a.RGBA,a.UNSIGNED_BYTE,null);return d};ol.webgl.Context.createTexture=function(a,e,b,c){var d=ol.webgl.Context.createTexture_(a,b,c);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,e);return d};goog.provide('ol.render.webgl.TextureReplay');goog.require('ol');goog.require('ol.extent');goog.require('ol.obj');goog.require('ol.render.webgl.texturereplay.defaultshader');goog.require('ol.render.webgl.texturereplay.defaultshader.Locations');goog.require('ol.render.webgl.Replay');goog.require('ol.webgl');goog.require('ol.webgl.Context');ol.render.webgl.TextureReplay=function(b,a){ol.render.webgl.Replay.call(this,b,a);this.anchorX=undefined;this.anchorY=undefined;this.groupIndices=[];this.hitDetectionGroupIndices=[];this.height=undefined;this.imageHeight=undefined;this.imageWidth=undefined;this.defaultLocations=null;this.opacity=undefined;this.originX=undefined;this.originY=undefined;this.rotateWithView=undefined;this.rotation=undefined;this.scale=undefined;this.width=undefined};ol.inherits(ol.render.webgl.TextureReplay,ol.render.webgl.Replay);ol.render.webgl.TextureReplay.prototype.getDeleteResourcesFunction=function(a){var d=this.verticesBuffer;var e=this.indicesBuffer;var b=this.getTextures(!0);var c=a.getGL();return function(){if(!c.isContextLost()){var f,g;for(f=0,g=b.length;f<g;++f){c.deleteTexture(b[f])}}a.deleteBuffer(d);a.deleteBuffer(e)}};ol.render.webgl.TextureReplay.prototype.drawCoordinates=function(v,x,z,y){var o=this.anchorX;var p=this.anchorY;var t=this.height;var m=this.imageHeight;var n=this.imageWidth;var q=this.opacity;var r=this.originX;var s=this.originY;var l=this.rotateWithView?1:0;var w=-this.rotation;var d=this.scale;var u=this.width;var e=Math.cos(w);var f=Math.sin(w);var h=this.indices.length;var a=this.vertices.length;var i,g,b,c,j,k;for(i=x;i<z;i+=y){j=v[i]-this.origin[0];k=v[i+1]-this.origin[1];g=a/8;b=-d*o;c=-d*(t-p);this.vertices[a++]=j;this.vertices[a++]=k;this.vertices[a++]=b*e-c*f;this.vertices[a++]=b*f+c*e;this.vertices[a++]=r/n;this.vertices[a++]=(s+t)/m;this.vertices[a++]=q;this.vertices[a++]=l;b=d*(u-o);c=-d*(t-p);this.vertices[a++]=j;this.vertices[a++]=k;this.vertices[a++]=b*e-c*f;this.vertices[a++]=b*f+c*e;this.vertices[a++]=(r+u)/n;this.vertices[a++]=(s+t)/m;this.vertices[a++]=q;this.vertices[a++]=l;b=d*(u-o);c=d*p;this.vertices[a++]=j;this.vertices[a++]=k;this.vertices[a++]=b*e-c*f;this.vertices[a++]=b*f+c*e;this.vertices[a++]=(r+u)/n;this.vertices[a++]=s/m;this.vertices[a++]=q;this.vertices[a++]=l;b=-d*o;c=d*p;this.vertices[a++]=j;this.vertices[a++]=k;this.vertices[a++]=b*e-c*f;this.vertices[a++]=b*f+c*e;this.vertices[a++]=r/n;this.vertices[a++]=s/m;this.vertices[a++]=q;this.vertices[a++]=l;this.indices[h++]=g;this.indices[h++]=g+1;this.indices[h++]=g+2;this.indices[h++]=g;this.indices[h++]=g+2;this.indices[h++]=g+3}return a};ol.render.webgl.TextureReplay.prototype.createTextures=function(g,f,d,h){var b,e,c,a;var i=f.length;for(a=0;a<i;++a){e=f[a];c=ol.getUid(e).toString();if(c in d){b=d[c]}else {b=ol.webgl.Context.createTexture(h,e,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE);d[c]=b}g[a]=b}};ol.render.webgl.TextureReplay.prototype.setUpProgram=function(b,c,h,g){var e=ol.render.webgl.texturereplay.defaultshader.fragment;var f=ol.render.webgl.texturereplay.defaultshader.vertex;var d=c.getProgram(e,f);var a;if(!this.defaultLocations){a=new ol.render.webgl.texturereplay.defaultshader.Locations(b,d);this.defaultLocations=a}else {a=this.defaultLocations}c.useProgram(d);b.enableVertexAttribArray(a.a_position);b.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,!1,32,0);b.enableVertexAttribArray(a.a_offsets);b.vertexAttribPointer(a.a_offsets,2,ol.webgl.FLOAT,!1,32,8);b.enableVertexAttribArray(a.a_texCoord);b.vertexAttribPointer(a.a_texCoord,2,ol.webgl.FLOAT,!1,32,16);b.enableVertexAttribArray(a.a_opacity);b.vertexAttribPointer(a.a_opacity,1,ol.webgl.FLOAT,!1,32,24);b.enableVertexAttribArray(a.a_rotateWithView);b.vertexAttribPointer(a.a_rotateWithView,1,ol.webgl.FLOAT,!1,32,28);return a};ol.render.webgl.TextureReplay.prototype.shutDownProgram=function(b,a){b.disableVertexAttribArray(a.a_position);b.disableVertexAttribArray(a.a_offsets);b.disableVertexAttribArray(a.a_texCoord);b.disableVertexAttribArray(a.a_opacity);b.disableVertexAttribArray(a.a_rotateWithView)};ol.render.webgl.TextureReplay.prototype.drawReplay=function(d,h,e,g){var b=g?this.getHitDetectionTextures():this.getTextures();var f=g?this.hitDetectionGroupIndices:this.groupIndices;if(!ol.obj.isEmpty(e)){this.drawReplaySkipping(d,h,e,b,f)}else {var a,j,c;for(a=0,j=b.length,c=0;a<j;++a){d.bindTexture(ol.webgl.TEXTURE_2D,b[a]);var i=f[a];this.drawElements(d,h,c,i);c=i}}};ol.render.webgl.TextureReplay.prototype.drawReplaySkipping=function(f,j,l,i,g){var a=0;var b,k;for(b=0,k=i.length;b<k;++b){f.bindTexture(ol.webgl.TEXTURE_2D,i[b]);var h=b>0?g[b-1]:0;var e=g[b];var c=h;var d=h;while(a<this.startIndices.length&&this.startIndices[a]<=e){var n=this.startIndicesFeature[a];var m=ol.getUid(n).toString();if(l[m]!==undefined){if(c!==d){this.drawElements(f,j,c,d)}c=a===this.startIndices.length-1?e:this.startIndices[a+1];d=c}else {d=a===this.startIndices.length-1?e:this.startIndices[a+1]}a++}if(c!==d){this.drawElements(f,j,c,d)}}};ol.render.webgl.TextureReplay.prototype.drawHitDetectionReplayOneByOne=function(d,n,l,m,h){var a,j,e,f,c,i;var b=this.startIndices.length-1;var g=this.getHitDetectionTextures();for(a=g.length-1;a>=0;--a){d.bindTexture(ol.webgl.TEXTURE_2D,g[a]);j=a>0?this.hitDetectionGroupIndices[a-1]:0;f=this.hitDetectionGroupIndices[a];while(b>=0&&this.startIndices[b]>=j){e=this.startIndices[b];c=this.startIndicesFeature[b];i=ol.getUid(c).toString();if(l[i]===undefined&&c.getGeometry()&&(h===undefined||ol.extent.intersects(h,c.getGeometry().getExtent()))){d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT);this.drawElements(d,n,e,f);var k=m(c);if(k){return k}}f=e;b--}}return undefined};ol.render.webgl.TextureReplay.prototype.finish=function(a){this.anchorX=undefined;this.anchorY=undefined;this.height=undefined;this.imageHeight=undefined;this.imageWidth=undefined;this.indices=null;this.opacity=undefined;this.originX=undefined;this.originY=undefined;this.rotateWithView=undefined;this.rotation=undefined;this.scale=undefined;this.vertices=null;this.width=undefined};ol.render.webgl.TextureReplay.prototype.getTextures=function(a){};ol.render.webgl.TextureReplay.prototype.getHitDetectionTextures=function(){};goog.provide('ol.render.webgl.ImageReplay');goog.require('ol');goog.require('ol.render.webgl.TextureReplay');goog.require('ol.webgl.Buffer');ol.render.webgl.ImageReplay=function(b,a){ol.render.webgl.TextureReplay.call(this,b,a);this.images_=[];this.hitDetectionImages_=[];this.textures_=[];this.hitDetectionTextures_=[]};ol.inherits(ol.render.webgl.ImageReplay,ol.render.webgl.TextureReplay);ol.render.webgl.ImageReplay.prototype.drawMultiPoint=function(a,c){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(c);var b=a.getFlatCoordinates();var d=a.getStride();this.drawCoordinates(b,0,b.length,d)};ol.render.webgl.ImageReplay.prototype.drawPoint=function(b,c){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(c);var a=b.getFlatCoordinates();var d=b.getStride();this.drawCoordinates(a,0,a.length,d)};ol.render.webgl.ImageReplay.prototype.finish=function(b){var c=b.getGL();this.groupIndices.push(this.indices.length);this.hitDetectionGroupIndices.push(this.indices.length);this.verticesBuffer=new ol.webgl.Buffer(this.vertices);var d=this.indices;this.indicesBuffer=new ol.webgl.Buffer(d);var a={};this.createTextures(this.textures_,this.images_,a,c);this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,a,c);this.images_=null;this.hitDetectionImages_=null;ol.render.webgl.TextureReplay.prototype.finish.call(this,b)};ol.render.webgl.ImageReplay.prototype.setImageStyle=function(a){var f=a.getAnchor();var d=a.getImage(1);var e=a.getImageSize();var c=a.getHitDetectionImage(1);var k=a.getOpacity();var g=a.getOrigin();var i=a.getRotateWithView();var j=a.getRotation();var h=a.getSize();var l=a.getScale();var b;if(this.images_.length===0){this.images_.push(d)}else {b=this.images_[this.images_.length-1];if(ol.getUid(b)!=ol.getUid(d)){this.groupIndices.push(this.indices.length);this.images_.push(d)}}if(this.hitDetectionImages_.length===0){this.hitDetectionImages_.push(c)}else {b=this.hitDetectionImages_[this.hitDetectionImages_.length-1];if(ol.getUid(b)!=ol.getUid(c)){this.hitDetectionGroupIndices.push(this.indices.length);this.hitDetectionImages_.push(c)}}this.anchorX=f[0];this.anchorY=f[1];this.height=h[1];this.imageHeight=e[1];this.imageWidth=e[0];this.opacity=k;this.originX=g[0];this.originY=g[1];this.rotation=j;this.rotateWithView=i;this.scale=l;this.width=h[0]};ol.render.webgl.ImageReplay.prototype.getTextures=function(a){return a?this.textures_.concat(this.hitDetectionTextures_):this.textures_};ol.render.webgl.ImageReplay.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};goog.provide('ol.render.webgl.linestringreplay.defaultshader');goog.require('ol');goog.require('ol.webgl.Fragment');goog.require('ol.webgl.Vertex');ol.render.webgl.linestringreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?'precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n':'precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}');ol.render.webgl.linestringreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?'varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n':'varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}');goog.provide('ol.render.webgl.linestringreplay.defaultshader.Locations');goog.require('ol');ol.render.webgl.linestringreplay.defaultshader.Locations=function(b,a){this.u_projectionMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_projectionMatrix':'h');this.u_offsetScaleMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_offsetScaleMatrix':'i');this.u_offsetRotateMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_offsetRotateMatrix':'j');this.u_lineWidth=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_lineWidth':'k');this.u_miterLimit=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_miterLimit':'l');this.u_opacity=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_opacity':'m');this.u_color=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_color':'n');this.u_size=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_size':'o');this.u_pixelRatio=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_pixelRatio':'p');this.a_lastPos=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_lastPos':'d');this.a_position=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_position':'e');this.a_nextPos=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_nextPos':'f');this.a_direction=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_direction':'g')};goog.provide('ol.render.webgl.LineStringReplay');goog.require('ol');goog.require('ol.array');goog.require('ol.color');goog.require('ol.extent');goog.require('ol.geom.flat.orient');goog.require('ol.geom.flat.transform');goog.require('ol.geom.flat.topology');goog.require('ol.obj');goog.require('ol.render.webgl');goog.require('ol.render.webgl.Replay');goog.require('ol.render.webgl.linestringreplay.defaultshader');goog.require('ol.render.webgl.linestringreplay.defaultshader.Locations');goog.require('ol.webgl');goog.require('ol.webgl.Buffer');ol.render.webgl.LineStringReplay=function(b,a){ol.render.webgl.Replay.call(this,b,a);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={strokeColor:null,lineCap:undefined,lineDash:null,lineDashOffset:undefined,lineJoin:undefined,lineWidth:undefined,miterLimit:undefined,changed:!1}};ol.inherits(ol.render.webgl.LineStringReplay,ol.render.webgl.Replay);ol.render.webgl.LineStringReplay.prototype.drawCoordinates_=function(m,p,o,l){var h,s;var b=this.vertices.length;var a=this.indices.length;var n=this.state_.lineJoin==='bevel'?0:this.state_.lineJoin==='miter'?1:2;var k=this.state_.lineCap==='butt'?0:this.state_.lineCap==='square'?1:2;var q=ol.geom.flat.topology.lineStringIsClosed(m,p,o,l);var r,j,c;var g=a;var i=1;var f,d,e;for(h=p,s=o;h<s;h+=l){c=b/7;f=d;d=e||[m[h],m[h+1]];if(h===p){e=[m[h+l],m[h+l+1]];if(o-p===l*2&&ol.array.equals(d,e)){break}if(q){f=[m[o-l*2],m[o-l*2+1]];r=e}else {if(k){b=this.addVertices_([0,0],d,e,i*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*k,b);b=this.addVertices_([0,0],d,e,-i*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*k,b);this.indices[a++]=c+2;this.indices[a++]=c;this.indices[a++]=c+1;this.indices[a++]=c+1;this.indices[a++]=c+3;this.indices[a++]=c+2}b=this.addVertices_([0,0],d,e,i*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(k||1),b);b=this.addVertices_([0,0],d,e,-i*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(k||1),b);g=b/7-1;continue}}else {if(h===o-l){if(q){e=r;break}else {f=f||[0,0];b=this.addVertices_(f,d,[0,0],i*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(k||1),b);b=this.addVertices_(f,d,[0,0],-i*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(k||1),b);this.indices[a++]=c;this.indices[a++]=g-1;this.indices[a++]=g;this.indices[a++]=g;this.indices[a++]=c+1;this.indices[a++]=c;if(k){b=this.addVertices_(f,d,[0,0],i*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*k,b);b=this.addVertices_(f,d,[0,0],-i*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*k,b);this.indices[a++]=c+2;this.indices[a++]=c;this.indices[a++]=c+1;this.indices[a++]=c+1;this.indices[a++]=c+3;this.indices[a++]=c+2}break}}else {e=[m[h+l],m[h+l+1]]}}j=ol.render.webgl.triangleIsCounterClockwise(f[0],f[1],d[0],d[1],e[0],e[1])?-1:1;b=this.addVertices_(f,d,e,j*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(n||1),b);b=this.addVertices_(f,d,e,j*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_SECOND*(n||1),b);b=this.addVertices_(f,d,e,-j*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(n||1),b);if(h>p){this.indices[a++]=c;this.indices[a++]=g-1;this.indices[a++]=g;this.indices[a++]=c+2;this.indices[a++]=c;this.indices[a++]=i*j>0?g:g-1}this.indices[a++]=c;this.indices[a++]=c+2;this.indices[a++]=c+1;g=c+2;i=j;if(n){b=this.addVertices_(f,d,e,j*ol.render.webgl.LineStringReplay.Instruction_.MITER_TOP*n,b);this.indices[a++]=c+1;this.indices[a++]=c+3;this.indices[a++]=c}}if(q){c=c||b/7;j=ol.geom.flat.orient.linearRingIsClockwise([f[0],f[1],d[0],d[1],e[0],e[1]],0,6,2)?1:-1;b=this.addVertices_(f,d,e,j*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(n||1),b);b=this.addVertices_(f,d,e,-j*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(n||1),b);this.indices[a++]=c;this.indices[a++]=g-1;this.indices[a++]=g;this.indices[a++]=c+1;this.indices[a++]=c;this.indices[a++]=i*j>0?g:g-1}};ol.render.webgl.LineStringReplay.prototype.addVertices_=function(b,c,d,e,a){this.vertices[a++]=b[0];this.vertices[a++]=b[1];this.vertices[a++]=c[0];this.vertices[a++]=c[1];this.vertices[a++]=d[0];this.vertices[a++]=d[1];this.vertices[a++]=e;return a};ol.render.webgl.LineStringReplay.prototype.isValid_=function(b,a,g,c){var d=g-a;if(d<c*2){return !1}else {if(d===c*2){var e=[b[a],b[a+1]];var f=[b[a+c],b[a+c+1]];return !ol.array.equals(e,f)}}return !0};ol.render.webgl.LineStringReplay.prototype.drawLineString=function(c,d){var a=c.getFlatCoordinates();var b=c.getStride();if(this.isValid_(a,0,a.length,b)){a=ol.geom.flat.transform.translate(a,0,a.length,b,-this.origin[0],-this.origin[1]);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=!1}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(d);this.drawCoordinates_(a,0,a.length,b)}};ol.render.webgl.LineStringReplay.prototype.drawMultiLineString=function(c,i){var d=this.indices.length;var a=c.getEnds();a.unshift(0);var f=c.getFlatCoordinates();var e=c.getStride();var b,h;if(a.length>1){for(b=1,h=a.length;b<h;++b){if(this.isValid_(f,a[b-1],a[b],e)){var g=ol.geom.flat.transform.translate(f,a[b-1],a[b],e,-this.origin[0],-this.origin[1]);this.drawCoordinates_(g,0,g.length,e)}}}if(this.indices.length>d){this.startIndices.push(d);this.startIndicesFeature.push(i);if(this.state_.changed){this.styleIndices_.push(d);this.state_.changed=!1}}};ol.render.webgl.LineStringReplay.prototype.drawPolygonCoordinates=function(c,b,d){if(!ol.geom.flat.topology.lineStringIsClosed(c,0,c.length,d)){c.push(c[0]);c.push(c[1])}this.drawCoordinates_(c,0,c.length,d);if(b.length){var a,e;for(a=0,e=b.length;a<e;++a){if(!ol.geom.flat.topology.lineStringIsClosed(b[a],0,b[a].length,d)){b[a].push(b[a][0]);b[a].push(b[a][1])}this.drawCoordinates_(b[a],0,b[a].length,d)}}};ol.render.webgl.LineStringReplay.prototype.setPolygonStyle=function(c,a){var b=a===undefined?this.indices.length:a;this.startIndices.push(b);this.startIndicesFeature.push(c);if(this.state_.changed){this.styleIndices_.push(b);this.state_.changed=!1}};ol.render.webgl.LineStringReplay.prototype.getCurrentIndex=function(){return this.indices.length};ol.render.webgl.LineStringReplay.prototype.finish=function(a){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);if(this.styleIndices_.length===0&&this.styles_.length>0){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.LineStringReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer;var c=this.indicesBuffer;return function(){a.deleteBuffer(b);a.deleteBuffer(c)}};ol.render.webgl.LineStringReplay.prototype.setUpProgram=function(b,e,h,g){var c,d;c=ol.render.webgl.linestringreplay.defaultshader.fragment;d=ol.render.webgl.linestringreplay.defaultshader.vertex;var f=e.getProgram(c,d);var a;if(!this.defaultLocations_){a=new ol.render.webgl.linestringreplay.defaultshader.Locations(b,f);this.defaultLocations_=a}else {a=this.defaultLocations_}e.useProgram(f);b.enableVertexAttribArray(a.a_lastPos);b.vertexAttribPointer(a.a_lastPos,2,ol.webgl.FLOAT,!1,28,0);b.enableVertexAttribArray(a.a_position);b.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,!1,28,8);b.enableVertexAttribArray(a.a_nextPos);b.vertexAttribPointer(a.a_nextPos,2,ol.webgl.FLOAT,!1,28,16);b.enableVertexAttribArray(a.a_direction);b.vertexAttribPointer(a.a_direction,1,ol.webgl.FLOAT,!1,28,24);b.uniform2fv(a.u_size,h);b.uniform1f(a.u_pixelRatio,g);return a};ol.render.webgl.LineStringReplay.prototype.shutDownProgram=function(b,a){b.disableVertexAttribArray(a.a_lastPos);b.disableVertexAttribArray(a.a_position);b.disableVertexAttribArray(a.a_nextPos);b.disableVertexAttribArray(a.a_direction)};ol.render.webgl.LineStringReplay.prototype.drawReplay=function(a,h,f,g){var i=a.getParameter(a.DEPTH_FUNC);var j=a.getParameter(a.DEPTH_WRITEMASK);if(!g){a.enable(a.DEPTH_TEST);a.depthMask(!0);a.depthFunc(a.NOTEQUAL)}if(!ol.obj.isEmpty(f)){this.drawReplaySkipping_(a,h,f)}else {var b,d,e,c;e=this.startIndices[this.startIndices.length-1];for(b=this.styleIndices_.length-1;b>=0;--b){d=this.styleIndices_[b];c=this.styles_[b];this.setStrokeStyle_(a,c[0],c[1],c[2]);this.drawElements(a,h,d,e);a.clear(a.DEPTH_BUFFER_BIT);e=d}}if(!g){a.disable(a.DEPTH_TEST);a.clear(a.DEPTH_BUFFER_BIT);a.depthMask(j);a.depthFunc(i)}};ol.render.webgl.LineStringReplay.prototype.drawReplaySkipping_=function(d,j,l){var e,b,c,f,h,k,i,a,g;a=this.startIndices.length-2;c=b=this.startIndices[a+1];for(e=this.styleIndices_.length-1;e>=0;--e){f=this.styles_[e];this.setStrokeStyle_(d,f[0],f[1],f[2]);h=this.styleIndices_[e];while(a>=0&&this.startIndices[a]>=h){g=this.startIndices[a];k=this.startIndicesFeature[a];i=ol.getUid(k).toString();if(l[i]){if(b!==c){this.drawElements(d,j,b,c);d.clear(d.DEPTH_BUFFER_BIT)}c=g}a--;b=g}if(b!==c){this.drawElements(d,j,b,c);d.clear(d.DEPTH_BUFFER_BIT)}b=c=h}};ol.render.webgl.LineStringReplay.prototype.drawHitDetectionReplayOneByOne=function(c,n,l,m,h){var d,f,g,e,j,b,i,a;a=this.startIndices.length-2;g=this.startIndices[a+1];for(d=this.styleIndices_.length-1;d>=0;--d){e=this.styles_[d];this.setStrokeStyle_(c,e[0],e[1],e[2]);j=this.styleIndices_[d];while(a>=0&&this.startIndices[a]>=j){f=this.startIndices[a];b=this.startIndicesFeature[a];i=ol.getUid(b).toString();if(l[i]===undefined&&b.getGeometry()&&(h===undefined||ol.extent.intersects(h,b.getGeometry().getExtent()))){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);this.drawElements(c,n,f,g);var k=m(b);if(k){return k}}a--;g=f}}return undefined};ol.render.webgl.LineStringReplay.prototype.setStrokeStyle_=function(a,d,c,b){a.uniform4fv(this.defaultLocations_.u_color,d);a.uniform1f(this.defaultLocations_.u_lineWidth,c);a.uniform1f(this.defaultLocations_.u_miterLimit,b)};ol.render.webgl.LineStringReplay.prototype.setFillStrokeStyle=function(i,b){var h=b.getLineCap();this.state_.lineCap=h!==undefined?h:ol.render.webgl.defaultLineCap;var f=b.getLineDash();this.state_.lineDash=f?f:ol.render.webgl.defaultLineDash;var e=b.getLineDashOffset();this.state_.lineDashOffset=e?e:ol.render.webgl.defaultLineDashOffset;var g=b.getLineJoin();this.state_.lineJoin=g!==undefined?g:ol.render.webgl.defaultLineJoin;var a=b.getColor();if(!(a instanceof CanvasGradient)&&!(a instanceof CanvasPattern)){a=ol.color.asArray(a).map(function(a,c){return c!=3?a/255:a})||ol.render.webgl.defaultStrokeStyle}else {a=ol.render.webgl.defaultStrokeStyle}var d=b.getWidth();d=d!==undefined?d:ol.render.webgl.defaultLineWidth;var c=b.getMiterLimit();c=c!==undefined?c:ol.render.webgl.defaultMiterLimit;if(!this.state_.strokeColor||!ol.array.equals(this.state_.strokeColor,a)||this.state_.lineWidth!==d||this.state_.miterLimit!==c){this.state_.changed=!0;this.state_.strokeColor=a;this.state_.lineWidth=d;this.state_.miterLimit=c;this.styles_.push([a,d,c])}};ol.render.webgl.LineStringReplay.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};goog.provide('ol.render.webgl.polygonreplay.defaultshader');goog.require('ol');goog.require('ol.webgl.Fragment');goog.require('ol.webgl.Vertex');ol.render.webgl.polygonreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?'precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n':'precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}');ol.render.webgl.polygonreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?'\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n':'attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}');goog.provide('ol.render.webgl.polygonreplay.defaultshader.Locations');goog.require('ol');ol.render.webgl.polygonreplay.defaultshader.Locations=function(b,a){this.u_projectionMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_projectionMatrix':'b');this.u_offsetScaleMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_offsetScaleMatrix':'c');this.u_offsetRotateMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_offsetRotateMatrix':'d');this.u_color=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_color':'e');this.u_opacity=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_opacity':'f');this.a_position=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_position':'a')};goog.provide('ol.structs.LinkedList');ol.structs.LinkedList=function(a){this.first_=undefined;this.last_=undefined;this.head_=undefined;this.circular_=a===undefined?!0:a;this.length_=0};ol.structs.LinkedList.prototype.insertItem=function(d){var a={prev:undefined,next:undefined,data:d};var b=this.head_;if(!b){this.first_=a;this.last_=a;if(this.circular_){a.next=a;a.prev=a}}else {var c=b.next;a.prev=b;a.next=c;b.next=a;if(c){c.prev=a}if(b===this.last_){this.last_=a}}this.head_=a;this.length_++};ol.structs.LinkedList.prototype.removeItem=function(){var a=this.head_;if(a){var c=a.next;var b=a.prev;if(c){c.prev=b}if(b){b.next=c}this.head_=c||b;if(this.first_===this.last_){this.head_=undefined;this.first_=undefined;this.last_=undefined}else {if(this.first_===a){this.first_=this.head_}else {if(this.last_===a){this.last_=b?this.head_.prev:this.head_}}}this.length_--}};ol.structs.LinkedList.prototype.firstItem=function(){this.head_=this.first_;if(this.head_){return this.head_.data}return undefined};ol.structs.LinkedList.prototype.lastItem=function(){this.head_=this.last_;if(this.head_){return this.head_.data}return undefined};ol.structs.LinkedList.prototype.nextItem=function(){if(this.head_&&this.head_.next){this.head_=this.head_.next;return this.head_.data}return undefined};ol.structs.LinkedList.prototype.getNextItem=function(){if(this.head_&&this.head_.next){return this.head_.next.data}return undefined};ol.structs.LinkedList.prototype.prevItem=function(){if(this.head_&&this.head_.prev){this.head_=this.head_.prev;return this.head_.data}return undefined};ol.structs.LinkedList.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev){return this.head_.prev.data}return undefined};ol.structs.LinkedList.prototype.getCurrItem=function(){if(this.head_){return this.head_.data}return undefined};ol.structs.LinkedList.prototype.setFirstItem=function(){if(this.circular_&&this.head_){this.first_=this.head_;this.last_=this.head_.prev}};ol.structs.LinkedList.prototype.concat=function(a){if(a.head_){if(this.head_){var b=this.head_.next;this.head_.next=a.first_;a.first_.prev=this.head_;b.prev=a.last_;a.last_.next=b;this.length_+=a.length_}else {this.head_=a.head_;this.first_=a.first_;this.last_=a.last_;this.length_=a.length_}a.head_=undefined;a.first_=undefined;a.last_=undefined;a.length_=0}};ol.structs.LinkedList.prototype.getLength=function(){return this.length_};goog.provide('ol.render.webgl.PolygonReplay');goog.require('ol');goog.require('ol.array');goog.require('ol.color');goog.require('ol.extent');goog.require('ol.obj');goog.require('ol.geom.flat.contains');goog.require('ol.geom.flat.orient');goog.require('ol.geom.flat.transform');goog.require('ol.render.webgl.polygonreplay.defaultshader');goog.require('ol.render.webgl.polygonreplay.defaultshader.Locations');goog.require('ol.render.webgl.LineStringReplay');goog.require('ol.render.webgl.Replay');goog.require('ol.render.webgl');goog.require('ol.style.Stroke');goog.require('ol.structs.LinkedList');goog.require('ol.structs.RBush');goog.require('ol.webgl');goog.require('ol.webgl.Buffer');ol.render.webgl.PolygonReplay=function(b,a){ol.render.webgl.Replay.call(this,b,a);this.lineStringReplay=new ol.render.webgl.LineStringReplay(b,a);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={fillColor:null,changed:!1}};ol.inherits(ol.render.webgl.PolygonReplay,ol.render.webgl.Replay);ol.render.webgl.PolygonReplay.prototype.drawCoordinates_=function(m,f,j){var e=new ol.structs.LinkedList();var c=new ol.structs.RBush();this.processFlatCoordinates_(m,j,e,c,!0);var n=this.getMaxCoords_(e);if(f.length){var a,l;var d=[];for(a=0,l=f.length;a<l;++a){var b={list:new ol.structs.LinkedList(),maxCoords:undefined,rtree:new ol.structs.RBush()};d.push(b);this.processFlatCoordinates_(f[a],j,b.list,b.rtree,!1);this.classifyPoints_(b.list,b.rtree,!0);b.maxCoords=this.getMaxCoords_(b.list)}d.sort(function(a,b){return b.maxCoords[0]===a.maxCoords[0]?a.maxCoords[1]-b.maxCoords[1]:b.maxCoords[0]-a.maxCoords[0]});for(a=0;a<d.length;++a){var h=d[a].list;var k=h.firstItem();var g=k;var i;do{if(this.getIntersections_(g,c).length){i=!0;break}g=h.nextItem()}while(k!==g);if(!i){if(this.bridgeHole_(h,d[a].maxCoords[0],e,n[0],c)){c.concat(d[a].rtree);this.classifyPoints_(e,c,!1)}}}}else {this.classifyPoints_(e,c,!1)}this.triangulate_(e,c)};ol.render.webgl.PolygonReplay.prototype.processFlatCoordinates_=function(c,e,i,o,n){var m=ol.geom.flat.orient.linearRingIsClockwise(c,0,c.length,e);var d,j;var k=this.vertices.length/2;var f;var b;var a;var h=[];var g=[];if(n===m){f=this.createPoint_(c[0],c[1],k++);b=f;for(d=e,j=c.length;d<j;d+=e){a=this.createPoint_(c[d],c[d+1],k++);g.push(this.insertItem_(b,a,i));h.push([Math.min(b.x,a.x),Math.min(b.y,a.y),Math.max(b.x,a.x),Math.max(b.y,a.y)]);b=a}g.push(this.insertItem_(a,f,i));h.push([Math.min(b.x,a.x),Math.min(b.y,a.y),Math.max(b.x,a.x),Math.max(b.y,a.y)])}else {var l=c.length-e;f=this.createPoint_(c[l],c[l+1],k++);b=f;for(d=l-e,j=0;d>=j;d-=e){a=this.createPoint_(c[d],c[d+1],k++);g.push(this.insertItem_(b,a,i));h.push([Math.min(b.x,a.x),Math.min(b.y,a.y),Math.max(b.x,a.x),Math.max(b.y,a.y)]);b=a}g.push(this.insertItem_(a,f,i));h.push([Math.min(b.x,a.x),Math.min(b.y,a.y),Math.max(b.x,a.x),Math.max(b.y,a.y)])}o.load(h,g)};ol.render.webgl.PolygonReplay.prototype.getMaxCoords_=function(d){var c=d.firstItem();var a=c;var b=[a.p0.x,a.p0.y];do{a=d.nextItem();if(a.p0.x>b[0]){b=[a.p0.x,a.p0.y]}}while(a!==c);return b};ol.render.webgl.PolygonReplay.prototype.classifyPoints_=function(c,g,h){var d=c.firstItem();var a=d;var b=c.nextItem();var e=!1;do{var f=h?ol.render.webgl.triangleIsCounterClockwise(b.p1.x,b.p1.y,a.p1.x,a.p1.y,a.p0.x,a.p0.y):ol.render.webgl.triangleIsCounterClockwise(a.p0.x,a.p0.y,a.p1.x,a.p1.y,b.p1.x,b.p1.y);if(f===undefined){this.removeItem_(a,b,c,g);e=!0;if(b===d){d=c.getNextItem()}b=a;c.prevItem()}else {if(a.p1.reflex!==f){a.p1.reflex=f;e=!0}}a=b;b=c.nextItem()}while(a!==d);return e};ol.render.webgl.PolygonReplay.prototype.bridgeHole_=function(e,v,o,w,i){var a=e.firstItem();while(a.p1.x!==v){a=e.nextItem()}var b=a.p1;var p={x:w,y:b.y,i:-1};var h=Infinity;var c,j,f;var u;var q=this.getIntersections_({p0:b,p1:p},i,!0);for(c=0,j=q.length;c<j;++c){var d=q[c];var l=this.calculateIntersection_(b,p,d.p0,d.p1,!0);var t=Math.abs(b.x-l[0]);if(t<h&&ol.render.webgl.triangleIsCounterClockwise(b.x,b.y,d.p0.x,d.p0.y,d.p1.x,d.p1.y)!==undefined){h=t;u={x:l[0],y:l[1],i:-1};a=d}}if(h===Infinity){return !1}f=a.p1;if(h>0){var k=this.getPointsInTriangle_(b,u,a.p1,i);if(k.length){var n=Infinity;for(c=0,j=k.length;c<j;++c){var g=k[c];var m=Math.atan2(b.y-g.y,p.x-g.x);if(m<n||m===n&&g.x<f.x){n=m;f=g}}}}a=o.firstItem();while(a.p1.x!==f.x||a.p1.y!==f.y){a=o.nextItem()}var r={x:b.x,y:b.y,i:b.i,reflex:undefined};var s={x:a.p1.x,y:a.p1.y,i:a.p1.i,reflex:undefined};e.getNextItem().p0=r;this.insertItem_(b,a.p1,e,i);this.insertItem_(s,r,e,i);a.p1=s;e.setFirstItem();o.concat(e);return !0};ol.render.webgl.PolygonReplay.prototype.triangulate_=function(a,b){var c=!1;var d=this.isSimple_(a,b);while(a.getLength()>3){if(d){if(!this.clipEars_(a,b,d,c)){if(!this.classifyPoints_(a,b,c)){if(!this.resolveSelfIntersections_(a,b,!0)){break}}}}else {if(!this.clipEars_(a,b,d,c)){if(!this.classifyPoints_(a,b,c)){if(!this.resolveSelfIntersections_(a,b)){d=this.isSimple_(a,b);if(!d){this.splitPolygon_(a,b);break}else {c=!this.isClockwise_(a);this.classifyPoints_(a,b,c)}}}}}}if(a.getLength()===3){var e=this.indices.length;this.indices[e++]=a.getPrevItem().p0.i;this.indices[e++]=a.getCurrItem().p0.i;this.indices[e++]=a.getNextItem().p0.i}};ol.render.webgl.PolygonReplay.prototype.clipEars_=function(a,m,l,o){var k=this.indices.length;var h=a.firstItem();var f=a.getPrevItem();var g=h;var i=a.nextItem();var e=a.getNextItem();var b,d,c;var n=!1;do{b=g.p0;d=g.p1;c=i.p1;if(d.reflex===!1){var j;if(l){j=this.getPointsInTriangle_(b,d,c,m,!0).length===0}else {j=o?this.diagonalIsInside_(e.p1,c,d,b,f.p0):this.diagonalIsInside_(f.p0,b,d,c,e.p1)}if((l||this.getIntersections_({p0:b,p1:c},m).length===0)&&j){if(l||b.reflex===!1||c.reflex===!1||ol.geom.flat.orient.linearRingIsClockwise([f.p0.x,f.p0.y,b.x,b.y,d.x,d.y,c.x,c.y,e.p1.x,e.p1.y],0,10,2)===!o){this.indices[k++]=b.i;this.indices[k++]=d.i;this.indices[k++]=c.i;this.removeItem_(g,i,a,m);if(i===h){h=e}n=!0}}}f=a.getPrevItem();g=a.getCurrItem();i=a.nextItem();e=a.getNextItem()}while(g!==h&&a.getLength()>3);return n};ol.render.webgl.PolygonReplay.prototype.resolveSelfIntersections_=function(c,g,l){var h=c.firstItem();c.nextItem();var a=h;var b=c.nextItem();var k=!1;do{var f=this.calculateIntersection_(a.p0,a.p1,b.p0,b.p1,l);if(f){var e=!1;var m=this.vertices.length;var j=this.indices.length;var n=m/2;var i=c.prevItem();c.removeItem();g.remove(i);e=i===h;var d;if(l){if(f[0]===a.p0.x&&f[1]===a.p0.y){c.prevItem();d=a.p0;b.p0=d;g.remove(a);e=e||a===h}else {d=b.p1;a.p1=d;g.remove(b);e=e||b===h}c.removeItem()}else {d=this.createPoint_(f[0],f[1],n);a.p1=d;b.p0=d;g.update([Math.min(a.p0.x,a.p1.x),Math.min(a.p0.y,a.p1.y),Math.max(a.p0.x,a.p1.x),Math.max(a.p0.y,a.p1.y)],a);g.update([Math.min(b.p0.x,b.p1.x),Math.min(b.p0.y,b.p1.y),Math.max(b.p0.x,b.p1.x),Math.max(b.p0.y,b.p1.y)],b)}this.indices[j++]=i.p0.i;this.indices[j++]=i.p1.i;this.indices[j++]=d.i;k=!0;if(e){break}}a=c.getPrevItem();b=c.nextItem()}while(a!==h);return k};ol.render.webgl.PolygonReplay.prototype.isSimple_=function(c,d){var b=c.firstItem();var a=b;do{if(this.getIntersections_(a,d).length){return !1}a=c.nextItem()}while(a!==b);return !0};ol.render.webgl.PolygonReplay.prototype.isClockwise_=function(c){var d=c.getLength()*2;var b=new Array(d);var e=c.firstItem();var a=e;var f=0;do{b[f++]=a.p0.x;b[f++]=a.p0.y;a=c.nextItem()}while(a!==e);return ol.geom.flat.orient.linearRingIsClockwise(b,0,d,2)};ol.render.webgl.PolygonReplay.prototype.splitPolygon_=function(d,e){var k=d.firstItem();var a=k;do{var i=this.getIntersections_(a,e);if(i.length){var c=i[0];var l=this.vertices.length/2;var j=this.calculateIntersection_(a.p0,a.p1,c.p0,c.p1);var b=this.createPoint_(j[0],j[1],l);var f=new ol.structs.LinkedList();var h=new ol.structs.RBush();this.insertItem_(b,a.p1,f,h);a.p1=b;e.update([Math.min(a.p0.x,b.x),Math.min(a.p0.y,b.y),Math.max(a.p0.x,b.x),Math.max(a.p0.y,b.y)],a);var g=d.nextItem();while(g!==c){this.insertItem_(g.p0,g.p1,f,h);e.remove(g);d.removeItem();g=d.getCurrItem()}this.insertItem_(c.p0,b,f,h);c.p0=b;e.update([Math.min(c.p1.x,b.x),Math.min(c.p1.y,b.y),Math.max(c.p1.x,b.x),Math.max(c.p1.y,b.y)],c);this.classifyPoints_(d,e,!1);this.triangulate_(d,e);this.classifyPoints_(f,h,!1);this.triangulate_(f,h);break}a=d.nextItem()}while(a!==k)};ol.render.webgl.PolygonReplay.prototype.createPoint_=function(b,c,d){var a=this.vertices.length;this.vertices[a++]=b;this.vertices[a++]=c;var e={x:b,y:c,i:d,reflex:undefined};return e};ol.render.webgl.PolygonReplay.prototype.insertItem_=function(a,b,e,d){var c={p0:a,p1:b};e.insertItem(c);if(d){d.insert([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],c)}return c};ol.render.webgl.PolygonReplay.prototype.removeItem_=function(a,b,d,c){if(d.getCurrItem()===b){d.removeItem();a.p1=b.p1;c.remove(b);c.update([Math.min(a.p0.x,a.p1.x),Math.min(a.p0.y,a.p1.y),Math.max(a.p0.x,a.p1.x),Math.max(a.p0.y,a.p1.y)],a)}};ol.render.webgl.PolygonReplay.prototype.getPointsInTriangle_=function(b,c,d,k,j){var e,h,i,a;var g=[];var f=k.getInExtent([Math.min(b.x,c.x,d.x),Math.min(b.y,c.y,d.y),Math.max(b.x,c.x,d.x),Math.max(b.y,c.y,d.y)]);for(e=0,h=f.length;e<h;++e){for(i in f[e]){a=f[e][i];if(typeof a==='object'&&(!j||a.reflex)){if((a.x!==b.x||a.y!==b.y)&&(a.x!==c.x||a.y!==c.y)&&(a.x!==d.x||a.y!==d.y)&&g.indexOf(a)===-1&&ol.geom.flat.contains.linearRingContainsXY([b.x,b.y,c.x,c.y,d.x,d.y],0,6,2,a.x,a.y)){g.push(a)}}}}return g};ol.render.webgl.PolygonReplay.prototype.getIntersections_=function(e,j,g){var b=e.p0;var c=e.p1;var f=j.getInExtent([Math.min(b.x,c.x),Math.min(b.y,c.y),Math.max(b.x,c.x),Math.max(b.y,c.y)]);var h=[];var d,i;for(d=0,i=f.length;d<i;++d){var a=f[d];if(e!==a&&(g||a.p0!==c||a.p1!==b)&&this.calculateIntersection_(b,c,a.p0,a.p1,g)){h.push(a)}}return h};ol.render.webgl.PolygonReplay.prototype.calculateIntersection_=function(a,c,b,e,h){var g=(e.y-b.y)*(c.x-a.x)-(e.x-b.x)*(c.y-a.y);if(g!==0){var d=((e.x-b.x)*(a.y-b.y)-(e.y-b.y)*(a.x-b.x))/g;var f=((c.x-a.x)*(a.y-b.y)-(c.y-a.y)*(a.x-b.x))/g;if(!h&&d>ol.render.webgl.EPSILON&&d<1-ol.render.webgl.EPSILON&&f>ol.render.webgl.EPSILON&&f<1-ol.render.webgl.EPSILON||h&&d>=0&&d<=1&&f>=0&&f<=1){return [a.x+d*(c.x-a.x),a.y+d*(c.y-a.y)]}}return undefined};ol.render.webgl.PolygonReplay.prototype.diagonalIsInside_=function(h,a,c,b,i){if(a.reflex===undefined||b.reflex===undefined){return !1}var f=(c.x-b.x)*(a.y-b.y)>(c.y-b.y)*(a.x-b.x);var d=(i.x-b.x)*(a.y-b.y)<(i.y-b.y)*(a.x-b.x);var g=(h.x-a.x)*(b.y-a.y)>(h.y-a.y)*(b.x-a.x);var e=(c.x-a.x)*(b.y-a.y)<(c.y-a.y)*(b.x-a.x);var j=b.reflex?d||f:d&&f;var k=a.reflex?e||g:e&&g;return j&&k};ol.render.webgl.PolygonReplay.prototype.drawMultiPolygon=function(e,l){var m=e.getEndss();var c=e.getStride();var f=this.indices.length;var k=this.lineStringReplay.getCurrentIndex();var i=e.getFlatCoordinates();var d,o,b,p;var n=0;for(d=0,o=m.length;d<o;++d){var a=m[d];if(a.length>0){var g=ol.geom.flat.transform.translate(i,n,a[0],c,-this.origin[0],-this.origin[1]);if(g.length){var h=[];var j;for(b=1,p=a.length;b<p;++b){if(a[b]!==a[b-1]){j=ol.geom.flat.transform.translate(i,a[b-1],a[b],c,-this.origin[0],-this.origin[1]);h.push(j)}}this.lineStringReplay.drawPolygonCoordinates(g,h,c);this.drawCoordinates_(g,h,c)}}n=a[a.length-1]}if(this.indices.length>f){this.startIndices.push(f);this.startIndicesFeature.push(l);if(this.state_.changed){this.styleIndices_.push(f);this.state_.changed=!1}}if(this.lineStringReplay.getCurrentIndex()>k){this.lineStringReplay.setPolygonStyle(l,k)}};ol.render.webgl.PolygonReplay.prototype.drawPolygon=function(d,i){var a=d.getEnds();var c=d.getStride();if(a.length>0){var g=d.getFlatCoordinates().map(Number);var e=ol.geom.flat.transform.translate(g,0,a[0],c,-this.origin[0],-this.origin[1]);if(e.length){var f=[];var b,j,h;for(b=1,j=a.length;b<j;++b){if(a[b]!==a[b-1]){h=ol.geom.flat.transform.translate(g,a[b-1],a[b],c,-this.origin[0],-this.origin[1]);f.push(h)}}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(i);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=!1}this.lineStringReplay.setPolygonStyle(i);this.lineStringReplay.drawPolygonCoordinates(e,f,c);this.drawCoordinates_(e,f,c)}}};ol.render.webgl.PolygonReplay.prototype.finish=function(a){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);this.lineStringReplay.finish(a);if(this.styleIndices_.length===0&&this.styles_.length>0){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.PolygonReplay.prototype.getDeleteResourcesFunction=function(a){var b=this.verticesBuffer;var c=this.indicesBuffer;var d=this.lineStringReplay.getDeleteResourcesFunction(a);return function(){a.deleteBuffer(b);a.deleteBuffer(c);d()}};ol.render.webgl.PolygonReplay.prototype.setUpProgram=function(b,e,h,g){var c,d;c=ol.render.webgl.polygonreplay.defaultshader.fragment;d=ol.render.webgl.polygonreplay.defaultshader.vertex;var f=e.getProgram(c,d);var a;if(!this.defaultLocations_){a=new ol.render.webgl.polygonreplay.defaultshader.Locations(b,f);this.defaultLocations_=a}else {a=this.defaultLocations_}e.useProgram(f);b.enableVertexAttribArray(a.a_position);b.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,!1,8,0);return a};ol.render.webgl.PolygonReplay.prototype.shutDownProgram=function(b,a){b.disableVertexAttribArray(a.a_position)};ol.render.webgl.PolygonReplay.prototype.drawReplay=function(a,h,e,f){var i=a.getParameter(a.DEPTH_FUNC);var j=a.getParameter(a.DEPTH_WRITEMASK);if(!f){a.enable(a.DEPTH_TEST);a.depthMask(!0);a.depthFunc(a.NOTEQUAL)}if(!ol.obj.isEmpty(e)){this.drawReplaySkipping_(a,h,e)}else {var b,c,d,g;d=this.startIndices[this.startIndices.length-1];for(b=this.styleIndices_.length-1;b>=0;--b){c=this.styleIndices_[b];g=this.styles_[b];this.setFillStyle_(a,g);this.drawElements(a,h,c,d);d=c}}if(!f){a.disable(a.DEPTH_TEST);a.clear(a.DEPTH_BUFFER_BIT);a.depthMask(j);a.depthFunc(i)}};ol.render.webgl.PolygonReplay.prototype.drawHitDetectionReplayOneByOne=function(c,n,l,m,g){var d,e,f,j,i,b,h,a;a=this.startIndices.length-2;f=this.startIndices[a+1];for(d=this.styleIndices_.length-1;d>=0;--d){j=this.styles_[d];this.setFillStyle_(c,j);i=this.styleIndices_[d];while(a>=0&&this.startIndices[a]>=i){e=this.startIndices[a];b=this.startIndicesFeature[a];h=ol.getUid(b).toString();if(l[h]===undefined&&b.getGeometry()&&(g===undefined||ol.extent.intersects(g,b.getGeometry().getExtent()))){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);this.drawElements(c,n,e,f);var k=m(b);if(k){return k}}a--;f=e}}return undefined};ol.render.webgl.PolygonReplay.prototype.drawReplaySkipping_=function(d,j,l){var e,b,c,i,g,k,h,a,f;a=this.startIndices.length-2;c=b=this.startIndices[a+1];for(e=this.styleIndices_.length-1;e>=0;--e){i=this.styles_[e];this.setFillStyle_(d,i);g=this.styleIndices_[e];while(a>=0&&this.startIndices[a]>=g){f=this.startIndices[a];k=this.startIndicesFeature[a];h=ol.getUid(k).toString();if(l[h]){if(b!==c){this.drawElements(d,j,b,c);d.clear(d.DEPTH_BUFFER_BIT)}c=f}a--;b=f}if(b!==c){this.drawElements(d,j,b,c);d.clear(d.DEPTH_BUFFER_BIT)}b=c=g}};ol.render.webgl.PolygonReplay.prototype.setFillStyle_=function(b,a){b.uniform4fv(this.defaultLocations_.u_color,a)};ol.render.webgl.PolygonReplay.prototype.setFillStrokeStyle=function(c,b){var a=c?c.getColor():[0,0,0,0];if(!(a instanceof CanvasGradient)&&!(a instanceof CanvasPattern)){a=ol.color.asArray(a).map(function(a,d){return d!=3?a/255:a})||ol.render.webgl.defaultFillStyle}else {a=ol.render.webgl.defaultFillStyle}if(!this.state_.fillColor||!ol.array.equals(a,this.state_.fillColor)){this.state_.fillColor=a;this.state_.changed=!0;this.styles_.push(a)}if(b){this.lineStringReplay.setFillStrokeStyle(null,b)}else {var d=new ol.style.Stroke({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,d)}};goog.provide('ol.style.Atlas');goog.require('ol.dom');ol.style.Atlas=function(a,b){this.space_=b;this.emptyBlocks_=[{x:0,y:0,width:a,height:a}];this.entries_={};this.context_=ol.dom.createCanvasContext2D(a,a);this.canvas_=this.context_.canvas};ol.style.Atlas.prototype.get=function(a){return this.entries_[a]||null};ol.style.Atlas.prototype.add=function(i,e,c,g,h){var a,b,f;for(b=0,f=this.emptyBlocks_.length;b<f;++b){a=this.emptyBlocks_[b];if(a.width>=e+this.space_&&a.height>=c+this.space_){var d={offsetX:a.x+this.space_,offsetY:a.y+this.space_,image:this.canvas_};this.entries_[i]=d;g.call(h,this.context_,a.x+this.space_,a.y+this.space_);this.split_(b,a,e+this.space_,c+this.space_);return d}}return null};ol.style.Atlas.prototype.split_=function(f,a,c,b){var h=a.width-c;var g=a.height-b;var d;var e;if(h>g){d={x:a.x+c,y:a.y,width:a.width-c,height:a.height};e={x:a.x,y:a.y+b,width:c,height:a.height-b};this.updateBlocks_(f,d,e)}else {d={x:a.x+c,y:a.y,width:a.width-c,height:b};e={x:a.x,y:a.y+b,width:a.width,height:a.height-b};this.updateBlocks_(f,d,e)}};ol.style.Atlas.prototype.updateBlocks_=function(d,a,b){var c=[d,1];if(a.width>0&&a.height>0){c.push(a)}if(b.width>0&&b.height>0){c.push(b)}this.emptyBlocks_.splice.apply(this.emptyBlocks_,c)};goog.provide('ol.style.AtlasManager');goog.require('ol');goog.require('ol.style.Atlas');ol.style.AtlasManager=function(b){var a=b||{};this.currentSize_=a.initialSize!==undefined?a.initialSize:ol.INITIAL_ATLAS_SIZE;this.maxSize_=a.maxSize!==undefined?a.maxSize:ol.MAX_ATLAS_SIZE!=-1?ol.MAX_ATLAS_SIZE:ol.WEBGL_MAX_TEXTURE_SIZE!==undefined?ol.WEBGL_MAX_TEXTURE_SIZE:2048;this.space_=a.space!==undefined?a.space:1;this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)];this.currentHitSize_=this.currentSize_;this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]};ol.style.AtlasManager.prototype.getInfo=function(b){var a=this.getInfo_(this.atlases_,b);if(!a){return null}var c=this.getInfo_(this.hitAtlases_,b);return this.mergeInfos_(a,c)};ol.style.AtlasManager.prototype.getInfo_=function(c,f){var d,b,a,e;for(a=0,e=c.length;a<e;++a){d=c[a];b=d.get(f);if(b){return b}}return null};ol.style.AtlasManager.prototype.mergeInfos_=function(a,b){return {offsetX:a.offsetX,offsetY:a.offsetY,image:a.image,hitImage:b.image}};ol.style.AtlasManager.prototype.add=function(f,b,a,h,c,d){if(b+this.space_>this.maxSize_||a+this.space_>this.maxSize_){return null}var e=this.add_(!1,f,b,a,h,d);if(!e){return null}var g=c!==undefined?c:ol.nullFunction;var i=this.add_(!0,f,b,a,g,d);return this.mergeInfos_(e,i)};ol.style.AtlasManager.prototype.add_=function(g,l,k,j,h,i){var f=g?this.hitAtlases_:this.atlases_;var c,d,b,e;for(b=0,e=f.length;b<e;++b){c=f[b];d=c.add(l,k,j,h,i);if(d){return d}else {if(!d&&b===e-1){var a;if(g){a=Math.min(this.currentHitSize_*2,this.maxSize_);this.currentHitSize_=a}else {a=Math.min(this.currentSize_*2,this.maxSize_);this.currentSize_=a}c=new ol.style.Atlas(a,this.space_);f.push(c);++e}}}return null};goog.provide('ol.render.webgl.TextReplay');goog.require('ol');goog.require('ol.colorlike');goog.require('ol.dom');goog.require('ol.geom.GeometryType');goog.require('ol.has');goog.require('ol.render.replay');goog.require('ol.render.webgl');goog.require('ol.render.webgl.TextureReplay');goog.require('ol.style.AtlasManager');goog.require('ol.webgl.Buffer');ol.render.webgl.TextReplay=function(b,a){ol.render.webgl.TextureReplay.call(this,b,a);this.images_=[];this.textures_=[];this.measureCanvas_=ol.dom.createCanvasContext2D(0,0).canvas;this.state_={strokeColor:null,lineCap:undefined,lineDash:null,lineDashOffset:undefined,lineJoin:undefined,lineWidth:0,miterLimit:undefined,fillColor:null,font:undefined,scale:undefined};this.text_='';this.textAlign_=undefined;this.textBaseline_=undefined;this.offsetX_=undefined;this.offsetY_=undefined;this.atlases_={};this.currAtlas_=undefined;this.scale=1;this.opacity=1};ol.inherits(ol.render.webgl.TextReplay,ol.render.webgl.TextureReplay);ol.render.webgl.TextReplay.prototype.drawText=function(c,u){if(this.text_){var a=null;var v=0;var i=2;var o=2;switch(c.getType()){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:a=c.getFlatCoordinates();i=a.length;o=c.getStride();break;case ol.geom.GeometryType.CIRCLE:a=c.getCenter();break;case ol.geom.GeometryType.LINE_STRING:a=c.getFlatMidpoint();break;case ol.geom.GeometryType.MULTI_LINE_STRING:a=c.getFlatMidpoints();i=a.length;break;case ol.geom.GeometryType.POLYGON:a=c.getFlatInteriorPoint();break;case ol.geom.GeometryType.MULTI_POLYGON:a=c.getFlatInteriorPoints();i=a.length;break;default:}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(u);var f=this.currAtlas_;var k=this.text_.split('\n');var n=this.getTextSize_(k);var h,q,b,r,j,p,e,d;var s=Math.round(n[0]*this.textAlign_-this.offsetX_);var t=Math.round(n[1]*this.textBaseline_-this.offsetY_);var m=this.state_.lineWidth/2*this.state_.scale;for(h=0,q=k.length;h<q;++h){j=0;p=f.height*h;e=k[h].split('');for(b=0,r=e.length;b<r;++b){d=f.atlas.getInfo(e[b]);if(d){var g=d.image;this.anchorX=s-j;this.anchorY=t-p;this.originX=b===0?d.offsetX-m:d.offsetX;this.originY=d.offsetY;this.height=f.height;this.width=b===0||b===e.length-1?f.width[e[b]]+m:f.width[e[b]];this.imageHeight=g.height;this.imageWidth=g.width;var l;if(this.images_.length===0){this.images_.push(g)}else {l=this.images_[this.images_.length-1];if(ol.getUid(l)!=ol.getUid(g)){this.groupIndices.push(this.indices.length);this.images_.push(g)}}this.drawText_(a,v,i,o)}j+=this.width}}}};ol.render.webgl.TextReplay.prototype.getTextSize_=function(b){var e=this;var a=this.currAtlas_;var c=b.length*a.height;var d=b.map(function(f){var g=0;var d,h;for(d=0,h=f.length;d<h;++d){var c=f[d];if(!a.width[c]){e.addCharToAtlas_(c)}g+=a.width[c]?a.width[c]:0}return g}).reduce(function(c,a){return Math.max(c,a)});return [d,c]};ol.render.webgl.TextReplay.prototype.drawText_=function(f,b,d,c){var a,e;for(a=b,e=d;a<e;a+=c){this.drawCoordinates(f,b,d,c)}};ol.render.webgl.TextReplay.prototype.addCharToAtlas_=function(b){if(b.length===1){var c=this.currAtlas_;var a=this.state_;var e=this.measureCanvas_.getContext('2d');e.font=a.font;var d=Math.ceil(e.measureText(b).width*a.scale);var f=c.atlas.add(b,d,c.height,function(c,d,e){c.font=a.font;c.fillStyle=a.fillColor;c.strokeStyle=a.strokeColor;c.lineWidth=a.lineWidth;c.lineCap=a.lineCap;c.lineJoin=a.lineJoin;c.miterLimit=a.miterLimit;c.textAlign='left';c.textBaseline='top';if(ol.has.CANVAS_LINE_DASH&&a.lineDash){c.setLineDash(a.lineDash);c.lineDashOffset=a.lineDashOffset}if(a.scale!==1){c.setTransform(a.scale,0,0,a.scale,0,0)}if(a.strokeColor){c.strokeText(b,d,e)}if(a.fillColor){c.fillText(b,d,e)}});if(f){c.width[b]=d}}};ol.render.webgl.TextReplay.prototype.finish=function(a){var c=a.getGL();this.groupIndices.push(this.indices.length);this.hitDetectionGroupIndices=this.groupIndices;this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);var b={};this.createTextures(this.textures_,this.images_,b,c);this.state_={strokeColor:null,lineCap:undefined,lineDash:null,lineDashOffset:undefined,lineJoin:undefined,lineWidth:0,miterLimit:undefined,fillColor:null,font:undefined,scale:undefined};this.text_='';this.textAlign_=undefined;this.textBaseline_=undefined;this.offsetX_=undefined;this.offsetY_=undefined;this.images_=null;this.atlases_={};this.currAtlas_=undefined;ol.render.webgl.TextureReplay.prototype.finish.call(this,a)};ol.render.webgl.TextReplay.prototype.setTextStyle=function(b){var a=this.state_;var d=b.getFill();var c=b.getStroke();if(!b||!b.getText()||!d&&!c){this.text_=''}else {if(!d){a.fillColor=null}else {var f=d.getColor();a.fillColor=ol.colorlike.asColorLike(f?f:ol.render.webgl.defaultFillStyle)}if(!c){a.strokeColor=null;a.lineWidth=0}else {var e=c.getColor();a.strokeColor=ol.colorlike.asColorLike(e?e:ol.render.webgl.defaultStrokeStyle);a.lineWidth=c.getWidth()||ol.render.webgl.defaultLineWidth;a.lineCap=c.getLineCap()||ol.render.webgl.defaultLineCap;a.lineDashOffset=c.getLineDashOffset()||ol.render.webgl.defaultLineDashOffset;a.lineJoin=c.getLineJoin()||ol.render.webgl.defaultLineJoin;a.miterLimit=c.getMiterLimit()||ol.render.webgl.defaultMiterLimit;var i=c.getLineDash();a.lineDash=i?i.slice():ol.render.webgl.defaultLineDash}a.font=b.getFont()||ol.render.webgl.defaultFont;a.scale=b.getScale()||1;this.text_=b.getText();var h=ol.render.replay.TEXT_ALIGN[b.getTextAlign()];var g=ol.render.replay.TEXT_ALIGN[b.getTextBaseline()];this.textAlign_=h===undefined?ol.render.webgl.defaultTextAlign:h;this.textBaseline_=g===undefined?ol.render.webgl.defaultTextBaseline:g;this.offsetX_=b.getOffsetX()||0;this.offsetY_=b.getOffsetY()||0;this.rotateWithView=!!b.getRotateWithView();this.rotation=b.getRotation()||0;this.currAtlas_=this.getAtlas_(a)}};ol.render.webgl.TextReplay.prototype.getAtlas_=function(a){var c=[];var b;for(b in a){if(a[b]||a[b]===0){if(Array.isArray(a[b])){c=c.concat(a[b])}else {c.push(a[b])}}}var d=this.calculateHash_(c);if(!this.atlases_[d]){var e=this.measureCanvas_.getContext('2d');e.font=a.font;var f=Math.ceil((e.measureText('M').width*1.5+a.lineWidth/2)*a.scale);this.atlases_[d]={atlas:new ol.style.AtlasManager({space:a.lineWidth+1}),width:{},height:f}}return this.atlases_[d]};ol.render.webgl.TextReplay.prototype.calculateHash_=function(b){var a,d;var c='';for(a=0,d=b.length;a<d;++a){c+=b[a]}return c};ol.render.webgl.TextReplay.prototype.getTextures=function(a){return this.textures_};ol.render.webgl.TextReplay.prototype.getHitDetectionTextures=function(){return this.textures_};goog.provide('ol.render.webgl.ReplayGroup');goog.require('ol');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.obj');goog.require('ol.render.replay');goog.require('ol.render.ReplayGroup');goog.require('ol.render.webgl.CircleReplay');goog.require('ol.render.webgl.ImageReplay');goog.require('ol.render.webgl.LineStringReplay');goog.require('ol.render.webgl.PolygonReplay');goog.require('ol.render.webgl.TextReplay');ol.render.webgl.ReplayGroup=function(c,b,a){ol.render.ReplayGroup.call(this);this.maxExtent_=b;this.tolerance_=c;this.renderBuffer_=a;this.replaysByZIndex_={}};ol.inherits(ol.render.webgl.ReplayGroup,ol.render.ReplayGroup);ol.render.webgl.ReplayGroup.prototype.addDeclutter=function(b,a){};ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(e){var a=[];var d;for(d in this.replaysByZIndex_){var c=this.replaysByZIndex_[d];var b;for(b in c){a.push(c[b].getDeleteResourcesFunction(e))}}return function(){var d=a.length;var c;for(var b=0;b<d;b++){c=a[b].apply(this,arguments)}return c}};ol.render.webgl.ReplayGroup.prototype.finish=function(d){var c;for(c in this.replaysByZIndex_){var b=this.replaysByZIndex_[c];var a;for(a in b){b[a].finish(d)}}};ol.render.webgl.ReplayGroup.prototype.getReplay=function(e,c){var d=e!==undefined?e.toString():'0';var a=this.replaysByZIndex_[d];if(a===undefined){a={};this.replaysByZIndex_[d]=a}var b=a[c];if(b===undefined){var f=ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_[c];b=new f(this.tolerance_,this.maxExtent_);a[c]=b}return b};ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};ol.render.webgl.ReplayGroup.prototype.replay=function(l,n,j,k,o,i,m,h){var d=Object.keys(this.replaysByZIndex_).map(Number);d.sort(ol.array.numberSafeCompareFunction);var a,f,b,g,e,c;for(a=0,f=d.length;a<f;++a){e=this.replaysByZIndex_[d[a].toString()];for(b=0,g=ol.render.replay.ORDER.length;b<g;++b){c=e[ol.render.replay.ORDER[b]];if(c!==undefined){c.replay(l,n,j,k,o,i,m,h,undefined,!1)}}}};ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(o,q,l,n,r,k,p,h,i,m,j){var e=Object.keys(this.replaysByZIndex_).map(Number);e.sort(function(a,b){return b-a});var a,g,b,f,c,d;for(a=0,g=e.length;a<g;++a){f=this.replaysByZIndex_[e[a].toString()];for(b=ol.render.replay.ORDER.length-1;b>=0;--b){c=f[ol.render.replay.ORDER[b]];if(c!==undefined){d=c.replay(o,q,l,n,r,k,p,h,i,m,j);if(d){return d}}}}return undefined};ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(c,b,k,d,i,l,g,j,f,h){var a=b.getGL();a.bindFramebuffer(a.FRAMEBUFFER,b.getHitDetectionFramebuffer());var e;if(this.renderBuffer_!==undefined){e=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(c),d*this.renderBuffer_)}return this.replayHitDetection_(b,c,d,i,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,g,j,f,function(n){var e=new Uint8Array(4);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,e);if(e[3]>0){var m=h(n);if(m){return m}}},!0,e)};ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(d,b,j,g,h,k,f,i,c){var a=b.getGL();a.bindFramebuffer(a.FRAMEBUFFER,b.getHitDetectionFramebuffer());var e=this.replayHitDetection_(b,d,g,h,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,f,i,c,function(l){var e=new Uint8Array(4);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,e);return e[3]>0},!1);return e!==undefined};ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_=[1,1];ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_={'Circle':ol.render.webgl.CircleReplay,'Image':ol.render.webgl.ImageReplay,'LineString':ol.render.webgl.LineStringReplay,'Polygon':ol.render.webgl.PolygonReplay,'Text':ol.render.webgl.TextReplay};goog.provide('ol.render.webgl.Immediate');goog.require('ol');goog.require('ol.extent');goog.require('ol.geom.GeometryType');goog.require('ol.render.ReplayType');goog.require('ol.render.VectorContext');goog.require('ol.render.webgl.ReplayGroup');ol.render.webgl.Immediate=function(d,e,b,c,g,f,a){ol.render.VectorContext.call(this);this.context_=d;this.center_=e;this.extent_=f;this.pixelRatio_=a;this.size_=g;this.rotation_=c;this.resolution_=b;this.imageStyle_=null;this.fillStyle_=null;this.strokeStyle_=null;this.textStyle_=null};ol.inherits(ol.render.webgl.Immediate,ol.render.VectorContext);ol.render.webgl.Immediate.prototype.drawText_=function(e,f){var b=this.context_;var a=e.getReplay(0,ol.render.ReplayType.TEXT);a.setTextStyle(this.textStyle_);a.drawText(f,null);a.finish(b);var h=1;var d={};var c;var g=!1;a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,h,d,c,g);a.getDeleteResourcesFunction(b)()};ol.render.webgl.Immediate.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};ol.render.webgl.Immediate.prototype.drawGeometry=function(a){var b=a.getType();switch(b){case ol.geom.GeometryType.POINT:this.drawPoint(a,null);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(a,null);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(a,null);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(a,null);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(a,null);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(a,null);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(a,null);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(a,null);break;default:}};ol.render.webgl.Immediate.prototype.drawFeature=function(c,b){var a=b.getGeometryFunction()(c);if(!a||!ol.extent.intersects(this.extent_,a.getExtent())){return}this.setStyle(b);this.drawGeometry(a)};ol.render.webgl.Immediate.prototype.drawGeometryCollection=function(d,e){var b=d.getGeometriesArray();var a,c;for(a=0,c=b.length;a<c;++a){this.drawGeometry(b[a])}};ol.render.webgl.Immediate.prototype.drawPoint=function(c,i){var d=this.context_;var b=new ol.render.webgl.ReplayGroup(1,this.extent_);var a=b.getReplay(0,ol.render.ReplayType.IMAGE);a.setImageStyle(this.imageStyle_);a.drawPoint(c,i);a.finish(d);var h=1;var f={};var e;var g=!1;a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,h,f,e,g);a.getDeleteResourcesFunction(d)();if(this.textStyle_){this.drawText_(b,c)}};ol.render.webgl.Immediate.prototype.drawMultiPoint=function(c,i){var d=this.context_;var b=new ol.render.webgl.ReplayGroup(1,this.extent_);var a=b.getReplay(0,ol.render.ReplayType.IMAGE);a.setImageStyle(this.imageStyle_);a.drawMultiPoint(c,i);a.finish(d);var h=1;var f={};var e;var g=!1;a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,h,f,e,g);a.getDeleteResourcesFunction(d)();if(this.textStyle_){this.drawText_(b,c)}};ol.render.webgl.Immediate.prototype.drawLineString=function(c,i){var d=this.context_;var b=new ol.render.webgl.ReplayGroup(1,this.extent_);var a=b.getReplay(0,ol.render.ReplayType.LINE_STRING);a.setFillStrokeStyle(null,this.strokeStyle_);a.drawLineString(c,i);a.finish(d);var h=1;var f={};var e;var g=!1;a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,h,f,e,g);a.getDeleteResourcesFunction(d)();if(this.textStyle_){this.drawText_(b,c)}};ol.render.webgl.Immediate.prototype.drawMultiLineString=function(c,i){var d=this.context_;var b=new ol.render.webgl.ReplayGroup(1,this.extent_);var a=b.getReplay(0,ol.render.ReplayType.LINE_STRING);a.setFillStrokeStyle(null,this.strokeStyle_);a.drawMultiLineString(c,i);a.finish(d);var h=1;var f={};var e;var g=!1;a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,h,f,e,g);a.getDeleteResourcesFunction(d)();if(this.textStyle_){this.drawText_(b,c)}};ol.render.webgl.Immediate.prototype.drawPolygon=function(c,i){var d=this.context_;var b=new ol.render.webgl.ReplayGroup(1,this.extent_);var a=b.getReplay(0,ol.render.ReplayType.POLYGON);a.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);a.drawPolygon(c,i);a.finish(d);var h=1;var f={};var e;var g=!1;a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,h,f,e,g);a.getDeleteResourcesFunction(d)();if(this.textStyle_){this.drawText_(b,c)}};ol.render.webgl.Immediate.prototype.drawMultiPolygon=function(c,i){var d=this.context_;var b=new ol.render.webgl.ReplayGroup(1,this.extent_);var a=b.getReplay(0,ol.render.ReplayType.POLYGON);a.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);a.drawMultiPolygon(c,i);a.finish(d);var h=1;var f={};var e;var g=!1;a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,h,f,e,g);a.getDeleteResourcesFunction(d)();if(this.textStyle_){this.drawText_(b,c)}};ol.render.webgl.Immediate.prototype.drawCircle=function(c,i){var d=this.context_;var b=new ol.render.webgl.ReplayGroup(1,this.extent_);var a=b.getReplay(0,ol.render.ReplayType.CIRCLE);a.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);a.drawCircle(c,i);a.finish(d);var h=1;var f={};var e;var g=!1;a.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,h,f,e,g);a.getDeleteResourcesFunction(d)();if(this.textStyle_){this.drawText_(b,c)}};ol.render.webgl.Immediate.prototype.setImageStyle=function(a){this.imageStyle_=a};ol.render.webgl.Immediate.prototype.setFillStrokeStyle=function(b,a){this.fillStyle_=b;this.strokeStyle_=a};ol.render.webgl.Immediate.prototype.setTextStyle=function(a){this.textStyle_=a};goog.provide('ol.renderer.webgl.defaultmapshader');goog.require('ol');goog.require('ol.webgl.Fragment');goog.require('ol.webgl.Vertex');ol.renderer.webgl.defaultmapshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?'precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n':'precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}');ol.renderer.webgl.defaultmapshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?'varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n':'varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}');goog.provide('ol.renderer.webgl.defaultmapshader.Locations');goog.require('ol');ol.renderer.webgl.defaultmapshader.Locations=function(b,a){this.u_texCoordMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_texCoordMatrix':'d');this.u_projectionMatrix=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_projectionMatrix':'e');this.u_opacity=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_opacity':'f');this.u_texture=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_texture':'g');this.a_position=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_position':'b');this.a_texCoord=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_texCoord':'c')};goog.provide('ol.renderer.webgl.Layer');goog.require('ol');goog.require('ol.render.Event');goog.require('ol.render.EventType');goog.require('ol.render.webgl.Immediate');goog.require('ol.renderer.Layer');goog.require('ol.renderer.webgl.defaultmapshader');goog.require('ol.renderer.webgl.defaultmapshader.Locations');goog.require('ol.transform');goog.require('ol.vec.Mat4');goog.require('ol.webgl');goog.require('ol.webgl.Buffer');goog.require('ol.webgl.Context');ol.renderer.webgl.Layer=function(a,b){ol.renderer.Layer.call(this,b);this.mapRenderer=a;this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.texture=null;this.framebuffer=null;this.framebufferDimension=undefined;this.texCoordMatrix=ol.transform.create();this.projectionMatrix=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.defaultLocations_=null};ol.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer);ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(f,b){var a=this.mapRenderer.getGL();if(this.framebufferDimension===undefined||this.framebufferDimension!=b){var e=function(a,c,d){if(!a.isContextLost()){a.deleteFramebuffer(c);a.deleteTexture(d)}}.bind(null,a,this.framebuffer,this.texture);f.postRenderFunctions.push(e);var d=ol.webgl.Context.createEmptyTexture(a,b,b);var c=a.createFramebuffer();a.bindFramebuffer(ol.webgl.FRAMEBUFFER,c);a.framebufferTexture2D(ol.webgl.FRAMEBUFFER,ol.webgl.COLOR_ATTACHMENT0,ol.webgl.TEXTURE_2D,d,0);this.texture=d;this.framebuffer=c;this.framebufferDimension=b}else {a.bindFramebuffer(ol.webgl.FRAMEBUFFER,this.framebuffer)}};ol.renderer.webgl.Layer.prototype.composeFrame=function(d,h,c){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,c,d);c.bindBuffer(ol.webgl.ARRAY_BUFFER,this.arrayBuffer_);var b=c.getGL();var f=ol.renderer.webgl.defaultmapshader.fragment;var g=ol.renderer.webgl.defaultmapshader.vertex;var e=c.getProgram(f,g);var a;if(!this.defaultLocations_){a=new ol.renderer.webgl.defaultmapshader.Locations(b,e);this.defaultLocations_=a}else {a=this.defaultLocations_}if(c.useProgram(e)){b.enableVertexAttribArray(a.a_position);b.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,!1,16,0);b.enableVertexAttribArray(a.a_texCoord);b.vertexAttribPointer(a.a_texCoord,2,ol.webgl.FLOAT,!1,16,8);b.uniform1i(a.u_texture,0)}b.uniformMatrix4fv(a.u_texCoordMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getTexCoordMatrix()));b.uniformMatrix4fv(a.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getProjectionMatrix()));b.uniform1f(a.u_opacity,h.opacity);b.bindTexture(ol.webgl.TEXTURE_2D,this.getTexture());b.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,c,d)};ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(e,c,a){var d=this.getLayer();if(d.hasListener(e)){var b=a.viewState;var h=b.resolution;var g=a.pixelRatio;var k=a.extent;var j=b.center;var i=b.rotation;var m=a.size;var l=new ol.render.webgl.Immediate(c,j,h,i,m,k,g);var f=new ol.render.Event(e,l,a,null,c);d.dispatchEvent(f)}};ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix};ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture};ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix};ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.texture=null;this.framebuffer=null;this.framebufferDimension=undefined};ol.renderer.webgl.Layer.prototype.prepareFrame=function(a,b,c){};ol.renderer.webgl.Layer.prototype.forEachLayerAtPixel=function(d,a,b,c){};goog.provide('ol.renderer.webgl.ImageLayer');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.ViewHint');goog.require('ol.dom');goog.require('ol.extent');goog.require('ol.functions');goog.require('ol.renderer.Type');goog.require('ol.renderer.webgl.Layer');goog.require('ol.transform');goog.require('ol.webgl');goog.require('ol.webgl.Context');ol.renderer.webgl.ImageLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b);this.image_=null;this.hitCanvasContext_=null;this.hitTransformationMatrix_=null};ol.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.ImageLayer['handles']=function(b,a){return b===ol.renderer.Type.WEBGL&&a.getType()===ol.LayerType.IMAGE};ol.renderer.webgl.ImageLayer['create']=function(a,b){return new ol.renderer.webgl.ImageLayer(a,b)};ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(b){var a=b.getImage();var c=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(c,a,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE)};ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,a,d,g,i){var b=this.getLayer();var j=b.getSource();var f=a.viewState.resolution;var h=a.viewState.rotation;var c=a.skippedFeatureUids;return j.forEachFeatureAtCoordinate(e,f,h,d,c,function(c){return g.call(i,c,b)})};ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(a,j,v){var u=this.mapRenderer.getGL();var k=a.pixelRatio;var d=a.viewState;var s=d.center;var i=d.resolution;var q=d.rotation;var b=this.image_;var m=this.texture;var r=this.getLayer();var g=r.getSource();var o=a.viewHints;var c=a.extent;if(j.extent!==undefined){c=ol.extent.getIntersection(c,j.extent)}if(!o[ol.ViewHint.ANIMATING]&&!o[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(c)){var l=d.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var h=g.getProjection();if(h){l=h}}var e=g.getImage(c,i,k,l);if(e){var t=this.loadImage(e);if(t){b=e;m=this.createTexture_(e);if(this.texture){var p=function(b,c){if(!b.isContextLost()){b.deleteTexture(c)}}.bind(null,u,this.texture);a.postRenderFunctions.push(p)}}}}if(b){var n=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(n.width,n.height,k,s,i,q,b.getExtent());this.hitTransformationMatrix_=null;var f=this.texCoordMatrix;ol.transform.reset(f);ol.transform.scale(f,1,-1);ol.transform.translate(f,0,-1);this.image_=b;this.texture=m;this.updateLogos(a,g)}return !!b};ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(j,h,d,e,c,i,b){var g=j*c;var f=h*c;var a=this.projectionMatrix;ol.transform.reset(a);ol.transform.scale(a,d*2/g,d*2/f);ol.transform.rotate(a,-i);ol.transform.translate(a,b[0]-e[0],b[1]-e[1]);ol.transform.scale(a,(b[2]-b[0])/2,(b[3]-b[1])/2);ol.transform.translate(a,1,1)};ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(a,b){var c=this.forEachFeatureAtCoordinate(a,b,0,ol.functions.TRUE,this);return c!==undefined};ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(g,b,e,f){if(!this.image_||!this.image_.getImage()){return undefined}if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction){var h=ol.transform.apply(b.pixelToCoordinateTransform,g.slice());var i=this.forEachFeatureAtCoordinate(h,b,0,ol.functions.TRUE,this);if(i){return e.call(f,this.getLayer(),null)}else {return undefined}}else {var c=[this.image_.getImage().width,this.image_.getImage().height];if(!this.hitTransformationMatrix_){this.hitTransformationMatrix_=this.getHitTransformationMatrix_(b.size,c)}var a=ol.transform.apply(this.hitTransformationMatrix_,g.slice());if(a[0]<0||a[0]>c[0]||a[1]<0||a[1]>c[1]){return undefined}if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.image_.getImage(),a[0],a[1],1,1,0,0,1,1);var d=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(d[3]>0){return e.call(f,this.getLayer(),d)}else {return undefined}}};ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(d,c){var b=ol.transform.create();ol.transform.translate(b,-1,-1);ol.transform.scale(b,2/d[0],2/d[1]);ol.transform.translate(b,0,d[1]);ol.transform.scale(b,1,-1);var e=ol.transform.invert(this.projectionMatrix.slice());var a=ol.transform.create();ol.transform.translate(a,0,c[1]);ol.transform.scale(a,1,-1);ol.transform.scale(a,c[0]/2,c[1]/2);ol.transform.translate(a,1,1);ol.transform.multiply(a,e);ol.transform.multiply(a,b);return a};goog.provide('ol.renderer.webgl.Map');goog.require('ol');goog.require('ol.array');goog.require('ol.css');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.has');goog.require('ol.layer.Layer');goog.require('ol.render.Event');goog.require('ol.render.EventType');goog.require('ol.render.webgl.Immediate');goog.require('ol.renderer.Map');goog.require('ol.renderer.Type');goog.require('ol.source.State');goog.require('ol.structs.LRUCache');goog.require('ol.structs.PriorityQueue');goog.require('ol.webgl');goog.require('ol.webgl.Context');goog.require('ol.webgl.ContextEventType');ol.renderer.webgl.Map=function(a,b){ol.renderer.Map.call(this,a,b);this.canvas_=document.createElement('CANVAS');this.canvas_.style.width='100%';this.canvas_.style.height='100%';this.canvas_.style.display='block';this.canvas_.className=ol.css.CLASS_UNSELECTABLE;a.insertBefore(this.canvas_,a.childNodes[0]||null);this.clipTileCanvasWidth_=0;this.clipTileCanvasHeight_=0;this.clipTileContext_=ol.dom.createCanvasContext2D();this.renderedVisible_=!0;this.gl_=ol.webgl.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0});this.context_=new ol.webgl.Context(this.canvas_,this.gl_);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this);this.textureCache_=new ol.structs.LRUCache();this.focus_=null;this.tileTextureQueue_=new ol.structs.PriorityQueue(function(e){var d=e[1];var c=e[2];var f=d[0]-this.focus_[0];var g=d[1]-this.focus_[1];return 65536*Math.log(c)+Math.sqrt(f*f+g*g)/c}.bind(this),function(c){return c[0].getKey()});this.loadNextTileTexture_=function(h,g){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var c=this.tileTextureQueue_.dequeue();var f=c[0];var e=c[3];var d=c[4];this.bindTileTexture(f,e,d,ol.webgl.LINEAR,ol.webgl.LINEAR)}return !1}.bind(this);this.textureCacheFrameMarkerCount_=0;this.initializeGL_()};ol.inherits(ol.renderer.webgl.Map,ol.renderer.Map);ol.renderer.webgl.Map['handles']=function(a){return ol.has.WEBGL&&a===ol.renderer.Type.WEBGL};ol.renderer.webgl.Map['create']=function(a,b){return new ol.renderer.webgl.Map(a,b)};ol.renderer.webgl.Map.prototype.bindTileTexture=function(i,a,g,d,e){var b=this.getGL();var h=i.getKey();if(this.textureCache_.containsKey(h)){var c=this.textureCache_.get(h);b.bindTexture(ol.webgl.TEXTURE_2D,c.texture);if(c.magFilter!=d){b.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,d);c.magFilter=d}if(c.minFilter!=e){b.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,e);c.minFilter=e}}else {var k=b.createTexture();b.bindTexture(ol.webgl.TEXTURE_2D,k);if(g>0){var f=this.clipTileContext_.canvas;var j=this.clipTileContext_;if(this.clipTileCanvasWidth_!==a[0]||this.clipTileCanvasHeight_!==a[1]){f.width=a[0];f.height=a[1];this.clipTileCanvasWidth_=a[0];this.clipTileCanvasHeight_=a[1]}else {j.clearRect(0,0,a[0],a[1])}j.drawImage(i.getImage(),g,g,a[0],a[1],0,0,a[0],a[1]);b.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,f)}else {b.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,i.getImage())}b.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,d);b.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,e);b.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,ol.webgl.CLAMP_TO_EDGE);b.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,ol.webgl.CLAMP_TO_EDGE);this.textureCache_.set(h,{texture:k,magFilter:d,minFilter:e})}};ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(d,a){var e=this.getMap();if(e.hasListener(d)){var c=this.context_;var l=a.extent;var m=a.size;var b=a.viewState;var h=a.pixelRatio;var i=b.resolution;var k=b.center;var j=b.rotation;var f=new ol.render.webgl.Immediate(c,k,i,j,m,l,h);var g=new ol.render.Event(d,f,a,null,c);e.dispatchEvent(g)}};ol.renderer.webgl.Map.prototype.disposeInternal=function(){var a=this.getGL();if(!a.isContextLost()){this.textureCache_.forEach(function(b){if(b){a.deleteTexture(b.texture)}})}this.context_.dispose();ol.renderer.Map.prototype.disposeInternal.call(this)};ol.renderer.webgl.Map.prototype.expireCache_=function(d,b){var c=this.getGL();var a;while(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){a=this.textureCache_.peekLast();if(!a){if(+this.textureCache_.peekLastKey()==b.index){break}else {--this.textureCacheFrameMarkerCount_}}else {c.deleteTexture(a.texture)}this.textureCache_.pop()}};ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_};ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_};ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_};ol.renderer.webgl.Map.prototype.getType=function(){return ol.renderer.Type.WEBGL};ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(c){c.preventDefault();this.textureCache_.clear();this.textureCacheFrameMarkerCount_=0;var a=this.getLayerRenderers();for(var d in a){var b=a[d];b.handleWebGLContextLost()}};ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_();this.getMap().render()};ol.renderer.webgl.Map.prototype.initializeGL_=function(){var a=this.gl_;a.activeTexture(ol.webgl.TEXTURE0);a.blendFuncSeparate(ol.webgl.SRC_ALPHA,ol.webgl.ONE_MINUS_SRC_ALPHA,ol.webgl.ONE,ol.webgl.ONE_MINUS_SRC_ALPHA);a.disable(ol.webgl.CULL_FACE);a.disable(ol.webgl.DEPTH_TEST);a.disable(ol.webgl.SCISSOR_TEST);a.disable(ol.webgl.STENCIL_TEST)};ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(a){return this.textureCache_.containsKey(a.getKey())};ol.renderer.webgl.Map.prototype.renderFrame=function(a){var i=this.getContext();var d=this.getGL();if(d.isContextLost()){return !1}if(!a){if(this.renderedVisible_){this.canvas_.style.display='none';this.renderedVisible_=!1}return !1}this.focus_=a.focus;this.textureCache_.set((-a.index).toString(),null);++this.textureCacheFrameMarkerCount_;this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,a);var g=[];var h=a.layerStatesArray;ol.array.stableSort(h,ol.renderer.Map.sortByZIndex);var l=a.viewState.resolution;var c,f,e,b;for(c=0,f=h.length;c<f;++c){b=h[c];if(ol.layer.Layer.visibleAtResolution(b,l)&&b.sourceState==ol.source.State.READY){e=this.getLayerRenderer(b.layer);if(e.prepareFrame(a,b,i)){g.push(b)}}}var k=a.size[0]*a.pixelRatio;var j=a.size[1]*a.pixelRatio;if(this.canvas_.width!=k||this.canvas_.height!=j){this.canvas_.width=k;this.canvas_.height=j}d.bindFramebuffer(ol.webgl.FRAMEBUFFER,null);d.clearColor(0,0,0,0);d.clear(ol.webgl.COLOR_BUFFER_BIT);d.enable(ol.webgl.BLEND);d.viewport(0,0,this.canvas_.width,this.canvas_.height);for(c=0,f=g.length;c<f;++c){b=g[c];e=this.getLayerRenderer(b.layer);e.composeFrame(a,b,i)}if(!this.renderedVisible_){this.canvas_.style.display='';this.renderedVisible_=!0}this.calculateMatrices2D(a);if(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){a.postRenderFunctions.push(this.expireCache_.bind(this))}if(!this.tileTextureQueue_.isEmpty()){a.postRenderFunctions.push(this.loadNextTileTexture_);a.animate=!0}this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,a);this.scheduleRemoveUnusedLayerRenderers(a);this.scheduleExpireIconCache(a)};ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(j,b,h,m,o,i,n){var c;if(this.getGL().isContextLost()){return !1}var l=b.viewState;var d=b.layerStatesArray;var k=d.length;var a;for(a=k-1;a>=0;--a){var e=d[a];var f=e.layer;if(ol.layer.Layer.visibleAtResolution(e,l.resolution)&&i.call(n,f)){var g=this.getLayerRenderer(f);c=g.forEachFeatureAtCoordinate(j,b,h,m,o);if(c){return c}}}return undefined};ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(i,b,m,h,l){var c=!1;if(this.getGL().isContextLost()){return !1}var k=b.viewState;var d=b.layerStatesArray;var j=d.length;var a;for(a=j-1;a>=0;--a){var e=d[a];var f=e.layer;if(ol.layer.Layer.visibleAtResolution(e,k.resolution)&&h.call(l,f)){var g=this.getLayerRenderer(f);c=g.hasFeatureAtCoordinate(i,b);if(c){return !0}}}return c};ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(m,b,l,f,i,n){if(this.getGL().isContextLost()){return !1}var k=b.viewState;var c;var d=b.layerStatesArray;var j=d.length;var a;for(a=j-1;a>=0;--a){var e=d[a];var g=e.layer;if(ol.layer.Layer.visibleAtResolution(e,k.resolution)&&i.call(f,g)){var h=this.getLayerRenderer(g);c=h.forEachLayerAtPixel(m,b,l,f);if(c){return c}}}return undefined};goog.provide('ol.renderer.webgl.tilelayershader');goog.require('ol');goog.require('ol.webgl.Fragment');goog.require('ol.webgl.Vertex');ol.renderer.webgl.tilelayershader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?'precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n':'precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}');ol.renderer.webgl.tilelayershader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?'varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n':'varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}');goog.provide('ol.renderer.webgl.tilelayershader.Locations');goog.require('ol');ol.renderer.webgl.tilelayershader.Locations=function(b,a){this.u_tileOffset=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_tileOffset':'d');this.u_texture=b.getUniformLocation(a,ol.DEBUG_WEBGL?'u_texture':'e');this.a_position=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_position':'b');this.a_texCoord=b.getAttribLocation(a,ol.DEBUG_WEBGL?'a_texCoord':'c')};goog.provide('ol.renderer.webgl.TileLayer');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.TileRange');goog.require('ol.TileState');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.math');goog.require('ol.renderer.Type');goog.require('ol.renderer.webgl.Layer');goog.require('ol.renderer.webgl.tilelayershader');goog.require('ol.renderer.webgl.tilelayershader.Locations');goog.require('ol.size');goog.require('ol.transform');goog.require('ol.webgl');goog.require('ol.webgl.Buffer');ol.renderer.webgl.TileLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b);this.fragmentShader_=ol.renderer.webgl.tilelayershader.fragment;this.vertexShader_=ol.renderer.webgl.tilelayershader.vertex;this.locations_=null;this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;this.tmpSize_=[0,0]};ol.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.TileLayer['handles']=function(b,a){return b===ol.renderer.Type.WEBGL&&a.getType()===ol.LayerType.TILE};ol.renderer.webgl.TileLayer['create']=function(a,b){return new ol.renderer.webgl.TileLayer(a,b)};ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){var a=this.mapRenderer.getContext();a.deleteBuffer(this.renderArrayBuffer_);ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(d,c,a){var b=this.mapRenderer;return function(e,f){function callback(g){var h=b.isTileTextureLoaded(g);if(h){if(!a[e]){a[e]={}}a[e][g.tileCoord.toString()]=g}return h}return d.forEachLoadedTile(c,e,f,callback)}};ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){ol.renderer.webgl.Layer.prototype.handleWebGLContextLost.call(this);this.locations_=null};ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(f,M,w){var u=this.mapRenderer;var e=w.getGL();var l=f.viewState;var o=l.projection;var D=this.getLayer();var c=D.getSource();var d=c.getTileGridForProjection(o);var g=d.getZForResolution(l.resolution);var q=d.getResolution(g);var k=c.getTilePixelSize(g,f.pixelRatio,o);var n=k[0]/ol.size.toSize(d.getTileSize(g),this.tmpSize_)[0];var A=q/n;var N=c.getTilePixelRatio(n)*c.getGutter(o);var R=l.center;var S=f.extent;var h=d.getTileRangeForExtentAndZ(S,g);var a;if(this.renderedTileRange_&&this.renderedTileRange_.equals(h)&&this.renderedRevision_==c.getRevision()){a=this.renderedFramebufferExtent_}else {var J=h.getSize();var X=Math.max(J[0]*k[0],J[1]*k[1]);var t=ol.math.roundUpToPowerOfTwo(X);var m=A*t;var T=d.getOrigin(g);var U=T[0]+h.minX*k[0]*A;var V=T[1]+h.minY*k[1]*A;a=[U,V,U+m,V+m];this.bindFramebuffer(f,t);e.viewport(0,0,t,t);e.clearColor(0,0,0,0);e.clear(ol.webgl.COLOR_BUFFER_BIT);e.disable(ol.webgl.BLEND);var P=w.getProgram(this.fragmentShader_,this.vertexShader_);w.useProgram(P);if(!this.locations_){this.locations_=new ol.renderer.webgl.tilelayershader.Locations(e,P)}w.bindBuffer(ol.webgl.ARRAY_BUFFER,this.renderArrayBuffer_);e.enableVertexAttribArray(this.locations_.a_position);e.vertexAttribPointer(this.locations_.a_position,2,ol.webgl.FLOAT,!1,16,0);e.enableVertexAttribArray(this.locations_.a_texCoord);e.vertexAttribPointer(this.locations_.a_texCoord,2,ol.webgl.FLOAT,!1,16,8);e.uniform1i(this.locations_.u_texture,0);var r={};r[g]={};var H=this.createLoadedTileFinder(c,o,r);var F=D.getUseInterimTilesOnError();var I=!0;var v=ol.extent.createEmpty();var K=new ol.TileRange(0,0,0,0);var B,O,L,b,j;var y,z,i;for(y=h.minX;y<=h.maxX;++y){for(z=h.minY;z<=h.maxY;++z){b=c.getTile(g,y,z,n,o);if(M.extent!==undefined){i=d.getTileCoordExtent(b.tileCoord,v);if(!ol.extent.intersects(i,M.extent)){continue}}j=b.getState();O=j==ol.TileState.LOADED||j==ol.TileState.EMPTY||j==ol.TileState.ERROR&&!F;if(!O){b=b.getInterimTile()}j=b.getState();if(j==ol.TileState.LOADED){if(u.isTileTextureLoaded(b)){r[g][b.tileCoord.toString()]=b;continue}}else {if(j==ol.TileState.EMPTY||j==ol.TileState.ERROR&&!F){continue}}I=!1;L=d.forEachTileCoordParentTileRange(b.tileCoord,H,null,K,v);if(!L){B=d.getTileCoordChildTileRange(b.tileCoord,K,v);if(B){H(g+1,B)}}}}var E=Object.keys(r).map(Number);E.sort(ol.array.numberSafeCompareFunction);var s=new Float32Array(4);var x,W,Q,C;for(x=0,W=E.length;x<W;++x){C=r[E[x]];for(Q in C){b=C[Q];i=d.getTileCoordExtent(b.tileCoord,v);s[0]=2*(i[2]-i[0])/m;s[1]=2*(i[3]-i[1])/m;s[2]=2*(i[0]-a[0])/m-1;s[3]=2*(i[1]-a[1])/m-1;e.uniform4fv(this.locations_.u_tileOffset,s);u.bindTileTexture(b,k,N*n,ol.webgl.LINEAR,ol.webgl.LINEAR);e.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4)}}if(I){this.renderedTileRange_=h;this.renderedFramebufferExtent_=a;this.renderedRevision_=c.getRevision()}else {this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;f.animate=!0}}this.updateUsedTiles(f.usedTiles,c,g,h);var G=u.getTileTextureQueue();this.manageTilePyramid(f,c,d,n,o,S,g,D.getPreload(),function(a){if(a.getState()==ol.TileState.LOADED&&!u.isTileTextureLoaded(a)&&!G.isKeyQueued(a.getKey())){G.enqueue([a,d.getTileCoordCenter(a.tileCoord),d.getResolution(a.tileCoord[0]),k,N*n])}},this);this.scheduleExpireCache(f,c);this.updateLogos(f,c);var p=this.texCoordMatrix;ol.transform.reset(p);ol.transform.translate(p,(Math.round(R[0]/q)*q-a[0])/(a[2]-a[0]),(Math.round(R[1]/q)*q-a[1])/(a[3]-a[1]));if(l.rotation!==0){ol.transform.rotate(p,l.rotation)}ol.transform.scale(p,f.size[0]*l.resolution/(a[2]-a[0]),f.size[1]*l.resolution/(a[3]-a[1]));ol.transform.translate(p,-0.5,-0.5);return !0};ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(f,b,h,i){if(!this.framebuffer){return undefined}var g=[f[0]/b.size[0],(b.size[1]-f[1])/b.size[1]];var d=ol.transform.apply(this.texCoordMatrix,g.slice());var e=[d[0]*this.framebufferDimension,d[1]*this.framebufferDimension];var a=this.mapRenderer.getContext().getGL();a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer);var c=new Uint8Array(4);a.readPixels(e[0],e[1],1,1,a.RGBA,a.UNSIGNED_BYTE,c);if(c[3]>0){return h.call(i,this.getLayer(),c)}else {return undefined}};goog.provide('ol.renderer.webgl.VectorLayer');goog.require('ol');goog.require('ol.LayerType');goog.require('ol.ViewHint');goog.require('ol.extent');goog.require('ol.render.webgl.ReplayGroup');goog.require('ol.renderer.Type');goog.require('ol.renderer.vector');goog.require('ol.renderer.webgl.Layer');goog.require('ol.transform');ol.renderer.webgl.VectorLayer=function(a,b){ol.renderer.webgl.Layer.call(this,a,b);this.dirty_=!1;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.layerState_=null};ol.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.VectorLayer['handles']=function(b,a){return b===ol.renderer.Type.WEBGL&&a.getType()===ol.LayerType.VECTOR};ol.renderer.webgl.VectorLayer['create']=function(a,b){return new ol.renderer.webgl.VectorLayer(a,b)};ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(b,d,h){this.layerState_=d;var f=b.viewState;var c=this.replayGroup_;var g=b.size;var e=b.pixelRatio;var a=this.mapRenderer.getGL();if(c&&!c.isEmpty()){a.enable(a.SCISSOR_TEST);a.scissor(0,0,g[0]*e,g[1]*e);c.replay(h,f.center,f.resolution,f.rotation,g,e,d.opacity,d.managed?b.skippedFeatureUids:{});a.disable(a.SCISSOR_TEST)}};ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var a=this.replayGroup_;if(a){var b=this.mapRenderer.getContext();a.getDeleteResourcesFunction(b)();this.replayGroup_=null}ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(d,a,j,f,h){if(!this.replayGroup_||!this.layerState_){return undefined}else {var g=this.mapRenderer.getContext();var b=a.viewState;var i=this.getLayer();var e=this.layerState_;var c={};return this.replayGroup_.forEachFeatureAtCoordinate(d,g,b.center,b.resolution,b.rotation,a.size,a.pixelRatio,e.opacity,{},function(b){var e=ol.getUid(b).toString();if(!(e in c)){c[e]=!0;return f.call(h,b,i)}})}};ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(c,a){if(!this.replayGroup_||!this.layerState_){return !1}else {var e=this.mapRenderer.getContext();var b=a.viewState;var d=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(c,e,b.center,b.resolution,b.rotation,a.size,a.pixelRatio,d.opacity,a.skippedFeatureUids)}};ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(f,a,d,e){var b=ol.transform.apply(a.pixelToCoordinateTransform,f.slice());var c=this.hasFeatureAtCoordinate(b,a);if(c){return d.call(e,this.getLayer(),null)}else {return undefined}};ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(a){this.renderIfReadyAndVisible()};ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(c,u,m){var a=this.getLayer();var f=a.getSource();this.updateLogos(c,f);var t=c.viewHints[ol.ViewHint.ANIMATING];var r=c.viewHints[ol.ViewHint.INTERACTING];var p=a.getUpdateWhileAnimating();var o=a.getUpdateWhileInteracting();if(!this.dirty_&&(!p&&t)||!o&&r){return !0}var q=c.extent;var l=c.viewState;var s=l.projection;var b=l.resolution;var k=c.pixelRatio;var i=a.getRevision();var n=a.getRenderBuffer();var d=a.getRenderOrder();if(d===undefined){d=ol.renderer.vector.defaultOrder}var e=ol.extent.buffer(q,n*b);if(!this.dirty_&&this.renderedResolution_==b&&this.renderedRevision_==i&&this.renderedRenderOrder_==d&&ol.extent.containsExtent(this.renderedExtent_,e)){return !0}if(this.replayGroup_){c.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(m))}this.dirty_=!1;var g=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(b,k),e,a.getRenderBuffer());f.loadFeatures(e,b,s);var j=function(e){var f;var d=e.getStyleFunction();if(d){f=d.call(e,b)}else {d=a.getStyleFunction();if(d){f=d(e,b)}}if(f){var h=this.renderFeature(e,b,k,f,g);this.dirty_=this.dirty_||h}};if(d){var h=[];f.forEachFeatureInExtent(e,function(a){h.push(a)},this);h.sort(d);h.forEach(j,this)}else {f.forEachFeatureInExtent(e,j,this)}g.finish(m);this.renderedResolution_=b;this.renderedRevision_=i;this.renderedRenderOrder_=d;this.renderedExtent_=e;this.replayGroup_=g;return !0};ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(g,f,e,b,d){if(!b){return !1}var a=!1;if(Array.isArray(b)){for(var c=b.length-1,h=0;c>=h;--c){a=ol.renderer.vector.renderFeature(d,g,b[c],ol.renderer.vector.getSquaredTolerance(f,e),this.handleStyleImageChange_,this)||a}}else {a=ol.renderer.vector.renderFeature(d,g,b,ol.renderer.vector.getSquaredTolerance(f,e),this.handleStyleImageChange_,this)||a}return a};goog.provide('ol.Map');goog.require('ol');goog.require('ol.PluggableMap');goog.require('ol.PluginType');goog.require('ol.control');goog.require('ol.interaction');goog.require('ol.obj');goog.require('ol.plugins');goog.require('ol.renderer.canvas.ImageLayer');goog.require('ol.renderer.canvas.Map');goog.require('ol.renderer.canvas.TileLayer');goog.require('ol.renderer.canvas.VectorLayer');goog.require('ol.renderer.canvas.VectorTileLayer');goog.require('ol.renderer.webgl.ImageLayer');goog.require('ol.renderer.webgl.Map');goog.require('ol.renderer.webgl.TileLayer');goog.require('ol.renderer.webgl.VectorLayer');if(ol.ENABLE_CANVAS){ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map);ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer])}if(ol.ENABLE_WEBGL){ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.webgl.Map);ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.webgl.ImageLayer,ol.renderer.webgl.TileLayer,ol.renderer.webgl.VectorLayer])}ol.Map=function(a){a=ol.obj.assign({},a);if(!a.controls){a.controls=ol.control.defaults()}if(!a.interactions){a.interactions=ol.interaction.defaults()}ol.PluggableMap.call(this,a)};ol.inherits(ol.Map,ol.PluggableMap);goog.provide('ol.net');goog.require('ol');ol.net.jsonp=function(e,d,c,f){var a=document.createElement('script');var b='olc_'+ol.getUid(d);function cleanup(){delete window[b];a.parentNode.removeChild(a)}a.async=!0;a.src=e+(e.indexOf('?')==-1?'?':'&')+(f||'callback')+'='+b;var g=setTimeout(function(){cleanup();if(c){c()}},10000);window[b]=function(a){clearTimeout(g);cleanup();d(a)};document.getElementsByTagName('head')[0].appendChild(a)};goog.provide('ol.proj.common');goog.require('ol.proj');ol.proj.common.add=ol.proj.addCommon;goog.provide('ol.render');goog.require('ol.has');goog.require('ol.transform');goog.require('ol.render.canvas.Immediate');ol.render.toContext=function(e,d){var a=e.canvas;var f=d?d:{};var b=f.pixelRatio||ol.has.DEVICE_PIXEL_RATIO;var c=f.size;if(c){a.width=c[0]*b;a.height=c[1]*b;a.style.width=c[0]+'px';a.style.height=c[1]+'px'}var h=[0,0,a.width,a.height];var g=ol.transform.scale(ol.transform.create(),b,b);return new ol.render.canvas.Immediate(e,b,h,g,0)};goog.provide('ol.reproj');goog.require('ol.dom');goog.require('ol.extent');goog.require('ol.math');goog.require('ol.proj');ol.reproj.calculateSourceResolution=function(b,d,i,j){var g=ol.proj.transform(i,d,b);var a=ol.proj.getPointResolution(d,j,i);var f=d.getMetersPerUnit();if(f!==undefined){a*=f}var e=b.getMetersPerUnit();if(e!==undefined){a/=e}var h=b.getExtent();if(!h||ol.extent.containsCoordinate(h,g)){var c=ol.proj.getPointResolution(b,a,g)/a;if(isFinite(c)&&c>0){a/=c}}return a};ol.reproj.enlargeClipPoint_=function(f,g,d,e){var a=d-f,b=e-g;var c=Math.sqrt(a*a+b*b);return [Math.round(d+a/c),Math.round(e+b/c)]};ol.reproj.render=function(q,p,d,f,r,b,o,k,i,h,n){var a=ol.dom.createCanvasContext2D(Math.round(d*q),Math.round(d*p));if(i.length===0){return a.canvas}a.scale(d,d);var e=ol.extent.createEmpty();i.forEach(function(a,g,c){ol.extent.extend(e,a.extent)});var m=ol.extent.getWidth(e);var l=ol.extent.getHeight(e);var j=ol.dom.createCanvasContext2D(Math.round(d*m/f),Math.round(d*l/f));var g=d/f;i.forEach(function(a,u,t){var m=a.extent[0]-e[0];var s=-(a.extent[3]-e[3]);var l=ol.extent.getWidth(a.extent);var c=ol.extent.getHeight(a.extent);j.drawImage(a.image,h,h,a.image.width-2*h,a.image.height-2*h,m*g,s*g,l*g,c*g)});var c=ol.extent.getTopLeft(o);k.getTriangles().forEach(function(G,O,N){var g=G.source,l=G.target;var K=g[0][0],L=g[0][1],C=g[1][0],E=g[1][1],D=g[2][0],F=g[2][1];var s=(l[0][0]-c[0])/b,t=-(l[0][1]-c[1])/b;var y=(l[1][0]-c[0])/b,A=-(l[1][1]-c[1])/b;var z=(l[2][0]-c[0])/b,B=-(l[2][1]-c[1])/b;var u=K,v=L;K=0;L=0;C-=u;E-=v;D-=u;F-=v;var M=[[C,E,0,0,y-s],[D,F,0,0,z-s],[0,0,C,E,A-t],[0,0,D,F,B-t]];var m=ol.math.solveLinearSystem(M);if(!m){return}a.save();a.beginPath();var w=(s+y+z)/3,x=(t+A+B)/3;var H=ol.reproj.enlargeClipPoint_(w,x,s,t);var I=ol.reproj.enlargeClipPoint_(w,x,y,A);var J=ol.reproj.enlargeClipPoint_(w,x,z,B);a.moveTo(I[0],I[1]);a.lineTo(H[0],H[1]);a.lineTo(J[0],J[1]);a.clip();a.transform(m[0],m[2],m[1],m[3],s,t);a.translate(e[0]-u,e[3]-v);a.scale(f/d,-f/d);a.drawImage(j.canvas,0,0);a.restore()});if(n){a.save();a.strokeStyle='black';a.lineWidth=1;k.getTriangles().forEach(function(g,w,v){var e=g.target;var j=(e[0][0]-c[0])/b,s=-(e[0][1]-c[1])/b;var l=(e[1][0]-c[0])/b,t=-(e[1][1]-c[1])/b;var m=(e[2][0]-c[0])/b,u=-(e[2][1]-c[1])/b;a.beginPath();a.moveTo(l,t);a.lineTo(j,s);a.lineTo(m,u);a.closePath();a.stroke()});a.restore()}return a.canvas};goog.provide('ol.reproj.Triangulation');goog.require('ol');goog.require('ol.extent');goog.require('ol.math');goog.require('ol.proj');ol.reproj.Triangulation=function(o,p,c,d,i){this.sourceProj_=o;this.targetProj_=p;var b={};var n=ol.proj.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var a=e[0]+'/'+e[1];if(!b[a]){b[a]=n(e)}return b[a]};this.maxSourceExtent_=d;this.errorThresholdSquared_=i*i;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!d&&!!this.sourceProj_.getExtent()&&ol.extent.getWidth(d)==ol.extent.getWidth(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?ol.extent.getWidth(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?ol.extent.getWidth(this.targetProj_.getExtent()):null;var h=ol.extent.getTopLeft(c);var g=ol.extent.getTopRight(c);var e=ol.extent.getBottomRight(c);var f=ol.extent.getBottomLeft(c);var m=this.transformInv_(h);var l=this.transformInv_(g);var j=this.transformInv_(e);var k=this.transformInv_(f);this.addQuad_(h,g,e,f,m,l,j,k,ol.RASTER_REPROJECTION_MAX_SUBDIVISION);if(this.wrapsXInSource_){var a=Infinity;this.triangles_.forEach(function(b,f,e){a=Math.min(a,b.source[0][0],b.source[1][0],b.source[2][0])});this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-a>this.sourceWorldWidth_/2){var b=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];if(b[0][0]-a>this.sourceWorldWidth_/2){b[0][0]-=this.sourceWorldWidth_}if(b[1][0]-a>this.sourceWorldWidth_/2){b[1][0]-=this.sourceWorldWidth_}if(b[2][0]-a>this.sourceWorldWidth_/2){b[2][0]-=this.sourceWorldWidth_}var g=Math.min(b[0][0],b[1][0],b[2][0]);var f=Math.max(b[0][0],b[1][0],b[2][0]);if(f-g<this.sourceWorldWidth_/2){e.source=b}}},this)}b={}};ol.reproj.Triangulation.prototype.addTriangle_=function(d,e,f,a,b,c){this.triangles_.push({source:[a,b,c],target:[d,e,f]})};ol.reproj.Triangulation.prototype.addQuad_=function(a,f,b,g,c,i,d,j,h){var t=ol.extent.boundingExtent([c,i,d,j]);var k=this.sourceWorldWidth_?ol.extent.getWidth(t)/this.sourceWorldWidth_:null;var m=this.sourceWorldWidth_;var o=this.sourceProj_.canWrapX()&&k>0.5&&k<1;var e=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var A=ol.extent.boundingExtent([a,f,b,g]);var C=ol.extent.getWidth(A)/this.targetWorldWidth_;e|=C>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}if(!o&&this.sourceProj_.isGlobal()&&k){e|=k>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}}if(!e&&this.maxSourceExtent_){if(!ol.extent.intersects(t,this.maxSourceExtent_)){return}}if(!e){if(!isFinite(c[0])||!isFinite(c[1])||!isFinite(i[0])||!isFinite(i[1])||!isFinite(d[0])||!isFinite(d[1])||!isFinite(j[0])||!isFinite(j[1])){if(h>0){e=!0}else {return}}}if(h>0){if(!e){var D=[(a[0]+b[0])/2,(a[1]+b[1])/2];var n=this.transformInv_(D);var l;if(o){var B=(ol.math.modulo(c[0],m)+ol.math.modulo(d[0],m))/2;l=B-ol.math.modulo(n[0],m)}else {l=(c[0]+d[0])/2-n[0]}var y=(c[1]+d[1])/2-n[1];var z=l*l+y*y;e=z>this.errorThresholdSquared_}if(e){if(Math.abs(a[0]-b[0])<=Math.abs(a[1]-b[1])){var q=[(f[0]+b[0])/2,(f[1]+b[1])/2];var v=this.transformInv_(q);var s=[(g[0]+a[0])/2,(g[1]+a[1])/2];var x=this.transformInv_(s);this.addQuad_(a,f,q,s,c,i,v,x,h-1);this.addQuad_(s,q,b,g,x,v,d,j,h-1)}else {var p=[(a[0]+f[0])/2,(a[1]+f[1])/2];var u=this.transformInv_(p);var r=[(b[0]+g[0])/2,(b[1]+g[1])/2];var w=this.transformInv_(r);this.addQuad_(a,p,r,g,c,u,w,j,h-1);this.addQuad_(p,f,b,r,u,i,d,w,h-1)}return}}if(o){if(!this.canWrapXInSource_){return}this.wrapsXInSource_=!0}this.addTriangle_(a,b,g,c,d,j);this.addTriangle_(a,f,b,c,i,d)};ol.reproj.Triangulation.prototype.calculateSourceExtent=function(){var a=ol.extent.createEmpty();this.triangles_.forEach(function(c,e,d){var b=c.source;ol.extent.extendCoordinate(a,b[0]);ol.extent.extendCoordinate(a,b[1]);ol.extent.extendCoordinate(a,b[2])});return a};ol.reproj.Triangulation.prototype.getTriangles=function(){return this.triangles_};goog.provide('ol.reproj.Image');goog.require('ol');goog.require('ol.ImageBase');goog.require('ol.ImageState');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.reproj');goog.require('ol.reproj.Triangulation');ol.reproj.Image=function(d,b,a,c,m,j){this.targetProj_=b;this.maxSourceExtent_=d.getExtent();var g=b.getExtent();var e=g?ol.extent.getIntersection(a,g):a;var l=ol.extent.getCenter(e);var f=ol.reproj.calculateSourceResolution(d,b,l,c);var i=ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(d,b,e,this.maxSourceExtent_,f*i);this.targetResolution_=c;this.targetExtent_=a;var k=this.triangulation_.calculateSourceExtent();this.sourceImage_=j(k,f,m);this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1;this.canvas_=null;this.sourceListenerKey_=null;var h=ol.ImageState.LOADED;if(this.sourceImage_){h=ol.ImageState.IDLE}ol.ImageBase.call(this,a,c,this.sourcePixelRatio_,h)};ol.inherits(ol.reproj.Image,ol.ImageBase);ol.reproj.Image.prototype.disposeInternal=function(){if(this.state==ol.ImageState.LOADING){this.unlistenSource_()}ol.ImageBase.prototype.disposeInternal.call(this)};ol.reproj.Image.prototype.getImage=function(){return this.canvas_};ol.reproj.Image.prototype.getProjection=function(){return this.targetProj_};ol.reproj.Image.prototype.reproject_=function(){var a=this.sourceImage_.getState();if(a==ol.ImageState.LOADED){var c=ol.extent.getWidth(this.targetExtent_)/this.targetResolution_;var b=ol.extent.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ol.reproj.render(c,b,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=a;this.changed()};ol.reproj.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();var a=this.sourceImage_.getState();if(a==ol.ImageState.LOADED||a==ol.ImageState.ERROR){this.reproject_()}else {this.sourceListenerKey_=ol.events.listen(this.sourceImage_,ol.events.EventType.CHANGE,function(b){var a=this.sourceImage_.getState();if(a==ol.ImageState.LOADED||a==ol.ImageState.ERROR){this.unlistenSource_();this.reproject_()}},this);this.sourceImage_.load()}}};ol.reproj.Image.prototype.unlistenSource_=function(){ol.events.unlistenByKey(this.sourceListenerKey_);this.sourceListenerKey_=null};goog.provide('ol.reproj.Tile');goog.require('ol');goog.require('ol.Tile');goog.require('ol.TileState');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.math');goog.require('ol.reproj');goog.require('ol.reproj.Triangulation');ol.reproj.Tile=function(e,h,r,i,s,m,q,y,w,l,o){ol.Tile.call(this,s,ol.TileState.IDLE);this.renderEdges_=o!==undefined?o:!1;this.pixelRatio_=q;this.gutter_=y;this.canvas_=null;this.sourceTileGrid_=h;this.targetTileGrid_=i;this.wrappedTileCoord_=m?m:s;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;var p=i.getTileCoordExtent(this.wrappedTileCoord_);var n=this.targetTileGrid_.getExtent();var a=this.sourceTileGrid_.getExtent();var f=n?ol.extent.getIntersection(p,n):p;if(ol.extent.getArea(f)===0){this.state=ol.TileState.EMPTY;return}var g=e.getExtent();if(g){if(!a){a=g}else {a=ol.extent.getIntersection(a,g)}}var v=i.getResolution(this.wrappedTileCoord_[0]);var x=ol.extent.getCenter(f);var c=ol.reproj.calculateSourceResolution(e,r,x,v);if(!isFinite(c)||c<=0){this.state=ol.TileState.EMPTY;return}var u=l!==undefined?l:ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(e,r,f,a,c*u);if(this.triangulation_.getTriangles().length===0){this.state=ol.TileState.EMPTY;return}this.sourceZ_=h.getZForResolution(c);var b=this.triangulation_.calculateSourceExtent();if(a){if(e.canWrapX()){b[1]=ol.math.clamp(b[1],a[1],a[3]);b[3]=ol.math.clamp(b[3],a[1],a[3])}else {b=ol.extent.getIntersection(b,a)}}if(!ol.extent.getArea(b)){this.state=ol.TileState.EMPTY}else {var d=h.getTileRangeForExtentAndZ(b,this.sourceZ_);for(var j=d.minX;j<=d.maxX;j++){for(var k=d.minY;k<=d.maxY;k++){var t=w(this.sourceZ_,j,k,q);if(t){this.sourceTiles_.push(t)}}}if(this.sourceTiles_.length===0){this.state=ol.TileState.EMPTY}}};ol.inherits(ol.reproj.Tile,ol.Tile);ol.reproj.Tile.prototype.disposeInternal=function(){if(this.state==ol.TileState.LOADING){this.unlistenSources_()}ol.Tile.prototype.disposeInternal.call(this)};ol.reproj.Tile.prototype.getImage=function(){return this.canvas_};ol.reproj.Tile.prototype.reproject_=function(){var b=[];this.sourceTiles_.forEach(function(a,d,c){if(a&&a.getState()==ol.TileState.LOADED){b.push({extent:this.sourceTileGrid_.getTileCoordExtent(a.tileCoord),image:a.getImage()})}},this);this.sourceTiles_.length=0;if(b.length===0){this.state=ol.TileState.ERROR}else {var c=this.wrappedTileCoord_[0];var a=this.targetTileGrid_.getTileSize(c);var h=typeof a==='number'?a:a[0];var g=typeof a==='number'?a:a[1];var e=this.targetTileGrid_.getResolution(c);var d=this.sourceTileGrid_.getResolution(this.sourceZ_);var f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ol.reproj.render(h,g,this.pixelRatio_,d,this.sourceTileGrid_.getExtent(),e,f,this.triangulation_,b,this.gutter_,this.renderEdges_);this.state=ol.TileState.LOADED}this.changed()};ol.reproj.Tile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(c,f,e){var d=c.getState();if(d==ol.TileState.IDLE||d==ol.TileState.LOADING){a++;var b;b=ol.events.listen(c,ol.events.EventType.CHANGE,function(g){var d=c.getState();if(d==ol.TileState.LOADED||d==ol.TileState.ERROR||d==ol.TileState.EMPTY){ol.events.unlistenByKey(b);a--;if(a===0){this.unlistenSources_();this.reproject_()}}},this);this.sourcesListenerKeys_.push(b)}},this);this.sourceTiles_.forEach(function(a,d,c){var b=a.getState();if(b==ol.TileState.IDLE){a.load()}});if(a===0){setTimeout(this.reproject_.bind(this),0)}}};ol.reproj.Tile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ol.events.unlistenByKey);this.sourcesListenerKeys_=null};goog.provide('ol.TileUrlFunction');goog.require('ol.asserts');goog.require('ol.math');goog.require('ol.tilecoord');ol.TileUrlFunction.createFromTemplate=function(b,c){var f=/\{z\}/g;var d=/\{x\}/g;var e=/\{y\}/g;var a=/\{-y\}/g;return function(g,h,i){if(!g){return undefined}else {return b.replace(f,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){var a=-g[2]-1;return a.toString()}).replace(a,function(){var e=g[0];var a=c.getFullTileRange(e);ol.asserts.assert(a,55);var d=a.getHeight()+g[2];return d.toString()})}}};ol.TileUrlFunction.createFromTemplates=function(c,e){var d=c.length;var b=new Array(d);for(var a=0;a<d;++a){b[a]=ol.TileUrlFunction.createFromTemplate(c[a],e)}return ol.TileUrlFunction.createFromTileUrlFunctions(b)};ol.TileUrlFunction.createFromTileUrlFunctions=function(a){if(a.length===1){return a[0]}return function(b,c,d){if(!b){return undefined}else {var f=ol.tilecoord.hash(b);var e=ol.math.modulo(f,a.length);return a[e](b,c,d)}}};ol.TileUrlFunction.nullTileUrlFunction=function(c,a,b){return undefined};ol.TileUrlFunction.expandUrl=function(c){var b=[];var a=/\{([a-z])-([a-z])\}/.exec(c);if(a){var f=a[1].charCodeAt(0);var g=a[2].charCodeAt(0);var d;for(d=f;d<=g;++d){b.push(c.replace(a[0],String.fromCharCode(d)))}return b}a=a=/\{(\d+)-(\d+)\}/.exec(c);if(a){var h=parseInt(a[2],10);for(var e=parseInt(a[1],10);e<=h;e++){b.push(c.replace(a[0],e.toString()))}return b}b.push(c);return b};goog.provide('ol.TileCache');goog.require('ol');goog.require('ol.structs.LRUCache');goog.require('ol.tilecoord');ol.TileCache=function(a){ol.structs.LRUCache.call(this,a)};ol.inherits(ol.TileCache,ol.structs.LRUCache);ol.TileCache.prototype.expireCache=function(c){var a,b;while(this.canExpireCache()){a=this.peekLast();b=a.tileCoord[0].toString();if(b in c&&c[b].contains(a.tileCoord)){break}else {this.pop().dispose()}}};ol.TileCache.prototype.pruneExceptNewestZ=function(){if(this.getCount()===0){return}var b=this.peekFirstKey();var a=ol.tilecoord.fromKey(b);var c=a[0];this.forEach(function(a){if(a.tileCoord[0]!==c){this.remove(ol.tilecoord.getKey(a.tileCoord));a.dispose()}},this)};goog.provide('ol.source.Tile');goog.require('ol');goog.require('ol.TileCache');goog.require('ol.TileState');goog.require('ol.events.Event');goog.require('ol.proj');goog.require('ol.size');goog.require('ol.source.Source');goog.require('ol.tilecoord');goog.require('ol.tilegrid');ol.source.Tile=function(a){ol.source.Source.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX});this.opaque_=a.opaque!==undefined?a.opaque:!1;this.tilePixelRatio_=a.tilePixelRatio!==undefined?a.tilePixelRatio:1;this.tileGrid=a.tileGrid!==undefined?a.tileGrid:null;this.tileCache=new ol.TileCache(a.cacheSize);this.tmpSize=[0,0];this.key_='';this.tileOptions={transition:a.transition}};ol.inherits(ol.source.Tile,ol.source.Source);ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};ol.source.Tile.prototype.expireCache=function(b,c){var a=this.getTileCacheForProjection(b);if(a){a.expireCache(c)}};ol.source.Tile.prototype.forEachLoadedTile=function(i,k,b,j){var d=this.getTileCacheForProjection(i);if(!d){return !1}var h=!0;var e,c,a;for(var f=b.minX;f<=b.maxX;++f){for(var g=b.minY;g<=b.maxY;++g){c=ol.tilecoord.getKeyZXY(k,f,g);a=!1;if(d.containsKey(c)){e=d.get(c);a=e.getState()===ol.TileState.LOADED;if(a){a=j(e)!==!1}}if(!a){h=!1}}}return h};ol.source.Tile.prototype.getGutter=function(a){return 0};ol.source.Tile.prototype.getKey=function(){return this.key_};ol.source.Tile.prototype.setKey=function(a){if(this.key_!==a){this.key_=a;this.changed()}};ol.source.Tile.prototype.getOpaque=function(a){return this.opaque_};ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};ol.source.Tile.prototype.getTile=function(e,c,d,a,b){};ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid};ol.source.Tile.prototype.getTileGridForProjection=function(a){if(!this.tileGrid){return ol.tilegrid.getForProjection(a)}else {return this.tileGrid}};ol.source.Tile.prototype.getTileCacheForProjection=function(b){var a=this.getProjection();if(a&&!ol.proj.equivalent(a,b)){return null}else {return this.tileCache}};ol.source.Tile.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};ol.source.Tile.prototype.getTilePixelSize=function(f,c,d){var e=this.getTileGridForProjection(d);var a=this.getTilePixelRatio(c);var b=ol.size.toSize(e.getTileSize(f),this.tmpSize);if(a==1){return b}else {return ol.size.scale(b,a,this.tmpSize)}};ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(a,c){var b=c!==undefined?c:this.getProjection();var d=this.getTileGridForProjection(b);if(this.getWrapX()&&b.isGlobal()){a=ol.tilegrid.wrapX(d,a,b)}return ol.tilecoord.withinExtentAndZ(a,d)?a:null};ol.source.Tile.prototype.refresh=function(){this.tileCache.clear();this.changed()};ol.source.Tile.prototype.useTile=ol.nullFunction;ol.source.Tile.Event=function(b,a){ol.events.Event.call(this,b);this.tile=a};ol.inherits(ol.source.Tile.Event,ol.events.Event);goog.provide('ol.source.TileEventType');ol.source.TileEventType={TILELOADSTART:'tileloadstart',TILELOADEND:'tileloadend',TILELOADERROR:'tileloaderror'};goog.provide('ol.source.UrlTile');goog.require('ol');goog.require('ol.TileState');goog.require('ol.TileUrlFunction');goog.require('ol.source.Tile');goog.require('ol.source.TileEventType');goog.require('ol.tilecoord');ol.source.UrlTile=function(a){ol.source.Tile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition});this.tileLoadFunction=a.tileLoadFunction;this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.nullTileUrlFunction;this.urls=null;if(a.urls){this.setUrls(a.urls)}else {if(a.url){this.setUrl(a.url)}}if(a.tileUrlFunction){this.setTileUrlFunction(a.tileUrlFunction)}this.tileLoadingKeys_={}};ol.inherits(ol.source.UrlTile,ol.source.Tile);ol.source.UrlTile.prototype.fixedTileUrlFunction;ol.source.UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};ol.source.UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction};ol.source.UrlTile.prototype.getUrls=function(){return this.urls};ol.source.UrlTile.prototype.handleTileChange=function(e){var c=e.target;var d=ol.getUid(c);var a=c.getState();var b;if(a==ol.TileState.LOADING){this.tileLoadingKeys_[d]=!0;b=ol.source.TileEventType.TILELOADSTART}else {if(d in this.tileLoadingKeys_){delete this.tileLoadingKeys_[d];b=a==ol.TileState.ERROR?ol.source.TileEventType.TILELOADERROR:a==ol.TileState.LOADED||a==ol.TileState.ABORT?ol.source.TileEventType.TILELOADEND:undefined}}if(b!=undefined){this.dispatchEvent(new ol.source.Tile.Event(b,c))}};ol.source.UrlTile.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};ol.source.UrlTile.prototype.setTileUrlFunction=function(b,a){this.tileUrlFunction=b;this.tileCache.pruneExceptNewestZ();if(typeof a!=='undefined'){this.setKey(a)}else {this.changed()}};ol.source.UrlTile.prototype.setUrl=function(a){var b=this.urls=ol.TileUrlFunction.expandUrl(a);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(b,this.tileGrid),a)};ol.source.UrlTile.prototype.setUrls=function(a){this.urls=a;var b=a.join('\n');this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(a,this.tileGrid),b)};ol.source.UrlTile.prototype.useTile=function(d,b,c){var a=ol.tilecoord.getKeyZXY(d,b,c);if(this.tileCache.containsKey(a)){this.tileCache.get(a)}};goog.provide('ol.source.TileImage');goog.require('ol');goog.require('ol.ImageTile');goog.require('ol.TileCache');goog.require('ol.TileState');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.proj');goog.require('ol.reproj.Tile');goog.require('ol.source.UrlTile');goog.require('ol.tilecoord');goog.require('ol.tilegrid');ol.source.TileImage=function(a){ol.source.UrlTile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX,transition:a.transition});this.crossOrigin=a.crossOrigin!==undefined?a.crossOrigin:null;this.tileClass=a.tileClass!==undefined?a.tileClass:ol.ImageTile;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=a.reprojectionErrorThreshold;this.renderReprojectionEdges_=!1};ol.inherits(ol.source.TileImage,ol.source.UrlTile);ol.source.TileImage.prototype.canExpireCache=function(){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.canExpireCache.call(this)}if(this.tileCache.canExpireCache()){return !0}else {for(var a in this.tileCacheForProjection){if(this.tileCacheForProjection[a].canExpireCache()){return !0}}}return !1};ol.source.TileImage.prototype.expireCache=function(c,a){if(!ol.ENABLE_RASTER_REPROJECTION){ol.source.UrlTile.prototype.expireCache.call(this,c,a);return}var b=this.getTileCacheForProjection(c);this.tileCache.expireCache(this.tileCache==b?a:{});for(var e in this.tileCacheForProjection){var d=this.tileCacheForProjection[e];d.expireCache(d==b?a:{})}};ol.source.TileImage.prototype.getGutter=function(a){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&a&&!ol.proj.equivalent(this.getProjection(),a)){return 0}else {return this.getGutterInternal()}};ol.source.TileImage.prototype.getGutterInternal=function(){return 0};ol.source.TileImage.prototype.getOpaque=function(a){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&a&&!ol.proj.equivalent(this.getProjection(),a)){return !1}else {return ol.source.UrlTile.prototype.getOpaque.call(this,a)}};ol.source.TileImage.prototype.getTileGridForProjection=function(a){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileGridForProjection.call(this,a)}var c=this.getProjection();if(this.tileGrid&&(!c||ol.proj.equivalent(c,a))){return this.tileGrid}else {var b=ol.getUid(a).toString();if(!(b in this.tileGridForProjection)){this.tileGridForProjection[b]=ol.tilegrid.getForProjection(a)}return this.tileGridForProjection[b]}};ol.source.TileImage.prototype.getTileCacheForProjection=function(a){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileCacheForProjection.call(this,a)}var c=this.getProjection();if(!c||ol.proj.equivalent(c,a)){return this.tileCache}else {var b=ol.getUid(a).toString();if(!(b in this.tileCacheForProjection)){this.tileCacheForProjection[b]=new ol.TileCache(this.tileCache.highWaterMark)}return this.tileCacheForProjection[b]}};ol.source.TileImage.prototype.createTile_=function(j,h,i,f,d,g){var e=[j,h,i];var c=this.getTileCoordForTileUrlFunction(e,d);var a=c?this.tileUrlFunction(c,f,d):undefined;var b=new this.tileClass(e,a!==undefined?ol.TileState.IDLE:ol.TileState.EMPTY,a!==undefined?a:'',this.crossOrigin,this.tileLoadFunction,this.tileOptions);b.key=g;ol.events.listen(b,ol.events.EventType.CHANGE,this.handleTileChange,this);return b};ol.source.TileImage.prototype.getTile=function(l,j,k,h,a){var b=this.getProjection();if(!ol.ENABLE_RASTER_REPROJECTION||!b||!a||ol.proj.equivalent(b,a)){return this.getTileInternal(l,j,k,h,b||a)}else {var f=this.getTileCacheForProjection(a);var g=[l,j,k];var d;var e=ol.tilecoord.getKey(g);if(f.containsKey(e)){d=f.get(e)}var i=this.getKey();if(d&&d.key==i){return d}else {var n=this.getTileGridForProjection(b);var o=this.getTileGridForProjection(a);var m=this.getTileCoordForTileUrlFunction(g,a);var c=new ol.reproj.Tile(b,n,a,o,g,m,this.getTilePixelRatio(h),this.getGutterInternal(),function(f,d,e,c){return this.getTileInternal(f,d,e,c,b)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);c.key=i;if(d){c.interimTile=d;c.refreshInterimChain();f.replace(e,c)}else {f.set(e,c)}return c}}};ol.source.TileImage.prototype.getTileInternal=function(g,e,f,h,i){var a=null;var b=ol.tilecoord.getKeyZXY(g,e,f);var d=this.getKey();if(!this.tileCache.containsKey(b)){a=this.createTile_(g,e,f,h,i,d);this.tileCache.set(b,a)}else {a=this.tileCache.get(b);if(a.key!=d){var c=a;a=this.createTile_(g,e,f,h,i,d);if(c.getState()==ol.TileState.IDLE){a.interimTile=c.interimTile}else {a.interimTile=c}a.refreshInterimChain();this.tileCache.replace(b,a)}}return a};ol.source.TileImage.prototype.setRenderReprojectionEdges=function(a){if(!ol.ENABLE_RASTER_REPROJECTION||this.renderReprojectionEdges_==a){return}this.renderReprojectionEdges_=a;for(var b in this.tileCacheForProjection){this.tileCacheForProjection[b].clear()}this.changed()};ol.source.TileImage.prototype.setTileGridForProjection=function(c,d){if(ol.ENABLE_RASTER_REPROJECTION){var b=ol.proj.get(c);if(b){var a=ol.getUid(b).toString();if(!(a in this.tileGridForProjection)){this.tileGridForProjection[a]=d}}}};ol.source.TileImage.defaultTileLoadFunction=function(a,b){a.getImage().src=b};goog.provide('ol.source.BingMaps');goog.require('ol');goog.require('ol.TileUrlFunction');goog.require('ol.extent');goog.require('ol.net');goog.require('ol.proj');goog.require('ol.source.State');goog.require('ol.source.TileImage');goog.require('ol.tilecoord');goog.require('ol.tilegrid');ol.source.BingMaps=function(a){this.hidpi_=a.hidpi!==undefined?a.hidpi:!1;ol.source.TileImage.call(this,{cacheSize:a.cacheSize,crossOrigin:'anonymous',opaque:!0,projection:ol.proj.get('EPSG:3857'),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:this.hidpi_?2:1,wrapX:a.wrapX!==undefined?a.wrapX:!0,transition:a.transition});this.culture_=a.culture!==undefined?a.culture:'en-us';this.maxZoom_=a.maxZoom!==undefined?a.maxZoom:-1;this.apiKey_=a.key;this.imagerySet_=a.imagerySet;var b='https://dev.virtualearth.net/REST/v1/Imagery/Metadata/'+this.imagerySet_+'?uriScheme=https&include=ImageryProviders&key='+this.apiKey_+'&c='+this.culture_;ol.net.jsonp(b,this.handleImageryMetadataResponse.bind(this),undefined,'jsonp')};ol.inherits(ol.source.BingMaps,ol.source.TileImage);ol.source.BingMaps.TOS_ATTRIBUTION='<a class="ol-attribution-bing-tos" '+'href="https://www.microsoft.com/maps/product/terms.html">'+'Terms of Use</a>';ol.source.BingMaps.prototype.getApiKey=function(){return this.apiKey_};ol.source.BingMaps.prototype.getImagerySet=function(){return this.imagerySet_};ol.source.BingMaps.prototype.handleImageryMetadataResponse=function(b){if(b.statusCode!=200||b.statusDescription!='OK'||b.authenticationResultCode!='ValidCredentials'||b.resourceSets.length!=1||b.resourceSets[0].resources.length!=1){this.setState(ol.source.State.ERROR);return}var c=b.brandLogoUri;if(c.indexOf('https')==-1){c=c.replace('http','https')}var a=b.resourceSets[0].resources[0];var i=this.maxZoom_==-1?a.zoomMax:this.maxZoom_;var d=this.getProjection();var j=ol.tilegrid.extentFromProjection(d);var g=a.imageWidth==a.imageHeight?a.imageWidth:[a.imageWidth,a.imageHeight];var f=ol.tilegrid.createXYZ({extent:j,minZoom:a.zoomMin,maxZoom:i,tileSize:g/(this.hidpi_?2:1)});this.tileGrid=f;var h=this.culture_;var k=this.hidpi_;this.tileUrlFunction=ol.TileUrlFunction.createFromTileUrlFunctions(a.imageUrlSubdomains.map(function(d){var c=[0,0,0];var e=a.imageUrl.replace('{subdomain}',d).replace('{culture}',h);return function(a,g,h){if(!a){return undefined}else {ol.tilecoord.createOrUpdate(a[0],a[1],-a[2]-1,c);var f=e;if(k){f+='&dpi=d1&device=mobile'}return f.replace('{quadkey}',ol.tilecoord.quadKey(c))}}}));if(a.imageryProviders){var e=ol.proj.getTransformFromProjections(ol.proj.get('EPSG:4326'),this.getProjection());this.setAttributions(function(d){var c=[];var f=d.viewState.zoom;a.imageryProviders.map(function(i){var k=!1;var j=i.coverageAreas;for(var h=0,n=j.length;h<n;++h){var g=j[h];if(f>=g.zoomMin&&f<=g.zoomMax){var a=g.bbox;var l=[a[1],a[0],a[3],a[2]];var m=ol.extent.applyTransform(l,e);if(ol.extent.intersects(m,d.extent)){k=!0;break}}}if(k){c.push(i.attribution)}});c.push(ol.source.BingMaps.TOS_ATTRIBUTION);return c})}this.setLogo(c);this.setState(ol.source.State.READY)};goog.provide('ol.source.XYZ');goog.require('ol');goog.require('ol.source.TileImage');goog.require('ol.tilegrid');ol.source.XYZ=function(c){var a=c||{};var b=a.projection!==undefined?a.projection:'EPSG:3857';var d=a.tileGrid!==undefined?a.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:d,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX!==undefined?a.wrapX:!0,transition:a.transition})};ol.inherits(ol.source.XYZ,ol.source.TileImage);goog.provide('ol.source.CartoDB');goog.require('ol');goog.require('ol.obj');goog.require('ol.source.State');goog.require('ol.source.XYZ');ol.source.CartoDB=function(a){this.account_=a.account;this.mapId_=a.map||'';this.config_=a.config||{};this.templateCache_={};ol.source.XYZ.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:a.maxZoom!==undefined?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:ol.source.State.LOADING,wrapX:a.wrapX});this.initializeMap_()};ol.inherits(ol.source.CartoDB,ol.source.XYZ);ol.source.CartoDB.prototype.getConfig=function(){return this.config_};ol.source.CartoDB.prototype.updateConfig=function(a){ol.obj.assign(this.config_,a);this.initializeMap_()};ol.source.CartoDB.prototype.setConfig=function(a){this.config_=a||{};this.initializeMap_()};ol.source.CartoDB.prototype.initializeMap_=function(){var b=JSON.stringify(this.config_);if(this.templateCache_[b]){this.applyTemplate_(this.templateCache_[b]);return}var c='https://'+this.account_+'.carto.com/api/v1/map';if(this.mapId_){c+='/named/'+this.mapId_}var a=new XMLHttpRequest();a.addEventListener('load',this.handleInitResponse_.bind(this,b));a.addEventListener('error',this.handleInitError_.bind(this));a.open('POST',c);a.setRequestHeader('Content-type','application/json');a.send(JSON.stringify(this.config_))};ol.source.CartoDB.prototype.handleInitResponse_=function(c,d){var a=d.target;if(!a.status||a.status>=200&&a.status<300){var b;try{b=JSON.parse(a.responseText)}catch(e){this.setState(ol.source.State.ERROR);return}this.applyTemplate_(b);this.templateCache_[c]=b;this.setState(ol.source.State.READY)}else {this.setState(ol.source.State.ERROR)}};ol.source.CartoDB.prototype.handleInitError_=function(a){this.setState(ol.source.State.ERROR)};ol.source.CartoDB.prototype.applyTemplate_=function(a){var b='https://'+a.cdn_url.https+'/'+this.account_+'/api/v1/map/'+a.layergroupid+'/{z}/{x}/{y}.png';this.setUrl(b)};goog.provide('ol.source.Cluster');goog.require('ol');goog.require('ol.asserts');goog.require('ol.Feature');goog.require('ol.coordinate');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.geom.Point');goog.require('ol.source.Vector');ol.source.Cluster=function(a){ol.source.Vector.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX});this.resolution=undefined;this.distance=a.distance!==undefined?a.distance:20;this.features=[];this.geometryFunction=a.geometryFunction||function(c){var b=c.getGeometry();ol.asserts.assert(b instanceof ol.geom.Point,10);return b};this.source=a.source;this.source.on(ol.events.EventType.CHANGE,ol.source.Cluster.prototype.refresh,this)};ol.inherits(ol.source.Cluster,ol.source.Vector);ol.source.Cluster.prototype.getDistance=function(){return this.distance};ol.source.Cluster.prototype.getSource=function(){return this.source};ol.source.Cluster.prototype.loadFeatures=function(c,a,b){this.source.loadFeatures(c,a,b);if(a!==this.resolution){this.clear();this.resolution=a;this.cluster();this.addFeatures(this.features)}};ol.source.Cluster.prototype.setDistance=function(a){this.distance=a;this.refresh()};ol.source.Cluster.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features);ol.source.Vector.prototype.refresh.call(this)};ol.source.Cluster.prototype.cluster=function(){if(this.resolution===undefined){return}this.features.length=0;var a=ol.extent.createEmpty();var i=this.distance*this.resolution;var e=this.source.getFeatures();var b={};for(var d=0,j=e.length;d<j;d++){var g=e[d];if(!(ol.getUid(g).toString() in b)){var f=this.geometryFunction(g);if(f){var h=f.getCoordinates();ol.extent.createOrUpdateFromCoordinate(h,a);ol.extent.buffer(a,i,a);var c=this.source.getFeaturesInExtent(a);c=c.filter(function(c){var a=ol.getUid(c).toString();if(!(a in b)){b[a]=!0;return !0}else {return !1}});this.features.push(this.createCluster(c))}}}};ol.source.Cluster.prototype.createCluster=function(a){var c=[0,0];for(var b=a.length-1;b>=0;--b){var d=this.geometryFunction(a[b]);if(d){ol.coordinate.add(c,d.getCoordinates())}else {a.splice(b,1)}}ol.coordinate.scale(c,1/a.length);var e=new ol.Feature(new ol.geom.Point(c));e.set('features',a);return e};goog.provide('ol.source.Image');goog.require('ol');goog.require('ol.ImageState');goog.require('ol.array');goog.require('ol.events.Event');goog.require('ol.extent');goog.require('ol.proj');goog.require('ol.reproj.Image');goog.require('ol.source.Source');ol.source.Image=function(a){ol.source.Source.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.resolutions_=a.resolutions!==undefined?a.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0};ol.inherits(ol.source.Image,ol.source.Source);ol.source.Image.prototype.getResolutions=function(){return this.resolutions_};ol.source.Image.prototype.findNearestResolution=function(a){if(this.resolutions_){var b=ol.array.linearFindNearest(this.resolutions_,a,0);a=this.resolutions_[b]}return a};ol.source.Image.prototype.getImage=function(d,c,e,b){var a=this.getProjection();if(!ol.ENABLE_RASTER_REPROJECTION||!a||!b||ol.proj.equivalent(a,b)){if(a){b=a}return this.getImageInternal(d,c,e,b)}else {if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ol.proj.equivalent(this.reprojectedImage_.getProjection(),b)&&this.reprojectedImage_.getResolution()==c&&ol.extent.equals(this.reprojectedImage_.getExtent(),d)){return this.reprojectedImage_}this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new ol.reproj.Image(a,b,d,c,e,function(h,g,f){return this.getImageInternal(h,g,f,a)}.bind(this));this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}};ol.source.Image.prototype.getImageInternal=function(d,c,a,b){};ol.source.Image.prototype.handleImageChange=function(b){var a=b.target;switch(a.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADSTART,a));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADEND,a));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADERROR,a));break;default:}};ol.source.Image.defaultImageLoadFunction=function(a,b){a.getImage().src=b};ol.source.Image.Event=function(b,a){ol.events.Event.call(this,b);this.image=a};ol.inherits(ol.source.Image.Event,ol.events.Event);ol.source.Image.EventType_={IMAGELOADSTART:'imageloadstart',IMAGELOADEND:'imageloadend',IMAGELOADERROR:'imageloaderror'};goog.provide('ol.uri');ol.uri.appendParams=function(a,b){var c=[];Object.keys(b).forEach(function(d){if(b[d]!==null&&b[d]!==undefined){c.push(d+'='+encodeURIComponent(b[d]))}});var d=c.join('&');a=a.replace(/[?&]$/,'');a=a.indexOf('?')===-1?a+'?':a+'&';return a+d};goog.provide('ol.source.ImageArcGISRest');goog.require('ol');goog.require('ol.Image');goog.require('ol.asserts');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.obj');goog.require('ol.source.Image');goog.require('ol.uri');ol.source.ImageArcGISRest=function(b){var a=b||{};ol.source.Image.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.crossOrigin_=a.crossOrigin!==undefined?a.crossOrigin:null;this.hidpi_=a.hidpi!==undefined?a.hidpi:!0;this.url_=a.url;this.imageLoadFunction_=a.imageLoadFunction!==undefined?a.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=a.params||{};this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=a.ratio!==undefined?a.ratio:1.5};ol.inherits(ol.source.ImageArcGISRest,ol.source.Image);ol.source.ImageArcGISRest.prototype.getParams=function(){return this.params_};ol.source.ImageArcGISRest.prototype.getImageInternal=function(a,d,c,m){if(this.url_===undefined){return null}d=this.findNearestResolution(d);c=this.hidpi_?c:1;var e=this.image_;if(e&&this.renderedRevision_==this.getRevision()&&e.getResolution()==d&&e.getPixelRatio()==c&&ol.extent.containsExtent(e.getExtent(),a)){return e}var l={'F':'image','FORMAT':'PNG32','TRANSPARENT':!0};ol.obj.assign(l,this.params_);a=a.slice();var f=(a[0]+a[2])/2;var g=(a[1]+a[3])/2;if(this.ratio_!=1){var k=this.ratio_*ol.extent.getWidth(a)/2;var j=this.ratio_*ol.extent.getHeight(a)/2;a[0]=f-k;a[1]=g-j;a[2]=f+k;a[3]=g+j}var b=d/c;var i=Math.ceil(ol.extent.getWidth(a)/b);var h=Math.ceil(ol.extent.getHeight(a)/b);a[0]=f-b*i/2;a[2]=f+b*i/2;a[1]=g-b*h/2;a[3]=g+b*h/2;this.imageSize_[0]=i;this.imageSize_[1]=h;var n=this.getRequestUrl_(a,this.imageSize_,c,m,l);this.image_=new ol.Image(a,d,c,n,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageArcGISRest.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageArcGISRest.prototype.getRequestUrl_=function(h,c,f,g,a){var d=g.getCode().split(':').pop();a['SIZE']=c[0]+','+c[1];a['BBOX']=h.join(',');a['BBOXSR']=d;a['IMAGESR']=d;a['DPI']=Math.round(90*f);var e=this.url_;var b=e.replace(/MapServer\/?$/,'MapServer/export').replace(/ImageServer\/?$/,'ImageServer/exportImage');if(b==e){ol.asserts.assert(!1,50)}return ol.uri.appendParams(b,a)};ol.source.ImageArcGISRest.prototype.getUrl=function(){return this.url_};ol.source.ImageArcGISRest.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};ol.source.ImageArcGISRest.prototype.setUrl=function(a){if(a!=this.url_){this.url_=a;this.image_=null;this.changed()}};ol.source.ImageArcGISRest.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.image_=null;this.changed()};goog.provide('ol.source.ImageCanvas');goog.require('ol');goog.require('ol.ImageCanvas');goog.require('ol.extent');goog.require('ol.source.Image');ol.source.ImageCanvas=function(a){ol.source.Image.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state});this.canvasFunction_=a.canvasFunction;this.canvas_=null;this.renderedRevision_=0;this.ratio_=a.ratio!==undefined?a.ratio:1.5};ol.inherits(ol.source.ImageCanvas,ol.source.Image);ol.source.ImageCanvas.prototype.getImageInternal=function(b,c,d,f){c=this.findNearestResolution(c);var a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==c&&a.getPixelRatio()==d&&ol.extent.containsExtent(a.getExtent(),b)){return a}b=b.slice();ol.extent.scaleFromCenter(b,this.ratio_);var h=ol.extent.getWidth(b)/c;var g=ol.extent.getHeight(b)/c;var i=[h*d,g*d];var e=this.canvasFunction_(b,c,d,i,f);if(e){a=new ol.ImageCanvas(b,c,d,e)}this.canvas_=a;this.renderedRevision_=this.getRevision();return a};goog.provide('ol.source.ImageMapGuide');goog.require('ol');goog.require('ol.Image');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.obj');goog.require('ol.source.Image');goog.require('ol.uri');ol.source.ImageMapGuide=function(a){ol.source.Image.call(this,{projection:a.projection,resolutions:a.resolutions});this.crossOrigin_=a.crossOrigin!==undefined?a.crossOrigin:null;this.displayDpi_=a.displayDpi!==undefined?a.displayDpi:96;this.params_=a.params||{};this.url_=a.url;this.imageLoadFunction_=a.imageLoadFunction!==undefined?a.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.hidpi_=a.hidpi!==undefined?a.hidpi:!0;this.metersPerUnit_=a.metersPerUnit!==undefined?a.metersPerUnit:1;this.ratio_=a.ratio!==undefined?a.ratio:1;this.useOverlay_=a.useOverlay!==undefined?a.useOverlay:!1;this.image_=null;this.renderedRevision_=0};ol.inherits(ol.source.ImageMapGuide,ol.source.Image);ol.source.ImageMapGuide.prototype.getParams=function(){return this.params_};ol.source.ImageMapGuide.prototype.getImageInternal=function(b,d,c,e){d=this.findNearestResolution(d);c=this.hidpi_?c:1;var a=this.image_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==d&&a.getPixelRatio()==c&&ol.extent.containsExtent(a.getExtent(),b)){return a}if(this.ratio_!=1){b=b.slice();ol.extent.scaleFromCenter(b,this.ratio_)}var h=ol.extent.getWidth(b)/d;var g=ol.extent.getHeight(b)/d;var i=[h*c,g*c];if(this.url_!==undefined){var f=this.getUrl(this.url_,this.params_,b,i,e);a=new ol.Image(b,d,c,f,this.crossOrigin_,this.imageLoadFunction_);ol.events.listen(a,ol.events.EventType.CHANGE,this.handleImageChange,this)}else {a=null}this.image_=a;this.renderedRevision_=this.getRevision();return a};ol.source.ImageMapGuide.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageMapGuide.getScale=function(b,g,a,i){var f=ol.extent.getWidth(b);var e=ol.extent.getHeight(b);var d=g[0];var c=g[1];var h=0.0254/i;if(c*f>d*e){return f*a/(d*h)}else {return e*a/(c*h)}};ol.source.ImageMapGuide.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.changed()};ol.source.ImageMapGuide.prototype.getUrl=function(e,f,d,a,h){var g=ol.source.ImageMapGuide.getScale(d,a,this.metersPerUnit_,this.displayDpi_);var c=ol.extent.getCenter(d);var b={'OPERATION':this.useOverlay_?'GETDYNAMICMAPOVERLAYIMAGE':'GETMAPIMAGE','VERSION':'2.0.0','LOCALE':'en','CLIENTAGENT':'ol.source.ImageMapGuide source','CLIP':'1','SETDISPLAYDPI':this.displayDpi_,'SETDISPLAYWIDTH':Math.round(a[0]),'SETDISPLAYHEIGHT':Math.round(a[1]),'SETVIEWSCALE':g,'SETVIEWCENTERX':c[0],'SETVIEWCENTERY':c[1]};ol.obj.assign(b,f);return ol.uri.appendParams(e,b)};ol.source.ImageMapGuide.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};goog.provide('ol.source.ImageStatic');goog.require('ol');goog.require('ol.Image');goog.require('ol.ImageState');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.proj');goog.require('ol.source.Image');ol.source.ImageStatic=function(a){var d=a.imageExtent;var c=a.crossOrigin!==undefined?a.crossOrigin:null;var b=a.imageLoadFunction!==undefined?a.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;ol.source.Image.call(this,{attributions:a.attributions,logo:a.logo,projection:ol.proj.get(a.projection)});this.image_=new ol.Image(d,undefined,1,a.url,c,b);this.imageSize_=a.imageSize?a.imageSize:null;ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this)};ol.inherits(ol.source.ImageStatic,ol.source.Image);ol.source.ImageStatic.prototype.getImageInternal=function(a,d,b,c){if(ol.extent.intersects(a,this.image_.getExtent())){return this.image_}return null};ol.source.ImageStatic.prototype.handleImageChange=function(i){if(this.image_.getState()==ol.ImageState.LOADED){var e=this.image_.getExtent();var d=this.image_.getImage();var b,a;if(this.imageSize_){b=this.imageSize_[0];a=this.imageSize_[1]}else {b=d.width;a=d.height}var h=ol.extent.getHeight(e)/a;var f=Math.ceil(ol.extent.getWidth(e)/h);if(f!=b){var g=ol.dom.createCanvasContext2D(f,a);var c=g.canvas;g.drawImage(d,0,0,b,a,0,0,c.width,c.height);this.image_.setImage(c)}}ol.source.Image.prototype.handleImageChange.call(this,i)};goog.provide('ol.source.ImageVector');goog.require('ol');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.ext.rbush');goog.require('ol.extent');goog.require('ol.render.canvas.ReplayGroup');goog.require('ol.renderer.vector');goog.require('ol.source.ImageCanvas');goog.require('ol.style.Style');goog.require('ol.transform');ol.source.ImageVector=function(a){this.source_=a.source;this.transform_=ol.transform.create();this.canvasContext_=ol.dom.createCanvasContext2D();this.canvasSize_=[0,0];this.declutterTree_=ol.ext.rbush(9);this.renderBuffer_=a.renderBuffer==undefined?100:a.renderBuffer;this.replayGroup_=null;ol.source.ImageCanvas.call(this,{attributions:a.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.source_.getState()});this.style_=null;this.styleFunction_=undefined;this.setStyle(a.style);ol.events.listen(this.source_,ol.events.EventType.CHANGE,this.handleSourceChange_,this)};ol.inherits(ol.source.ImageVector,ol.source.ImageCanvas);ol.source.ImageVector.prototype.canvasFunctionInternal_=function(e,b,d,a,g){var c=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(b,d),e,b,d,this.source_.getOverlaps(),this.declutterTree_,this.renderBuffer_);this.source_.loadFeatures(e,b,g);var f=!1;this.source_.forEachFeatureInExtent(e,function(h){f=f||this.renderFeature_(h,b,d,c)},this);c.finish();if(f){return null}if(this.canvasSize_[0]!=a[0]||this.canvasSize_[1]!=a[1]){this.canvasContext_.canvas.width=a[0];this.canvasContext_.canvas.height=a[1];this.canvasSize_[0]=a[0];this.canvasSize_[1]=a[1]}else {this.canvasContext_.clearRect(0,0,a[0],a[1])}this.declutterTree_.clear();var h=this.getTransform_(ol.extent.getCenter(e),b,d,a);c.replay(this.canvasContext_,h,0,{});this.replayGroup_=c;return this.canvasContext_.canvas};ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(d,e,h,c,b,f){if(!this.replayGroup_){return undefined}else {var a={};var g=this.replayGroup_.forEachFeatureAtCoordinate(d,e,0,c,b,function(g){var i=ol.getUid(g).toString();if(!(i in a)){a[i]=!0;return f(g)}},null);return g}};ol.source.ImageVector.prototype.getSource=function(){return this.source_};ol.source.ImageVector.prototype.getStyle=function(){return this.style_};ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.source.ImageVector.prototype.getTransform_=function(a,e,d,b){var f=b[0]/2;var h=b[1]/2;var c=d/e;var j=-c;var g=-a[0];var i=-a[1];return ol.transform.compose(this.transform_,f,h,c,j,0,g,i)};ol.source.ImageVector.prototype.handleImageChange_=function(a){this.changed()};ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())};ol.source.ImageVector.prototype.renderFeature_=function(b,d,i,h){var a;var f=b.getStyleFunction();if(f){a=f.call(b,d)}else {if(this.styleFunction_){a=this.styleFunction_(b,d)}}if(!a){return !1}var c,g,e=!1;if(!Array.isArray(a)){a=[a]}for(c=0,g=a.length;c<g;++c){e=ol.renderer.vector.renderFeature(h,b,a[c],ol.renderer.vector.getSquaredTolerance(d,i),this.handleImageChange_,this)||e}return e};ol.source.ImageVector.prototype.setStyle=function(a){this.style_=a!==undefined?a:ol.style.Style.defaultFunction;this.styleFunction_=!a?undefined:ol.style.Style.createFunction(this.style_);this.changed()};goog.provide('ol.source.WMSServerType');ol.source.WMSServerType={CARMENTA_SERVER:'carmentaserver',GEOSERVER:'geoserver',MAPSERVER:'mapserver',QGIS:'qgis'};goog.provide('ol.source.ImageWMS');goog.require('ol');goog.require('ol.Image');goog.require('ol.asserts');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.obj');goog.require('ol.proj');goog.require('ol.reproj');goog.require('ol.source.Image');goog.require('ol.source.WMSServerType');goog.require('ol.string');goog.require('ol.uri');ol.source.ImageWMS=function(b){var a=b||{};ol.source.Image.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.crossOrigin_=a.crossOrigin!==undefined?a.crossOrigin:null;this.url_=a.url;this.imageLoadFunction_=a.imageLoadFunction!==undefined?a.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=a.params||{};this.v13_=!0;this.updateV13_();this.serverType_=a.serverType;this.hidpi_=a.hidpi!==undefined?a.hidpi:!0;this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=a.ratio!==undefined?a.ratio:1.5};ol.inherits(ol.source.ImageWMS,ol.source.Image);ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_=[101,101];ol.source.ImageWMS.prototype.getGetFeatureInfoUrl=function(a,c,g,h){if(this.url_===undefined){return undefined}var d=ol.proj.get(g);var b=this.getProjection();if(b&&b!==d){c=ol.reproj.calculateSourceResolution(b,d,a,c);a=ol.proj.transform(a,d,b)}var f=ol.extent.getForViewAndSize(a,c,0,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_);var e={'SERVICE':'WMS','VERSION':ol.DEFAULT_WMS_VERSION,'REQUEST':'GetFeatureInfo','FORMAT':'image/png','TRANSPARENT':!0,'QUERY_LAYERS':this.params_['LAYERS']};ol.obj.assign(e,this.params_,h);var i=Math.floor((a[0]-f[0])/c);var j=Math.floor((f[3]-a[1])/c);e[this.v13_?'I':'X']=i;e[this.v13_?'J':'Y']=j;return this.getRequestUrl_(f,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,1,b||d,e)};ol.source.ImageWMS.prototype.getParams=function(){return this.params_};ol.source.ImageWMS.prototype.getImageInternal=function(d,c,b,k){if(this.url_===undefined){return null}c=this.findNearestResolution(c);if(b!=1&&(!this.hidpi_||this.serverType_===undefined)){b=1}var a=c/b;var g=ol.extent.getCenter(d);var n=Math.ceil(ol.extent.getWidth(d)/a);var m=Math.ceil(ol.extent.getHeight(d)/a);var l=ol.extent.getForViewAndSize(g,a,0,[n,m]);var j=Math.ceil(this.ratio_*ol.extent.getWidth(d)/a);var i=Math.ceil(this.ratio_*ol.extent.getHeight(d)/a);var f=ol.extent.getForViewAndSize(g,a,0,[j,i]);var e=this.image_;if(e&&this.renderedRevision_==this.getRevision()&&e.getResolution()==c&&e.getPixelRatio()==b&&ol.extent.containsExtent(e.getExtent(),l)){return e}var h={'SERVICE':'WMS','VERSION':ol.DEFAULT_WMS_VERSION,'REQUEST':'GetMap','FORMAT':'image/png','TRANSPARENT':!0};ol.obj.assign(h,this.params_);this.imageSize_[0]=Math.round(ol.extent.getWidth(f)/a);this.imageSize_[1]=Math.round(ol.extent.getHeight(f)/a);var o=this.getRequestUrl_(f,this.imageSize_,b,k,h);this.image_=new ol.Image(f,c,b,o,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageWMS.prototype.getRequestUrl_=function(b,f,c,e,a){ol.asserts.assert(this.url_!==undefined,9);a[this.v13_?'CRS':'SRS']=e.getCode();if(!('STYLES' in this.params_)){a['STYLES']=''}if(c!=1){switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var g=90*c+0.5|0;if('FORMAT_OPTIONS' in a){a['FORMAT_OPTIONS']+=';dpi:'+g}else {a['FORMAT_OPTIONS']='dpi:'+g};break;case ol.source.WMSServerType.MAPSERVER:a['MAP_RESOLUTION']=90*c;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:a['DPI']=90*c;break;default:ol.asserts.assert(!1,8);break;}}a['WIDTH']=f[0];a['HEIGHT']=f[1];var h=e.getAxisOrientation();var d;if(this.v13_&&h.substr(0,2)=='ne'){d=[b[1],b[0],b[3],b[2]]}else {d=b}a['BBOX']=d.join(',');return ol.uri.appendParams(this.url_,a)};ol.source.ImageWMS.prototype.getUrl=function(){return this.url_};ol.source.ImageWMS.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};ol.source.ImageWMS.prototype.setUrl=function(a){if(a!=this.url_){this.url_=a;this.image_=null;this.changed()}};ol.source.ImageWMS.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.updateV13_();this.image_=null;this.changed()};ol.source.ImageWMS.prototype.updateV13_=function(){var a=this.params_['VERSION']||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(a,'1.3')>=0};goog.provide('ol.source.OSM');goog.require('ol');goog.require('ol.source.XYZ');ol.source.OSM=function(d){var a=d||{};var b;if(a.attributions!==undefined){b=a.attributions}else {b=[ol.source.OSM.ATTRIBUTION]}var c=a.crossOrigin!==undefined?a.crossOrigin:'anonymous';var e=a.url!==undefined?a.url:'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png';ol.source.XYZ.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:c,opaque:a.opaque!==undefined?a.opaque:!0,maxZoom:a.maxZoom!==undefined?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:e,wrapX:a.wrapX})};ol.inherits(ol.source.OSM,ol.source.XYZ);ol.source.OSM.ATTRIBUTION='&copy; '+'<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> '+'contributors.';goog.provide('ol.ext.pixelworks.Processor');ol.ext.pixelworks.Processor=function(){};(function(){(function(c){var a=!0;try{new ImageData(10,10)}catch(j){a=!1}var g=document.createElement('canvas').getContext('2d');function newImageData$1(f,e,d){if(a){return new ImageData(f,e,d)}else {var b=g.createImageData(e,d);b.data.set(f);return b}}var d=newImageData$1;var h={newImageData:d};var e=h.newImageData;function createMinion(b){var a=!0;try{new ImageData(10,10)}catch(k){a=!1}function newWorkerImageData(f,e,d){if(a){return new ImageData(f,e,d)}else {return {data:f,width:e,height:d}}}return function(i){var j=i['buffers'];var p=i['meta'];var q=i['imageOps'];var s=i['width'];var r=i['height'];var g=j.length;var m=j[0].byteLength;var e,a;if(q){var o=new Array(g);for(a=0;a<g;++a){o[a]=newWorkerImageData(new Uint8ClampedArray(j[a]),s,r)}e=b(o,p).data}else {e=new Uint8ClampedArray(m);var n=new Array(g);var h=new Array(g);for(a=0;a<g;++a){n[a]=new Uint8ClampedArray(j[a]);h[a]=[0,0,0,0]}for(var d=0;d<m;d+=4){for(var f=0;f<g;++f){var k=n[f];h[f][0]=k[d];h[f][1]=k[d+1];h[f][2]=k[d+2];h[f][3]=k[d+3]}var l=b(h,p);e[d]=l[0];e[d+1]=l[1];e[d+2]=l[2];e[d+3]=l[3]}}return e.buffer}}function createWorker(a,d){var h=Object.keys(a.lib||{}).map(function(b){return 'var '+b+' = '+a.lib[b].toString()+';'});var f=h.concat(['var __minion__ = ('+createMinion.toString()+')(',a.operation.toString(),');','self.addEventListener("message", function(event) {','  var buffer = __minion__(event.data);','  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);','});']);var g=new Blob(f,{type:'text/javascript'});var e=URL.createObjectURL(g);var b=new Worker(e);b.addEventListener('message',d);return b}function createFauxWorker(b,a){var d=createMinion(b.operation);return {postMessage:function(e){setTimeout(function(){a({'data':{'buffer':d(e),'meta':e['meta']}})},0)}}}function Processor(a){this._imageOps=!!a.imageOps;var b;if(a.threads===0){b=0}else {if(this._imageOps){b=1}else {b=a.threads||1}}var e=[];if(b){for(var d=0;d<b;++d){e[d]=createWorker(a,this._onWorkerMessage.bind(this,d))}}else {e[0]=createFauxWorker(a,this._onWorkerMessage.bind(this,0))}this._workers=e;this._queue=[];this._maxQueueLength=a.queue||Infinity;this._running=0;this._dataLookup={};this._job=null}Processor.prototype.process=function(b,d,a){this._enqueue({inputs:b,meta:d,callback:a});this._dispatch()};Processor.prototype.destroy=function(){for(var a in this){this[a]=null}this._destroyed=!0};Processor.prototype._enqueue=function(a){this._queue.push(a);while(this._queue.length>this._maxQueueLength){this._queue.shift().callback(null,null)}};Processor.prototype._dispatch=function(){if(this._running===0&&this._queue.length>0){var a=this._job=this._queue.shift();var j=a.inputs[0].width;var h=a.inputs[0].height;var d=a.inputs.map(function(a){return a.data.buffer});var e=this._workers.length;this._running=e;if(e===1){this._workers[0].postMessage({'buffers':d,'meta':a.meta,'imageOps':this._imageOps,'width':j,'height':h},d)}else {var l=a.inputs[0].data.length;var g=4*Math.ceil(l/4/e);for(var b=0;b<e;++b){var i=b*g;var f=[];for(var k=0,m=d.length;k<m;++k){f.push(d[b].slice(i,i+g))}this._workers[b].postMessage({'buffers':f,'meta':a.meta,'imageOps':this._imageOps,'width':j,'height':h},f)}}}};Processor.prototype._onWorkerMessage=function(b,a){if(this._destroyed){return}this._dataLookup[b]=a.data;--this._running;if(this._running===0){this._resolveJob()}};Processor.prototype._resolveJob=function(){var f=this._job;var g=this._workers.length;var b,d;if(g===1){b=new Uint8ClampedArray(this._dataLookup[0]['buffer']);d=this._dataLookup[0]['meta']}else {var h=f.inputs[0].data.length;b=new Uint8ClampedArray(h);d=new Array(h);var i=4*Math.ceil(h/4/g);for(var a=0;a<g;++a){var j=this._dataLookup[a]['buffer'];var k=a*i;b.set(new Uint8ClampedArray(j),k);d[a]=this._dataLookup[a]['meta']}}this._job=null;this._dataLookup={};f.callback(null,e(b,f.inputs[0].width,f.inputs[0].height),d);this._dispatch()};var f=Processor;var b=f;var i={Processor:b};c['default']=i;c.Processor=b})(this.pixelworks=this.pixelworks||{})}).call(ol.ext);goog.provide('ol.source.RasterOperationType');ol.source.RasterOperationType={PIXEL:'pixel',IMAGE:'image'};goog.provide('ol.source.Raster');goog.require('ol');goog.require('ol.ImageCanvas');goog.require('ol.TileQueue');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.events.Event');goog.require('ol.events.EventType');goog.require('ol.ext.pixelworks.Processor');goog.require('ol.extent');goog.require('ol.layer.Image');goog.require('ol.layer.Tile');goog.require('ol.obj');goog.require('ol.renderer.canvas.ImageLayer');goog.require('ol.renderer.canvas.TileLayer');goog.require('ol.source.Image');goog.require('ol.source.RasterOperationType');goog.require('ol.source.State');goog.require('ol.source.Tile');goog.require('ol.transform');ol.source.Raster=function(a){this.worker_=null;this.operationType_=a.operationType!==undefined?a.operationType:ol.source.RasterOperationType.PIXEL;this.threads_=a.threads!==undefined?a.threads:1;this.renderers_=ol.source.Raster.createRenderers_(a.sources);for(var d=0,g=this.renderers_.length;d<g;++d){ol.events.listen(this.renderers_[d],ol.events.EventType.CHANGE,this.changed,this)}this.tileQueue_=new ol.TileQueue(function(){return 1},this.changed.bind(this));var b=ol.source.Raster.getLayerStatesArray_(this.renderers_);var e={};for(var c=0,f=b.length;c<f;++c){e[ol.getUid(b[c].layer)]=b[c]}this.requestedFrameState_;this.renderedImageCanvas_=null;this.renderedRevision_;this.frameState_={animate:!1,coordinateToPixelTransform:ol.transform.create(),extent:null,focus:null,index:0,layerStates:e,layerStatesArray:b,logos:{},pixelRatio:1,pixelToCoordinateTransform:ol.transform.create(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};ol.source.Image.call(this,{});if(a.operation!==undefined){this.setOperation(a.operation,a.lib)}};ol.inherits(ol.source.Raster,ol.source.Image);ol.source.Raster.prototype.setOperation=function(a,b){this.worker_=new ol.ext.pixelworks.Processor({operation:a,imageOps:this.operationType_===ol.source.RasterOperationType.IMAGE,queue:1,lib:b,threads:this.threads_});this.changed()};ol.source.Raster.prototype.updateFrameState_=function(b,c,f){var a=ol.obj.assign({},this.frameState_);a.viewState=ol.obj.assign({},a.viewState);var e=ol.extent.getCenter(b);a.extent=b.slice();a.focus=e;a.size[0]=Math.round(ol.extent.getWidth(b)/c);a.size[1]=Math.round(ol.extent.getHeight(b)/c);a.time=Date.now();a.animate=!1;var d=a.viewState;d.center=e;d.projection=f;d.resolution=c;return a};ol.source.Raster.prototype.allSourcesReady_=function(){var c=!0;var b;for(var a=0,d=this.renderers_.length;a<d;++a){b=this.renderers_[a].getLayer().getSource();if(b.getState()!==ol.source.State.READY){c=!1;break}}return c};ol.source.Raster.prototype.getImage=function(c,b,g,f){if(!this.allSourcesReady_()){return null}var a=this.updateFrameState_(c,b,f);this.requestedFrameState_=a;if(this.renderedImageCanvas_){var d=this.renderedImageCanvas_.getResolution();var e=this.renderedImageCanvas_.getExtent();if(b!==d||!ol.extent.equals(c,e)){this.renderedImageCanvas_=null}}if(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_){this.processSources_()}a.tileQueue.loadMoreTiles(16,16);if(a.animate){requestAnimationFrame(this.changed.bind(this))}return this.renderedImageCanvas_};ol.source.Raster.prototype.processSources_=function(){var b=this.requestedFrameState_;var f=this.renderers_.length;var c=new Array(f);for(var a=0;a<f;++a){var d=ol.source.Raster.getImageData_(this.renderers_[a],b,b.layerStatesArray[a]);if(d){c[a]=d}else {return}}var e={};this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.BEFOREOPERATIONS,b,e));this.worker_.process(c,e,this.onWorkerComplete_.bind(this,b))};ol.source.Raster.prototype.onWorkerComplete_=function(d,i,e,h){if(i||!e){return}var c=d.extent;var a=d.viewState.resolution;if(a!==this.requestedFrameState_.viewState.resolution||!ol.extent.equals(c,this.requestedFrameState_.extent)){return}var b;if(this.renderedImageCanvas_){b=this.renderedImageCanvas_.getImage().getContext('2d')}else {var g=Math.round(ol.extent.getWidth(c)/a);var f=Math.round(ol.extent.getHeight(c)/a);b=ol.dom.createCanvasContext2D(g,f);this.renderedImageCanvas_=new ol.ImageCanvas(c,a,1,b.canvas)}b.putImageData(e,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.AFTEROPERATIONS,d,h))};ol.source.Raster.getImageData_=function(e,c,d){if(!e.prepareFrame(c,d)){return null}var b=c.size[0];var a=c.size[1];if(!ol.source.Raster.context_){ol.source.Raster.context_=ol.dom.createCanvasContext2D(b,a)}else {var f=ol.source.Raster.context_.canvas;if(f.width!==b||f.height!==a){ol.source.Raster.context_=ol.dom.createCanvasContext2D(b,a)}else {ol.source.Raster.context_.clearRect(0,0,b,a)}}e.composeFrame(c,d,ol.source.Raster.context_);return ol.source.Raster.context_.getImageData(0,0,b,a)};ol.source.Raster.context_=null;ol.source.Raster.getLayerStatesArray_=function(a){return a.map(function(b){return b.getLayer().getLayerState()})};ol.source.Raster.createRenderers_=function(c){var d=c.length;var b=new Array(d);for(var a=0;a<d;++a){b[a]=ol.source.Raster.createRenderer_(c[a])}return b};ol.source.Raster.createRenderer_=function(a){var b=null;if(a instanceof ol.source.Tile){b=ol.source.Raster.createTileRenderer_(a)}else {if(a instanceof ol.source.Image){b=ol.source.Raster.createImageRenderer_(a)}}return b};ol.source.Raster.createImageRenderer_=function(a){var b=new ol.layer.Image({source:a});return new ol.renderer.canvas.ImageLayer(b)};ol.source.Raster.createTileRenderer_=function(a){var b=new ol.layer.Tile({source:a});return new ol.renderer.canvas.TileLayer(b)};ol.source.Raster.Event=function(c,a,b){ol.events.Event.call(this,c);this.extent=a.extent;this.resolution=a.viewState.resolution/a.pixelRatio;this.data=b};ol.inherits(ol.source.Raster.Event,ol.events.Event);ol.source.Raster.prototype.getImageInternal=function(){return null};ol.source.Raster.EventType_={BEFOREOPERATIONS:'beforeoperations',AFTEROPERATIONS:'afteroperations'};goog.provide('ol.source.Stamen');goog.require('ol');goog.require('ol.source.OSM');goog.require('ol.source.XYZ');ol.source.Stamen=function(a){var d=a.layer.indexOf('-');var e=d==-1?a.layer:a.layer.slice(0,d);var b=ol.source.Stamen.ProviderConfig[e];var c=ol.source.Stamen.LayerConfig[a.layer];var f=a.url!==undefined?a.url:'https://stamen-tiles-{a-d}.a.ssl.fastly.net/'+a.layer+'/{z}/{x}/{y}.'+c.extension;ol.source.XYZ.call(this,{attributions:ol.source.Stamen.ATTRIBUTIONS,cacheSize:a.cacheSize,crossOrigin:'anonymous',maxZoom:a.maxZoom!=undefined?a.maxZoom:b.maxZoom,minZoom:a.minZoom!=undefined?a.minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:f,wrapX:a.wrapX})};ol.inherits(ol.source.Stamen,ol.source.XYZ);ol.source.Stamen.ATTRIBUTIONS=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, '+'under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY'+' 3.0</a>.',ol.source.OSM.ATTRIBUTION];ol.source.Stamen.LayerConfig={'terrain':{extension:'jpg',opaque:!0},'terrain-background':{extension:'jpg',opaque:!0},'terrain-labels':{extension:'png',opaque:!1},'terrain-lines':{extension:'png',opaque:!1},'toner-background':{extension:'png',opaque:!0},'toner':{extension:'png',opaque:!0},'toner-hybrid':{extension:'png',opaque:!1},'toner-labels':{extension:'png',opaque:!1},'toner-lines':{extension:'png',opaque:!1},'toner-lite':{extension:'png',opaque:!0},'watercolor':{extension:'jpg',opaque:!0}};ol.source.Stamen.ProviderConfig={'terrain':{minZoom:4,maxZoom:18},'toner':{minZoom:0,maxZoom:20},'watercolor':{minZoom:1,maxZoom:16}};goog.provide('ol.source.TileArcGISRest');goog.require('ol');goog.require('ol.extent');goog.require('ol.math');goog.require('ol.obj');goog.require('ol.size');goog.require('ol.source.TileImage');goog.require('ol.tilecoord');goog.require('ol.uri');ol.source.TileArcGISRest=function(b){var a=b||{};ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:a.wrapX!==undefined?a.wrapX:!0,transition:a.transition});this.params_=a.params||{};this.tmpExtent_=ol.extent.createEmpty();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileArcGISRest,ol.source.TileImage);ol.source.TileArcGISRest.prototype.getKeyForParams_=function(){var c=0;var b=[];for(var a in this.params_){b[c++]=a+'-'+this.params_[a]}return b.join('/')};ol.source.TileArcGISRest.prototype.getParams=function(){return this.params_};ol.source.TileArcGISRest.prototype.getRequestUrl_=function(j,e,i,d,h,a){var b=this.urls;if(!b){return undefined}var f=h.getCode().split(':').pop();a['SIZE']=e[0]+','+e[1];a['BBOX']=i.join(',');a['BBOXSR']=f;a['IMAGESR']=f;a['DPI']=Math.round(a['DPI']?a['DPI']*d:90*d);var c;if(b.length==1){c=b[0]}else {var k=ol.math.modulo(ol.tilecoord.hash(j),b.length);c=b[k]}var g=c.replace(/MapServer\/?$/,'MapServer/export').replace(/ImageServer\/?$/,'ImageServer/exportImage');return ol.uri.appendParams(g,a)};ol.source.TileArcGISRest.prototype.getTilePixelRatio=function(a){return a};ol.source.TileArcGISRest.prototype.fixedTileUrlFunction=function(b,c,f){var a=this.getTileGrid();if(!a){a=this.getTileGridForProjection(f)}if(a.getResolutions().length<=b[0]){return undefined}var g=a.getTileCoordExtent(b,this.tmpExtent_);var d=ol.size.toSize(a.getTileSize(b[0]),this.tmpSize);if(c!=1){d=ol.size.scale(d,c,this.tmpSize)}var e={'F':'image','FORMAT':'PNG32','TRANSPARENT':!0};ol.obj.assign(e,this.params_);return this.getRequestUrl_(b,d,g,c,f,e)};ol.source.TileArcGISRest.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.setKey(this.getKeyForParams_())};goog.provide('ol.source.TileDebug');goog.require('ol');goog.require('ol.Tile');goog.require('ol.TileState');goog.require('ol.dom');goog.require('ol.size');goog.require('ol.source.Tile');goog.require('ol.tilecoord');ol.source.TileDebug=function(a){ol.source.Tile.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:a.wrapX!==undefined?a.wrapX:!0})};ol.inherits(ol.source.TileDebug,ol.source.Tile);ol.source.TileDebug.prototype.getTile=function(b,f,g){var a=ol.tilecoord.getKeyZXY(b,f,g);if(this.tileCache.containsKey(a)){return this.tileCache.get(a)}else {var h=ol.size.toSize(this.tileGrid.getTileSize(b));var d=[b,f,g];var c=this.getTileCoordForTileUrlFunction(d);var i=!c?'':this.getTileCoordForTileUrlFunction(c).toString();var e=new ol.source.TileDebug.Tile_(d,h,i);this.tileCache.set(a,e);return e}};ol.source.TileDebug.Tile_=function(a,b,c){ol.Tile.call(this,a,ol.TileState.LOADED);this.tileSize_=b;this.text_=c;this.canvas_=null};ol.inherits(ol.source.TileDebug.Tile_,ol.Tile);ol.source.TileDebug.Tile_.prototype.getImage=function(){if(this.canvas_){return this.canvas_}else {var b=this.tileSize_;var a=ol.dom.createCanvasContext2D(b[0],b[1]);a.strokeStyle='black';a.strokeRect(0.5,0.5,b[0]+0.5,b[1]+0.5);a.fillStyle='black';a.textAlign='center';a.textBaseline='middle';a.font='24px sans-serif';a.fillText(this.text_,b[0]/2,b[1]/2);this.canvas_=a.canvas;return a.canvas}};ol.source.TileDebug.Tile_.prototype.load=function(){};goog.provide('ol.source.TileJSON');goog.require('ol');goog.require('ol.TileUrlFunction');goog.require('ol.asserts');goog.require('ol.extent');goog.require('ol.net');goog.require('ol.proj');goog.require('ol.source.State');goog.require('ol.source.TileImage');goog.require('ol.tilegrid');ol.source.TileJSON=function(a){this.tileJSON_=null;ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:ol.proj.get('EPSG:3857'),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:a.tileLoadFunction,wrapX:a.wrapX!==undefined?a.wrapX:!0,transition:a.transition});if(a.url){if(a.jsonp){ol.net.jsonp(a.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else {var b=new XMLHttpRequest();b.addEventListener('load',this.onXHRLoad_.bind(this));b.addEventListener('error',this.onXHRError_.bind(this));b.open('GET',a.url);b.send()}}else {if(a.tileJSON){this.handleTileJSONResponse(a.tileJSON)}else {ol.asserts.assert(!1,51)}}};ol.inherits(ol.source.TileJSON,ol.source.TileImage);ol.source.TileJSON.prototype.onXHRLoad_=function(c){var a=c.target;if(!a.status||a.status>=200&&a.status<300){var b;try{b=JSON.parse(a.responseText)}catch(d){this.handleTileJSONError();return}this.handleTileJSONResponse(b)}else {this.handleTileJSONError()}};ol.source.TileJSON.prototype.onXHRError_=function(a){this.handleTileJSONError()};ol.source.TileJSON.prototype.getTileJSON=function(){return this.tileJSON_};ol.source.TileJSON.prototype.handleTileJSONResponse=function(a){var c=ol.proj.get('EPSG:4326');var d=this.getProjection();var b;if(a.bounds!==undefined){var g=ol.proj.getTransformFromProjections(c,d);b=ol.extent.applyTransform(a.bounds,g)}var i=a.minzoom||0;var h=a.maxzoom||22;var e=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(d),maxZoom:h,minZoom:i});this.tileGrid=e;this.tileUrlFunction=ol.TileUrlFunction.createFromTemplates(a.tiles,e);if(a.attribution!==undefined&&!this.getAttributions2()){var f=b!==undefined?b:c.getExtent();this.setAttributions(function(b){if(ol.extent.intersects(f,b.extent)){return [a.attribution]}return null})}this.tileJSON_=a;this.setState(ol.source.State.READY)};ol.source.TileJSON.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};goog.provide('ol.source.TileUTFGrid');goog.require('ol');goog.require('ol.Tile');goog.require('ol.TileState');goog.require('ol.TileUrlFunction');goog.require('ol.asserts');goog.require('ol.events');goog.require('ol.events.EventType');goog.require('ol.extent');goog.require('ol.net');goog.require('ol.proj');goog.require('ol.source.State');goog.require('ol.source.Tile');goog.require('ol.tilecoord');goog.require('ol.tilegrid');ol.source.TileUTFGrid=function(a){ol.source.Tile.call(this,{projection:ol.proj.get('EPSG:3857'),state:ol.source.State.LOADING});this.preemptive_=a.preemptive!==undefined?a.preemptive:!0;this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction;this.template_=undefined;this.jsonp_=a.jsonp||!1;if(a.url){if(this.jsonp_){ol.net.jsonp(a.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else {var b=new XMLHttpRequest();b.addEventListener('load',this.onXHRLoad_.bind(this));b.addEventListener('error',this.onXHRError_.bind(this));b.open('GET',a.url);b.send()}}else {if(a.tileJSON){this.handleTileJSONResponse(a.tileJSON)}else {ol.asserts.assert(!1,51)}}};ol.inherits(ol.source.TileUTFGrid,ol.source.Tile);ol.source.TileUTFGrid.prototype.onXHRLoad_=function(c){var a=c.target;if(!a.status||a.status>=200&&a.status<300){var b;try{b=JSON.parse(a.responseText)}catch(d){this.handleTileJSONError();return}this.handleTileJSONResponse(b)}else {this.handleTileJSONError()}};ol.source.TileUTFGrid.prototype.onXHRError_=function(a){this.handleTileJSONError()};ol.source.TileUTFGrid.prototype.getTemplate=function(){return this.template_};ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution=function(e,f,b,c,d){if(this.tileGrid){var a=this.tileGrid.getTileCoordForCoordAndResolution(e,f);var g=this.getTile(a[0],a[1],a[2],1,this.getProjection());g.forDataAtCoordinate(e,b,c,d)}else {if(d===!0){setTimeout(function(){b.call(c,null)},0)}else {b.call(c,null)}}};ol.source.TileUTFGrid.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};ol.source.TileUTFGrid.prototype.handleTileJSONResponse=function(a){var c=ol.proj.get('EPSG:4326');var d=this.getProjection();var b;if(a.bounds!==undefined){var h=ol.proj.getTransformFromProjections(c,d);b=ol.extent.applyTransform(a.bounds,h)}var j=a.minzoom||0;var i=a.maxzoom||22;var e=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(d),maxZoom:i,minZoom:j});this.tileGrid=e;this.template_=a.template;var f=a.grids;if(!f){this.setState(ol.source.State.ERROR);return}this.tileUrlFunction_=ol.TileUrlFunction.createFromTemplates(f,e);if(a.attribution!==undefined){var g=b!==undefined?b:c.getExtent();this.setAttributions(function(b){if(ol.extent.intersects(g,b.extent)){return [a.attribution]}return null})}this.setState(ol.source.State.READY)};ol.source.TileUTFGrid.prototype.getTile=function(h,f,g,j,d){var a=ol.tilecoord.getKeyZXY(h,f,g);if(this.tileCache.containsKey(a)){return this.tileCache.get(a)}else {var b=[h,f,g];var i=this.getTileCoordForTileUrlFunction(b,d);var c=this.tileUrlFunction_(i,j,d);var e=new ol.source.TileUTFGrid.Tile_(b,c!==undefined?ol.TileState.IDLE:ol.TileState.EMPTY,c!==undefined?c:'',this.tileGrid.getTileCoordExtent(b),this.preemptive_,this.jsonp_);this.tileCache.set(a,e);return e}};ol.source.TileUTFGrid.prototype.useTile=function(d,b,c){var a=ol.tilecoord.getKeyZXY(d,b,c);if(this.tileCache.containsKey(a)){this.tileCache.get(a)}};ol.source.TileUTFGrid.Tile_=function(b,e,f,c,a,d){ol.Tile.call(this,b,e);this.src_=f;this.extent_=c;this.preemptive_=a;this.grid_=null;this.keys_=null;this.data_=null;this.jsonp_=d};ol.inherits(ol.source.TileUTFGrid.Tile_,ol.Tile);ol.source.TileUTFGrid.Tile_.prototype.getImage=function(){return null};ol.source.TileUTFGrid.Tile_.prototype.getData=function(e){if(!this.grid_||!this.keys_){return null}var f=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]);var g=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]);var c=this.grid_[Math.floor((1-g)*this.grid_.length)];if(typeof c!=='string'){return null}var a=c.charCodeAt(Math.floor(f*c.length));if(a>=93){a--}if(a>=35){a--}a-=32;var b=null;if(a in this.keys_){var d=this.keys_[a];if(this.data_&&d in this.data_){b=this.data_[d]}else {b=d}}return b};ol.source.TileUTFGrid.Tile_.prototype.forDataAtCoordinate=function(a,b,c,d){if(this.state==ol.TileState.IDLE&&d===!0){ol.events.listenOnce(this,ol.events.EventType.CHANGE,function(e){b.call(c,this.getData(a))},this);this.loadInternal_()}else {if(d===!0){setTimeout(function(){b.call(c,this.getData(a))}.bind(this),0)}else {b.call(c,this.getData(a))}}};ol.source.TileUTFGrid.Tile_.prototype.getKey=function(){return this.src_};ol.source.TileUTFGrid.Tile_.prototype.handleError_=function(){this.state=ol.TileState.ERROR;this.changed()};ol.source.TileUTFGrid.Tile_.prototype.handleLoad_=function(a){this.grid_=a.grid;this.keys_=a.keys;this.data_=a.data;this.state=ol.TileState.EMPTY;this.changed()};ol.source.TileUTFGrid.Tile_.prototype.loadInternal_=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;if(this.jsonp_){ol.net.jsonp(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this))}else {var a=new XMLHttpRequest();a.addEventListener('load',this.onXHRLoad_.bind(this));a.addEventListener('error',this.onXHRError_.bind(this));a.open('GET',this.src_);a.send()}}};ol.source.TileUTFGrid.Tile_.prototype.onXHRLoad_=function(c){var a=c.target;if(!a.status||a.status>=200&&a.status<300){var b;try{b=JSON.parse(a.responseText)}catch(d){this.handleError_();return}this.handleLoad_(b)}else {this.handleError_()}};ol.source.TileUTFGrid.Tile_.prototype.onXHRError_=function(a){this.handleError_()};ol.source.TileUTFGrid.Tile_.prototype.load=function(){if(this.preemptive_){this.loadInternal_()}};goog.provide('ol.source.TileWMS');goog.require('ol');goog.require('ol.asserts');goog.require('ol.extent');goog.require('ol.obj');goog.require('ol.math');goog.require('ol.proj');goog.require('ol.reproj');goog.require('ol.size');goog.require('ol.source.TileImage');goog.require('ol.source.WMSServerType');goog.require('ol.tilecoord');goog.require('ol.string');goog.require('ol.uri');ol.source.TileWMS=function(c){var a=c||{};var b=a.params||{};var d='TRANSPARENT' in b?b['TRANSPARENT']:!0;ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!d,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:a.wrapX!==undefined?a.wrapX:!0,transition:a.transition});this.gutter_=a.gutter!==undefined?a.gutter:0;this.params_=b;this.v13_=!0;this.serverType_=a.serverType;this.hidpi_=a.hidpi!==undefined?a.hidpi:!0;this.tmpExtent_=ol.extent.createEmpty();this.updateV13_();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileWMS,ol.source.TileImage);ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(e,l,k,m){var d=ol.proj.get(k);var c=this.getProjection();var b=this.getTileGrid();if(!b){b=this.getTileGridForProjection(d)}var g=b.getTileCoordForCoordAndResolution(e,l);if(b.getResolutions().length<=g[0]){return undefined}var f=b.getResolution(g[0]);var a=b.getTileCoordExtent(g,this.tmpExtent_);var i=ol.size.toSize(b.getTileSize(g[0]),this.tmpSize);var j=this.gutter_;if(j!==0){i=ol.size.buffer(i,j,this.tmpSize);a=ol.extent.buffer(a,f*j,a)}if(c&&c!==d){f=ol.reproj.calculateSourceResolution(c,d,e,f);a=ol.proj.transformExtent(a,d,c);e=ol.proj.transform(e,d,c)}var h={'SERVICE':'WMS','VERSION':ol.DEFAULT_WMS_VERSION,'REQUEST':'GetFeatureInfo','FORMAT':'image/png','TRANSPARENT':!0,'QUERY_LAYERS':this.params_['LAYERS']};ol.obj.assign(h,this.params_,m);var n=Math.floor((e[0]-a[0])/f);var o=Math.floor((a[3]-e[1])/f);h[this.v13_?'I':'X']=n;h[this.v13_?'J':'Y']=o;return this.getRequestUrl_(g,i,a,1,c||d,h)};ol.source.TileWMS.prototype.getGutterInternal=function(){return this.gutter_};ol.source.TileWMS.prototype.getParams=function(){return this.params_};ol.source.TileWMS.prototype.getRequestUrl_=function(l,i,b,e,h,a){var d=this.urls;if(!d){return undefined}a['WIDTH']=i[0];a['HEIGHT']=i[1];a[this.v13_?'CRS':'SRS']=h.getCode();if(!('STYLES' in this.params_)){a['STYLES']=''}if(e!=1){switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var j=90*e+0.5|0;if('FORMAT_OPTIONS' in a){a['FORMAT_OPTIONS']+=';dpi:'+j}else {a['FORMAT_OPTIONS']='dpi:'+j};break;case ol.source.WMSServerType.MAPSERVER:a['MAP_RESOLUTION']=90*e;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:a['DPI']=90*e;break;default:ol.asserts.assert(!1,52);break;}}var k=h.getAxisOrientation();var c=b;if(this.v13_&&k.substr(0,2)=='ne'){var f;f=b[0];c[0]=b[1];c[1]=f;f=b[2];c[2]=b[3];c[3]=f}a['BBOX']=c.join(',');var g;if(d.length==1){g=d[0]}else {var m=ol.math.modulo(ol.tilecoord.hash(l),d.length);g=d[m]}return ol.uri.appendParams(g,a)};ol.source.TileWMS.prototype.getTilePixelRatio=function(a){return !this.hidpi_||this.serverType_===undefined?1:a};ol.source.TileWMS.prototype.getKeyForParams_=function(){var c=0;var b=[];for(var a in this.params_){b[c++]=a+'-'+this.params_[a]}return b.join('/')};ol.source.TileWMS.prototype.fixedTileUrlFunction=function(c,b,h){var a=this.getTileGrid();if(!a){a=this.getTileGridForProjection(h)}if(a.getResolutions().length<=c[0]){return undefined}if(b!=1&&(!this.hidpi_||this.serverType_===undefined)){b=1}var i=a.getResolution(c[0]);var e=a.getTileCoordExtent(c,this.tmpExtent_);var d=ol.size.toSize(a.getTileSize(c[0]),this.tmpSize);var f=this.gutter_;if(f!==0){d=ol.size.buffer(d,f,this.tmpSize);e=ol.extent.buffer(e,i*f,e)}if(b!=1){d=ol.size.scale(d,b,this.tmpSize)}var g={'SERVICE':'WMS','VERSION':ol.DEFAULT_WMS_VERSION,'REQUEST':'GetMap','FORMAT':'image/png','TRANSPARENT':!0};ol.obj.assign(g,this.params_);return this.getRequestUrl_(c,d,e,b,h,g)};ol.source.TileWMS.prototype.updateParams=function(a){ol.obj.assign(this.params_,a);this.updateV13_();this.setKey(this.getKeyForParams_())};ol.source.TileWMS.prototype.updateV13_=function(){var a=this.params_['VERSION']||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(a,'1.3')>=0};goog.provide('ol.VectorImageTile');goog.require('ol');goog.require('ol.Tile');goog.require('ol.TileState');goog.require('ol.dom');goog.require('ol.events');goog.require('ol.extent');goog.require('ol.events.EventType');goog.require('ol.featureloader');ol.VectorImageTile=function(e,r,k,q,i,b,j,a,f,c,m,n,o,h,l){ol.Tile.call(this,e,r,l);this.context_={};this.loader_;this.replayState_={};this.sourceTiles_=c;this.tileKeys=[];this.sourceRevision_=k;this.wrappedTileCoord=b;this.loadListenerKeys_=[];this.sourceTileListenerKeys_=[];if(b){var g=f.getTileCoordExtent(b);var d=f.getResolution(e[0]);var p=a.getZForResolution(d);a.forEachTileCoord(g,p,function(p){var s=ol.extent.getIntersection(g,a.getTileCoordExtent(p));var w=a.getExtent();if(w){s=ol.extent.getIntersection(s,w)}if(ol.extent.getWidth(s)/d>=0.5&&ol.extent.getHeight(s)/d>=0.5){var u=p.toString();var t=c[u];if(!t){var v=j(p,m,n);t=c[u]=new o(p,v==undefined?ol.TileState.EMPTY:ol.TileState.IDLE,v==undefined?'':v,q,i);this.sourceTileListenerKeys_.push(ol.events.listen(t,ol.events.EventType.CHANGE,h))}t.consumers++;this.tileKeys.push(u)}}.bind(this))}};ol.inherits(ol.VectorImageTile,ol.Tile);ol.VectorImageTile.prototype.disposeInternal=function(){for(var b=0,d=this.tileKeys.length;b<d;++b){var c=this.tileKeys[b];var a=this.getTile(c);a.consumers--;if(a.consumers==0){delete this.sourceTiles_[c];a.dispose()}}this.tileKeys.length=0;this.sourceTiles_=null;this.loadListenerKeys_.forEach(ol.events.unlistenByKey);this.loadListenerKeys_.length=0;if(this.interimTile){this.interimTile.dispose()}this.state=ol.TileState.ABORT;this.changed();this.sourceTileListenerKeys_.forEach(ol.events.unlistenByKey);this.sourceTileListenerKeys_.length=0;ol.Tile.prototype.disposeInternal.call(this)};ol.VectorImageTile.prototype.getContext=function(b){var a=ol.getUid(b).toString();if(!(a in this.context_)){this.context_[a]=ol.dom.createCanvasContext2D()}return this.context_[a]};ol.VectorImageTile.prototype.getImage=function(a){return this.getReplayState(a).renderedTileRevision==-1?null:this.getContext(a).canvas};ol.VectorImageTile.prototype.getReplayState=function(b){var a=ol.getUid(b).toString();if(!(a in this.replayState_)){this.replayState_[a]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}}return this.replayState_[a]};ol.VectorImageTile.prototype.getKey=function(){return this.tileKeys.join('/')+'-'+this.sourceRevision_};ol.VectorImageTile.prototype.getTile=function(a){return this.sourceTiles_[a]};ol.VectorImageTile.prototype.load=function(){var b=0;var a={};if(this.state==ol.TileState.IDLE){this.setState(ol.TileState.LOADING)}if(this.state==ol.TileState.LOADING){this.tileKeys.forEach(function(d){var c=this.getTile(d);if(c.state==ol.TileState.IDLE){c.setLoader(this.loader_);c.load()}if(c.state==ol.TileState.LOADING){var e=ol.events.listen(c,ol.events.EventType.CHANGE,function(g){var e=c.getState();if(e==ol.TileState.LOADED||e==ol.TileState.ERROR){var f=ol.getUid(c);if(e==ol.TileState.ERROR){a[f]=!0}else {--b;delete a[f]}if(b-Object.keys(a).length==0){this.finishLoading_()}}}.bind(this));this.loadListenerKeys_.push(e);++b}}.bind(this))}if(b-Object.keys(a).length==0){setTimeout(this.finishLoading_.bind(this),0)}};ol.VectorImageTile.prototype.finishLoading_=function(){var a=this.tileKeys.length;var c=0;for(var b=a-1;b>=0;--b){var d=this.getTile(this.tileKeys[b]).getState();if(d!=ol.TileState.LOADED){--a}if(d==ol.TileState.EMPTY){++c}}if(a==this.tileKeys.length){this.loadListenerKeys_.forEach(ol.events.unlistenByKey);this.loadListenerKeys_.length=0;this.setState(ol.TileState.LOADED)}else {this.setState(c==this.tileKeys.length?ol.TileState.EMPTY:ol.TileState.ERROR)}};ol.VectorImageTile.defaultLoadFunction=function(a,c){var b=ol.featureloader.loadFeaturesXhr(c,a.getFormat(),a.onLoad.bind(a),a.onError.bind(a));a.setLoader(b)};goog.provide('ol.VectorTile');goog.require('ol');goog.require('ol.Tile');goog.require('ol.TileState');ol.VectorTile=function(c,e,f,d,a,b){ol.Tile.call(this,c,e,b);this.consumers=0;this.extent_=null;this.format_=d;this.features_=null;this.loader_;this.projection_;this.replayGroups_={};this.tileLoadFunction_=a;this.url_=f};ol.inherits(ol.VectorTile,ol.Tile);ol.VectorTile.prototype.disposeInternal=function(){this.features_=null;this.replayGroups_={};this.state=ol.TileState.ABORT;this.changed();ol.Tile.prototype.disposeInternal.call(this)};ol.VectorTile.prototype.getExtent=function(){return this.extent_||ol.VectorTile.DEFAULT_EXTENT};ol.VectorTile.prototype.getFormat=function(){return this.format_};ol.VectorTile.prototype.getFeatures=function(){return this.features_};ol.VectorTile.prototype.getKey=function(){return this.url_};ol.VectorTile.prototype.getProjection=function(){return this.projection_};ol.VectorTile.prototype.getReplayGroup=function(a,b){return this.replayGroups_[ol.getUid(a)+','+b]};ol.VectorTile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.setState(ol.TileState.LOADING);this.tileLoadFunction_(this,this.url_);this.loader_(null,NaN,null)}};ol.VectorTile.prototype.onLoad=function(b,a,c){this.setProjection(a);this.setFeatures(b);this.setExtent(c)};ol.VectorTile.prototype.onError=function(){this.setState(ol.TileState.ERROR)};ol.VectorTile.prototype.setExtent=function(a){this.extent_=a};ol.VectorTile.prototype.setFeatures=function(a){this.features_=a;this.setState(ol.TileState.LOADED)};ol.VectorTile.prototype.setProjection=function(a){this.projection_=a};ol.VectorTile.prototype.setReplayGroup=function(b,c,a){this.replayGroups_[ol.getUid(b)+','+c]=a};ol.VectorTile.prototype.setLoader=function(a){this.loader_=a};ol.VectorTile.DEFAULT_EXTENT=[0,0,4096,4096];goog.provide('ol.source.VectorTile');goog.require('ol');goog.require('ol.TileState');goog.require('ol.VectorImageTile');goog.require('ol.VectorTile');goog.require('ol.size');goog.require('ol.source.UrlTile');goog.require('ol.tilecoord');goog.require('ol.tilegrid');ol.source.VectorTile=function(a){var b=a.projection||'EPSG:3857';var c=a.extent||ol.tilegrid.extentFromProjection(b);var d=a.tileGrid||ol.tilegrid.createXYZ({extent:c,maxZoom:a.maxZoom||22,minZoom:a.minZoom,tileSize:a.tileSize||512});ol.source.UrlTile.call(this,{attributions:a.attributions,cacheSize:a.cacheSize!==undefined?a.cacheSize:128,extent:c,logo:a.logo,opaque:!1,projection:b,state:a.state,tileGrid:d,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:ol.VectorImageTile.defaultLoadFunction,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX===undefined?!0:a.wrapX,transition:a.transition});this.format_=a.format?a.format:null;this.sourceTiles_={};this.overlaps_=a.overlaps==undefined?!0:a.overlaps;this.tileClass=a.tileClass?a.tileClass:ol.VectorTile;this.tileGrids_={}};ol.inherits(ol.source.VectorTile,ol.source.UrlTile);ol.source.VectorTile.prototype.getOverlaps=function(){return this.overlaps_};ol.source.VectorTile.prototype.clear=function(){this.tileCache.clear();this.sourceTiles_={}};ol.source.VectorTile.prototype.getTile=function(h,f,g,i,b){var a=ol.tilecoord.getKeyZXY(h,f,g);if(this.tileCache.containsKey(a)){return this.tileCache.get(a)}else {var d=[h,f,g];var c=this.getTileCoordForTileUrlFunction(d,b);var e=new ol.VectorImageTile(d,c!==null?ol.TileState.IDLE:ol.TileState.EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,c,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(b),this.sourceTiles_,i,b,this.tileClass,this.handleTileChange.bind(this),this.tileOptions);this.tileCache.set(a,e);return e}};ol.source.VectorTile.prototype.getTileGridForProjection=function(c){var d=c.getCode();var b=this.tileGrids_[d];if(!b){var a=this.tileGrid;b=this.tileGrids_[d]=ol.tilegrid.createForProjection(c,undefined,a?a.getTileSize(a.getMinZoom()):undefined)}return b};ol.source.VectorTile.prototype.getTilePixelRatio=function(a){return a};ol.source.VectorTile.prototype.getTilePixelSize=function(d,a,c){var b=ol.size.toSize(this.getTileGridForProjection(c).getTileSize(d));return [Math.round(b[0]*a),Math.round(b[1]*a)]};goog.provide('ol.source.WMTSRequestEncoding');ol.source.WMTSRequestEncoding={KVP:'KVP',REST:'REST'};goog.provide('ol.tilegrid.WMTS');goog.require('ol');goog.require('ol.array');goog.require('ol.proj');goog.require('ol.tilegrid.TileGrid');ol.tilegrid.WMTS=function(a){this.matrixIds_=a.matrixIds;ol.tilegrid.TileGrid.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})};ol.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid);ol.tilegrid.WMTS.prototype.getMatrixId=function(a){return this.matrixIds_[a]};ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_};ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(d,t,g){var i=[];var k=[];var e=[];var l=[];var m=[];var h=g!==undefined?g:[];var o='SupportedCRS';var c='TileMatrix';var f='Identifier';var a='ScaleDenominator';var b='TopLeftCorner';var q='TileWidth';var p='TileHeight';var n=d[o];var j=ol.proj.get(n.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,'$1:$3'))||ol.proj.get(n);var s=j.getMetersPerUnit();var r=j.getAxisOrientation().substr(0,2)=='ne';d[c].sort(function(b,c){return c[a]-b[a]});d[c].forEach(function(j,x,w){var n;if(h.length>0){n=ol.array.find(h,function(a,e,b){return j[f]==a[c]})}else {n=!0}if(n){k.push(j[f]);var v=j[a]*2.8E-4/s;var o=j[q];var u=j[p];if(r){e.push([j[b][1],j[b][0]])}else {e.push(j[b])}i.push(v);l.push(o==u?o:[o,u]);m.push([j['MatrixWidth'],-j['MatrixHeight']])}});return new ol.tilegrid.WMTS({extent:t,origins:e,resolutions:i,matrixIds:k,tileSizes:l,sizes:m})};goog.provide('ol.source.WMTS');goog.require('ol');goog.require('ol.TileUrlFunction');goog.require('ol.array');goog.require('ol.extent');goog.require('ol.obj');goog.require('ol.proj');goog.require('ol.source.TileImage');goog.require('ol.source.WMTSRequestEncoding');goog.require('ol.tilegrid.WMTS');goog.require('ol.uri');ol.source.WMTS=function(a){this.version_=a.version!==undefined?a.version:'1.0.0';this.format_=a.format!==undefined?a.format:'image/jpeg';this.dimensions_=a.dimensions!==undefined?a.dimensions:{};this.layer_=a.layer;this.matrixSet_=a.matrixSet;this.style_=a.style;var b=a.urls;if(b===undefined&&a.url!==undefined){b=ol.TileUrlFunction.expandUrl(a.url)}this.requestEncoding_=a.requestEncoding!==undefined?a.requestEncoding:ol.source.WMTSRequestEncoding.KVP;var d=this.requestEncoding_;var e=a.tileGrid;var c={'layer':this.layer_,'style':this.style_,'tilematrixset':this.matrixSet_};if(d==ol.source.WMTSRequestEncoding.KVP){ol.obj.assign(c,{'Service':'WMTS','Request':'GetTile','Version':this.version_,'Format':this.format_})}var g=this.dimensions_;this.createFromWMTSTemplate_=function(b){b=d==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(b,c):b.replace(/\{(\w+?)\}/g,function(e,d){return d.toLowerCase() in c?c[d.toLowerCase()]:e});return function(f,i,j){if(!f){return undefined}else {var h={'TileMatrix':e.getMatrixId(f[0]),'TileCol':f[1],'TileRow':-f[2]-1};ol.obj.assign(h,g);var c=b;if(d==ol.source.WMTSRequestEncoding.KVP){c=ol.uri.appendParams(c,h)}else {c=c.replace(/\{(\w+?)\}/g,function(d,c){return h[c]})}return c}}};var f=b&&b.length>0?ol.TileUrlFunction.createFromTileUrlFunctions(b.map(this.createFromWMTSTemplate_)):ol.TileUrlFunction.nullTileUrlFunction;ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:f,urls:b,wrapX:a.wrapX!==undefined?a.wrapX:!1,transition:a.transition});this.setKey(this.getKeyForDimensions_())};ol.inherits(ol.source.WMTS,ol.source.TileImage);ol.source.WMTS.prototype.setUrls=function(a){this.urls=a;var b=a.join('\n');this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTileUrlFunctions(a.map(this.createFromWMTSTemplate_.bind(this))),b)};ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_};ol.source.WMTS.prototype.getFormat=function(){return this.format_};ol.source.WMTS.prototype.getLayer=function(){return this.layer_};ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_};ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_};ol.source.WMTS.prototype.getStyle=function(){return this.style_};ol.source.WMTS.prototype.getVersion=function(){return this.version_};ol.source.WMTS.prototype.getKeyForDimensions_=function(){var c=0;var b=[];for(var a in this.dimensions_){b[c++]=a+'-'+this.dimensions_[a]}return b.join('/')};ol.source.WMTS.prototype.updateDimensions=function(a){ol.obj.assign(this.dimensions_,a);this.setKey(this.getKeyForDimensions_())};ol.source.WMTS.optionsFromCapabilities=function(g,a){var A=g['Contents']['Layer'];var b=ol.array.find(A,function(b,d,c){return b['Identifier']==a['layer']});if(b===null){return null}var w=g['Contents']['TileMatrixSet'];var c,m,r;if(b['TileMatrixSetLink'].length>1){if('projection' in a){c=ol.array.findIndex(b['TileMatrixSetLink'],function(f,i,h){var e=ol.array.find(w,function(b){return b['Identifier']==f['TileMatrixSet']});var b=e['SupportedCRS'];var c=ol.proj.get(b.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,'$1:$3'))||ol.proj.get(b);var d=ol.proj.get(a['projection']);if(c&&d){return ol.proj.equivalent(c,d)}else {return b==a['projection']}})}else {c=ol.array.findIndex(b['TileMatrixSetLink'],function(b,d,c){return b['TileMatrixSet']==a['matrixSet']})}}else {c=0}if(c<0){c=0}m=b['TileMatrixSetLink'][c]['TileMatrixSet'];r=b['TileMatrixSetLink'][c]['TileMatrixSetLimits'];var n=b['Format'][0];if('format' in a){n=a['format']}c=ol.array.findIndex(b['Style'],function(b,d,c){if('style' in a){return b['Title']==a['style']}else {return b['isDefault']}});if(c<0){c=0}var B=b['Style'][c]['Identifier'];var t={};if('Dimension' in b){b['Dimension'].forEach(function(c,f,e){var d=c['Identifier'];var b=c['Default'];if(b===undefined){b=c['Value'][0]}t[d]=b})}var y=g['Contents']['TileMatrixSet'];var s=ol.array.find(y,function(b,d,c){return b['Identifier']==m});var e;var o=s['SupportedCRS'];if(o){e=ol.proj.get(o.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,'$1:$3'))||ol.proj.get(o)}if('projection' in a){var l=ol.proj.get(a['projection']);if(l){if(!e||ol.proj.equivalent(l,e)){e=l}}}var j=b['WGS84BoundingBox'];var k,v;if(j!==undefined){var p=ol.proj.get('EPSG:4326').getExtent();v=j[0]==p[0]&&j[2]==p[2];k=ol.proj.transformExtent(j,'EPSG:4326',e);var q=e.getExtent();if(q){if(!ol.extent.containsExtent(q,k)){k=undefined}}}var z=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(s,k,r);var i=[];var d=a['requestEncoding'];d=d!==undefined?d:'';if('OperationsMetadata' in g&&'GetTile' in g['OperationsMetadata']){var h=g['OperationsMetadata']['GetTile']['DCP']['HTTP']['Get'];for(var f=0,C=h.length;f<C;++f){if(h[f]['Constraint']){var x=ol.array.find(h[f]['Constraint'],function(b){return b['name']=='GetEncoding'});var u=x['AllowedValues']['Value'];if(d===''){d=u[0]}if(d===ol.source.WMTSRequestEncoding.KVP){if(ol.array.includes(u,ol.source.WMTSRequestEncoding.KVP)){i.push(h[f]['href'])}}else {break}}else {if(h[f]['href']){d=ol.source.WMTSRequestEncoding.KVP;i.push(h[f]['href'])}}}}if(i.length===0){d=ol.source.WMTSRequestEncoding.REST;b['ResourceURL'].forEach(function(b){if(b['resourceType']==='tile'){n=b['format'];i.push(b['template'])}})}return {urls:i,layer:a['layer'],matrixSet:m,format:n,projection:e,requestEncoding:d,tileGrid:z,style:B,dimensions:t,wrapX:v,crossOrigin:a['crossOrigin']}};goog.provide('ol.source.Zoomify');goog.require('ol');goog.require('ol.ImageTile');goog.require('ol.TileState');goog.require('ol.TileUrlFunction');goog.require('ol.asserts');goog.require('ol.dom');goog.require('ol.extent');goog.require('ol.size');goog.require('ol.source.TileImage');goog.require('ol.tilegrid.TileGrid');ol.source.Zoomify=function(t){var a=t||{};var f=a.size;var q=a.tierSizeCalculation!==undefined?a.tierSizeCalculation:ol.source.Zoomify.TierSizeCalculation_.DEFAULT;var j=f[0];var h=f[1];var o=a.extent||[0,-f[1],f[0],0];var c=[];var n=a.tileSize||ol.DEFAULT_TILE_SIZE;var b=n;switch(q){case ol.source.Zoomify.TierSizeCalculation_.DEFAULT:while(j>b||h>b){c.push([Math.ceil(j/b),Math.ceil(h/b)]);b+=b};break;case ol.source.Zoomify.TierSizeCalculation_.TRUNCATED:var m=j;var l=h;while(m>b||l>b){c.push([Math.ceil(m/b),Math.ceil(l/b)]);m>>=1;l>>=1};break;default:ol.asserts.assert(!1,53);break;}c.push([1,1]);c.reverse();var i=[1];var g=[0];var d,p;for(d=1,p=c.length;d<p;d++){i.push(1<<d);g.push(c[d-1][0]*c[d-1][1]+g[d-1])}i.reverse();var k=new ol.tilegrid.TileGrid({tileSize:n,extent:o,origin:ol.extent.getTopLeft(o),resolutions:i});var e=a.url;if(e&&e.indexOf('{TileGroup}')==-1&&e.indexOf('{tileIndex}')==-1){e+='{TileGroup}/{z}-{x}-{y}.jpg'}var u=ol.TileUrlFunction.expandUrl(e);function createFromTemplate(a){return function(d,m,n){if(!d){return undefined}else {var b=d[0];var e=d[1];var f=-d[2]-1;var h=e+f*c[b][0];var l=k.getTileSize(b);var j=(h+g[b])/l|0;var i={'z':b,'x':e,'y':f,'tileIndex':h,'TileGroup':'TileGroup'+j};return a.replace(/\{(\w+?)\}/g,function(c,b){return i[b]})}}}var s=ol.TileUrlFunction.createFromTileUrlFunctions(u.map(createFromTemplate));var r=ol.source.Zoomify.Tile_.bind(null,k);ol.source.TileImage.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:r,tileGrid:k,tileUrlFunction:s,transition:a.transition})};ol.inherits(ol.source.Zoomify,ol.source.TileImage);ol.source.Zoomify.Tile_=function(e,a,f,g,c,b,d){ol.ImageTile.call(this,a,f,g,c,b,d);this.zoomifyImage_=null;this.tileSize_=ol.size.toSize(e.getTileSize(a[0]))};ol.inherits(ol.source.Zoomify.Tile_,ol.ImageTile);ol.source.Zoomify.Tile_.prototype.getImage=function(){if(this.zoomifyImage_){return this.zoomifyImage_}var a=ol.ImageTile.prototype.getImage.call(this);if(this.state==ol.TileState.LOADED){var b=this.tileSize_;if(a.width==b[0]&&a.height==b[1]){this.zoomifyImage_=a;return a}else {var c=ol.dom.createCanvasContext2D(b[0],b[1]);c.drawImage(a,0,0);this.zoomifyImage_=c.canvas;return c.canvas}}else {return a}};ol.source.Zoomify.TierSizeCalculation_={DEFAULT:'default',TRUNCATED:'truncated'};goog.addDependency('demos/editor/equationeditor.js',['goog.demos.editor.EquationEditor'],['goog.ui.equation.EquationEditorDialog']);goog.addDependency('demos/editor/helloworld.js',['goog.demos.editor.HelloWorld'],['goog.dom','goog.dom.TagName','goog.editor.Plugin']);goog.addDependency('demos/editor/helloworlddialog.js',['goog.demos.editor.HelloWorldDialog','goog.demos.editor.HelloWorldDialog.OkEvent'],['goog.dom.TagName','goog.events.Event','goog.string','goog.ui.editor.AbstractDialog','goog.ui.editor.AbstractDialog.Builder','goog.ui.editor.AbstractDialog.EventType']);goog.addDependency('demos/editor/helloworlddialogplugin.js',['goog.demos.editor.HelloWorldDialogPlugin','goog.demos.editor.HelloWorldDialogPlugin.Command'],['goog.demos.editor.HelloWorldDialog','goog.dom.TagName','goog.editor.plugins.AbstractDialogPlugin','goog.editor.range','goog.functions','goog.ui.editor.AbstractDialog.EventType']);goog.require('ol');goog.require('ol.AssertionError');goog.require('ol.Attribution');goog.require('ol.CanvasMap');goog.require('ol.Collection');goog.require('ol.DeviceOrientation');goog.require('ol.Feature');goog.require('ol.Geolocation');goog.require('ol.Graticule');goog.require('ol.Image');goog.require('ol.ImageTile');goog.require('ol.Kinetic');goog.require('ol.Map');goog.require('ol.MapBrowserEvent');goog.require('ol.MapEvent');goog.require('ol.Object');goog.require('ol.Observable');goog.require('ol.Overlay');goog.require('ol.PluggableMap');goog.require('ol.Sphere');goog.require('ol.Tile');goog.require('ol.VectorTile');goog.require('ol.View');goog.require('ol.color');goog.require('ol.colorlike');goog.require('ol.control');goog.require('ol.control.Attribution');goog.require('ol.control.Control');goog.require('ol.control.FullScreen');goog.require('ol.control.MousePosition');goog.require('ol.control.OverviewMap');goog.require('ol.control.Rotate');goog.require('ol.control.ScaleLine');goog.require('ol.control.Zoom');goog.require('ol.control.ZoomSlider');goog.require('ol.control.ZoomToExtent');goog.require('ol.coordinate');goog.require('ol.easing');goog.require('ol.events.Event');goog.require('ol.events.condition');goog.require('ol.extent');goog.require('ol.featureloader');goog.require('ol.format.EsriJSON');goog.require('ol.format.Feature');goog.require('ol.format.GML');goog.require('ol.format.GML2');goog.require('ol.format.GML3');goog.require('ol.format.GMLBase');goog.require('ol.format.GPX');goog.require('ol.format.GeoJSON');goog.require('ol.format.IGC');goog.require('ol.format.KML');goog.require('ol.format.MVT');goog.require('ol.format.OSMXML');goog.require('ol.format.Polyline');goog.require('ol.format.TopoJSON');goog.require('ol.format.WFS');goog.require('ol.format.WKT');goog.require('ol.format.WMSCapabilities');goog.require('ol.format.WMSGetFeatureInfo');goog.require('ol.format.WMTSCapabilities');goog.require('ol.format.filter');goog.require('ol.format.filter.And');goog.require('ol.format.filter.Bbox');goog.require('ol.format.filter.Comparison');goog.require('ol.format.filter.ComparisonBinary');goog.require('ol.format.filter.Contains');goog.require('ol.format.filter.During');goog.require('ol.format.filter.EqualTo');goog.require('ol.format.filter.Filter');goog.require('ol.format.filter.GreaterThan');goog.require('ol.format.filter.GreaterThanOrEqualTo');goog.require('ol.format.filter.Intersects');goog.require('ol.format.filter.IsBetween');goog.require('ol.format.filter.IsLike');goog.require('ol.format.filter.IsNull');goog.require('ol.format.filter.LessThan');goog.require('ol.format.filter.LessThanOrEqualTo');goog.require('ol.format.filter.Not');goog.require('ol.format.filter.NotEqualTo');goog.require('ol.format.filter.Or');goog.require('ol.format.filter.Spatial');goog.require('ol.format.filter.Within');goog.require('ol.geom.Circle');goog.require('ol.geom.Geometry');goog.require('ol.geom.GeometryCollection');goog.require('ol.geom.LineString');goog.require('ol.geom.LinearRing');goog.require('ol.geom.MultiLineString');goog.require('ol.geom.MultiPoint');goog.require('ol.geom.MultiPolygon');goog.require('ol.geom.Point');goog.require('ol.geom.Polygon');goog.require('ol.geom.SimpleGeometry');goog.require('ol.has');goog.require('ol.interaction');goog.require('ol.interaction.DoubleClickZoom');goog.require('ol.interaction.DragAndDrop');goog.require('ol.interaction.DragBox');goog.require('ol.interaction.DragPan');goog.require('ol.interaction.DragRotate');goog.require('ol.interaction.DragRotateAndZoom');goog.require('ol.interaction.DragZoom');goog.require('ol.interaction.Draw');goog.require('ol.interaction.Extent');goog.require('ol.interaction.Interaction');goog.require('ol.interaction.KeyboardPan');goog.require('ol.interaction.KeyboardZoom');goog.require('ol.interaction.Modify');goog.require('ol.interaction.MouseWheelZoom');goog.require('ol.interaction.PinchRotate');goog.require('ol.interaction.PinchZoom');goog.require('ol.interaction.Pointer');goog.require('ol.interaction.Select');goog.require('ol.interaction.Snap');goog.require('ol.interaction.Translate');goog.require('ol.layer.Base');goog.require('ol.layer.Group');goog.require('ol.layer.Heatmap');goog.require('ol.layer.Image');goog.require('ol.layer.Layer');goog.require('ol.layer.Tile');goog.require('ol.layer.Vector');goog.require('ol.layer.VectorTile');goog.require('ol.loadingstrategy');goog.require('ol.proj');goog.require('ol.proj.Projection');goog.require('ol.proj.Units');goog.require('ol.proj.common');goog.require('ol.render');goog.require('ol.render.Event');goog.require('ol.render.Feature');goog.require('ol.render.VectorContext');goog.require('ol.render.canvas.Immediate');goog.require('ol.render.webgl.Immediate');goog.require('ol.renderer.canvas.ImageLayer');goog.require('ol.renderer.canvas.Map');goog.require('ol.renderer.canvas.TileLayer');goog.require('ol.renderer.canvas.VectorLayer');goog.require('ol.renderer.canvas.VectorTileLayer');goog.require('ol.renderer.webgl.ImageLayer');goog.require('ol.renderer.webgl.Map');goog.require('ol.renderer.webgl.TileLayer');goog.require('ol.renderer.webgl.VectorLayer');goog.require('ol.size');goog.require('ol.source.BingMaps');goog.require('ol.source.CartoDB');goog.require('ol.source.Cluster');goog.require('ol.source.Image');goog.require('ol.source.ImageArcGISRest');goog.require('ol.source.ImageCanvas');goog.require('ol.source.ImageMapGuide');goog.require('ol.source.ImageStatic');goog.require('ol.source.ImageVector');goog.require('ol.source.ImageWMS');goog.require('ol.source.OSM');goog.require('ol.source.Raster');goog.require('ol.source.Source');goog.require('ol.source.Stamen');goog.require('ol.source.Tile');goog.require('ol.source.TileArcGISRest');goog.require('ol.source.TileDebug');goog.require('ol.source.TileImage');goog.require('ol.source.TileJSON');goog.require('ol.source.TileUTFGrid');goog.require('ol.source.TileWMS');goog.require('ol.source.UrlTile');goog.require('ol.source.Vector');goog.require('ol.source.VectorTile');goog.require('ol.source.WMTS');goog.require('ol.source.XYZ');goog.require('ol.source.Zoomify');goog.require('ol.style');goog.require('ol.style.AtlasManager');goog.require('ol.style.Circle');goog.require('ol.style.Fill');goog.require('ol.style.Icon');goog.require('ol.style.IconImageCache');goog.require('ol.style.Image');goog.require('ol.style.RegularShape');goog.require('ol.style.Stroke');goog.require('ol.style.Style');goog.require('ol.style.Text');goog.require('ol.tilegrid');goog.require('ol.tilegrid.TileGrid');goog.require('ol.tilegrid.WMTS');goog.require('ol.webgl.Context');goog.require('ol.xml');goog.exportProperty(ol.AssertionError.prototype,'code',ol.AssertionError.prototype.code);goog.exportSymbol('ol.Attribution',ol.Attribution,OPENLAYERS);goog.exportProperty(ol.Attribution.prototype,'getHTML',ol.Attribution.prototype.getHTML);goog.exportSymbol('ol.CanvasMap',ol.CanvasMap,OPENLAYERS);goog.exportSymbol('ol.Collection',ol.Collection,OPENLAYERS);goog.exportProperty(ol.Collection.prototype,'clear',ol.Collection.prototype.clear);goog.exportProperty(ol.Collection.prototype,'extend',ol.Collection.prototype.extend);goog.exportProperty(ol.Collection.prototype,'forEach',ol.Collection.prototype.forEach);goog.exportProperty(ol.Collection.prototype,'getArray',ol.Collection.prototype.getArray);goog.exportProperty(ol.Collection.prototype,'item',ol.Collection.prototype.item);goog.exportProperty(ol.Collection.prototype,'getLength',ol.Collection.prototype.getLength);goog.exportProperty(ol.Collection.prototype,'insertAt',ol.Collection.prototype.insertAt);goog.exportProperty(ol.Collection.prototype,'pop',ol.Collection.prototype.pop);goog.exportProperty(ol.Collection.prototype,'push',ol.Collection.prototype.push);goog.exportProperty(ol.Collection.prototype,'remove',ol.Collection.prototype.remove);goog.exportProperty(ol.Collection.prototype,'removeAt',ol.Collection.prototype.removeAt);goog.exportProperty(ol.Collection.prototype,'setAt',ol.Collection.prototype.setAt);goog.exportProperty(ol.Collection.Event.prototype,'element',ol.Collection.Event.prototype.element);goog.exportSymbol('ol.color.asArray',ol.color.asArray,OPENLAYERS);goog.exportSymbol('ol.color.asString',ol.color.asString,OPENLAYERS);goog.exportSymbol('ol.colorlike.asColorLike',ol.colorlike.asColorLike,OPENLAYERS);goog.exportSymbol('ol.control.defaults',ol.control.defaults,OPENLAYERS);goog.exportSymbol('ol.coordinate.add',ol.coordinate.add,OPENLAYERS);goog.exportSymbol('ol.coordinate.createStringXY',ol.coordinate.createStringXY,OPENLAYERS);goog.exportSymbol('ol.coordinate.format',ol.coordinate.format,OPENLAYERS);goog.exportSymbol('ol.coordinate.rotate',ol.coordinate.rotate,OPENLAYERS);goog.exportSymbol('ol.coordinate.toStringHDMS',ol.coordinate.toStringHDMS,OPENLAYERS);goog.exportSymbol('ol.coordinate.toStringXY',ol.coordinate.toStringXY,OPENLAYERS);goog.exportSymbol('ol.DeviceOrientation',ol.DeviceOrientation,OPENLAYERS);goog.exportProperty(ol.DeviceOrientation.prototype,'getAlpha',ol.DeviceOrientation.prototype.getAlpha);goog.exportProperty(ol.DeviceOrientation.prototype,'getBeta',ol.DeviceOrientation.prototype.getBeta);goog.exportProperty(ol.DeviceOrientation.prototype,'getGamma',ol.DeviceOrientation.prototype.getGamma);goog.exportProperty(ol.DeviceOrientation.prototype,'getHeading',ol.DeviceOrientation.prototype.getHeading);goog.exportProperty(ol.DeviceOrientation.prototype,'getTracking',ol.DeviceOrientation.prototype.getTracking);goog.exportProperty(ol.DeviceOrientation.prototype,'setTracking',ol.DeviceOrientation.prototype.setTracking);goog.exportSymbol('ol.easing.easeIn',ol.easing.easeIn,OPENLAYERS);goog.exportSymbol('ol.easing.easeOut',ol.easing.easeOut,OPENLAYERS);goog.exportSymbol('ol.easing.inAndOut',ol.easing.inAndOut,OPENLAYERS);goog.exportSymbol('ol.easing.linear',ol.easing.linear,OPENLAYERS);goog.exportSymbol('ol.easing.upAndDown',ol.easing.upAndDown,OPENLAYERS);goog.exportSymbol('ol.extent.boundingExtent',ol.extent.boundingExtent,OPENLAYERS);goog.exportSymbol('ol.extent.buffer',ol.extent.buffer,OPENLAYERS);goog.exportSymbol('ol.extent.containsCoordinate',ol.extent.containsCoordinate,OPENLAYERS);goog.exportSymbol('ol.extent.containsExtent',ol.extent.containsExtent,OPENLAYERS);goog.exportSymbol('ol.extent.containsXY',ol.extent.containsXY,OPENLAYERS);goog.exportSymbol('ol.extent.createEmpty',ol.extent.createEmpty,OPENLAYERS);goog.exportSymbol('ol.extent.equals',ol.extent.equals,OPENLAYERS);goog.exportSymbol('ol.extent.extend',ol.extent.extend,OPENLAYERS);goog.exportSymbol('ol.extent.getArea',ol.extent.getArea,OPENLAYERS);goog.exportSymbol('ol.extent.getBottomLeft',ol.extent.getBottomLeft,OPENLAYERS);goog.exportSymbol('ol.extent.getBottomRight',ol.extent.getBottomRight,OPENLAYERS);goog.exportSymbol('ol.extent.getCenter',ol.extent.getCenter,OPENLAYERS);goog.exportSymbol('ol.extent.getHeight',ol.extent.getHeight,OPENLAYERS);goog.exportSymbol('ol.extent.getIntersection',ol.extent.getIntersection,OPENLAYERS);goog.exportSymbol('ol.extent.getSize',ol.extent.getSize,OPENLAYERS);goog.exportSymbol('ol.extent.getTopLeft',ol.extent.getTopLeft,OPENLAYERS);goog.exportSymbol('ol.extent.getTopRight',ol.extent.getTopRight,OPENLAYERS);goog.exportSymbol('ol.extent.getWidth',ol.extent.getWidth,OPENLAYERS);goog.exportSymbol('ol.extent.intersects',ol.extent.intersects,OPENLAYERS);goog.exportSymbol('ol.extent.isEmpty',ol.extent.isEmpty,OPENLAYERS);goog.exportSymbol('ol.extent.applyTransform',ol.extent.applyTransform,OPENLAYERS);goog.exportSymbol('ol.Feature',ol.Feature,OPENLAYERS);goog.exportProperty(ol.Feature.prototype,'clone',ol.Feature.prototype.clone);goog.exportProperty(ol.Feature.prototype,'getGeometry',ol.Feature.prototype.getGeometry);goog.exportProperty(ol.Feature.prototype,'getId',ol.Feature.prototype.getId);goog.exportProperty(ol.Feature.prototype,'getGeometryName',ol.Feature.prototype.getGeometryName);goog.exportProperty(ol.Feature.prototype,'getStyle',ol.Feature.prototype.getStyle);goog.exportProperty(ol.Feature.prototype,'getStyleFunction',ol.Feature.prototype.getStyleFunction);goog.exportProperty(ol.Feature.prototype,'setGeometry',ol.Feature.prototype.setGeometry);goog.exportProperty(ol.Feature.prototype,'setStyle',ol.Feature.prototype.setStyle);goog.exportProperty(ol.Feature.prototype,'setId',ol.Feature.prototype.setId);goog.exportProperty(ol.Feature.prototype,'setGeometryName',ol.Feature.prototype.setGeometryName);goog.exportSymbol('ol.featureloader.xhr',ol.featureloader.xhr,OPENLAYERS);goog.exportSymbol('ol.Geolocation',ol.Geolocation,OPENLAYERS);goog.exportProperty(ol.Geolocation.prototype,'getAccuracy',ol.Geolocation.prototype.getAccuracy);goog.exportProperty(ol.Geolocation.prototype,'getAccuracyGeometry',ol.Geolocation.prototype.getAccuracyGeometry);goog.exportProperty(ol.Geolocation.prototype,'getAltitude',ol.Geolocation.prototype.getAltitude);goog.exportProperty(ol.Geolocation.prototype,'getAltitudeAccuracy',ol.Geolocation.prototype.getAltitudeAccuracy);goog.exportProperty(ol.Geolocation.prototype,'getHeading',ol.Geolocation.prototype.getHeading);goog.exportProperty(ol.Geolocation.prototype,'getPosition',ol.Geolocation.prototype.getPosition);goog.exportProperty(ol.Geolocation.prototype,'getProjection',ol.Geolocation.prototype.getProjection);goog.exportProperty(ol.Geolocation.prototype,'getSpeed',ol.Geolocation.prototype.getSpeed);goog.exportProperty(ol.Geolocation.prototype,'getTracking',ol.Geolocation.prototype.getTracking);goog.exportProperty(ol.Geolocation.prototype,'getTrackingOptions',ol.Geolocation.prototype.getTrackingOptions);goog.exportProperty(ol.Geolocation.prototype,'setProjection',ol.Geolocation.prototype.setProjection);goog.exportProperty(ol.Geolocation.prototype,'setTracking',ol.Geolocation.prototype.setTracking);goog.exportProperty(ol.Geolocation.prototype,'setTrackingOptions',ol.Geolocation.prototype.setTrackingOptions);goog.exportSymbol('ol.Graticule',ol.Graticule,OPENLAYERS);goog.exportProperty(ol.Graticule.prototype,'getMap',ol.Graticule.prototype.getMap);goog.exportProperty(ol.Graticule.prototype,'getMeridians',ol.Graticule.prototype.getMeridians);goog.exportProperty(ol.Graticule.prototype,'getParallels',ol.Graticule.prototype.getParallels);goog.exportProperty(ol.Graticule.prototype,'setMap',ol.Graticule.prototype.setMap);goog.exportSymbol('ol.has.DEVICE_PIXEL_RATIO',ol.has.DEVICE_PIXEL_RATIO,OPENLAYERS);goog.exportSymbol('ol.has.CANVAS',ol.has.CANVAS,OPENLAYERS);goog.exportSymbol('ol.has.DEVICE_ORIENTATION',ol.has.DEVICE_ORIENTATION,OPENLAYERS);goog.exportSymbol('ol.has.GEOLOCATION',ol.has.GEOLOCATION,OPENLAYERS);goog.exportSymbol('ol.has.TOUCH',ol.has.TOUCH,OPENLAYERS);goog.exportSymbol('ol.has.WEBGL',ol.has.WEBGL,OPENLAYERS);goog.exportProperty(ol.Image.prototype,'getImage',ol.Image.prototype.getImage);goog.exportProperty(ol.Image.prototype,'load',ol.Image.prototype.load);goog.exportProperty(ol.ImageTile.prototype,'getImage',ol.ImageTile.prototype.getImage);goog.exportSymbol('ol.inherits',ol.inherits,OPENLAYERS);goog.exportSymbol('ol.interaction.defaults',ol.interaction.defaults,OPENLAYERS);goog.exportSymbol('ol.Kinetic',ol.Kinetic,OPENLAYERS);goog.exportSymbol('ol.loadingstrategy.all',ol.loadingstrategy.all,OPENLAYERS);goog.exportSymbol('ol.loadingstrategy.bbox',ol.loadingstrategy.bbox,OPENLAYERS);goog.exportSymbol('ol.loadingstrategy.tile',ol.loadingstrategy.tile,OPENLAYERS);goog.exportSymbol('ol.Map',ol.Map,OPENLAYERS);goog.exportProperty(ol.MapBrowserEvent.prototype,'originalEvent',ol.MapBrowserEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserEvent.prototype,'pixel',ol.MapBrowserEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserEvent.prototype,'coordinate',ol.MapBrowserEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserEvent.prototype,'dragging',ol.MapBrowserEvent.prototype.dragging);goog.exportProperty(ol.MapEvent.prototype,'map',ol.MapEvent.prototype.map);goog.exportProperty(ol.MapEvent.prototype,'frameState',ol.MapEvent.prototype.frameState);goog.exportSymbol('ol.Object',ol.Object,OPENLAYERS);goog.exportProperty(ol.Object.prototype,'get',ol.Object.prototype.get);goog.exportProperty(ol.Object.prototype,'getKeys',ol.Object.prototype.getKeys);goog.exportProperty(ol.Object.prototype,'getProperties',ol.Object.prototype.getProperties);goog.exportProperty(ol.Object.prototype,'set',ol.Object.prototype.set);goog.exportProperty(ol.Object.prototype,'setProperties',ol.Object.prototype.setProperties);goog.exportProperty(ol.Object.prototype,'unset',ol.Object.prototype.unset);goog.exportProperty(ol.Object.Event.prototype,'key',ol.Object.Event.prototype.key);goog.exportProperty(ol.Object.Event.prototype,'oldValue',ol.Object.Event.prototype.oldValue);goog.exportSymbol('ol.Observable',ol.Observable,OPENLAYERS);goog.exportSymbol('ol.Observable.unByKey',ol.Observable.unByKey,OPENLAYERS);goog.exportProperty(ol.Observable.prototype,'changed',ol.Observable.prototype.changed);goog.exportProperty(ol.Observable.prototype,'dispatchEvent',ol.Observable.prototype.dispatchEvent);goog.exportProperty(ol.Observable.prototype,'getRevision',ol.Observable.prototype.getRevision);goog.exportProperty(ol.Observable.prototype,'on',ol.Observable.prototype.on);goog.exportProperty(ol.Observable.prototype,'once',ol.Observable.prototype.once);goog.exportProperty(ol.Observable.prototype,'un',ol.Observable.prototype.un);goog.exportSymbol('ol.Overlay',ol.Overlay,OPENLAYERS);goog.exportProperty(ol.Overlay.prototype,'getElement',ol.Overlay.prototype.getElement);goog.exportProperty(ol.Overlay.prototype,'getId',ol.Overlay.prototype.getId);goog.exportProperty(ol.Overlay.prototype,'getMap',ol.Overlay.prototype.getMap);goog.exportProperty(ol.Overlay.prototype,'getOffset',ol.Overlay.prototype.getOffset);goog.exportProperty(ol.Overlay.prototype,'getPosition',ol.Overlay.prototype.getPosition);goog.exportProperty(ol.Overlay.prototype,'getPositioning',ol.Overlay.prototype.getPositioning);goog.exportProperty(ol.Overlay.prototype,'setElement',ol.Overlay.prototype.setElement);goog.exportProperty(ol.Overlay.prototype,'setMap',ol.Overlay.prototype.setMap);goog.exportProperty(ol.Overlay.prototype,'setOffset',ol.Overlay.prototype.setOffset);goog.exportProperty(ol.Overlay.prototype,'setPosition',ol.Overlay.prototype.setPosition);goog.exportProperty(ol.Overlay.prototype,'setPositioning',ol.Overlay.prototype.setPositioning);goog.exportSymbol('ol.PluggableMap',ol.PluggableMap,OPENLAYERS);goog.exportProperty(ol.PluggableMap.prototype,'addControl',ol.PluggableMap.prototype.addControl);goog.exportProperty(ol.PluggableMap.prototype,'addInteraction',ol.PluggableMap.prototype.addInteraction);goog.exportProperty(ol.PluggableMap.prototype,'addLayer',ol.PluggableMap.prototype.addLayer);goog.exportProperty(ol.PluggableMap.prototype,'addOverlay',ol.PluggableMap.prototype.addOverlay);goog.exportProperty(ol.PluggableMap.prototype,'forEachFeatureAtPixel',ol.PluggableMap.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.PluggableMap.prototype,'getFeaturesAtPixel',ol.PluggableMap.prototype.getFeaturesAtPixel);goog.exportProperty(ol.PluggableMap.prototype,'forEachLayerAtPixel',ol.PluggableMap.prototype.forEachLayerAtPixel);goog.exportProperty(ol.PluggableMap.prototype,'hasFeatureAtPixel',ol.PluggableMap.prototype.hasFeatureAtPixel);goog.exportProperty(ol.PluggableMap.prototype,'getEventCoordinate',ol.PluggableMap.prototype.getEventCoordinate);goog.exportProperty(ol.PluggableMap.prototype,'getEventPixel',ol.PluggableMap.prototype.getEventPixel);goog.exportProperty(ol.PluggableMap.prototype,'getTarget',ol.PluggableMap.prototype.getTarget);goog.exportProperty(ol.PluggableMap.prototype,'getTargetElement',ol.PluggableMap.prototype.getTargetElement);goog.exportProperty(ol.PluggableMap.prototype,'getCoordinateFromPixel',ol.PluggableMap.prototype.getCoordinateFromPixel);goog.exportProperty(ol.PluggableMap.prototype,'getControls',ol.PluggableMap.prototype.getControls);goog.exportProperty(ol.PluggableMap.prototype,'getOverlays',ol.PluggableMap.prototype.getOverlays);goog.exportProperty(ol.PluggableMap.prototype,'getOverlayById',ol.PluggableMap.prototype.getOverlayById);goog.exportProperty(ol.PluggableMap.prototype,'getInteractions',ol.PluggableMap.prototype.getInteractions);goog.exportProperty(ol.PluggableMap.prototype,'getLayerGroup',ol.PluggableMap.prototype.getLayerGroup);goog.exportProperty(ol.PluggableMap.prototype,'getLayers',ol.PluggableMap.prototype.getLayers);goog.exportProperty(ol.PluggableMap.prototype,'getPixelFromCoordinate',ol.PluggableMap.prototype.getPixelFromCoordinate);goog.exportProperty(ol.PluggableMap.prototype,'getSize',ol.PluggableMap.prototype.getSize);goog.exportProperty(ol.PluggableMap.prototype,'getView',ol.PluggableMap.prototype.getView);goog.exportProperty(ol.PluggableMap.prototype,'getViewport',ol.PluggableMap.prototype.getViewport);goog.exportProperty(ol.PluggableMap.prototype,'renderSync',ol.PluggableMap.prototype.renderSync);goog.exportProperty(ol.PluggableMap.prototype,'render',ol.PluggableMap.prototype.render);goog.exportProperty(ol.PluggableMap.prototype,'removeControl',ol.PluggableMap.prototype.removeControl);goog.exportProperty(ol.PluggableMap.prototype,'removeInteraction',ol.PluggableMap.prototype.removeInteraction);goog.exportProperty(ol.PluggableMap.prototype,'removeLayer',ol.PluggableMap.prototype.removeLayer);goog.exportProperty(ol.PluggableMap.prototype,'removeOverlay',ol.PluggableMap.prototype.removeOverlay);goog.exportProperty(ol.PluggableMap.prototype,'setLayerGroup',ol.PluggableMap.prototype.setLayerGroup);goog.exportProperty(ol.PluggableMap.prototype,'setSize',ol.PluggableMap.prototype.setSize);goog.exportProperty(ol.PluggableMap.prototype,'setTarget',ol.PluggableMap.prototype.setTarget);goog.exportProperty(ol.PluggableMap.prototype,'setView',ol.PluggableMap.prototype.setView);goog.exportProperty(ol.PluggableMap.prototype,'updateSize',ol.PluggableMap.prototype.updateSize);goog.exportSymbol('ol.proj.METERS_PER_UNIT',ol.proj.METERS_PER_UNIT,OPENLAYERS);goog.exportSymbol('ol.proj.setProj4',ol.proj.setProj4,OPENLAYERS);goog.exportSymbol('ol.proj.getPointResolution',ol.proj.getPointResolution,OPENLAYERS);goog.exportSymbol('ol.proj.addEquivalentProjections',ol.proj.addEquivalentProjections,OPENLAYERS);goog.exportSymbol('ol.proj.addProjection',ol.proj.addProjection,OPENLAYERS);goog.exportSymbol('ol.proj.addCoordinateTransforms',ol.proj.addCoordinateTransforms,OPENLAYERS);goog.exportSymbol('ol.proj.fromLonLat',ol.proj.fromLonLat,OPENLAYERS);goog.exportSymbol('ol.proj.toLonLat',ol.proj.toLonLat,OPENLAYERS);goog.exportSymbol('ol.proj.get',ol.proj.get,OPENLAYERS);goog.exportSymbol('ol.proj.equivalent',ol.proj.equivalent,OPENLAYERS);goog.exportSymbol('ol.proj.getTransform',ol.proj.getTransform,OPENLAYERS);goog.exportSymbol('ol.proj.transform',ol.proj.transform,OPENLAYERS);goog.exportSymbol('ol.proj.transformExtent',ol.proj.transformExtent,OPENLAYERS);goog.exportSymbol('ol.render.toContext',ol.render.toContext,OPENLAYERS);goog.exportSymbol('ol.size.toSize',ol.size.toSize,OPENLAYERS);goog.exportSymbol('ol.Sphere',ol.Sphere,OPENLAYERS);goog.exportProperty(ol.Sphere.prototype,'geodesicArea',ol.Sphere.prototype.geodesicArea);goog.exportProperty(ol.Sphere.prototype,'haversineDistance',ol.Sphere.prototype.haversineDistance);goog.exportSymbol('ol.Sphere.getLength',ol.Sphere.getLength,OPENLAYERS);goog.exportSymbol('ol.Sphere.getArea',ol.Sphere.getArea,OPENLAYERS);goog.exportSymbol('ol.style.iconImageCache',ol.style.iconImageCache,OPENLAYERS);goog.exportProperty(ol.Tile.prototype,'getTileCoord',ol.Tile.prototype.getTileCoord);goog.exportProperty(ol.Tile.prototype,'load',ol.Tile.prototype.load);goog.exportSymbol('ol.tilegrid.createXYZ',ol.tilegrid.createXYZ,OPENLAYERS);goog.exportProperty(ol.VectorTile.prototype,'getExtent',ol.VectorTile.prototype.getExtent);goog.exportProperty(ol.VectorTile.prototype,'getFormat',ol.VectorTile.prototype.getFormat);goog.exportProperty(ol.VectorTile.prototype,'getFeatures',ol.VectorTile.prototype.getFeatures);goog.exportProperty(ol.VectorTile.prototype,'getProjection',ol.VectorTile.prototype.getProjection);goog.exportProperty(ol.VectorTile.prototype,'setExtent',ol.VectorTile.prototype.setExtent);goog.exportProperty(ol.VectorTile.prototype,'setFeatures',ol.VectorTile.prototype.setFeatures);goog.exportProperty(ol.VectorTile.prototype,'setProjection',ol.VectorTile.prototype.setProjection);goog.exportProperty(ol.VectorTile.prototype,'setLoader',ol.VectorTile.prototype.setLoader);goog.exportSymbol('ol.View',ol.View,OPENLAYERS);goog.exportProperty(ol.View.prototype,'animate',ol.View.prototype.animate);goog.exportProperty(ol.View.prototype,'getAnimating',ol.View.prototype.getAnimating);goog.exportProperty(ol.View.prototype,'getInteracting',ol.View.prototype.getInteracting);goog.exportProperty(ol.View.prototype,'cancelAnimations',ol.View.prototype.cancelAnimations);goog.exportProperty(ol.View.prototype,'constrainCenter',ol.View.prototype.constrainCenter);goog.exportProperty(ol.View.prototype,'constrainResolution',ol.View.prototype.constrainResolution);goog.exportProperty(ol.View.prototype,'constrainRotation',ol.View.prototype.constrainRotation);goog.exportProperty(ol.View.prototype,'getCenter',ol.View.prototype.getCenter);goog.exportProperty(ol.View.prototype,'calculateExtent',ol.View.prototype.calculateExtent);goog.exportProperty(ol.View.prototype,'getMaxResolution',ol.View.prototype.getMaxResolution);goog.exportProperty(ol.View.prototype,'getMinResolution',ol.View.prototype.getMinResolution);goog.exportProperty(ol.View.prototype,'getMaxZoom',ol.View.prototype.getMaxZoom);goog.exportProperty(ol.View.prototype,'setMaxZoom',ol.View.prototype.setMaxZoom);goog.exportProperty(ol.View.prototype,'getMinZoom',ol.View.prototype.getMinZoom);goog.exportProperty(ol.View.prototype,'setMinZoom',ol.View.prototype.setMinZoom);goog.exportProperty(ol.View.prototype,'getProjection',ol.View.prototype.getProjection);goog.exportProperty(ol.View.prototype,'getResolution',ol.View.prototype.getResolution);goog.exportProperty(ol.View.prototype,'getResolutions',ol.View.prototype.getResolutions);goog.exportProperty(ol.View.prototype,'getResolutionForExtent',ol.View.prototype.getResolutionForExtent);goog.exportProperty(ol.View.prototype,'getRotation',ol.View.prototype.getRotation);goog.exportProperty(ol.View.prototype,'getZoom',ol.View.prototype.getZoom);goog.exportProperty(ol.View.prototype,'getZoomForResolution',ol.View.prototype.getZoomForResolution);goog.exportProperty(ol.View.prototype,'getResolutionForZoom',ol.View.prototype.getResolutionForZoom);goog.exportProperty(ol.View.prototype,'fit',ol.View.prototype.fit);goog.exportProperty(ol.View.prototype,'centerOn',ol.View.prototype.centerOn);goog.exportProperty(ol.View.prototype,'rotate',ol.View.prototype.rotate);goog.exportProperty(ol.View.prototype,'setCenter',ol.View.prototype.setCenter);goog.exportProperty(ol.View.prototype,'setResolution',ol.View.prototype.setResolution);goog.exportProperty(ol.View.prototype,'setRotation',ol.View.prototype.setRotation);goog.exportProperty(ol.View.prototype,'setZoom',ol.View.prototype.setZoom);goog.exportSymbol('ol.xml.getAllTextContent',ol.xml.getAllTextContent,OPENLAYERS);goog.exportSymbol('ol.xml.parse',ol.xml.parse,OPENLAYERS);goog.exportProperty(ol.webgl.Context.prototype,'getGL',ol.webgl.Context.prototype.getGL);goog.exportProperty(ol.webgl.Context.prototype,'useProgram',ol.webgl.Context.prototype.useProgram);goog.exportSymbol('ol.tilegrid.TileGrid',ol.tilegrid.TileGrid,OPENLAYERS);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'forEachTileCoord',ol.tilegrid.TileGrid.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getMaxZoom',ol.tilegrid.TileGrid.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getMinZoom',ol.tilegrid.TileGrid.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getOrigin',ol.tilegrid.TileGrid.prototype.getOrigin);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getResolution',ol.tilegrid.TileGrid.prototype.getResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getResolutions',ol.tilegrid.TileGrid.prototype.getResolutions);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getTileCoordExtent',ol.tilegrid.TileGrid.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getTileCoordForCoordAndResolution',ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getTileCoordForCoordAndZ',ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getTileSize',ol.tilegrid.TileGrid.prototype.getTileSize);goog.exportProperty(ol.tilegrid.TileGrid.prototype,'getZForResolution',ol.tilegrid.TileGrid.prototype.getZForResolution);goog.exportSymbol('ol.tilegrid.WMTS',ol.tilegrid.WMTS,OPENLAYERS);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getMatrixIds',ol.tilegrid.WMTS.prototype.getMatrixIds);goog.exportSymbol('ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet',ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet,OPENLAYERS);goog.exportSymbol('ol.style.AtlasManager',ol.style.AtlasManager,OPENLAYERS);goog.exportSymbol('ol.style.Circle',ol.style.Circle,OPENLAYERS);goog.exportProperty(ol.style.Circle.prototype,'setRadius',ol.style.Circle.prototype.setRadius);goog.exportSymbol('ol.style.Fill',ol.style.Fill,OPENLAYERS);goog.exportProperty(ol.style.Fill.prototype,'clone',ol.style.Fill.prototype.clone);goog.exportProperty(ol.style.Fill.prototype,'getColor',ol.style.Fill.prototype.getColor);goog.exportProperty(ol.style.Fill.prototype,'setColor',ol.style.Fill.prototype.setColor);goog.exportSymbol('ol.style.Icon',ol.style.Icon,OPENLAYERS);goog.exportProperty(ol.style.Icon.prototype,'clone',ol.style.Icon.prototype.clone);goog.exportProperty(ol.style.Icon.prototype,'getAnchor',ol.style.Icon.prototype.getAnchor);goog.exportProperty(ol.style.Icon.prototype,'getColor',ol.style.Icon.prototype.getColor);goog.exportProperty(ol.style.Icon.prototype,'getImage',ol.style.Icon.prototype.getImage);goog.exportProperty(ol.style.Icon.prototype,'getOrigin',ol.style.Icon.prototype.getOrigin);goog.exportProperty(ol.style.Icon.prototype,'getSrc',ol.style.Icon.prototype.getSrc);goog.exportProperty(ol.style.Icon.prototype,'getSize',ol.style.Icon.prototype.getSize);goog.exportProperty(ol.style.Icon.prototype,'load',ol.style.Icon.prototype.load);goog.exportProperty(ol.style.IconImageCache.prototype,'setSize',ol.style.IconImageCache.prototype.setSize);goog.exportSymbol('ol.style.Image',ol.style.Image,OPENLAYERS);goog.exportProperty(ol.style.Image.prototype,'getOpacity',ol.style.Image.prototype.getOpacity);goog.exportProperty(ol.style.Image.prototype,'getRotateWithView',ol.style.Image.prototype.getRotateWithView);goog.exportProperty(ol.style.Image.prototype,'getRotation',ol.style.Image.prototype.getRotation);goog.exportProperty(ol.style.Image.prototype,'getScale',ol.style.Image.prototype.getScale);goog.exportProperty(ol.style.Image.prototype,'getSnapToPixel',ol.style.Image.prototype.getSnapToPixel);goog.exportProperty(ol.style.Image.prototype,'setOpacity',ol.style.Image.prototype.setOpacity);goog.exportProperty(ol.style.Image.prototype,'setRotation',ol.style.Image.prototype.setRotation);goog.exportProperty(ol.style.Image.prototype,'setScale',ol.style.Image.prototype.setScale);goog.exportSymbol('ol.style.RegularShape',ol.style.RegularShape,OPENLAYERS);goog.exportProperty(ol.style.RegularShape.prototype,'clone',ol.style.RegularShape.prototype.clone);goog.exportProperty(ol.style.RegularShape.prototype,'getAnchor',ol.style.RegularShape.prototype.getAnchor);goog.exportProperty(ol.style.RegularShape.prototype,'getAngle',ol.style.RegularShape.prototype.getAngle);goog.exportProperty(ol.style.RegularShape.prototype,'getFill',ol.style.RegularShape.prototype.getFill);goog.exportProperty(ol.style.RegularShape.prototype,'getImage',ol.style.RegularShape.prototype.getImage);goog.exportProperty(ol.style.RegularShape.prototype,'getOrigin',ol.style.RegularShape.prototype.getOrigin);goog.exportProperty(ol.style.RegularShape.prototype,'getPoints',ol.style.RegularShape.prototype.getPoints);goog.exportProperty(ol.style.RegularShape.prototype,'getRadius',ol.style.RegularShape.prototype.getRadius);goog.exportProperty(ol.style.RegularShape.prototype,'getRadius2',ol.style.RegularShape.prototype.getRadius2);goog.exportProperty(ol.style.RegularShape.prototype,'getSize',ol.style.RegularShape.prototype.getSize);goog.exportProperty(ol.style.RegularShape.prototype,'getStroke',ol.style.RegularShape.prototype.getStroke);goog.exportSymbol('ol.style.Stroke',ol.style.Stroke,OPENLAYERS);goog.exportProperty(ol.style.Stroke.prototype,'clone',ol.style.Stroke.prototype.clone);goog.exportProperty(ol.style.Stroke.prototype,'getColor',ol.style.Stroke.prototype.getColor);goog.exportProperty(ol.style.Stroke.prototype,'getLineCap',ol.style.Stroke.prototype.getLineCap);goog.exportProperty(ol.style.Stroke.prototype,'getLineDash',ol.style.Stroke.prototype.getLineDash);goog.exportProperty(ol.style.Stroke.prototype,'getLineDashOffset',ol.style.Stroke.prototype.getLineDashOffset);goog.exportProperty(ol.style.Stroke.prototype,'getLineJoin',ol.style.Stroke.prototype.getLineJoin);goog.exportProperty(ol.style.Stroke.prototype,'getMiterLimit',ol.style.Stroke.prototype.getMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,'getWidth',ol.style.Stroke.prototype.getWidth);goog.exportProperty(ol.style.Stroke.prototype,'setColor',ol.style.Stroke.prototype.setColor);goog.exportProperty(ol.style.Stroke.prototype,'setLineCap',ol.style.Stroke.prototype.setLineCap);goog.exportProperty(ol.style.Stroke.prototype,'setLineDash',ol.style.Stroke.prototype.setLineDash);goog.exportProperty(ol.style.Stroke.prototype,'setLineDashOffset',ol.style.Stroke.prototype.setLineDashOffset);goog.exportProperty(ol.style.Stroke.prototype,'setLineJoin',ol.style.Stroke.prototype.setLineJoin);goog.exportProperty(ol.style.Stroke.prototype,'setMiterLimit',ol.style.Stroke.prototype.setMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,'setWidth',ol.style.Stroke.prototype.setWidth);goog.exportSymbol('ol.style.Style',ol.style.Style,OPENLAYERS);goog.exportProperty(ol.style.Style.prototype,'clone',ol.style.Style.prototype.clone);goog.exportProperty(ol.style.Style.prototype,'getRenderer',ol.style.Style.prototype.getRenderer);goog.exportProperty(ol.style.Style.prototype,'setRenderer',ol.style.Style.prototype.setRenderer);goog.exportProperty(ol.style.Style.prototype,'getGeometry',ol.style.Style.prototype.getGeometry);goog.exportProperty(ol.style.Style.prototype,'getGeometryFunction',ol.style.Style.prototype.getGeometryFunction);goog.exportProperty(ol.style.Style.prototype,'getFill',ol.style.Style.prototype.getFill);goog.exportProperty(ol.style.Style.prototype,'setFill',ol.style.Style.prototype.setFill);goog.exportProperty(ol.style.Style.prototype,'getImage',ol.style.Style.prototype.getImage);goog.exportProperty(ol.style.Style.prototype,'setImage',ol.style.Style.prototype.setImage);goog.exportProperty(ol.style.Style.prototype,'getStroke',ol.style.Style.prototype.getStroke);goog.exportProperty(ol.style.Style.prototype,'setStroke',ol.style.Style.prototype.setStroke);goog.exportProperty(ol.style.Style.prototype,'getText',ol.style.Style.prototype.getText);goog.exportProperty(ol.style.Style.prototype,'setText',ol.style.Style.prototype.setText);goog.exportProperty(ol.style.Style.prototype,'getZIndex',ol.style.Style.prototype.getZIndex);goog.exportProperty(ol.style.Style.prototype,'setGeometry',ol.style.Style.prototype.setGeometry);goog.exportProperty(ol.style.Style.prototype,'setZIndex',ol.style.Style.prototype.setZIndex);goog.exportSymbol('ol.style.Text',ol.style.Text,OPENLAYERS);goog.exportProperty(ol.style.Text.prototype,'clone',ol.style.Text.prototype.clone);goog.exportProperty(ol.style.Text.prototype,'getOverflow',ol.style.Text.prototype.getOverflow);goog.exportProperty(ol.style.Text.prototype,'getFont',ol.style.Text.prototype.getFont);goog.exportProperty(ol.style.Text.prototype,'getMaxAngle',ol.style.Text.prototype.getMaxAngle);goog.exportProperty(ol.style.Text.prototype,'getPlacement',ol.style.Text.prototype.getPlacement);goog.exportProperty(ol.style.Text.prototype,'getOffsetX',ol.style.Text.prototype.getOffsetX);goog.exportProperty(ol.style.Text.prototype,'getOffsetY',ol.style.Text.prototype.getOffsetY);goog.exportProperty(ol.style.Text.prototype,'getFill',ol.style.Text.prototype.getFill);goog.exportProperty(ol.style.Text.prototype,'getRotateWithView',ol.style.Text.prototype.getRotateWithView);goog.exportProperty(ol.style.Text.prototype,'getRotation',ol.style.Text.prototype.getRotation);goog.exportProperty(ol.style.Text.prototype,'getScale',ol.style.Text.prototype.getScale);goog.exportProperty(ol.style.Text.prototype,'getStroke',ol.style.Text.prototype.getStroke);goog.exportProperty(ol.style.Text.prototype,'getText',ol.style.Text.prototype.getText);goog.exportProperty(ol.style.Text.prototype,'getTextAlign',ol.style.Text.prototype.getTextAlign);goog.exportProperty(ol.style.Text.prototype,'getTextBaseline',ol.style.Text.prototype.getTextBaseline);goog.exportProperty(ol.style.Text.prototype,'getBackgroundFill',ol.style.Text.prototype.getBackgroundFill);goog.exportProperty(ol.style.Text.prototype,'getBackgroundStroke',ol.style.Text.prototype.getBackgroundStroke);goog.exportProperty(ol.style.Text.prototype,'getPadding',ol.style.Text.prototype.getPadding);goog.exportProperty(ol.style.Text.prototype,'setOverflow',ol.style.Text.prototype.setOverflow);goog.exportProperty(ol.style.Text.prototype,'setFont',ol.style.Text.prototype.setFont);goog.exportProperty(ol.style.Text.prototype,'setMaxAngle',ol.style.Text.prototype.setMaxAngle);goog.exportProperty(ol.style.Text.prototype,'setOffsetX',ol.style.Text.prototype.setOffsetX);goog.exportProperty(ol.style.Text.prototype,'setOffsetY',ol.style.Text.prototype.setOffsetY);goog.exportProperty(ol.style.Text.prototype,'setPlacement',ol.style.Text.prototype.setPlacement);goog.exportProperty(ol.style.Text.prototype,'setFill',ol.style.Text.prototype.setFill);goog.exportProperty(ol.style.Text.prototype,'setRotation',ol.style.Text.prototype.setRotation);goog.exportProperty(ol.style.Text.prototype,'setScale',ol.style.Text.prototype.setScale);goog.exportProperty(ol.style.Text.prototype,'setStroke',ol.style.Text.prototype.setStroke);goog.exportProperty(ol.style.Text.prototype,'setText',ol.style.Text.prototype.setText);goog.exportProperty(ol.style.Text.prototype,'setTextAlign',ol.style.Text.prototype.setTextAlign);goog.exportProperty(ol.style.Text.prototype,'setTextBaseline',ol.style.Text.prototype.setTextBaseline);goog.exportProperty(ol.style.Text.prototype,'setBackgroundFill',ol.style.Text.prototype.setBackgroundFill);goog.exportProperty(ol.style.Text.prototype,'setBackgroundStroke',ol.style.Text.prototype.setBackgroundStroke);goog.exportProperty(ol.style.Text.prototype,'setPadding',ol.style.Text.prototype.setPadding);goog.exportSymbol('ol.source.BingMaps',ol.source.BingMaps,OPENLAYERS);goog.exportSymbol('ol.source.BingMaps.TOS_ATTRIBUTION',ol.source.BingMaps.TOS_ATTRIBUTION,OPENLAYERS);goog.exportProperty(ol.source.BingMaps.prototype,'getApiKey',ol.source.BingMaps.prototype.getApiKey);goog.exportProperty(ol.source.BingMaps.prototype,'getImagerySet',ol.source.BingMaps.prototype.getImagerySet);goog.exportSymbol('ol.source.CartoDB',ol.source.CartoDB,OPENLAYERS);goog.exportProperty(ol.source.CartoDB.prototype,'getConfig',ol.source.CartoDB.prototype.getConfig);goog.exportProperty(ol.source.CartoDB.prototype,'updateConfig',ol.source.CartoDB.prototype.updateConfig);goog.exportProperty(ol.source.CartoDB.prototype,'setConfig',ol.source.CartoDB.prototype.setConfig);goog.exportSymbol('ol.source.Cluster',ol.source.Cluster,OPENLAYERS);goog.exportProperty(ol.source.Cluster.prototype,'getDistance',ol.source.Cluster.prototype.getDistance);goog.exportProperty(ol.source.Cluster.prototype,'getSource',ol.source.Cluster.prototype.getSource);goog.exportProperty(ol.source.Cluster.prototype,'setDistance',ol.source.Cluster.prototype.setDistance);goog.exportSymbol('ol.source.Image',ol.source.Image,OPENLAYERS);goog.exportProperty(ol.source.Image.Event.prototype,'image',ol.source.Image.Event.prototype.image);goog.exportSymbol('ol.source.ImageArcGISRest',ol.source.ImageArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getParams',ol.source.ImageArcGISRest.prototype.getParams);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getImageLoadFunction',ol.source.ImageArcGISRest.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getUrl',ol.source.ImageArcGISRest.prototype.getUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'setImageLoadFunction',ol.source.ImageArcGISRest.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'setUrl',ol.source.ImageArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'updateParams',ol.source.ImageArcGISRest.prototype.updateParams);goog.exportSymbol('ol.source.ImageCanvas',ol.source.ImageCanvas,OPENLAYERS);goog.exportSymbol('ol.source.ImageMapGuide',ol.source.ImageMapGuide,OPENLAYERS);goog.exportProperty(ol.source.ImageMapGuide.prototype,'getParams',ol.source.ImageMapGuide.prototype.getParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,'getImageLoadFunction',ol.source.ImageMapGuide.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageMapGuide.prototype,'updateParams',ol.source.ImageMapGuide.prototype.updateParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,'setImageLoadFunction',ol.source.ImageMapGuide.prototype.setImageLoadFunction);goog.exportSymbol('ol.source.ImageStatic',ol.source.ImageStatic,OPENLAYERS);goog.exportSymbol('ol.source.ImageVector',ol.source.ImageVector,OPENLAYERS);goog.exportProperty(ol.source.ImageVector.prototype,'getSource',ol.source.ImageVector.prototype.getSource);goog.exportProperty(ol.source.ImageVector.prototype,'getStyle',ol.source.ImageVector.prototype.getStyle);goog.exportProperty(ol.source.ImageVector.prototype,'getStyleFunction',ol.source.ImageVector.prototype.getStyleFunction);goog.exportProperty(ol.source.ImageVector.prototype,'setStyle',ol.source.ImageVector.prototype.setStyle);goog.exportSymbol('ol.source.ImageWMS',ol.source.ImageWMS,OPENLAYERS);goog.exportProperty(ol.source.ImageWMS.prototype,'getGetFeatureInfoUrl',ol.source.ImageWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.ImageWMS.prototype,'getParams',ol.source.ImageWMS.prototype.getParams);goog.exportProperty(ol.source.ImageWMS.prototype,'getImageLoadFunction',ol.source.ImageWMS.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,'getUrl',ol.source.ImageWMS.prototype.getUrl);goog.exportProperty(ol.source.ImageWMS.prototype,'setImageLoadFunction',ol.source.ImageWMS.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,'setUrl',ol.source.ImageWMS.prototype.setUrl);goog.exportProperty(ol.source.ImageWMS.prototype,'updateParams',ol.source.ImageWMS.prototype.updateParams);goog.exportSymbol('ol.source.OSM',ol.source.OSM,OPENLAYERS);goog.exportSymbol('ol.source.OSM.ATTRIBUTION',ol.source.OSM.ATTRIBUTION,OPENLAYERS);goog.exportSymbol('ol.source.Raster',ol.source.Raster,OPENLAYERS);goog.exportProperty(ol.source.Raster.prototype,'setOperation',ol.source.Raster.prototype.setOperation);goog.exportProperty(ol.source.Raster.Event.prototype,'extent',ol.source.Raster.Event.prototype.extent);goog.exportProperty(ol.source.Raster.Event.prototype,'resolution',ol.source.Raster.Event.prototype.resolution);goog.exportProperty(ol.source.Raster.Event.prototype,'data',ol.source.Raster.Event.prototype.data);goog.exportSymbol('ol.source.Source',ol.source.Source,OPENLAYERS);goog.exportProperty(ol.source.Source.prototype,'getAttributions',ol.source.Source.prototype.getAttributions);goog.exportProperty(ol.source.Source.prototype,'getLogo',ol.source.Source.prototype.getLogo);goog.exportProperty(ol.source.Source.prototype,'getProjection',ol.source.Source.prototype.getProjection);goog.exportProperty(ol.source.Source.prototype,'getState',ol.source.Source.prototype.getState);goog.exportProperty(ol.source.Source.prototype,'refresh',ol.source.Source.prototype.refresh);goog.exportProperty(ol.source.Source.prototype,'setAttributions',ol.source.Source.prototype.setAttributions);goog.exportSymbol('ol.source.Stamen',ol.source.Stamen,OPENLAYERS);goog.exportSymbol('ol.source.Tile',ol.source.Tile,OPENLAYERS);goog.exportProperty(ol.source.Tile.prototype,'getTileGrid',ol.source.Tile.prototype.getTileGrid);goog.exportProperty(ol.source.Tile.Event.prototype,'tile',ol.source.Tile.Event.prototype.tile);goog.exportSymbol('ol.source.TileArcGISRest',ol.source.TileArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getParams',ol.source.TileArcGISRest.prototype.getParams);goog.exportProperty(ol.source.TileArcGISRest.prototype,'updateParams',ol.source.TileArcGISRest.prototype.updateParams);goog.exportSymbol('ol.source.TileDebug',ol.source.TileDebug,OPENLAYERS);goog.exportSymbol('ol.source.TileImage',ol.source.TileImage,OPENLAYERS);goog.exportProperty(ol.source.TileImage.prototype,'setRenderReprojectionEdges',ol.source.TileImage.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileImage.prototype,'setTileGridForProjection',ol.source.TileImage.prototype.setTileGridForProjection);goog.exportSymbol('ol.source.TileJSON',ol.source.TileJSON,OPENLAYERS);goog.exportProperty(ol.source.TileJSON.prototype,'getTileJSON',ol.source.TileJSON.prototype.getTileJSON);goog.exportSymbol('ol.source.TileUTFGrid',ol.source.TileUTFGrid,OPENLAYERS);goog.exportProperty(ol.source.TileUTFGrid.prototype,'getTemplate',ol.source.TileUTFGrid.prototype.getTemplate);goog.exportProperty(ol.source.TileUTFGrid.prototype,'forDataAtCoordinateAndResolution',ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution);goog.exportSymbol('ol.source.TileWMS',ol.source.TileWMS,OPENLAYERS);goog.exportProperty(ol.source.TileWMS.prototype,'getGetFeatureInfoUrl',ol.source.TileWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.TileWMS.prototype,'getParams',ol.source.TileWMS.prototype.getParams);goog.exportProperty(ol.source.TileWMS.prototype,'updateParams',ol.source.TileWMS.prototype.updateParams);goog.exportProperty(ol.source.UrlTile.prototype,'getTileLoadFunction',ol.source.UrlTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,'getTileUrlFunction',ol.source.UrlTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,'getUrls',ol.source.UrlTile.prototype.getUrls);goog.exportProperty(ol.source.UrlTile.prototype,'setTileLoadFunction',ol.source.UrlTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,'setTileUrlFunction',ol.source.UrlTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,'setUrl',ol.source.UrlTile.prototype.setUrl);goog.exportProperty(ol.source.UrlTile.prototype,'setUrls',ol.source.UrlTile.prototype.setUrls);goog.exportSymbol('ol.source.Vector',ol.source.Vector,OPENLAYERS);goog.exportProperty(ol.source.Vector.prototype,'addFeature',ol.source.Vector.prototype.addFeature);goog.exportProperty(ol.source.Vector.prototype,'addFeatures',ol.source.Vector.prototype.addFeatures);goog.exportProperty(ol.source.Vector.prototype,'clear',ol.source.Vector.prototype.clear);goog.exportProperty(ol.source.Vector.prototype,'forEachFeature',ol.source.Vector.prototype.forEachFeature);goog.exportProperty(ol.source.Vector.prototype,'forEachFeatureInExtent',ol.source.Vector.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Vector.prototype,'forEachFeatureIntersectingExtent',ol.source.Vector.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Vector.prototype,'getFeaturesCollection',ol.source.Vector.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Vector.prototype,'getFeatures',ol.source.Vector.prototype.getFeatures);goog.exportProperty(ol.source.Vector.prototype,'getFeaturesAtCoordinate',ol.source.Vector.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Vector.prototype,'getFeaturesInExtent',ol.source.Vector.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Vector.prototype,'getClosestFeatureToCoordinate',ol.source.Vector.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Vector.prototype,'getExtent',ol.source.Vector.prototype.getExtent);goog.exportProperty(ol.source.Vector.prototype,'getFeatureById',ol.source.Vector.prototype.getFeatureById);goog.exportProperty(ol.source.Vector.prototype,'getFormat',ol.source.Vector.prototype.getFormat);goog.exportProperty(ol.source.Vector.prototype,'getUrl',ol.source.Vector.prototype.getUrl);goog.exportProperty(ol.source.Vector.prototype,'removeLoadedExtent',ol.source.Vector.prototype.removeLoadedExtent);goog.exportProperty(ol.source.Vector.prototype,'removeFeature',ol.source.Vector.prototype.removeFeature);goog.exportProperty(ol.source.Vector.prototype,'setLoader',ol.source.Vector.prototype.setLoader);goog.exportProperty(ol.source.Vector.Event.prototype,'feature',ol.source.Vector.Event.prototype.feature);goog.exportSymbol('ol.source.VectorTile',ol.source.VectorTile,OPENLAYERS);goog.exportProperty(ol.source.VectorTile.prototype,'clear',ol.source.VectorTile.prototype.clear);goog.exportSymbol('ol.source.WMTS',ol.source.WMTS,OPENLAYERS);goog.exportProperty(ol.source.WMTS.prototype,'getDimensions',ol.source.WMTS.prototype.getDimensions);goog.exportProperty(ol.source.WMTS.prototype,'getFormat',ol.source.WMTS.prototype.getFormat);goog.exportProperty(ol.source.WMTS.prototype,'getLayer',ol.source.WMTS.prototype.getLayer);goog.exportProperty(ol.source.WMTS.prototype,'getMatrixSet',ol.source.WMTS.prototype.getMatrixSet);goog.exportProperty(ol.source.WMTS.prototype,'getRequestEncoding',ol.source.WMTS.prototype.getRequestEncoding);goog.exportProperty(ol.source.WMTS.prototype,'getStyle',ol.source.WMTS.prototype.getStyle);goog.exportProperty(ol.source.WMTS.prototype,'getVersion',ol.source.WMTS.prototype.getVersion);goog.exportProperty(ol.source.WMTS.prototype,'updateDimensions',ol.source.WMTS.prototype.updateDimensions);goog.exportSymbol('ol.source.WMTS.optionsFromCapabilities',ol.source.WMTS.optionsFromCapabilities,OPENLAYERS);goog.exportSymbol('ol.source.XYZ',ol.source.XYZ,OPENLAYERS);goog.exportSymbol('ol.source.Zoomify',ol.source.Zoomify,OPENLAYERS);goog.exportSymbol('ol.renderer.webgl.ImageLayer',ol.renderer.webgl.ImageLayer,OPENLAYERS);goog.exportSymbol('ol.renderer.webgl.Map',ol.renderer.webgl.Map,OPENLAYERS);goog.exportSymbol('ol.renderer.webgl.TileLayer',ol.renderer.webgl.TileLayer,OPENLAYERS);goog.exportSymbol('ol.renderer.webgl.VectorLayer',ol.renderer.webgl.VectorLayer,OPENLAYERS);goog.exportSymbol('ol.renderer.canvas.ImageLayer',ol.renderer.canvas.ImageLayer,OPENLAYERS);goog.exportSymbol('ol.renderer.canvas.Map',ol.renderer.canvas.Map,OPENLAYERS);goog.exportSymbol('ol.renderer.canvas.TileLayer',ol.renderer.canvas.TileLayer,OPENLAYERS);goog.exportSymbol('ol.renderer.canvas.VectorLayer',ol.renderer.canvas.VectorLayer,OPENLAYERS);goog.exportSymbol('ol.renderer.canvas.VectorTileLayer',ol.renderer.canvas.VectorTileLayer,OPENLAYERS);goog.exportProperty(ol.render.Event.prototype,'vectorContext',ol.render.Event.prototype.vectorContext);goog.exportProperty(ol.render.Event.prototype,'frameState',ol.render.Event.prototype.frameState);goog.exportProperty(ol.render.Event.prototype,'context',ol.render.Event.prototype.context);goog.exportProperty(ol.render.Event.prototype,'glContext',ol.render.Event.prototype.glContext);goog.exportProperty(ol.render.Feature.prototype,'get',ol.render.Feature.prototype.get);goog.exportProperty(ol.render.Feature.prototype,'getExtent',ol.render.Feature.prototype.getExtent);goog.exportProperty(ol.render.Feature.prototype,'getId',ol.render.Feature.prototype.getId);goog.exportProperty(ol.render.Feature.prototype,'getGeometry',ol.render.Feature.prototype.getGeometry);goog.exportProperty(ol.render.Feature.prototype,'getProperties',ol.render.Feature.prototype.getProperties);goog.exportProperty(ol.render.Feature.prototype,'getType',ol.render.Feature.prototype.getType);goog.exportSymbol('ol.render.VectorContext',ol.render.VectorContext,OPENLAYERS);goog.exportProperty(ol.render.webgl.Immediate.prototype,'setStyle',ol.render.webgl.Immediate.prototype.setStyle);goog.exportProperty(ol.render.webgl.Immediate.prototype,'drawGeometry',ol.render.webgl.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.webgl.Immediate.prototype,'drawFeature',ol.render.webgl.Immediate.prototype.drawFeature);goog.exportProperty(ol.render.canvas.Immediate.prototype,'drawCircle',ol.render.canvas.Immediate.prototype.drawCircle);goog.exportProperty(ol.render.canvas.Immediate.prototype,'setStyle',ol.render.canvas.Immediate.prototype.setStyle);goog.exportProperty(ol.render.canvas.Immediate.prototype,'drawGeometry',ol.render.canvas.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.canvas.Immediate.prototype,'drawFeature',ol.render.canvas.Immediate.prototype.drawFeature);goog.exportSymbol('ol.proj.common.add',ol.proj.common.add,OPENLAYERS);goog.exportSymbol('ol.proj.Projection',ol.proj.Projection,OPENLAYERS);goog.exportProperty(ol.proj.Projection.prototype,'getCode',ol.proj.Projection.prototype.getCode);goog.exportProperty(ol.proj.Projection.prototype,'getExtent',ol.proj.Projection.prototype.getExtent);goog.exportProperty(ol.proj.Projection.prototype,'getUnits',ol.proj.Projection.prototype.getUnits);goog.exportProperty(ol.proj.Projection.prototype,'getMetersPerUnit',ol.proj.Projection.prototype.getMetersPerUnit);goog.exportProperty(ol.proj.Projection.prototype,'getWorldExtent',ol.proj.Projection.prototype.getWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,'getAxisOrientation',ol.proj.Projection.prototype.getAxisOrientation);goog.exportProperty(ol.proj.Projection.prototype,'isGlobal',ol.proj.Projection.prototype.isGlobal);goog.exportProperty(ol.proj.Projection.prototype,'setGlobal',ol.proj.Projection.prototype.setGlobal);goog.exportProperty(ol.proj.Projection.prototype,'setExtent',ol.proj.Projection.prototype.setExtent);goog.exportProperty(ol.proj.Projection.prototype,'setWorldExtent',ol.proj.Projection.prototype.setWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,'setGetPointResolution',ol.proj.Projection.prototype.setGetPointResolution);goog.exportSymbol('ol.proj.Units.METERS_PER_UNIT',ol.proj.Units.METERS_PER_UNIT,OPENLAYERS);goog.exportSymbol('ol.layer.Base',ol.layer.Base,OPENLAYERS);goog.exportProperty(ol.layer.Base.prototype,'getExtent',ol.layer.Base.prototype.getExtent);goog.exportProperty(ol.layer.Base.prototype,'getMaxResolution',ol.layer.Base.prototype.getMaxResolution);goog.exportProperty(ol.layer.Base.prototype,'getMinResolution',ol.layer.Base.prototype.getMinResolution);goog.exportProperty(ol.layer.Base.prototype,'getOpacity',ol.layer.Base.prototype.getOpacity);goog.exportProperty(ol.layer.Base.prototype,'getVisible',ol.layer.Base.prototype.getVisible);goog.exportProperty(ol.layer.Base.prototype,'getZIndex',ol.layer.Base.prototype.getZIndex);goog.exportProperty(ol.layer.Base.prototype,'setExtent',ol.layer.Base.prototype.setExtent);goog.exportProperty(ol.layer.Base.prototype,'setMaxResolution',ol.layer.Base.prototype.setMaxResolution);goog.exportProperty(ol.layer.Base.prototype,'setMinResolution',ol.layer.Base.prototype.setMinResolution);goog.exportProperty(ol.layer.Base.prototype,'setOpacity',ol.layer.Base.prototype.setOpacity);goog.exportProperty(ol.layer.Base.prototype,'setVisible',ol.layer.Base.prototype.setVisible);goog.exportProperty(ol.layer.Base.prototype,'setZIndex',ol.layer.Base.prototype.setZIndex);goog.exportSymbol('ol.layer.Group',ol.layer.Group,OPENLAYERS);goog.exportProperty(ol.layer.Group.prototype,'getLayers',ol.layer.Group.prototype.getLayers);goog.exportProperty(ol.layer.Group.prototype,'setLayers',ol.layer.Group.prototype.setLayers);goog.exportSymbol('ol.layer.Heatmap',ol.layer.Heatmap,OPENLAYERS);goog.exportProperty(ol.layer.Heatmap.prototype,'getBlur',ol.layer.Heatmap.prototype.getBlur);goog.exportProperty(ol.layer.Heatmap.prototype,'getGradient',ol.layer.Heatmap.prototype.getGradient);goog.exportProperty(ol.layer.Heatmap.prototype,'getRadius',ol.layer.Heatmap.prototype.getRadius);goog.exportProperty(ol.layer.Heatmap.prototype,'setBlur',ol.layer.Heatmap.prototype.setBlur);goog.exportProperty(ol.layer.Heatmap.prototype,'setGradient',ol.layer.Heatmap.prototype.setGradient);goog.exportProperty(ol.layer.Heatmap.prototype,'setRadius',ol.layer.Heatmap.prototype.setRadius);goog.exportSymbol('ol.layer.Image',ol.layer.Image,OPENLAYERS);goog.exportProperty(ol.layer.Image.prototype,'getSource',ol.layer.Image.prototype.getSource);goog.exportSymbol('ol.layer.Layer',ol.layer.Layer,OPENLAYERS);goog.exportProperty(ol.layer.Layer.prototype,'getSource',ol.layer.Layer.prototype.getSource);goog.exportProperty(ol.layer.Layer.prototype,'setMap',ol.layer.Layer.prototype.setMap);goog.exportProperty(ol.layer.Layer.prototype,'setSource',ol.layer.Layer.prototype.setSource);goog.exportSymbol('ol.layer.Tile',ol.layer.Tile,OPENLAYERS);goog.exportProperty(ol.layer.Tile.prototype,'getPreload',ol.layer.Tile.prototype.getPreload);goog.exportProperty(ol.layer.Tile.prototype,'getSource',ol.layer.Tile.prototype.getSource);goog.exportProperty(ol.layer.Tile.prototype,'setPreload',ol.layer.Tile.prototype.setPreload);goog.exportProperty(ol.layer.Tile.prototype,'getUseInterimTilesOnError',ol.layer.Tile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.Tile.prototype,'setUseInterimTilesOnError',ol.layer.Tile.prototype.setUseInterimTilesOnError);goog.exportSymbol('ol.layer.Vector',ol.layer.Vector,OPENLAYERS);goog.exportProperty(ol.layer.Vector.prototype,'getSource',ol.layer.Vector.prototype.getSource);goog.exportProperty(ol.layer.Vector.prototype,'getStyle',ol.layer.Vector.prototype.getStyle);goog.exportProperty(ol.layer.Vector.prototype,'getStyleFunction',ol.layer.Vector.prototype.getStyleFunction);goog.exportProperty(ol.layer.Vector.prototype,'setStyle',ol.layer.Vector.prototype.setStyle);goog.exportSymbol('ol.layer.VectorTile',ol.layer.VectorTile,OPENLAYERS);goog.exportProperty(ol.layer.VectorTile.prototype,'getPreload',ol.layer.VectorTile.prototype.getPreload);goog.exportProperty(ol.layer.VectorTile.prototype,'getUseInterimTilesOnError',ol.layer.VectorTile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.VectorTile.prototype,'setPreload',ol.layer.VectorTile.prototype.setPreload);goog.exportProperty(ol.layer.VectorTile.prototype,'setUseInterimTilesOnError',ol.layer.VectorTile.prototype.setUseInterimTilesOnError);goog.exportProperty(ol.layer.VectorTile.prototype,'getSource',ol.layer.VectorTile.prototype.getSource);goog.exportSymbol('ol.interaction.DoubleClickZoom',ol.interaction.DoubleClickZoom,OPENLAYERS);goog.exportSymbol('ol.interaction.DoubleClickZoom.handleEvent',ol.interaction.DoubleClickZoom.handleEvent,OPENLAYERS);goog.exportSymbol('ol.interaction.DragAndDrop',ol.interaction.DragAndDrop,OPENLAYERS);goog.exportSymbol('ol.interaction.DragAndDrop.handleEvent',ol.interaction.DragAndDrop.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,'features',ol.interaction.DragAndDrop.Event.prototype.features);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,'file',ol.interaction.DragAndDrop.Event.prototype.file);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,'projection',ol.interaction.DragAndDrop.Event.prototype.projection);goog.exportSymbol('ol.interaction.DragBox',ol.interaction.DragBox,OPENLAYERS);goog.exportProperty(ol.interaction.DragBox.prototype,'getGeometry',ol.interaction.DragBox.prototype.getGeometry);goog.exportProperty(ol.interaction.DragBox.Event.prototype,'coordinate',ol.interaction.DragBox.Event.prototype.coordinate);goog.exportProperty(ol.interaction.DragBox.Event.prototype,'mapBrowserEvent',ol.interaction.DragBox.Event.prototype.mapBrowserEvent);goog.exportSymbol('ol.interaction.DragPan',ol.interaction.DragPan,OPENLAYERS);goog.exportSymbol('ol.interaction.DragRotate',ol.interaction.DragRotate,OPENLAYERS);goog.exportSymbol('ol.interaction.DragRotateAndZoom',ol.interaction.DragRotateAndZoom,OPENLAYERS);goog.exportSymbol('ol.interaction.DragZoom',ol.interaction.DragZoom,OPENLAYERS);goog.exportSymbol('ol.interaction.Draw',ol.interaction.Draw,OPENLAYERS);goog.exportSymbol('ol.interaction.Draw.handleEvent',ol.interaction.Draw.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Draw.prototype,'removeLastPoint',ol.interaction.Draw.prototype.removeLastPoint);goog.exportProperty(ol.interaction.Draw.prototype,'finishDrawing',ol.interaction.Draw.prototype.finishDrawing);goog.exportProperty(ol.interaction.Draw.prototype,'extend',ol.interaction.Draw.prototype.extend);goog.exportSymbol('ol.interaction.Draw.createRegularPolygon',ol.interaction.Draw.createRegularPolygon,OPENLAYERS);goog.exportSymbol('ol.interaction.Draw.createBox',ol.interaction.Draw.createBox,OPENLAYERS);goog.exportProperty(ol.interaction.Draw.Event.prototype,'feature',ol.interaction.Draw.Event.prototype.feature);goog.exportSymbol('ol.interaction.Extent',ol.interaction.Extent,OPENLAYERS);goog.exportProperty(ol.interaction.Extent.prototype,'getExtent',ol.interaction.Extent.prototype.getExtent);goog.exportProperty(ol.interaction.Extent.prototype,'setExtent',ol.interaction.Extent.prototype.setExtent);goog.exportProperty(ol.interaction.Extent.Event.prototype,'extent',ol.interaction.Extent.Event.prototype.extent);goog.exportSymbol('ol.interaction.Interaction',ol.interaction.Interaction,OPENLAYERS);goog.exportProperty(ol.interaction.Interaction.prototype,'getActive',ol.interaction.Interaction.prototype.getActive);goog.exportProperty(ol.interaction.Interaction.prototype,'getMap',ol.interaction.Interaction.prototype.getMap);goog.exportProperty(ol.interaction.Interaction.prototype,'setActive',ol.interaction.Interaction.prototype.setActive);goog.exportSymbol('ol.interaction.KeyboardPan',ol.interaction.KeyboardPan,OPENLAYERS);goog.exportSymbol('ol.interaction.KeyboardPan.handleEvent',ol.interaction.KeyboardPan.handleEvent,OPENLAYERS);goog.exportSymbol('ol.interaction.KeyboardZoom',ol.interaction.KeyboardZoom,OPENLAYERS);goog.exportSymbol('ol.interaction.KeyboardZoom.handleEvent',ol.interaction.KeyboardZoom.handleEvent,OPENLAYERS);goog.exportSymbol('ol.interaction.Modify',ol.interaction.Modify,OPENLAYERS);goog.exportSymbol('ol.interaction.Modify.handleEvent',ol.interaction.Modify.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Modify.prototype,'removePoint',ol.interaction.Modify.prototype.removePoint);goog.exportProperty(ol.interaction.Modify.Event.prototype,'features',ol.interaction.Modify.Event.prototype.features);goog.exportProperty(ol.interaction.Modify.Event.prototype,'mapBrowserEvent',ol.interaction.Modify.Event.prototype.mapBrowserEvent);goog.exportSymbol('ol.interaction.MouseWheelZoom',ol.interaction.MouseWheelZoom,OPENLAYERS);goog.exportSymbol('ol.interaction.MouseWheelZoom.handleEvent',ol.interaction.MouseWheelZoom.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'setMouseAnchor',ol.interaction.MouseWheelZoom.prototype.setMouseAnchor);goog.exportSymbol('ol.interaction.PinchRotate',ol.interaction.PinchRotate,OPENLAYERS);goog.exportSymbol('ol.interaction.PinchZoom',ol.interaction.PinchZoom,OPENLAYERS);goog.exportSymbol('ol.interaction.Pointer',ol.interaction.Pointer,OPENLAYERS);goog.exportSymbol('ol.interaction.Pointer.handleEvent',ol.interaction.Pointer.handleEvent,OPENLAYERS);goog.exportSymbol('ol.interaction.Select',ol.interaction.Select,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,'getFeatures',ol.interaction.Select.prototype.getFeatures);goog.exportProperty(ol.interaction.Select.prototype,'getHitTolerance',ol.interaction.Select.prototype.getHitTolerance);goog.exportProperty(ol.interaction.Select.prototype,'getLayer',ol.interaction.Select.prototype.getLayer);goog.exportSymbol('ol.interaction.Select.handleEvent',ol.interaction.Select.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,'setHitTolerance',ol.interaction.Select.prototype.setHitTolerance);goog.exportProperty(ol.interaction.Select.prototype,'setMap',ol.interaction.Select.prototype.setMap);goog.exportProperty(ol.interaction.Select.Event.prototype,'selected',ol.interaction.Select.Event.prototype.selected);goog.exportProperty(ol.interaction.Select.Event.prototype,'deselected',ol.interaction.Select.Event.prototype.deselected);goog.exportProperty(ol.interaction.Select.Event.prototype,'mapBrowserEvent',ol.interaction.Select.Event.prototype.mapBrowserEvent);goog.exportSymbol('ol.interaction.Snap',ol.interaction.Snap,OPENLAYERS);goog.exportProperty(ol.interaction.Snap.prototype,'addFeature',ol.interaction.Snap.prototype.addFeature);goog.exportProperty(ol.interaction.Snap.prototype,'removeFeature',ol.interaction.Snap.prototype.removeFeature);goog.exportSymbol('ol.interaction.Translate',ol.interaction.Translate,OPENLAYERS);goog.exportProperty(ol.interaction.Translate.prototype,'getHitTolerance',ol.interaction.Translate.prototype.getHitTolerance);goog.exportProperty(ol.interaction.Translate.prototype,'setHitTolerance',ol.interaction.Translate.prototype.setHitTolerance);goog.exportProperty(ol.interaction.Translate.Event.prototype,'features',ol.interaction.Translate.Event.prototype.features);goog.exportProperty(ol.interaction.Translate.Event.prototype,'coordinate',ol.interaction.Translate.Event.prototype.coordinate);goog.exportSymbol('ol.geom.Circle',ol.geom.Circle,OPENLAYERS);goog.exportProperty(ol.geom.Circle.prototype,'clone',ol.geom.Circle.prototype.clone);goog.exportProperty(ol.geom.Circle.prototype,'getCenter',ol.geom.Circle.prototype.getCenter);goog.exportProperty(ol.geom.Circle.prototype,'getRadius',ol.geom.Circle.prototype.getRadius);goog.exportProperty(ol.geom.Circle.prototype,'getType',ol.geom.Circle.prototype.getType);goog.exportProperty(ol.geom.Circle.prototype,'intersectsExtent',ol.geom.Circle.prototype.intersectsExtent);goog.exportProperty(ol.geom.Circle.prototype,'setCenter',ol.geom.Circle.prototype.setCenter);goog.exportProperty(ol.geom.Circle.prototype,'setCenterAndRadius',ol.geom.Circle.prototype.setCenterAndRadius);goog.exportProperty(ol.geom.Circle.prototype,'setRadius',ol.geom.Circle.prototype.setRadius);goog.exportProperty(ol.geom.Circle.prototype,'transform',ol.geom.Circle.prototype.transform);goog.exportSymbol('ol.geom.Geometry',ol.geom.Geometry,OPENLAYERS);goog.exportProperty(ol.geom.Geometry.prototype,'getClosestPoint',ol.geom.Geometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.Geometry.prototype,'intersectsCoordinate',ol.geom.Geometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Geometry.prototype,'getExtent',ol.geom.Geometry.prototype.getExtent);goog.exportProperty(ol.geom.Geometry.prototype,'rotate',ol.geom.Geometry.prototype.rotate);goog.exportProperty(ol.geom.Geometry.prototype,'scale',ol.geom.Geometry.prototype.scale);goog.exportProperty(ol.geom.Geometry.prototype,'simplify',ol.geom.Geometry.prototype.simplify);goog.exportProperty(ol.geom.Geometry.prototype,'transform',ol.geom.Geometry.prototype.transform);goog.exportSymbol('ol.geom.GeometryCollection',ol.geom.GeometryCollection,OPENLAYERS);goog.exportProperty(ol.geom.GeometryCollection.prototype,'clone',ol.geom.GeometryCollection.prototype.clone);goog.exportProperty(ol.geom.GeometryCollection.prototype,'getGeometries',ol.geom.GeometryCollection.prototype.getGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,'getType',ol.geom.GeometryCollection.prototype.getType);goog.exportProperty(ol.geom.GeometryCollection.prototype,'intersectsExtent',ol.geom.GeometryCollection.prototype.intersectsExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,'setGeometries',ol.geom.GeometryCollection.prototype.setGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,'applyTransform',ol.geom.GeometryCollection.prototype.applyTransform);goog.exportProperty(ol.geom.GeometryCollection.prototype,'translate',ol.geom.GeometryCollection.prototype.translate);goog.exportSymbol('ol.geom.LinearRing',ol.geom.LinearRing,OPENLAYERS);goog.exportProperty(ol.geom.LinearRing.prototype,'clone',ol.geom.LinearRing.prototype.clone);goog.exportProperty(ol.geom.LinearRing.prototype,'getArea',ol.geom.LinearRing.prototype.getArea);goog.exportProperty(ol.geom.LinearRing.prototype,'getCoordinates',ol.geom.LinearRing.prototype.getCoordinates);goog.exportProperty(ol.geom.LinearRing.prototype,'getType',ol.geom.LinearRing.prototype.getType);goog.exportProperty(ol.geom.LinearRing.prototype,'setCoordinates',ol.geom.LinearRing.prototype.setCoordinates);goog.exportSymbol('ol.geom.LineString',ol.geom.LineString,OPENLAYERS);goog.exportProperty(ol.geom.LineString.prototype,'appendCoordinate',ol.geom.LineString.prototype.appendCoordinate);goog.exportProperty(ol.geom.LineString.prototype,'clone',ol.geom.LineString.prototype.clone);goog.exportProperty(ol.geom.LineString.prototype,'forEachSegment',ol.geom.LineString.prototype.forEachSegment);goog.exportProperty(ol.geom.LineString.prototype,'getCoordinateAtM',ol.geom.LineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.LineString.prototype,'getCoordinates',ol.geom.LineString.prototype.getCoordinates);goog.exportProperty(ol.geom.LineString.prototype,'getCoordinateAt',ol.geom.LineString.prototype.getCoordinateAt);goog.exportProperty(ol.geom.LineString.prototype,'getLength',ol.geom.LineString.prototype.getLength);goog.exportProperty(ol.geom.LineString.prototype,'getType',ol.geom.LineString.prototype.getType);goog.exportProperty(ol.geom.LineString.prototype,'intersectsExtent',ol.geom.LineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.LineString.prototype,'setCoordinates',ol.geom.LineString.prototype.setCoordinates);goog.exportSymbol('ol.geom.MultiLineString',ol.geom.MultiLineString,OPENLAYERS);goog.exportProperty(ol.geom.MultiLineString.prototype,'appendLineString',ol.geom.MultiLineString.prototype.appendLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,'clone',ol.geom.MultiLineString.prototype.clone);goog.exportProperty(ol.geom.MultiLineString.prototype,'getCoordinateAtM',ol.geom.MultiLineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.MultiLineString.prototype,'getCoordinates',ol.geom.MultiLineString.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiLineString.prototype,'getLineString',ol.geom.MultiLineString.prototype.getLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,'getLineStrings',ol.geom.MultiLineString.prototype.getLineStrings);goog.exportProperty(ol.geom.MultiLineString.prototype,'getType',ol.geom.MultiLineString.prototype.getType);goog.exportProperty(ol.geom.MultiLineString.prototype,'intersectsExtent',ol.geom.MultiLineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,'setCoordinates',ol.geom.MultiLineString.prototype.setCoordinates);goog.exportSymbol('ol.geom.MultiPoint',ol.geom.MultiPoint,OPENLAYERS);goog.exportProperty(ol.geom.MultiPoint.prototype,'appendPoint',ol.geom.MultiPoint.prototype.appendPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,'clone',ol.geom.MultiPoint.prototype.clone);goog.exportProperty(ol.geom.MultiPoint.prototype,'getCoordinates',ol.geom.MultiPoint.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPoint.prototype,'getPoint',ol.geom.MultiPoint.prototype.getPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,'getPoints',ol.geom.MultiPoint.prototype.getPoints);goog.exportProperty(ol.geom.MultiPoint.prototype,'getType',ol.geom.MultiPoint.prototype.getType);goog.exportProperty(ol.geom.MultiPoint.prototype,'intersectsExtent',ol.geom.MultiPoint.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,'setCoordinates',ol.geom.MultiPoint.prototype.setCoordinates);goog.exportSymbol('ol.geom.MultiPolygon',ol.geom.MultiPolygon,OPENLAYERS);goog.exportProperty(ol.geom.MultiPolygon.prototype,'appendPolygon',ol.geom.MultiPolygon.prototype.appendPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,'clone',ol.geom.MultiPolygon.prototype.clone);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getArea',ol.geom.MultiPolygon.prototype.getArea);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getCoordinates',ol.geom.MultiPolygon.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getInteriorPoints',ol.geom.MultiPolygon.prototype.getInteriorPoints);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getPolygon',ol.geom.MultiPolygon.prototype.getPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getPolygons',ol.geom.MultiPolygon.prototype.getPolygons);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getType',ol.geom.MultiPolygon.prototype.getType);goog.exportProperty(ol.geom.MultiPolygon.prototype,'intersectsExtent',ol.geom.MultiPolygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,'setCoordinates',ol.geom.MultiPolygon.prototype.setCoordinates);goog.exportSymbol('ol.geom.Point',ol.geom.Point,OPENLAYERS);goog.exportProperty(ol.geom.Point.prototype,'clone',ol.geom.Point.prototype.clone);goog.exportProperty(ol.geom.Point.prototype,'getCoordinates',ol.geom.Point.prototype.getCoordinates);goog.exportProperty(ol.geom.Point.prototype,'getType',ol.geom.Point.prototype.getType);goog.exportProperty(ol.geom.Point.prototype,'intersectsExtent',ol.geom.Point.prototype.intersectsExtent);goog.exportProperty(ol.geom.Point.prototype,'setCoordinates',ol.geom.Point.prototype.setCoordinates);goog.exportSymbol('ol.geom.Polygon',ol.geom.Polygon,OPENLAYERS);goog.exportProperty(ol.geom.Polygon.prototype,'appendLinearRing',ol.geom.Polygon.prototype.appendLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,'clone',ol.geom.Polygon.prototype.clone);goog.exportProperty(ol.geom.Polygon.prototype,'getArea',ol.geom.Polygon.prototype.getArea);goog.exportProperty(ol.geom.Polygon.prototype,'getCoordinates',ol.geom.Polygon.prototype.getCoordinates);goog.exportProperty(ol.geom.Polygon.prototype,'getInteriorPoint',ol.geom.Polygon.prototype.getInteriorPoint);goog.exportProperty(ol.geom.Polygon.prototype,'getLinearRingCount',ol.geom.Polygon.prototype.getLinearRingCount);goog.exportProperty(ol.geom.Polygon.prototype,'getLinearRing',ol.geom.Polygon.prototype.getLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,'getLinearRings',ol.geom.Polygon.prototype.getLinearRings);goog.exportProperty(ol.geom.Polygon.prototype,'getType',ol.geom.Polygon.prototype.getType);goog.exportProperty(ol.geom.Polygon.prototype,'intersectsExtent',ol.geom.Polygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.Polygon.prototype,'setCoordinates',ol.geom.Polygon.prototype.setCoordinates);goog.exportSymbol('ol.geom.Polygon.circular',ol.geom.Polygon.circular,OPENLAYERS);goog.exportSymbol('ol.geom.Polygon.fromExtent',ol.geom.Polygon.fromExtent,OPENLAYERS);goog.exportSymbol('ol.geom.Polygon.fromCircle',ol.geom.Polygon.fromCircle,OPENLAYERS);goog.exportSymbol('ol.geom.SimpleGeometry',ol.geom.SimpleGeometry,OPENLAYERS);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'getFirstCoordinate',ol.geom.SimpleGeometry.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'getLastCoordinate',ol.geom.SimpleGeometry.prototype.getLastCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'getLayout',ol.geom.SimpleGeometry.prototype.getLayout);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'applyTransform',ol.geom.SimpleGeometry.prototype.applyTransform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'translate',ol.geom.SimpleGeometry.prototype.translate);goog.exportSymbol('ol.format.EsriJSON',ol.format.EsriJSON,OPENLAYERS);goog.exportProperty(ol.format.EsriJSON.prototype,'readFeature',ol.format.EsriJSON.prototype.readFeature);goog.exportProperty(ol.format.EsriJSON.prototype,'readFeatures',ol.format.EsriJSON.prototype.readFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,'readGeometry',ol.format.EsriJSON.prototype.readGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,'readProjection',ol.format.EsriJSON.prototype.readProjection);goog.exportProperty(ol.format.EsriJSON.prototype,'writeGeometry',ol.format.EsriJSON.prototype.writeGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,'writeGeometryObject',ol.format.EsriJSON.prototype.writeGeometryObject);goog.exportProperty(ol.format.EsriJSON.prototype,'writeFeature',ol.format.EsriJSON.prototype.writeFeature);goog.exportProperty(ol.format.EsriJSON.prototype,'writeFeatureObject',ol.format.EsriJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.EsriJSON.prototype,'writeFeatures',ol.format.EsriJSON.prototype.writeFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,'writeFeaturesObject',ol.format.EsriJSON.prototype.writeFeaturesObject);goog.exportSymbol('ol.format.Feature',ol.format.Feature,OPENLAYERS);goog.exportSymbol('ol.format.filter.and',ol.format.filter.and,OPENLAYERS);goog.exportSymbol('ol.format.filter.or',ol.format.filter.or,OPENLAYERS);goog.exportSymbol('ol.format.filter.not',ol.format.filter.not,OPENLAYERS);goog.exportSymbol('ol.format.filter.bbox',ol.format.filter.bbox,OPENLAYERS);goog.exportSymbol('ol.format.filter.contains',ol.format.filter.contains,OPENLAYERS);goog.exportSymbol('ol.format.filter.intersects',ol.format.filter.intersects,OPENLAYERS);goog.exportSymbol('ol.format.filter.within',ol.format.filter.within,OPENLAYERS);goog.exportSymbol('ol.format.filter.equalTo',ol.format.filter.equalTo,OPENLAYERS);goog.exportSymbol('ol.format.filter.notEqualTo',ol.format.filter.notEqualTo,OPENLAYERS);goog.exportSymbol('ol.format.filter.lessThan',ol.format.filter.lessThan,OPENLAYERS);goog.exportSymbol('ol.format.filter.lessThanOrEqualTo',ol.format.filter.lessThanOrEqualTo,OPENLAYERS);goog.exportSymbol('ol.format.filter.greaterThan',ol.format.filter.greaterThan,OPENLAYERS);goog.exportSymbol('ol.format.filter.greaterThanOrEqualTo',ol.format.filter.greaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol('ol.format.filter.isNull',ol.format.filter.isNull,OPENLAYERS);goog.exportSymbol('ol.format.filter.between',ol.format.filter.between,OPENLAYERS);goog.exportSymbol('ol.format.filter.like',ol.format.filter.like,OPENLAYERS);goog.exportSymbol('ol.format.filter.during',ol.format.filter.during,OPENLAYERS);goog.exportSymbol('ol.format.GeoJSON',ol.format.GeoJSON,OPENLAYERS);goog.exportProperty(ol.format.GeoJSON.prototype,'readFeature',ol.format.GeoJSON.prototype.readFeature);goog.exportProperty(ol.format.GeoJSON.prototype,'readFeatures',ol.format.GeoJSON.prototype.readFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,'readGeometry',ol.format.GeoJSON.prototype.readGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,'readProjection',ol.format.GeoJSON.prototype.readProjection);goog.exportProperty(ol.format.GeoJSON.prototype,'writeFeature',ol.format.GeoJSON.prototype.writeFeature);goog.exportProperty(ol.format.GeoJSON.prototype,'writeFeatureObject',ol.format.GeoJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.GeoJSON.prototype,'writeFeatures',ol.format.GeoJSON.prototype.writeFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,'writeFeaturesObject',ol.format.GeoJSON.prototype.writeFeaturesObject);goog.exportProperty(ol.format.GeoJSON.prototype,'writeGeometry',ol.format.GeoJSON.prototype.writeGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,'writeGeometryObject',ol.format.GeoJSON.prototype.writeGeometryObject);goog.exportSymbol('ol.format.GML',ol.format.GML,OPENLAYERS);goog.exportProperty(ol.format.GML.prototype,'writeFeatures',ol.format.GML.prototype.writeFeatures);goog.exportProperty(ol.format.GML.prototype,'writeFeaturesNode',ol.format.GML.prototype.writeFeaturesNode);goog.exportSymbol('ol.format.GML2',ol.format.GML2,OPENLAYERS);goog.exportSymbol('ol.format.GML3',ol.format.GML3,OPENLAYERS);goog.exportProperty(ol.format.GML3.prototype,'writeGeometryNode',ol.format.GML3.prototype.writeGeometryNode);goog.exportProperty(ol.format.GML3.prototype,'writeFeatures',ol.format.GML3.prototype.writeFeatures);goog.exportProperty(ol.format.GML3.prototype,'writeFeaturesNode',ol.format.GML3.prototype.writeFeaturesNode);goog.exportProperty(ol.format.GMLBase.prototype,'readFeatures',ol.format.GMLBase.prototype.readFeatures);goog.exportSymbol('ol.format.GPX',ol.format.GPX,OPENLAYERS);goog.exportProperty(ol.format.GPX.prototype,'readFeature',ol.format.GPX.prototype.readFeature);goog.exportProperty(ol.format.GPX.prototype,'readFeatures',ol.format.GPX.prototype.readFeatures);goog.exportProperty(ol.format.GPX.prototype,'readProjection',ol.format.GPX.prototype.readProjection);goog.exportProperty(ol.format.GPX.prototype,'writeFeatures',ol.format.GPX.prototype.writeFeatures);goog.exportProperty(ol.format.GPX.prototype,'writeFeaturesNode',ol.format.GPX.prototype.writeFeaturesNode);goog.exportSymbol('ol.format.IGC',ol.format.IGC,OPENLAYERS);goog.exportProperty(ol.format.IGC.prototype,'readFeature',ol.format.IGC.prototype.readFeature);goog.exportProperty(ol.format.IGC.prototype,'readFeatures',ol.format.IGC.prototype.readFeatures);goog.exportProperty(ol.format.IGC.prototype,'readProjection',ol.format.IGC.prototype.readProjection);goog.exportSymbol('ol.format.KML',ol.format.KML,OPENLAYERS);goog.exportProperty(ol.format.KML.prototype,'readFeature',ol.format.KML.prototype.readFeature);goog.exportProperty(ol.format.KML.prototype,'readFeatures',ol.format.KML.prototype.readFeatures);goog.exportProperty(ol.format.KML.prototype,'readName',ol.format.KML.prototype.readName);goog.exportProperty(ol.format.KML.prototype,'readNetworkLinks',ol.format.KML.prototype.readNetworkLinks);goog.exportProperty(ol.format.KML.prototype,'readRegion',ol.format.KML.prototype.readRegion);goog.exportProperty(ol.format.KML.prototype,'readRegionFromNode',ol.format.KML.prototype.readRegionFromNode);goog.exportProperty(ol.format.KML.prototype,'readProjection',ol.format.KML.prototype.readProjection);goog.exportProperty(ol.format.KML.prototype,'writeFeatures',ol.format.KML.prototype.writeFeatures);goog.exportProperty(ol.format.KML.prototype,'writeFeaturesNode',ol.format.KML.prototype.writeFeaturesNode);goog.exportSymbol('ol.format.MVT',ol.format.MVT,OPENLAYERS);goog.exportProperty(ol.format.MVT.prototype,'getLastExtent',ol.format.MVT.prototype.getLastExtent);goog.exportProperty(ol.format.MVT.prototype,'readFeatures',ol.format.MVT.prototype.readFeatures);goog.exportProperty(ol.format.MVT.prototype,'readProjection',ol.format.MVT.prototype.readProjection);goog.exportProperty(ol.format.MVT.prototype,'setLayers',ol.format.MVT.prototype.setLayers);goog.exportSymbol('ol.format.OSMXML',ol.format.OSMXML,OPENLAYERS);goog.exportProperty(ol.format.OSMXML.prototype,'readFeatures',ol.format.OSMXML.prototype.readFeatures);goog.exportProperty(ol.format.OSMXML.prototype,'readProjection',ol.format.OSMXML.prototype.readProjection);goog.exportSymbol('ol.format.Polyline',ol.format.Polyline,OPENLAYERS);goog.exportSymbol('ol.format.Polyline.encodeDeltas',ol.format.Polyline.encodeDeltas,OPENLAYERS);goog.exportSymbol('ol.format.Polyline.decodeDeltas',ol.format.Polyline.decodeDeltas,OPENLAYERS);goog.exportSymbol('ol.format.Polyline.encodeFloats',ol.format.Polyline.encodeFloats,OPENLAYERS);goog.exportSymbol('ol.format.Polyline.decodeFloats',ol.format.Polyline.decodeFloats,OPENLAYERS);goog.exportProperty(ol.format.Polyline.prototype,'readFeature',ol.format.Polyline.prototype.readFeature);goog.exportProperty(ol.format.Polyline.prototype,'readFeatures',ol.format.Polyline.prototype.readFeatures);goog.exportProperty(ol.format.Polyline.prototype,'readGeometry',ol.format.Polyline.prototype.readGeometry);goog.exportProperty(ol.format.Polyline.prototype,'readProjection',ol.format.Polyline.prototype.readProjection);goog.exportProperty(ol.format.Polyline.prototype,'writeGeometry',ol.format.Polyline.prototype.writeGeometry);goog.exportSymbol('ol.format.TopoJSON',ol.format.TopoJSON,OPENLAYERS);goog.exportProperty(ol.format.TopoJSON.prototype,'readFeatures',ol.format.TopoJSON.prototype.readFeatures);goog.exportProperty(ol.format.TopoJSON.prototype,'readProjection',ol.format.TopoJSON.prototype.readProjection);goog.exportSymbol('ol.format.WFS',ol.format.WFS,OPENLAYERS);goog.exportProperty(ol.format.WFS.prototype,'readFeatures',ol.format.WFS.prototype.readFeatures);goog.exportProperty(ol.format.WFS.prototype,'readTransactionResponse',ol.format.WFS.prototype.readTransactionResponse);goog.exportProperty(ol.format.WFS.prototype,'readFeatureCollectionMetadata',ol.format.WFS.prototype.readFeatureCollectionMetadata);goog.exportSymbol('ol.format.WFS.writeFilter',ol.format.WFS.writeFilter,OPENLAYERS);goog.exportProperty(ol.format.WFS.prototype,'writeGetFeature',ol.format.WFS.prototype.writeGetFeature);goog.exportProperty(ol.format.WFS.prototype,'writeTransaction',ol.format.WFS.prototype.writeTransaction);goog.exportProperty(ol.format.WFS.prototype,'readProjection',ol.format.WFS.prototype.readProjection);goog.exportSymbol('ol.format.WKT',ol.format.WKT,OPENLAYERS);goog.exportProperty(ol.format.WKT.prototype,'readFeature',ol.format.WKT.prototype.readFeature);goog.exportProperty(ol.format.WKT.prototype,'readFeatures',ol.format.WKT.prototype.readFeatures);goog.exportProperty(ol.format.WKT.prototype,'readGeometry',ol.format.WKT.prototype.readGeometry);goog.exportProperty(ol.format.WKT.prototype,'writeFeature',ol.format.WKT.prototype.writeFeature);goog.exportProperty(ol.format.WKT.prototype,'writeFeatures',ol.format.WKT.prototype.writeFeatures);goog.exportProperty(ol.format.WKT.prototype,'writeGeometry',ol.format.WKT.prototype.writeGeometry);goog.exportSymbol('ol.format.WMSCapabilities',ol.format.WMSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMSCapabilities.prototype,'read',ol.format.WMSCapabilities.prototype.read);goog.exportSymbol('ol.format.WMSGetFeatureInfo',ol.format.WMSGetFeatureInfo,OPENLAYERS);goog.exportProperty(ol.format.WMSGetFeatureInfo.prototype,'readFeatures',ol.format.WMSGetFeatureInfo.prototype.readFeatures);goog.exportSymbol('ol.format.WMTSCapabilities',ol.format.WMTSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMTSCapabilities.prototype,'read',ol.format.WMTSCapabilities.prototype.read);goog.exportSymbol('ol.format.filter.And',ol.format.filter.And,OPENLAYERS);goog.exportSymbol('ol.format.filter.Bbox',ol.format.filter.Bbox,OPENLAYERS);goog.exportSymbol('ol.format.filter.Comparison',ol.format.filter.Comparison,OPENLAYERS);goog.exportSymbol('ol.format.filter.ComparisonBinary',ol.format.filter.ComparisonBinary,OPENLAYERS);goog.exportSymbol('ol.format.filter.Contains',ol.format.filter.Contains,OPENLAYERS);goog.exportSymbol('ol.format.filter.During',ol.format.filter.During,OPENLAYERS);goog.exportSymbol('ol.format.filter.EqualTo',ol.format.filter.EqualTo,OPENLAYERS);goog.exportSymbol('ol.format.filter.Filter',ol.format.filter.Filter,OPENLAYERS);goog.exportSymbol('ol.format.filter.GreaterThan',ol.format.filter.GreaterThan,OPENLAYERS);goog.exportSymbol('ol.format.filter.GreaterThanOrEqualTo',ol.format.filter.GreaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol('ol.format.filter.Intersects',ol.format.filter.Intersects,OPENLAYERS);goog.exportSymbol('ol.format.filter.IsBetween',ol.format.filter.IsBetween,OPENLAYERS);goog.exportSymbol('ol.format.filter.IsLike',ol.format.filter.IsLike,OPENLAYERS);goog.exportSymbol('ol.format.filter.IsNull',ol.format.filter.IsNull,OPENLAYERS);goog.exportSymbol('ol.format.filter.LessThan',ol.format.filter.LessThan,OPENLAYERS);goog.exportSymbol('ol.format.filter.LessThanOrEqualTo',ol.format.filter.LessThanOrEqualTo,OPENLAYERS);goog.exportSymbol('ol.format.filter.Not',ol.format.filter.Not,OPENLAYERS);goog.exportSymbol('ol.format.filter.NotEqualTo',ol.format.filter.NotEqualTo,OPENLAYERS);goog.exportSymbol('ol.format.filter.Or',ol.format.filter.Or,OPENLAYERS);goog.exportSymbol('ol.format.filter.Spatial',ol.format.filter.Spatial,OPENLAYERS);goog.exportSymbol('ol.format.filter.Within',ol.format.filter.Within,OPENLAYERS);goog.exportSymbol('ol.events.condition.altKeyOnly',ol.events.condition.altKeyOnly,OPENLAYERS);goog.exportSymbol('ol.events.condition.altShiftKeysOnly',ol.events.condition.altShiftKeysOnly,OPENLAYERS);goog.exportSymbol('ol.events.condition.always',ol.events.condition.always,OPENLAYERS);goog.exportSymbol('ol.events.condition.click',ol.events.condition.click,OPENLAYERS);goog.exportSymbol('ol.events.condition.never',ol.events.condition.never,OPENLAYERS);goog.exportSymbol('ol.events.condition.pointerMove',ol.events.condition.pointerMove,OPENLAYERS);goog.exportSymbol('ol.events.condition.singleClick',ol.events.condition.singleClick,OPENLAYERS);goog.exportSymbol('ol.events.condition.doubleClick',ol.events.condition.doubleClick,OPENLAYERS);goog.exportSymbol('ol.events.condition.noModifierKeys',ol.events.condition.noModifierKeys,OPENLAYERS);goog.exportSymbol('ol.events.condition.platformModifierKeyOnly',ol.events.condition.platformModifierKeyOnly,OPENLAYERS);goog.exportSymbol('ol.events.condition.shiftKeyOnly',ol.events.condition.shiftKeyOnly,OPENLAYERS);goog.exportSymbol('ol.events.condition.targetNotEditable',ol.events.condition.targetNotEditable,OPENLAYERS);goog.exportSymbol('ol.events.condition.mouseOnly',ol.events.condition.mouseOnly,OPENLAYERS);goog.exportSymbol('ol.events.condition.primaryAction',ol.events.condition.primaryAction,OPENLAYERS);goog.exportProperty(ol.events.Event.prototype,'type',ol.events.Event.prototype.type);goog.exportProperty(ol.events.Event.prototype,'target',ol.events.Event.prototype.target);goog.exportProperty(ol.events.Event.prototype,'preventDefault',ol.events.Event.prototype.preventDefault);goog.exportProperty(ol.events.Event.prototype,'stopPropagation',ol.events.Event.prototype.stopPropagation);goog.exportSymbol('ol.control.Attribution',ol.control.Attribution,OPENLAYERS);goog.exportSymbol('ol.control.Attribution.render',ol.control.Attribution.render,OPENLAYERS);goog.exportProperty(ol.control.Attribution.prototype,'getCollapsible',ol.control.Attribution.prototype.getCollapsible);goog.exportProperty(ol.control.Attribution.prototype,'setCollapsible',ol.control.Attribution.prototype.setCollapsible);goog.exportProperty(ol.control.Attribution.prototype,'setCollapsed',ol.control.Attribution.prototype.setCollapsed);goog.exportProperty(ol.control.Attribution.prototype,'getCollapsed',ol.control.Attribution.prototype.getCollapsed);goog.exportSymbol('ol.control.Control',ol.control.Control,OPENLAYERS);goog.exportProperty(ol.control.Control.prototype,'getMap',ol.control.Control.prototype.getMap);goog.exportProperty(ol.control.Control.prototype,'setMap',ol.control.Control.prototype.setMap);goog.exportProperty(ol.control.Control.prototype,'setTarget',ol.control.Control.prototype.setTarget);goog.exportSymbol('ol.control.FullScreen',ol.control.FullScreen,OPENLAYERS);goog.exportSymbol('ol.control.MousePosition',ol.control.MousePosition,OPENLAYERS);goog.exportSymbol('ol.control.MousePosition.render',ol.control.MousePosition.render,OPENLAYERS);goog.exportProperty(ol.control.MousePosition.prototype,'getCoordinateFormat',ol.control.MousePosition.prototype.getCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,'getProjection',ol.control.MousePosition.prototype.getProjection);goog.exportProperty(ol.control.MousePosition.prototype,'setCoordinateFormat',ol.control.MousePosition.prototype.setCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,'setProjection',ol.control.MousePosition.prototype.setProjection);goog.exportSymbol('ol.control.OverviewMap',ol.control.OverviewMap,OPENLAYERS);goog.exportSymbol('ol.control.OverviewMap.render',ol.control.OverviewMap.render,OPENLAYERS);goog.exportProperty(ol.control.OverviewMap.prototype,'getCollapsible',ol.control.OverviewMap.prototype.getCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,'setCollapsible',ol.control.OverviewMap.prototype.setCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,'setCollapsed',ol.control.OverviewMap.prototype.setCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,'getCollapsed',ol.control.OverviewMap.prototype.getCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,'getOverviewMap',ol.control.OverviewMap.prototype.getOverviewMap);goog.exportSymbol('ol.control.Rotate',ol.control.Rotate,OPENLAYERS);goog.exportSymbol('ol.control.Rotate.render',ol.control.Rotate.render,OPENLAYERS);goog.exportSymbol('ol.control.ScaleLine',ol.control.ScaleLine,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,'getUnits',ol.control.ScaleLine.prototype.getUnits);goog.exportSymbol('ol.control.ScaleLine.render',ol.control.ScaleLine.render,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,'setUnits',ol.control.ScaleLine.prototype.setUnits);goog.exportSymbol('ol.control.Zoom',ol.control.Zoom,OPENLAYERS);goog.exportSymbol('ol.control.ZoomSlider',ol.control.ZoomSlider,OPENLAYERS);goog.exportSymbol('ol.control.ZoomSlider.render',ol.control.ZoomSlider.render,OPENLAYERS);goog.exportSymbol('ol.control.ZoomToExtent',ol.control.ZoomToExtent,OPENLAYERS);goog.exportProperty(ol.Object.prototype,'changed',ol.Object.prototype.changed);goog.exportProperty(ol.Object.prototype,'dispatchEvent',ol.Object.prototype.dispatchEvent);goog.exportProperty(ol.Object.prototype,'getRevision',ol.Object.prototype.getRevision);goog.exportProperty(ol.Object.prototype,'on',ol.Object.prototype.on);goog.exportProperty(ol.Object.prototype,'once',ol.Object.prototype.once);goog.exportProperty(ol.Object.prototype,'un',ol.Object.prototype.un);goog.exportProperty(ol.PluggableMap.prototype,'get',ol.PluggableMap.prototype.get);goog.exportProperty(ol.PluggableMap.prototype,'getKeys',ol.PluggableMap.prototype.getKeys);goog.exportProperty(ol.PluggableMap.prototype,'getProperties',ol.PluggableMap.prototype.getProperties);goog.exportProperty(ol.PluggableMap.prototype,'set',ol.PluggableMap.prototype.set);goog.exportProperty(ol.PluggableMap.prototype,'setProperties',ol.PluggableMap.prototype.setProperties);goog.exportProperty(ol.PluggableMap.prototype,'unset',ol.PluggableMap.prototype.unset);goog.exportProperty(ol.PluggableMap.prototype,'changed',ol.PluggableMap.prototype.changed);goog.exportProperty(ol.PluggableMap.prototype,'dispatchEvent',ol.PluggableMap.prototype.dispatchEvent);goog.exportProperty(ol.PluggableMap.prototype,'getRevision',ol.PluggableMap.prototype.getRevision);goog.exportProperty(ol.PluggableMap.prototype,'on',ol.PluggableMap.prototype.on);goog.exportProperty(ol.PluggableMap.prototype,'once',ol.PluggableMap.prototype.once);goog.exportProperty(ol.PluggableMap.prototype,'un',ol.PluggableMap.prototype.un);goog.exportProperty(ol.CanvasMap.prototype,'addControl',ol.CanvasMap.prototype.addControl);goog.exportProperty(ol.CanvasMap.prototype,'addInteraction',ol.CanvasMap.prototype.addInteraction);goog.exportProperty(ol.CanvasMap.prototype,'addLayer',ol.CanvasMap.prototype.addLayer);goog.exportProperty(ol.CanvasMap.prototype,'addOverlay',ol.CanvasMap.prototype.addOverlay);goog.exportProperty(ol.CanvasMap.prototype,'forEachFeatureAtPixel',ol.CanvasMap.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.CanvasMap.prototype,'getFeaturesAtPixel',ol.CanvasMap.prototype.getFeaturesAtPixel);goog.exportProperty(ol.CanvasMap.prototype,'forEachLayerAtPixel',ol.CanvasMap.prototype.forEachLayerAtPixel);goog.exportProperty(ol.CanvasMap.prototype,'hasFeatureAtPixel',ol.CanvasMap.prototype.hasFeatureAtPixel);goog.exportProperty(ol.CanvasMap.prototype,'getEventCoordinate',ol.CanvasMap.prototype.getEventCoordinate);goog.exportProperty(ol.CanvasMap.prototype,'getEventPixel',ol.CanvasMap.prototype.getEventPixel);goog.exportProperty(ol.CanvasMap.prototype,'getTarget',ol.CanvasMap.prototype.getTarget);goog.exportProperty(ol.CanvasMap.prototype,'getTargetElement',ol.CanvasMap.prototype.getTargetElement);goog.exportProperty(ol.CanvasMap.prototype,'getCoordinateFromPixel',ol.CanvasMap.prototype.getCoordinateFromPixel);goog.exportProperty(ol.CanvasMap.prototype,'getControls',ol.CanvasMap.prototype.getControls);goog.exportProperty(ol.CanvasMap.prototype,'getOverlays',ol.CanvasMap.prototype.getOverlays);goog.exportProperty(ol.CanvasMap.prototype,'getOverlayById',ol.CanvasMap.prototype.getOverlayById);goog.exportProperty(ol.CanvasMap.prototype,'getInteractions',ol.CanvasMap.prototype.getInteractions);goog.exportProperty(ol.CanvasMap.prototype,'getLayerGroup',ol.CanvasMap.prototype.getLayerGroup);goog.exportProperty(ol.CanvasMap.prototype,'getLayers',ol.CanvasMap.prototype.getLayers);goog.exportProperty(ol.CanvasMap.prototype,'getPixelFromCoordinate',ol.CanvasMap.prototype.getPixelFromCoordinate);goog.exportProperty(ol.CanvasMap.prototype,'getSize',ol.CanvasMap.prototype.getSize);goog.exportProperty(ol.CanvasMap.prototype,'getView',ol.CanvasMap.prototype.getView);goog.exportProperty(ol.CanvasMap.prototype,'getViewport',ol.CanvasMap.prototype.getViewport);goog.exportProperty(ol.CanvasMap.prototype,'renderSync',ol.CanvasMap.prototype.renderSync);goog.exportProperty(ol.CanvasMap.prototype,'render',ol.CanvasMap.prototype.render);goog.exportProperty(ol.CanvasMap.prototype,'removeControl',ol.CanvasMap.prototype.removeControl);goog.exportProperty(ol.CanvasMap.prototype,'removeInteraction',ol.CanvasMap.prototype.removeInteraction);goog.exportProperty(ol.CanvasMap.prototype,'removeLayer',ol.CanvasMap.prototype.removeLayer);goog.exportProperty(ol.CanvasMap.prototype,'removeOverlay',ol.CanvasMap.prototype.removeOverlay);goog.exportProperty(ol.CanvasMap.prototype,'setLayerGroup',ol.CanvasMap.prototype.setLayerGroup);goog.exportProperty(ol.CanvasMap.prototype,'setSize',ol.CanvasMap.prototype.setSize);goog.exportProperty(ol.CanvasMap.prototype,'setTarget',ol.CanvasMap.prototype.setTarget);goog.exportProperty(ol.CanvasMap.prototype,'setView',ol.CanvasMap.prototype.setView);goog.exportProperty(ol.CanvasMap.prototype,'updateSize',ol.CanvasMap.prototype.updateSize);goog.exportProperty(ol.CanvasMap.prototype,'get',ol.CanvasMap.prototype.get);goog.exportProperty(ol.CanvasMap.prototype,'getKeys',ol.CanvasMap.prototype.getKeys);goog.exportProperty(ol.CanvasMap.prototype,'getProperties',ol.CanvasMap.prototype.getProperties);goog.exportProperty(ol.CanvasMap.prototype,'set',ol.CanvasMap.prototype.set);goog.exportProperty(ol.CanvasMap.prototype,'setProperties',ol.CanvasMap.prototype.setProperties);goog.exportProperty(ol.CanvasMap.prototype,'unset',ol.CanvasMap.prototype.unset);goog.exportProperty(ol.CanvasMap.prototype,'changed',ol.CanvasMap.prototype.changed);goog.exportProperty(ol.CanvasMap.prototype,'dispatchEvent',ol.CanvasMap.prototype.dispatchEvent);goog.exportProperty(ol.CanvasMap.prototype,'getRevision',ol.CanvasMap.prototype.getRevision);goog.exportProperty(ol.CanvasMap.prototype,'on',ol.CanvasMap.prototype.on);goog.exportProperty(ol.CanvasMap.prototype,'once',ol.CanvasMap.prototype.once);goog.exportProperty(ol.CanvasMap.prototype,'un',ol.CanvasMap.prototype.un);goog.exportProperty(ol.Collection.prototype,'get',ol.Collection.prototype.get);goog.exportProperty(ol.Collection.prototype,'getKeys',ol.Collection.prototype.getKeys);goog.exportProperty(ol.Collection.prototype,'getProperties',ol.Collection.prototype.getProperties);goog.exportProperty(ol.Collection.prototype,'set',ol.Collection.prototype.set);goog.exportProperty(ol.Collection.prototype,'setProperties',ol.Collection.prototype.setProperties);goog.exportProperty(ol.Collection.prototype,'unset',ol.Collection.prototype.unset);goog.exportProperty(ol.Collection.prototype,'changed',ol.Collection.prototype.changed);goog.exportProperty(ol.Collection.prototype,'dispatchEvent',ol.Collection.prototype.dispatchEvent);goog.exportProperty(ol.Collection.prototype,'getRevision',ol.Collection.prototype.getRevision);goog.exportProperty(ol.Collection.prototype,'on',ol.Collection.prototype.on);goog.exportProperty(ol.Collection.prototype,'once',ol.Collection.prototype.once);goog.exportProperty(ol.Collection.prototype,'un',ol.Collection.prototype.un);goog.exportProperty(ol.Collection.Event.prototype,'type',ol.Collection.Event.prototype.type);goog.exportProperty(ol.Collection.Event.prototype,'target',ol.Collection.Event.prototype.target);goog.exportProperty(ol.Collection.Event.prototype,'preventDefault',ol.Collection.Event.prototype.preventDefault);goog.exportProperty(ol.Collection.Event.prototype,'stopPropagation',ol.Collection.Event.prototype.stopPropagation);goog.exportProperty(ol.DeviceOrientation.prototype,'get',ol.DeviceOrientation.prototype.get);goog.exportProperty(ol.DeviceOrientation.prototype,'getKeys',ol.DeviceOrientation.prototype.getKeys);goog.exportProperty(ol.DeviceOrientation.prototype,'getProperties',ol.DeviceOrientation.prototype.getProperties);goog.exportProperty(ol.DeviceOrientation.prototype,'set',ol.DeviceOrientation.prototype.set);goog.exportProperty(ol.DeviceOrientation.prototype,'setProperties',ol.DeviceOrientation.prototype.setProperties);goog.exportProperty(ol.DeviceOrientation.prototype,'unset',ol.DeviceOrientation.prototype.unset);goog.exportProperty(ol.DeviceOrientation.prototype,'changed',ol.DeviceOrientation.prototype.changed);goog.exportProperty(ol.DeviceOrientation.prototype,'dispatchEvent',ol.DeviceOrientation.prototype.dispatchEvent);goog.exportProperty(ol.DeviceOrientation.prototype,'getRevision',ol.DeviceOrientation.prototype.getRevision);goog.exportProperty(ol.DeviceOrientation.prototype,'on',ol.DeviceOrientation.prototype.on);goog.exportProperty(ol.DeviceOrientation.prototype,'once',ol.DeviceOrientation.prototype.once);goog.exportProperty(ol.DeviceOrientation.prototype,'un',ol.DeviceOrientation.prototype.un);goog.exportProperty(ol.Feature.prototype,'get',ol.Feature.prototype.get);goog.exportProperty(ol.Feature.prototype,'getKeys',ol.Feature.prototype.getKeys);goog.exportProperty(ol.Feature.prototype,'getProperties',ol.Feature.prototype.getProperties);goog.exportProperty(ol.Feature.prototype,'set',ol.Feature.prototype.set);goog.exportProperty(ol.Feature.prototype,'setProperties',ol.Feature.prototype.setProperties);goog.exportProperty(ol.Feature.prototype,'unset',ol.Feature.prototype.unset);goog.exportProperty(ol.Feature.prototype,'changed',ol.Feature.prototype.changed);goog.exportProperty(ol.Feature.prototype,'dispatchEvent',ol.Feature.prototype.dispatchEvent);goog.exportProperty(ol.Feature.prototype,'getRevision',ol.Feature.prototype.getRevision);goog.exportProperty(ol.Feature.prototype,'on',ol.Feature.prototype.on);goog.exportProperty(ol.Feature.prototype,'once',ol.Feature.prototype.once);goog.exportProperty(ol.Feature.prototype,'un',ol.Feature.prototype.un);goog.exportProperty(ol.Geolocation.prototype,'get',ol.Geolocation.prototype.get);goog.exportProperty(ol.Geolocation.prototype,'getKeys',ol.Geolocation.prototype.getKeys);goog.exportProperty(ol.Geolocation.prototype,'getProperties',ol.Geolocation.prototype.getProperties);goog.exportProperty(ol.Geolocation.prototype,'set',ol.Geolocation.prototype.set);goog.exportProperty(ol.Geolocation.prototype,'setProperties',ol.Geolocation.prototype.setProperties);goog.exportProperty(ol.Geolocation.prototype,'unset',ol.Geolocation.prototype.unset);goog.exportProperty(ol.Geolocation.prototype,'changed',ol.Geolocation.prototype.changed);goog.exportProperty(ol.Geolocation.prototype,'dispatchEvent',ol.Geolocation.prototype.dispatchEvent);goog.exportProperty(ol.Geolocation.prototype,'getRevision',ol.Geolocation.prototype.getRevision);goog.exportProperty(ol.Geolocation.prototype,'on',ol.Geolocation.prototype.on);goog.exportProperty(ol.Geolocation.prototype,'once',ol.Geolocation.prototype.once);goog.exportProperty(ol.Geolocation.prototype,'un',ol.Geolocation.prototype.un);goog.exportProperty(ol.ImageTile.prototype,'getTileCoord',ol.ImageTile.prototype.getTileCoord);goog.exportProperty(ol.ImageTile.prototype,'load',ol.ImageTile.prototype.load);goog.exportProperty(ol.Map.prototype,'addControl',ol.Map.prototype.addControl);goog.exportProperty(ol.Map.prototype,'addInteraction',ol.Map.prototype.addInteraction);goog.exportProperty(ol.Map.prototype,'addLayer',ol.Map.prototype.addLayer);goog.exportProperty(ol.Map.prototype,'addOverlay',ol.Map.prototype.addOverlay);goog.exportProperty(ol.Map.prototype,'forEachFeatureAtPixel',ol.Map.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.Map.prototype,'getFeaturesAtPixel',ol.Map.prototype.getFeaturesAtPixel);goog.exportProperty(ol.Map.prototype,'forEachLayerAtPixel',ol.Map.prototype.forEachLayerAtPixel);goog.exportProperty(ol.Map.prototype,'hasFeatureAtPixel',ol.Map.prototype.hasFeatureAtPixel);goog.exportProperty(ol.Map.prototype,'getEventCoordinate',ol.Map.prototype.getEventCoordinate);goog.exportProperty(ol.Map.prototype,'getEventPixel',ol.Map.prototype.getEventPixel);goog.exportProperty(ol.Map.prototype,'getTarget',ol.Map.prototype.getTarget);goog.exportProperty(ol.Map.prototype,'getTargetElement',ol.Map.prototype.getTargetElement);goog.exportProperty(ol.Map.prototype,'getCoordinateFromPixel',ol.Map.prototype.getCoordinateFromPixel);goog.exportProperty(ol.Map.prototype,'getControls',ol.Map.prototype.getControls);goog.exportProperty(ol.Map.prototype,'getOverlays',ol.Map.prototype.getOverlays);goog.exportProperty(ol.Map.prototype,'getOverlayById',ol.Map.prototype.getOverlayById);goog.exportProperty(ol.Map.prototype,'getInteractions',ol.Map.prototype.getInteractions);goog.exportProperty(ol.Map.prototype,'getLayerGroup',ol.Map.prototype.getLayerGroup);goog.exportProperty(ol.Map.prototype,'getLayers',ol.Map.prototype.getLayers);goog.exportProperty(ol.Map.prototype,'getPixelFromCoordinate',ol.Map.prototype.getPixelFromCoordinate);goog.exportProperty(ol.Map.prototype,'getSize',ol.Map.prototype.getSize);goog.exportProperty(ol.Map.prototype,'getView',ol.Map.prototype.getView);goog.exportProperty(ol.Map.prototype,'getViewport',ol.Map.prototype.getViewport);goog.exportProperty(ol.Map.prototype,'renderSync',ol.Map.prototype.renderSync);goog.exportProperty(ol.Map.prototype,'render',ol.Map.prototype.render);goog.exportProperty(ol.Map.prototype,'removeControl',ol.Map.prototype.removeControl);goog.exportProperty(ol.Map.prototype,'removeInteraction',ol.Map.prototype.removeInteraction);goog.exportProperty(ol.Map.prototype,'removeLayer',ol.Map.prototype.removeLayer);goog.exportProperty(ol.Map.prototype,'removeOverlay',ol.Map.prototype.removeOverlay);goog.exportProperty(ol.Map.prototype,'setLayerGroup',ol.Map.prototype.setLayerGroup);goog.exportProperty(ol.Map.prototype,'setSize',ol.Map.prototype.setSize);goog.exportProperty(ol.Map.prototype,'setTarget',ol.Map.prototype.setTarget);goog.exportProperty(ol.Map.prototype,'setView',ol.Map.prototype.setView);goog.exportProperty(ol.Map.prototype,'updateSize',ol.Map.prototype.updateSize);goog.exportProperty(ol.Map.prototype,'get',ol.Map.prototype.get);goog.exportProperty(ol.Map.prototype,'getKeys',ol.Map.prototype.getKeys);goog.exportProperty(ol.Map.prototype,'getProperties',ol.Map.prototype.getProperties);goog.exportProperty(ol.Map.prototype,'set',ol.Map.prototype.set);goog.exportProperty(ol.Map.prototype,'setProperties',ol.Map.prototype.setProperties);goog.exportProperty(ol.Map.prototype,'unset',ol.Map.prototype.unset);goog.exportProperty(ol.Map.prototype,'changed',ol.Map.prototype.changed);goog.exportProperty(ol.Map.prototype,'dispatchEvent',ol.Map.prototype.dispatchEvent);goog.exportProperty(ol.Map.prototype,'getRevision',ol.Map.prototype.getRevision);goog.exportProperty(ol.Map.prototype,'on',ol.Map.prototype.on);goog.exportProperty(ol.Map.prototype,'once',ol.Map.prototype.once);goog.exportProperty(ol.Map.prototype,'un',ol.Map.prototype.un);goog.exportProperty(ol.MapEvent.prototype,'type',ol.MapEvent.prototype.type);goog.exportProperty(ol.MapEvent.prototype,'target',ol.MapEvent.prototype.target);goog.exportProperty(ol.MapEvent.prototype,'preventDefault',ol.MapEvent.prototype.preventDefault);goog.exportProperty(ol.MapEvent.prototype,'stopPropagation',ol.MapEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserEvent.prototype,'map',ol.MapBrowserEvent.prototype.map);goog.exportProperty(ol.MapBrowserEvent.prototype,'frameState',ol.MapBrowserEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserEvent.prototype,'type',ol.MapBrowserEvent.prototype.type);goog.exportProperty(ol.MapBrowserEvent.prototype,'target',ol.MapBrowserEvent.prototype.target);goog.exportProperty(ol.MapBrowserEvent.prototype,'preventDefault',ol.MapBrowserEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserEvent.prototype,'stopPropagation',ol.MapBrowserEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'originalEvent',ol.MapBrowserPointerEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'pixel',ol.MapBrowserPointerEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'coordinate',ol.MapBrowserPointerEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'dragging',ol.MapBrowserPointerEvent.prototype.dragging);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'preventDefault',ol.MapBrowserPointerEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'stopPropagation',ol.MapBrowserPointerEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'map',ol.MapBrowserPointerEvent.prototype.map);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'frameState',ol.MapBrowserPointerEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'type',ol.MapBrowserPointerEvent.prototype.type);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,'target',ol.MapBrowserPointerEvent.prototype.target);goog.exportProperty(ol.Object.Event.prototype,'type',ol.Object.Event.prototype.type);goog.exportProperty(ol.Object.Event.prototype,'target',ol.Object.Event.prototype.target);goog.exportProperty(ol.Object.Event.prototype,'preventDefault',ol.Object.Event.prototype.preventDefault);goog.exportProperty(ol.Object.Event.prototype,'stopPropagation',ol.Object.Event.prototype.stopPropagation);goog.exportProperty(ol.Overlay.prototype,'get',ol.Overlay.prototype.get);goog.exportProperty(ol.Overlay.prototype,'getKeys',ol.Overlay.prototype.getKeys);goog.exportProperty(ol.Overlay.prototype,'getProperties',ol.Overlay.prototype.getProperties);goog.exportProperty(ol.Overlay.prototype,'set',ol.Overlay.prototype.set);goog.exportProperty(ol.Overlay.prototype,'setProperties',ol.Overlay.prototype.setProperties);goog.exportProperty(ol.Overlay.prototype,'unset',ol.Overlay.prototype.unset);goog.exportProperty(ol.Overlay.prototype,'changed',ol.Overlay.prototype.changed);goog.exportProperty(ol.Overlay.prototype,'dispatchEvent',ol.Overlay.prototype.dispatchEvent);goog.exportProperty(ol.Overlay.prototype,'getRevision',ol.Overlay.prototype.getRevision);goog.exportProperty(ol.Overlay.prototype,'on',ol.Overlay.prototype.on);goog.exportProperty(ol.Overlay.prototype,'once',ol.Overlay.prototype.once);goog.exportProperty(ol.Overlay.prototype,'un',ol.Overlay.prototype.un);goog.exportProperty(ol.VectorImageTile.prototype,'getTileCoord',ol.VectorImageTile.prototype.getTileCoord);goog.exportProperty(ol.VectorImageTile.prototype,'load',ol.VectorImageTile.prototype.load);goog.exportProperty(ol.VectorTile.prototype,'getTileCoord',ol.VectorTile.prototype.getTileCoord);goog.exportProperty(ol.VectorTile.prototype,'load',ol.VectorTile.prototype.load);goog.exportProperty(ol.View.prototype,'get',ol.View.prototype.get);goog.exportProperty(ol.View.prototype,'getKeys',ol.View.prototype.getKeys);goog.exportProperty(ol.View.prototype,'getProperties',ol.View.prototype.getProperties);goog.exportProperty(ol.View.prototype,'set',ol.View.prototype.set);goog.exportProperty(ol.View.prototype,'setProperties',ol.View.prototype.setProperties);goog.exportProperty(ol.View.prototype,'unset',ol.View.prototype.unset);goog.exportProperty(ol.View.prototype,'changed',ol.View.prototype.changed);goog.exportProperty(ol.View.prototype,'dispatchEvent',ol.View.prototype.dispatchEvent);goog.exportProperty(ol.View.prototype,'getRevision',ol.View.prototype.getRevision);goog.exportProperty(ol.View.prototype,'on',ol.View.prototype.on);goog.exportProperty(ol.View.prototype,'once',ol.View.prototype.once);goog.exportProperty(ol.View.prototype,'un',ol.View.prototype.un);goog.exportProperty(ol.tilegrid.WMTS.prototype,'forEachTileCoord',ol.tilegrid.WMTS.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getMaxZoom',ol.tilegrid.WMTS.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getMinZoom',ol.tilegrid.WMTS.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getOrigin',ol.tilegrid.WMTS.prototype.getOrigin);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getResolution',ol.tilegrid.WMTS.prototype.getResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getResolutions',ol.tilegrid.WMTS.prototype.getResolutions);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getTileCoordExtent',ol.tilegrid.WMTS.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getTileCoordForCoordAndResolution',ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getTileCoordForCoordAndZ',ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getTileSize',ol.tilegrid.WMTS.prototype.getTileSize);goog.exportProperty(ol.tilegrid.WMTS.prototype,'getZForResolution',ol.tilegrid.WMTS.prototype.getZForResolution);goog.exportProperty(ol.style.RegularShape.prototype,'getOpacity',ol.style.RegularShape.prototype.getOpacity);goog.exportProperty(ol.style.RegularShape.prototype,'getRotateWithView',ol.style.RegularShape.prototype.getRotateWithView);goog.exportProperty(ol.style.RegularShape.prototype,'getRotation',ol.style.RegularShape.prototype.getRotation);goog.exportProperty(ol.style.RegularShape.prototype,'getScale',ol.style.RegularShape.prototype.getScale);goog.exportProperty(ol.style.RegularShape.prototype,'getSnapToPixel',ol.style.RegularShape.prototype.getSnapToPixel);goog.exportProperty(ol.style.RegularShape.prototype,'setOpacity',ol.style.RegularShape.prototype.setOpacity);goog.exportProperty(ol.style.RegularShape.prototype,'setRotation',ol.style.RegularShape.prototype.setRotation);goog.exportProperty(ol.style.RegularShape.prototype,'setScale',ol.style.RegularShape.prototype.setScale);goog.exportProperty(ol.style.Circle.prototype,'clone',ol.style.Circle.prototype.clone);goog.exportProperty(ol.style.Circle.prototype,'getAngle',ol.style.Circle.prototype.getAngle);goog.exportProperty(ol.style.Circle.prototype,'getFill',ol.style.Circle.prototype.getFill);goog.exportProperty(ol.style.Circle.prototype,'getPoints',ol.style.Circle.prototype.getPoints);goog.exportProperty(ol.style.Circle.prototype,'getRadius',ol.style.Circle.prototype.getRadius);goog.exportProperty(ol.style.Circle.prototype,'getRadius2',ol.style.Circle.prototype.getRadius2);goog.exportProperty(ol.style.Circle.prototype,'getStroke',ol.style.Circle.prototype.getStroke);goog.exportProperty(ol.style.Circle.prototype,'getOpacity',ol.style.Circle.prototype.getOpacity);goog.exportProperty(ol.style.Circle.prototype,'getRotateWithView',ol.style.Circle.prototype.getRotateWithView);goog.exportProperty(ol.style.Circle.prototype,'getRotation',ol.style.Circle.prototype.getRotation);goog.exportProperty(ol.style.Circle.prototype,'getScale',ol.style.Circle.prototype.getScale);goog.exportProperty(ol.style.Circle.prototype,'getSnapToPixel',ol.style.Circle.prototype.getSnapToPixel);goog.exportProperty(ol.style.Circle.prototype,'setOpacity',ol.style.Circle.prototype.setOpacity);goog.exportProperty(ol.style.Circle.prototype,'setRotation',ol.style.Circle.prototype.setRotation);goog.exportProperty(ol.style.Circle.prototype,'setScale',ol.style.Circle.prototype.setScale);goog.exportProperty(ol.style.Icon.prototype,'getOpacity',ol.style.Icon.prototype.getOpacity);goog.exportProperty(ol.style.Icon.prototype,'getRotateWithView',ol.style.Icon.prototype.getRotateWithView);goog.exportProperty(ol.style.Icon.prototype,'getRotation',ol.style.Icon.prototype.getRotation);goog.exportProperty(ol.style.Icon.prototype,'getScale',ol.style.Icon.prototype.getScale);goog.exportProperty(ol.style.Icon.prototype,'getSnapToPixel',ol.style.Icon.prototype.getSnapToPixel);goog.exportProperty(ol.style.Icon.prototype,'setOpacity',ol.style.Icon.prototype.setOpacity);goog.exportProperty(ol.style.Icon.prototype,'setRotation',ol.style.Icon.prototype.setRotation);goog.exportProperty(ol.style.Icon.prototype,'setScale',ol.style.Icon.prototype.setScale);goog.exportProperty(ol.source.Source.prototype,'get',ol.source.Source.prototype.get);goog.exportProperty(ol.source.Source.prototype,'getKeys',ol.source.Source.prototype.getKeys);goog.exportProperty(ol.source.Source.prototype,'getProperties',ol.source.Source.prototype.getProperties);goog.exportProperty(ol.source.Source.prototype,'set',ol.source.Source.prototype.set);goog.exportProperty(ol.source.Source.prototype,'setProperties',ol.source.Source.prototype.setProperties);goog.exportProperty(ol.source.Source.prototype,'unset',ol.source.Source.prototype.unset);goog.exportProperty(ol.source.Source.prototype,'changed',ol.source.Source.prototype.changed);goog.exportProperty(ol.source.Source.prototype,'dispatchEvent',ol.source.Source.prototype.dispatchEvent);goog.exportProperty(ol.source.Source.prototype,'getRevision',ol.source.Source.prototype.getRevision);goog.exportProperty(ol.source.Source.prototype,'on',ol.source.Source.prototype.on);goog.exportProperty(ol.source.Source.prototype,'once',ol.source.Source.prototype.once);goog.exportProperty(ol.source.Source.prototype,'un',ol.source.Source.prototype.un);goog.exportProperty(ol.source.Tile.prototype,'getAttributions',ol.source.Tile.prototype.getAttributions);goog.exportProperty(ol.source.Tile.prototype,'getLogo',ol.source.Tile.prototype.getLogo);goog.exportProperty(ol.source.Tile.prototype,'getProjection',ol.source.Tile.prototype.getProjection);goog.exportProperty(ol.source.Tile.prototype,'getState',ol.source.Tile.prototype.getState);goog.exportProperty(ol.source.Tile.prototype,'refresh',ol.source.Tile.prototype.refresh);goog.exportProperty(ol.source.Tile.prototype,'setAttributions',ol.source.Tile.prototype.setAttributions);goog.exportProperty(ol.source.Tile.prototype,'get',ol.source.Tile.prototype.get);goog.exportProperty(ol.source.Tile.prototype,'getKeys',ol.source.Tile.prototype.getKeys);goog.exportProperty(ol.source.Tile.prototype,'getProperties',ol.source.Tile.prototype.getProperties);goog.exportProperty(ol.source.Tile.prototype,'set',ol.source.Tile.prototype.set);goog.exportProperty(ol.source.Tile.prototype,'setProperties',ol.source.Tile.prototype.setProperties);goog.exportProperty(ol.source.Tile.prototype,'unset',ol.source.Tile.prototype.unset);goog.exportProperty(ol.source.Tile.prototype,'changed',ol.source.Tile.prototype.changed);goog.exportProperty(ol.source.Tile.prototype,'dispatchEvent',ol.source.Tile.prototype.dispatchEvent);goog.exportProperty(ol.source.Tile.prototype,'getRevision',ol.source.Tile.prototype.getRevision);goog.exportProperty(ol.source.Tile.prototype,'on',ol.source.Tile.prototype.on);goog.exportProperty(ol.source.Tile.prototype,'once',ol.source.Tile.prototype.once);goog.exportProperty(ol.source.Tile.prototype,'un',ol.source.Tile.prototype.un);goog.exportProperty(ol.source.UrlTile.prototype,'getTileGrid',ol.source.UrlTile.prototype.getTileGrid);goog.exportProperty(ol.source.UrlTile.prototype,'refresh',ol.source.UrlTile.prototype.refresh);goog.exportProperty(ol.source.UrlTile.prototype,'getAttributions',ol.source.UrlTile.prototype.getAttributions);goog.exportProperty(ol.source.UrlTile.prototype,'getLogo',ol.source.UrlTile.prototype.getLogo);goog.exportProperty(ol.source.UrlTile.prototype,'getProjection',ol.source.UrlTile.prototype.getProjection);goog.exportProperty(ol.source.UrlTile.prototype,'getState',ol.source.UrlTile.prototype.getState);goog.exportProperty(ol.source.UrlTile.prototype,'setAttributions',ol.source.UrlTile.prototype.setAttributions);goog.exportProperty(ol.source.UrlTile.prototype,'get',ol.source.UrlTile.prototype.get);goog.exportProperty(ol.source.UrlTile.prototype,'getKeys',ol.source.UrlTile.prototype.getKeys);goog.exportProperty(ol.source.UrlTile.prototype,'getProperties',ol.source.UrlTile.prototype.getProperties);goog.exportProperty(ol.source.UrlTile.prototype,'set',ol.source.UrlTile.prototype.set);goog.exportProperty(ol.source.UrlTile.prototype,'setProperties',ol.source.UrlTile.prototype.setProperties);goog.exportProperty(ol.source.UrlTile.prototype,'unset',ol.source.UrlTile.prototype.unset);goog.exportProperty(ol.source.UrlTile.prototype,'changed',ol.source.UrlTile.prototype.changed);goog.exportProperty(ol.source.UrlTile.prototype,'dispatchEvent',ol.source.UrlTile.prototype.dispatchEvent);goog.exportProperty(ol.source.UrlTile.prototype,'getRevision',ol.source.UrlTile.prototype.getRevision);goog.exportProperty(ol.source.UrlTile.prototype,'on',ol.source.UrlTile.prototype.on);goog.exportProperty(ol.source.UrlTile.prototype,'once',ol.source.UrlTile.prototype.once);goog.exportProperty(ol.source.UrlTile.prototype,'un',ol.source.UrlTile.prototype.un);goog.exportProperty(ol.source.TileImage.prototype,'getTileLoadFunction',ol.source.TileImage.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,'getTileUrlFunction',ol.source.TileImage.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileImage.prototype,'getUrls',ol.source.TileImage.prototype.getUrls);goog.exportProperty(ol.source.TileImage.prototype,'setTileLoadFunction',ol.source.TileImage.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,'setTileUrlFunction',ol.source.TileImage.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileImage.prototype,'setUrl',ol.source.TileImage.prototype.setUrl);goog.exportProperty(ol.source.TileImage.prototype,'setUrls',ol.source.TileImage.prototype.setUrls);goog.exportProperty(ol.source.TileImage.prototype,'getTileGrid',ol.source.TileImage.prototype.getTileGrid);goog.exportProperty(ol.source.TileImage.prototype,'refresh',ol.source.TileImage.prototype.refresh);goog.exportProperty(ol.source.TileImage.prototype,'getAttributions',ol.source.TileImage.prototype.getAttributions);goog.exportProperty(ol.source.TileImage.prototype,'getLogo',ol.source.TileImage.prototype.getLogo);goog.exportProperty(ol.source.TileImage.prototype,'getProjection',ol.source.TileImage.prototype.getProjection);goog.exportProperty(ol.source.TileImage.prototype,'getState',ol.source.TileImage.prototype.getState);goog.exportProperty(ol.source.TileImage.prototype,'setAttributions',ol.source.TileImage.prototype.setAttributions);goog.exportProperty(ol.source.TileImage.prototype,'get',ol.source.TileImage.prototype.get);goog.exportProperty(ol.source.TileImage.prototype,'getKeys',ol.source.TileImage.prototype.getKeys);goog.exportProperty(ol.source.TileImage.prototype,'getProperties',ol.source.TileImage.prototype.getProperties);goog.exportProperty(ol.source.TileImage.prototype,'set',ol.source.TileImage.prototype.set);goog.exportProperty(ol.source.TileImage.prototype,'setProperties',ol.source.TileImage.prototype.setProperties);goog.exportProperty(ol.source.TileImage.prototype,'unset',ol.source.TileImage.prototype.unset);goog.exportProperty(ol.source.TileImage.prototype,'changed',ol.source.TileImage.prototype.changed);goog.exportProperty(ol.source.TileImage.prototype,'dispatchEvent',ol.source.TileImage.prototype.dispatchEvent);goog.exportProperty(ol.source.TileImage.prototype,'getRevision',ol.source.TileImage.prototype.getRevision);goog.exportProperty(ol.source.TileImage.prototype,'on',ol.source.TileImage.prototype.on);goog.exportProperty(ol.source.TileImage.prototype,'once',ol.source.TileImage.prototype.once);goog.exportProperty(ol.source.TileImage.prototype,'un',ol.source.TileImage.prototype.un);goog.exportProperty(ol.source.BingMaps.prototype,'setRenderReprojectionEdges',ol.source.BingMaps.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.BingMaps.prototype,'setTileGridForProjection',ol.source.BingMaps.prototype.setTileGridForProjection);goog.exportProperty(ol.source.BingMaps.prototype,'getTileLoadFunction',ol.source.BingMaps.prototype.getTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,'getTileUrlFunction',ol.source.BingMaps.prototype.getTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,'getUrls',ol.source.BingMaps.prototype.getUrls);goog.exportProperty(ol.source.BingMaps.prototype,'setTileLoadFunction',ol.source.BingMaps.prototype.setTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,'setTileUrlFunction',ol.source.BingMaps.prototype.setTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,'setUrl',ol.source.BingMaps.prototype.setUrl);goog.exportProperty(ol.source.BingMaps.prototype,'setUrls',ol.source.BingMaps.prototype.setUrls);goog.exportProperty(ol.source.BingMaps.prototype,'getTileGrid',ol.source.BingMaps.prototype.getTileGrid);goog.exportProperty(ol.source.BingMaps.prototype,'refresh',ol.source.BingMaps.prototype.refresh);goog.exportProperty(ol.source.BingMaps.prototype,'getAttributions',ol.source.BingMaps.prototype.getAttributions);goog.exportProperty(ol.source.BingMaps.prototype,'getLogo',ol.source.BingMaps.prototype.getLogo);goog.exportProperty(ol.source.BingMaps.prototype,'getProjection',ol.source.BingMaps.prototype.getProjection);goog.exportProperty(ol.source.BingMaps.prototype,'getState',ol.source.BingMaps.prototype.getState);goog.exportProperty(ol.source.BingMaps.prototype,'setAttributions',ol.source.BingMaps.prototype.setAttributions);goog.exportProperty(ol.source.BingMaps.prototype,'get',ol.source.BingMaps.prototype.get);goog.exportProperty(ol.source.BingMaps.prototype,'getKeys',ol.source.BingMaps.prototype.getKeys);goog.exportProperty(ol.source.BingMaps.prototype,'getProperties',ol.source.BingMaps.prototype.getProperties);goog.exportProperty(ol.source.BingMaps.prototype,'set',ol.source.BingMaps.prototype.set);goog.exportProperty(ol.source.BingMaps.prototype,'setProperties',ol.source.BingMaps.prototype.setProperties);goog.exportProperty(ol.source.BingMaps.prototype,'unset',ol.source.BingMaps.prototype.unset);goog.exportProperty(ol.source.BingMaps.prototype,'changed',ol.source.BingMaps.prototype.changed);goog.exportProperty(ol.source.BingMaps.prototype,'dispatchEvent',ol.source.BingMaps.prototype.dispatchEvent);goog.exportProperty(ol.source.BingMaps.prototype,'getRevision',ol.source.BingMaps.prototype.getRevision);goog.exportProperty(ol.source.BingMaps.prototype,'on',ol.source.BingMaps.prototype.on);goog.exportProperty(ol.source.BingMaps.prototype,'once',ol.source.BingMaps.prototype.once);goog.exportProperty(ol.source.BingMaps.prototype,'un',ol.source.BingMaps.prototype.un);goog.exportProperty(ol.source.XYZ.prototype,'setRenderReprojectionEdges',ol.source.XYZ.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.XYZ.prototype,'setTileGridForProjection',ol.source.XYZ.prototype.setTileGridForProjection);goog.exportProperty(ol.source.XYZ.prototype,'getTileLoadFunction',ol.source.XYZ.prototype.getTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,'getTileUrlFunction',ol.source.XYZ.prototype.getTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,'getUrls',ol.source.XYZ.prototype.getUrls);goog.exportProperty(ol.source.XYZ.prototype,'setTileLoadFunction',ol.source.XYZ.prototype.setTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,'setTileUrlFunction',ol.source.XYZ.prototype.setTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,'setUrl',ol.source.XYZ.prototype.setUrl);goog.exportProperty(ol.source.XYZ.prototype,'setUrls',ol.source.XYZ.prototype.setUrls);goog.exportProperty(ol.source.XYZ.prototype,'getTileGrid',ol.source.XYZ.prototype.getTileGrid);goog.exportProperty(ol.source.XYZ.prototype,'refresh',ol.source.XYZ.prototype.refresh);goog.exportProperty(ol.source.XYZ.prototype,'getAttributions',ol.source.XYZ.prototype.getAttributions);goog.exportProperty(ol.source.XYZ.prototype,'getLogo',ol.source.XYZ.prototype.getLogo);goog.exportProperty(ol.source.XYZ.prototype,'getProjection',ol.source.XYZ.prototype.getProjection);goog.exportProperty(ol.source.XYZ.prototype,'getState',ol.source.XYZ.prototype.getState);goog.exportProperty(ol.source.XYZ.prototype,'setAttributions',ol.source.XYZ.prototype.setAttributions);goog.exportProperty(ol.source.XYZ.prototype,'get',ol.source.XYZ.prototype.get);goog.exportProperty(ol.source.XYZ.prototype,'getKeys',ol.source.XYZ.prototype.getKeys);goog.exportProperty(ol.source.XYZ.prototype,'getProperties',ol.source.XYZ.prototype.getProperties);goog.exportProperty(ol.source.XYZ.prototype,'set',ol.source.XYZ.prototype.set);goog.exportProperty(ol.source.XYZ.prototype,'setProperties',ol.source.XYZ.prototype.setProperties);goog.exportProperty(ol.source.XYZ.prototype,'unset',ol.source.XYZ.prototype.unset);goog.exportProperty(ol.source.XYZ.prototype,'changed',ol.source.XYZ.prototype.changed);goog.exportProperty(ol.source.XYZ.prototype,'dispatchEvent',ol.source.XYZ.prototype.dispatchEvent);goog.exportProperty(ol.source.XYZ.prototype,'getRevision',ol.source.XYZ.prototype.getRevision);goog.exportProperty(ol.source.XYZ.prototype,'on',ol.source.XYZ.prototype.on);goog.exportProperty(ol.source.XYZ.prototype,'once',ol.source.XYZ.prototype.once);goog.exportProperty(ol.source.XYZ.prototype,'un',ol.source.XYZ.prototype.un);goog.exportProperty(ol.source.CartoDB.prototype,'setRenderReprojectionEdges',ol.source.CartoDB.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.CartoDB.prototype,'setTileGridForProjection',ol.source.CartoDB.prototype.setTileGridForProjection);goog.exportProperty(ol.source.CartoDB.prototype,'getTileLoadFunction',ol.source.CartoDB.prototype.getTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,'getTileUrlFunction',ol.source.CartoDB.prototype.getTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,'getUrls',ol.source.CartoDB.prototype.getUrls);goog.exportProperty(ol.source.CartoDB.prototype,'setTileLoadFunction',ol.source.CartoDB.prototype.setTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,'setTileUrlFunction',ol.source.CartoDB.prototype.setTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,'setUrl',ol.source.CartoDB.prototype.setUrl);goog.exportProperty(ol.source.CartoDB.prototype,'setUrls',ol.source.CartoDB.prototype.setUrls);goog.exportProperty(ol.source.CartoDB.prototype,'getTileGrid',ol.source.CartoDB.prototype.getTileGrid);goog.exportProperty(ol.source.CartoDB.prototype,'refresh',ol.source.CartoDB.prototype.refresh);goog.exportProperty(ol.source.CartoDB.prototype,'getAttributions',ol.source.CartoDB.prototype.getAttributions);goog.exportProperty(ol.source.CartoDB.prototype,'getLogo',ol.source.CartoDB.prototype.getLogo);goog.exportProperty(ol.source.CartoDB.prototype,'getProjection',ol.source.CartoDB.prototype.getProjection);goog.exportProperty(ol.source.CartoDB.prototype,'getState',ol.source.CartoDB.prototype.getState);goog.exportProperty(ol.source.CartoDB.prototype,'setAttributions',ol.source.CartoDB.prototype.setAttributions);goog.exportProperty(ol.source.CartoDB.prototype,'get',ol.source.CartoDB.prototype.get);goog.exportProperty(ol.source.CartoDB.prototype,'getKeys',ol.source.CartoDB.prototype.getKeys);goog.exportProperty(ol.source.CartoDB.prototype,'getProperties',ol.source.CartoDB.prototype.getProperties);goog.exportProperty(ol.source.CartoDB.prototype,'set',ol.source.CartoDB.prototype.set);goog.exportProperty(ol.source.CartoDB.prototype,'setProperties',ol.source.CartoDB.prototype.setProperties);goog.exportProperty(ol.source.CartoDB.prototype,'unset',ol.source.CartoDB.prototype.unset);goog.exportProperty(ol.source.CartoDB.prototype,'changed',ol.source.CartoDB.prototype.changed);goog.exportProperty(ol.source.CartoDB.prototype,'dispatchEvent',ol.source.CartoDB.prototype.dispatchEvent);goog.exportProperty(ol.source.CartoDB.prototype,'getRevision',ol.source.CartoDB.prototype.getRevision);goog.exportProperty(ol.source.CartoDB.prototype,'on',ol.source.CartoDB.prototype.on);goog.exportProperty(ol.source.CartoDB.prototype,'once',ol.source.CartoDB.prototype.once);goog.exportProperty(ol.source.CartoDB.prototype,'un',ol.source.CartoDB.prototype.un);goog.exportProperty(ol.source.Vector.prototype,'getAttributions',ol.source.Vector.prototype.getAttributions);goog.exportProperty(ol.source.Vector.prototype,'getLogo',ol.source.Vector.prototype.getLogo);goog.exportProperty(ol.source.Vector.prototype,'getProjection',ol.source.Vector.prototype.getProjection);goog.exportProperty(ol.source.Vector.prototype,'getState',ol.source.Vector.prototype.getState);goog.exportProperty(ol.source.Vector.prototype,'refresh',ol.source.Vector.prototype.refresh);goog.exportProperty(ol.source.Vector.prototype,'setAttributions',ol.source.Vector.prototype.setAttributions);goog.exportProperty(ol.source.Vector.prototype,'get',ol.source.Vector.prototype.get);goog.exportProperty(ol.source.Vector.prototype,'getKeys',ol.source.Vector.prototype.getKeys);goog.exportProperty(ol.source.Vector.prototype,'getProperties',ol.source.Vector.prototype.getProperties);goog.exportProperty(ol.source.Vector.prototype,'set',ol.source.Vector.prototype.set);goog.exportProperty(ol.source.Vector.prototype,'setProperties',ol.source.Vector.prototype.setProperties);goog.exportProperty(ol.source.Vector.prototype,'unset',ol.source.Vector.prototype.unset);goog.exportProperty(ol.source.Vector.prototype,'changed',ol.source.Vector.prototype.changed);goog.exportProperty(ol.source.Vector.prototype,'dispatchEvent',ol.source.Vector.prototype.dispatchEvent);goog.exportProperty(ol.source.Vector.prototype,'getRevision',ol.source.Vector.prototype.getRevision);goog.exportProperty(ol.source.Vector.prototype,'on',ol.source.Vector.prototype.on);goog.exportProperty(ol.source.Vector.prototype,'once',ol.source.Vector.prototype.once);goog.exportProperty(ol.source.Vector.prototype,'un',ol.source.Vector.prototype.un);goog.exportProperty(ol.source.Cluster.prototype,'addFeature',ol.source.Cluster.prototype.addFeature);goog.exportProperty(ol.source.Cluster.prototype,'addFeatures',ol.source.Cluster.prototype.addFeatures);goog.exportProperty(ol.source.Cluster.prototype,'clear',ol.source.Cluster.prototype.clear);goog.exportProperty(ol.source.Cluster.prototype,'forEachFeature',ol.source.Cluster.prototype.forEachFeature);goog.exportProperty(ol.source.Cluster.prototype,'forEachFeatureInExtent',ol.source.Cluster.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Cluster.prototype,'forEachFeatureIntersectingExtent',ol.source.Cluster.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Cluster.prototype,'getFeaturesCollection',ol.source.Cluster.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Cluster.prototype,'getFeatures',ol.source.Cluster.prototype.getFeatures);goog.exportProperty(ol.source.Cluster.prototype,'getFeaturesAtCoordinate',ol.source.Cluster.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Cluster.prototype,'getFeaturesInExtent',ol.source.Cluster.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Cluster.prototype,'getClosestFeatureToCoordinate',ol.source.Cluster.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Cluster.prototype,'getExtent',ol.source.Cluster.prototype.getExtent);goog.exportProperty(ol.source.Cluster.prototype,'getFeatureById',ol.source.Cluster.prototype.getFeatureById);goog.exportProperty(ol.source.Cluster.prototype,'getFormat',ol.source.Cluster.prototype.getFormat);goog.exportProperty(ol.source.Cluster.prototype,'getUrl',ol.source.Cluster.prototype.getUrl);goog.exportProperty(ol.source.Cluster.prototype,'removeLoadedExtent',ol.source.Cluster.prototype.removeLoadedExtent);goog.exportProperty(ol.source.Cluster.prototype,'removeFeature',ol.source.Cluster.prototype.removeFeature);goog.exportProperty(ol.source.Cluster.prototype,'setLoader',ol.source.Cluster.prototype.setLoader);goog.exportProperty(ol.source.Cluster.prototype,'getAttributions',ol.source.Cluster.prototype.getAttributions);goog.exportProperty(ol.source.Cluster.prototype,'getLogo',ol.source.Cluster.prototype.getLogo);goog.exportProperty(ol.source.Cluster.prototype,'getProjection',ol.source.Cluster.prototype.getProjection);goog.exportProperty(ol.source.Cluster.prototype,'getState',ol.source.Cluster.prototype.getState);goog.exportProperty(ol.source.Cluster.prototype,'refresh',ol.source.Cluster.prototype.refresh);goog.exportProperty(ol.source.Cluster.prototype,'setAttributions',ol.source.Cluster.prototype.setAttributions);goog.exportProperty(ol.source.Cluster.prototype,'get',ol.source.Cluster.prototype.get);goog.exportProperty(ol.source.Cluster.prototype,'getKeys',ol.source.Cluster.prototype.getKeys);goog.exportProperty(ol.source.Cluster.prototype,'getProperties',ol.source.Cluster.prototype.getProperties);goog.exportProperty(ol.source.Cluster.prototype,'set',ol.source.Cluster.prototype.set);goog.exportProperty(ol.source.Cluster.prototype,'setProperties',ol.source.Cluster.prototype.setProperties);goog.exportProperty(ol.source.Cluster.prototype,'unset',ol.source.Cluster.prototype.unset);goog.exportProperty(ol.source.Cluster.prototype,'changed',ol.source.Cluster.prototype.changed);goog.exportProperty(ol.source.Cluster.prototype,'dispatchEvent',ol.source.Cluster.prototype.dispatchEvent);goog.exportProperty(ol.source.Cluster.prototype,'getRevision',ol.source.Cluster.prototype.getRevision);goog.exportProperty(ol.source.Cluster.prototype,'on',ol.source.Cluster.prototype.on);goog.exportProperty(ol.source.Cluster.prototype,'once',ol.source.Cluster.prototype.once);goog.exportProperty(ol.source.Cluster.prototype,'un',ol.source.Cluster.prototype.un);goog.exportProperty(ol.source.Image.prototype,'getAttributions',ol.source.Image.prototype.getAttributions);goog.exportProperty(ol.source.Image.prototype,'getLogo',ol.source.Image.prototype.getLogo);goog.exportProperty(ol.source.Image.prototype,'getProjection',ol.source.Image.prototype.getProjection);goog.exportProperty(ol.source.Image.prototype,'getState',ol.source.Image.prototype.getState);goog.exportProperty(ol.source.Image.prototype,'refresh',ol.source.Image.prototype.refresh);goog.exportProperty(ol.source.Image.prototype,'setAttributions',ol.source.Image.prototype.setAttributions);goog.exportProperty(ol.source.Image.prototype,'get',ol.source.Image.prototype.get);goog.exportProperty(ol.source.Image.prototype,'getKeys',ol.source.Image.prototype.getKeys);goog.exportProperty(ol.source.Image.prototype,'getProperties',ol.source.Image.prototype.getProperties);goog.exportProperty(ol.source.Image.prototype,'set',ol.source.Image.prototype.set);goog.exportProperty(ol.source.Image.prototype,'setProperties',ol.source.Image.prototype.setProperties);goog.exportProperty(ol.source.Image.prototype,'unset',ol.source.Image.prototype.unset);goog.exportProperty(ol.source.Image.prototype,'changed',ol.source.Image.prototype.changed);goog.exportProperty(ol.source.Image.prototype,'dispatchEvent',ol.source.Image.prototype.dispatchEvent);goog.exportProperty(ol.source.Image.prototype,'getRevision',ol.source.Image.prototype.getRevision);goog.exportProperty(ol.source.Image.prototype,'on',ol.source.Image.prototype.on);goog.exportProperty(ol.source.Image.prototype,'once',ol.source.Image.prototype.once);goog.exportProperty(ol.source.Image.prototype,'un',ol.source.Image.prototype.un);goog.exportProperty(ol.source.Image.Event.prototype,'type',ol.source.Image.Event.prototype.type);goog.exportProperty(ol.source.Image.Event.prototype,'target',ol.source.Image.Event.prototype.target);goog.exportProperty(ol.source.Image.Event.prototype,'preventDefault',ol.source.Image.Event.prototype.preventDefault);goog.exportProperty(ol.source.Image.Event.prototype,'stopPropagation',ol.source.Image.Event.prototype.stopPropagation);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getAttributions',ol.source.ImageArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getLogo',ol.source.ImageArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getProjection',ol.source.ImageArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getState',ol.source.ImageArcGISRest.prototype.getState);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'refresh',ol.source.ImageArcGISRest.prototype.refresh);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'setAttributions',ol.source.ImageArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'get',ol.source.ImageArcGISRest.prototype.get);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getKeys',ol.source.ImageArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getProperties',ol.source.ImageArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'set',ol.source.ImageArcGISRest.prototype.set);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'setProperties',ol.source.ImageArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'unset',ol.source.ImageArcGISRest.prototype.unset);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'changed',ol.source.ImageArcGISRest.prototype.changed);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'dispatchEvent',ol.source.ImageArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'getRevision',ol.source.ImageArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'on',ol.source.ImageArcGISRest.prototype.on);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'once',ol.source.ImageArcGISRest.prototype.once);goog.exportProperty(ol.source.ImageArcGISRest.prototype,'un',ol.source.ImageArcGISRest.prototype.un);goog.exportProperty(ol.source.ImageCanvas.prototype,'getAttributions',ol.source.ImageCanvas.prototype.getAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,'getLogo',ol.source.ImageCanvas.prototype.getLogo);goog.exportProperty(ol.source.ImageCanvas.prototype,'getProjection',ol.source.ImageCanvas.prototype.getProjection);goog.exportProperty(ol.source.ImageCanvas.prototype,'getState',ol.source.ImageCanvas.prototype.getState);goog.exportProperty(ol.source.ImageCanvas.prototype,'refresh',ol.source.ImageCanvas.prototype.refresh);goog.exportProperty(ol.source.ImageCanvas.prototype,'setAttributions',ol.source.ImageCanvas.prototype.setAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,'get',ol.source.ImageCanvas.prototype.get);goog.exportProperty(ol.source.ImageCanvas.prototype,'getKeys',ol.source.ImageCanvas.prototype.getKeys);goog.exportProperty(ol.source.ImageCanvas.prototype,'getProperties',ol.source.ImageCanvas.prototype.getProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,'set',ol.source.ImageCanvas.prototype.set);goog.exportProperty(ol.source.ImageCanvas.prototype,'setProperties',ol.source.ImageCanvas.prototype.setProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,'unset',ol.source.ImageCanvas.prototype.unset);goog.exportProperty(ol.source.ImageCanvas.prototype,'changed',ol.source.ImageCanvas.prototype.changed);goog.exportProperty(ol.source.ImageCanvas.prototype,'dispatchEvent',ol.source.ImageCanvas.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageCanvas.prototype,'getRevision',ol.source.ImageCanvas.prototype.getRevision);goog.exportProperty(ol.source.ImageCanvas.prototype,'on',ol.source.ImageCanvas.prototype.on);goog.exportProperty(ol.source.ImageCanvas.prototype,'once',ol.source.ImageCanvas.prototype.once);goog.exportProperty(ol.source.ImageCanvas.prototype,'un',ol.source.ImageCanvas.prototype.un);goog.exportProperty(ol.source.ImageMapGuide.prototype,'getAttributions',ol.source.ImageMapGuide.prototype.getAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,'getLogo',ol.source.ImageMapGuide.prototype.getLogo);goog.exportProperty(ol.source.ImageMapGuide.prototype,'getProjection',ol.source.ImageMapGuide.prototype.getProjection);goog.exportProperty(ol.source.ImageMapGuide.prototype,'getState',ol.source.ImageMapGuide.prototype.getState);goog.exportProperty(ol.source.ImageMapGuide.prototype,'refresh',ol.source.ImageMapGuide.prototype.refresh);goog.exportProperty(ol.source.ImageMapGuide.prototype,'setAttributions',ol.source.ImageMapGuide.prototype.setAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,'get',ol.source.ImageMapGuide.prototype.get);goog.exportProperty(ol.source.ImageMapGuide.prototype,'getKeys',ol.source.ImageMapGuide.prototype.getKeys);goog.exportProperty(ol.source.ImageMapGuide.prototype,'getProperties',ol.source.ImageMapGuide.prototype.getProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,'set',ol.source.ImageMapGuide.prototype.set);goog.exportProperty(ol.source.ImageMapGuide.prototype,'setProperties',ol.source.ImageMapGuide.prototype.setProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,'unset',ol.source.ImageMapGuide.prototype.unset);goog.exportProperty(ol.source.ImageMapGuide.prototype,'changed',ol.source.ImageMapGuide.prototype.changed);goog.exportProperty(ol.source.ImageMapGuide.prototype,'dispatchEvent',ol.source.ImageMapGuide.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageMapGuide.prototype,'getRevision',ol.source.ImageMapGuide.prototype.getRevision);goog.exportProperty(ol.source.ImageMapGuide.prototype,'on',ol.source.ImageMapGuide.prototype.on);goog.exportProperty(ol.source.ImageMapGuide.prototype,'once',ol.source.ImageMapGuide.prototype.once);goog.exportProperty(ol.source.ImageMapGuide.prototype,'un',ol.source.ImageMapGuide.prototype.un);goog.exportProperty(ol.source.ImageStatic.prototype,'getAttributions',ol.source.ImageStatic.prototype.getAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,'getLogo',ol.source.ImageStatic.prototype.getLogo);goog.exportProperty(ol.source.ImageStatic.prototype,'getProjection',ol.source.ImageStatic.prototype.getProjection);goog.exportProperty(ol.source.ImageStatic.prototype,'getState',ol.source.ImageStatic.prototype.getState);goog.exportProperty(ol.source.ImageStatic.prototype,'refresh',ol.source.ImageStatic.prototype.refresh);goog.exportProperty(ol.source.ImageStatic.prototype,'setAttributions',ol.source.ImageStatic.prototype.setAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,'get',ol.source.ImageStatic.prototype.get);goog.exportProperty(ol.source.ImageStatic.prototype,'getKeys',ol.source.ImageStatic.prototype.getKeys);goog.exportProperty(ol.source.ImageStatic.prototype,'getProperties',ol.source.ImageStatic.prototype.getProperties);goog.exportProperty(ol.source.ImageStatic.prototype,'set',ol.source.ImageStatic.prototype.set);goog.exportProperty(ol.source.ImageStatic.prototype,'setProperties',ol.source.ImageStatic.prototype.setProperties);goog.exportProperty(ol.source.ImageStatic.prototype,'unset',ol.source.ImageStatic.prototype.unset);goog.exportProperty(ol.source.ImageStatic.prototype,'changed',ol.source.ImageStatic.prototype.changed);goog.exportProperty(ol.source.ImageStatic.prototype,'dispatchEvent',ol.source.ImageStatic.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageStatic.prototype,'getRevision',ol.source.ImageStatic.prototype.getRevision);goog.exportProperty(ol.source.ImageStatic.prototype,'on',ol.source.ImageStatic.prototype.on);goog.exportProperty(ol.source.ImageStatic.prototype,'once',ol.source.ImageStatic.prototype.once);goog.exportProperty(ol.source.ImageStatic.prototype,'un',ol.source.ImageStatic.prototype.un);goog.exportProperty(ol.source.ImageVector.prototype,'getAttributions',ol.source.ImageVector.prototype.getAttributions);goog.exportProperty(ol.source.ImageVector.prototype,'getLogo',ol.source.ImageVector.prototype.getLogo);goog.exportProperty(ol.source.ImageVector.prototype,'getProjection',ol.source.ImageVector.prototype.getProjection);goog.exportProperty(ol.source.ImageVector.prototype,'getState',ol.source.ImageVector.prototype.getState);goog.exportProperty(ol.source.ImageVector.prototype,'refresh',ol.source.ImageVector.prototype.refresh);goog.exportProperty(ol.source.ImageVector.prototype,'setAttributions',ol.source.ImageVector.prototype.setAttributions);goog.exportProperty(ol.source.ImageVector.prototype,'get',ol.source.ImageVector.prototype.get);goog.exportProperty(ol.source.ImageVector.prototype,'getKeys',ol.source.ImageVector.prototype.getKeys);goog.exportProperty(ol.source.ImageVector.prototype,'getProperties',ol.source.ImageVector.prototype.getProperties);goog.exportProperty(ol.source.ImageVector.prototype,'set',ol.source.ImageVector.prototype.set);goog.exportProperty(ol.source.ImageVector.prototype,'setProperties',ol.source.ImageVector.prototype.setProperties);goog.exportProperty(ol.source.ImageVector.prototype,'unset',ol.source.ImageVector.prototype.unset);goog.exportProperty(ol.source.ImageVector.prototype,'changed',ol.source.ImageVector.prototype.changed);goog.exportProperty(ol.source.ImageVector.prototype,'dispatchEvent',ol.source.ImageVector.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageVector.prototype,'getRevision',ol.source.ImageVector.prototype.getRevision);goog.exportProperty(ol.source.ImageVector.prototype,'on',ol.source.ImageVector.prototype.on);goog.exportProperty(ol.source.ImageVector.prototype,'once',ol.source.ImageVector.prototype.once);goog.exportProperty(ol.source.ImageVector.prototype,'un',ol.source.ImageVector.prototype.un);goog.exportProperty(ol.source.ImageWMS.prototype,'getAttributions',ol.source.ImageWMS.prototype.getAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,'getLogo',ol.source.ImageWMS.prototype.getLogo);goog.exportProperty(ol.source.ImageWMS.prototype,'getProjection',ol.source.ImageWMS.prototype.getProjection);goog.exportProperty(ol.source.ImageWMS.prototype,'getState',ol.source.ImageWMS.prototype.getState);goog.exportProperty(ol.source.ImageWMS.prototype,'refresh',ol.source.ImageWMS.prototype.refresh);goog.exportProperty(ol.source.ImageWMS.prototype,'setAttributions',ol.source.ImageWMS.prototype.setAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,'get',ol.source.ImageWMS.prototype.get);goog.exportProperty(ol.source.ImageWMS.prototype,'getKeys',ol.source.ImageWMS.prototype.getKeys);goog.exportProperty(ol.source.ImageWMS.prototype,'getProperties',ol.source.ImageWMS.prototype.getProperties);goog.exportProperty(ol.source.ImageWMS.prototype,'set',ol.source.ImageWMS.prototype.set);goog.exportProperty(ol.source.ImageWMS.prototype,'setProperties',ol.source.ImageWMS.prototype.setProperties);goog.exportProperty(ol.source.ImageWMS.prototype,'unset',ol.source.ImageWMS.prototype.unset);goog.exportProperty(ol.source.ImageWMS.prototype,'changed',ol.source.ImageWMS.prototype.changed);goog.exportProperty(ol.source.ImageWMS.prototype,'dispatchEvent',ol.source.ImageWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageWMS.prototype,'getRevision',ol.source.ImageWMS.prototype.getRevision);goog.exportProperty(ol.source.ImageWMS.prototype,'on',ol.source.ImageWMS.prototype.on);goog.exportProperty(ol.source.ImageWMS.prototype,'once',ol.source.ImageWMS.prototype.once);goog.exportProperty(ol.source.ImageWMS.prototype,'un',ol.source.ImageWMS.prototype.un);goog.exportProperty(ol.source.OSM.prototype,'setRenderReprojectionEdges',ol.source.OSM.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.OSM.prototype,'setTileGridForProjection',ol.source.OSM.prototype.setTileGridForProjection);goog.exportProperty(ol.source.OSM.prototype,'getTileLoadFunction',ol.source.OSM.prototype.getTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,'getTileUrlFunction',ol.source.OSM.prototype.getTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,'getUrls',ol.source.OSM.prototype.getUrls);goog.exportProperty(ol.source.OSM.prototype,'setTileLoadFunction',ol.source.OSM.prototype.setTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,'setTileUrlFunction',ol.source.OSM.prototype.setTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,'setUrl',ol.source.OSM.prototype.setUrl);goog.exportProperty(ol.source.OSM.prototype,'setUrls',ol.source.OSM.prototype.setUrls);goog.exportProperty(ol.source.OSM.prototype,'getTileGrid',ol.source.OSM.prototype.getTileGrid);goog.exportProperty(ol.source.OSM.prototype,'refresh',ol.source.OSM.prototype.refresh);goog.exportProperty(ol.source.OSM.prototype,'getAttributions',ol.source.OSM.prototype.getAttributions);goog.exportProperty(ol.source.OSM.prototype,'getLogo',ol.source.OSM.prototype.getLogo);goog.exportProperty(ol.source.OSM.prototype,'getProjection',ol.source.OSM.prototype.getProjection);goog.exportProperty(ol.source.OSM.prototype,'getState',ol.source.OSM.prototype.getState);goog.exportProperty(ol.source.OSM.prototype,'setAttributions',ol.source.OSM.prototype.setAttributions);goog.exportProperty(ol.source.OSM.prototype,'get',ol.source.OSM.prototype.get);goog.exportProperty(ol.source.OSM.prototype,'getKeys',ol.source.OSM.prototype.getKeys);goog.exportProperty(ol.source.OSM.prototype,'getProperties',ol.source.OSM.prototype.getProperties);goog.exportProperty(ol.source.OSM.prototype,'set',ol.source.OSM.prototype.set);goog.exportProperty(ol.source.OSM.prototype,'setProperties',ol.source.OSM.prototype.setProperties);goog.exportProperty(ol.source.OSM.prototype,'unset',ol.source.OSM.prototype.unset);goog.exportProperty(ol.source.OSM.prototype,'changed',ol.source.OSM.prototype.changed);goog.exportProperty(ol.source.OSM.prototype,'dispatchEvent',ol.source.OSM.prototype.dispatchEvent);goog.exportProperty(ol.source.OSM.prototype,'getRevision',ol.source.OSM.prototype.getRevision);goog.exportProperty(ol.source.OSM.prototype,'on',ol.source.OSM.prototype.on);goog.exportProperty(ol.source.OSM.prototype,'once',ol.source.OSM.prototype.once);goog.exportProperty(ol.source.OSM.prototype,'un',ol.source.OSM.prototype.un);goog.exportProperty(ol.source.Raster.prototype,'getAttributions',ol.source.Raster.prototype.getAttributions);goog.exportProperty(ol.source.Raster.prototype,'getLogo',ol.source.Raster.prototype.getLogo);goog.exportProperty(ol.source.Raster.prototype,'getProjection',ol.source.Raster.prototype.getProjection);goog.exportProperty(ol.source.Raster.prototype,'getState',ol.source.Raster.prototype.getState);goog.exportProperty(ol.source.Raster.prototype,'refresh',ol.source.Raster.prototype.refresh);goog.exportProperty(ol.source.Raster.prototype,'setAttributions',ol.source.Raster.prototype.setAttributions);goog.exportProperty(ol.source.Raster.prototype,'get',ol.source.Raster.prototype.get);goog.exportProperty(ol.source.Raster.prototype,'getKeys',ol.source.Raster.prototype.getKeys);goog.exportProperty(ol.source.Raster.prototype,'getProperties',ol.source.Raster.prototype.getProperties);goog.exportProperty(ol.source.Raster.prototype,'set',ol.source.Raster.prototype.set);goog.exportProperty(ol.source.Raster.prototype,'setProperties',ol.source.Raster.prototype.setProperties);goog.exportProperty(ol.source.Raster.prototype,'unset',ol.source.Raster.prototype.unset);goog.exportProperty(ol.source.Raster.prototype,'changed',ol.source.Raster.prototype.changed);goog.exportProperty(ol.source.Raster.prototype,'dispatchEvent',ol.source.Raster.prototype.dispatchEvent);goog.exportProperty(ol.source.Raster.prototype,'getRevision',ol.source.Raster.prototype.getRevision);goog.exportProperty(ol.source.Raster.prototype,'on',ol.source.Raster.prototype.on);goog.exportProperty(ol.source.Raster.prototype,'once',ol.source.Raster.prototype.once);goog.exportProperty(ol.source.Raster.prototype,'un',ol.source.Raster.prototype.un);goog.exportProperty(ol.source.Raster.Event.prototype,'type',ol.source.Raster.Event.prototype.type);goog.exportProperty(ol.source.Raster.Event.prototype,'target',ol.source.Raster.Event.prototype.target);goog.exportProperty(ol.source.Raster.Event.prototype,'preventDefault',ol.source.Raster.Event.prototype.preventDefault);goog.exportProperty(ol.source.Raster.Event.prototype,'stopPropagation',ol.source.Raster.Event.prototype.stopPropagation);goog.exportProperty(ol.source.Stamen.prototype,'setRenderReprojectionEdges',ol.source.Stamen.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Stamen.prototype,'setTileGridForProjection',ol.source.Stamen.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Stamen.prototype,'getTileLoadFunction',ol.source.Stamen.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,'getTileUrlFunction',ol.source.Stamen.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,'getUrls',ol.source.Stamen.prototype.getUrls);goog.exportProperty(ol.source.Stamen.prototype,'setTileLoadFunction',ol.source.Stamen.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,'setTileUrlFunction',ol.source.Stamen.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,'setUrl',ol.source.Stamen.prototype.setUrl);goog.exportProperty(ol.source.Stamen.prototype,'setUrls',ol.source.Stamen.prototype.setUrls);goog.exportProperty(ol.source.Stamen.prototype,'getTileGrid',ol.source.Stamen.prototype.getTileGrid);goog.exportProperty(ol.source.Stamen.prototype,'refresh',ol.source.Stamen.prototype.refresh);goog.exportProperty(ol.source.Stamen.prototype,'getAttributions',ol.source.Stamen.prototype.getAttributions);goog.exportProperty(ol.source.Stamen.prototype,'getLogo',ol.source.Stamen.prototype.getLogo);goog.exportProperty(ol.source.Stamen.prototype,'getProjection',ol.source.Stamen.prototype.getProjection);goog.exportProperty(ol.source.Stamen.prototype,'getState',ol.source.Stamen.prototype.getState);goog.exportProperty(ol.source.Stamen.prototype,'setAttributions',ol.source.Stamen.prototype.setAttributions);goog.exportProperty(ol.source.Stamen.prototype,'get',ol.source.Stamen.prototype.get);goog.exportProperty(ol.source.Stamen.prototype,'getKeys',ol.source.Stamen.prototype.getKeys);goog.exportProperty(ol.source.Stamen.prototype,'getProperties',ol.source.Stamen.prototype.getProperties);goog.exportProperty(ol.source.Stamen.prototype,'set',ol.source.Stamen.prototype.set);goog.exportProperty(ol.source.Stamen.prototype,'setProperties',ol.source.Stamen.prototype.setProperties);goog.exportProperty(ol.source.Stamen.prototype,'unset',ol.source.Stamen.prototype.unset);goog.exportProperty(ol.source.Stamen.prototype,'changed',ol.source.Stamen.prototype.changed);goog.exportProperty(ol.source.Stamen.prototype,'dispatchEvent',ol.source.Stamen.prototype.dispatchEvent);goog.exportProperty(ol.source.Stamen.prototype,'getRevision',ol.source.Stamen.prototype.getRevision);goog.exportProperty(ol.source.Stamen.prototype,'on',ol.source.Stamen.prototype.on);goog.exportProperty(ol.source.Stamen.prototype,'once',ol.source.Stamen.prototype.once);goog.exportProperty(ol.source.Stamen.prototype,'un',ol.source.Stamen.prototype.un);goog.exportProperty(ol.source.Tile.Event.prototype,'type',ol.source.Tile.Event.prototype.type);goog.exportProperty(ol.source.Tile.Event.prototype,'target',ol.source.Tile.Event.prototype.target);goog.exportProperty(ol.source.Tile.Event.prototype,'preventDefault',ol.source.Tile.Event.prototype.preventDefault);goog.exportProperty(ol.source.Tile.Event.prototype,'stopPropagation',ol.source.Tile.Event.prototype.stopPropagation);goog.exportProperty(ol.source.TileArcGISRest.prototype,'setRenderReprojectionEdges',ol.source.TileArcGISRest.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileArcGISRest.prototype,'setTileGridForProjection',ol.source.TileArcGISRest.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getTileLoadFunction',ol.source.TileArcGISRest.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getTileUrlFunction',ol.source.TileArcGISRest.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getUrls',ol.source.TileArcGISRest.prototype.getUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,'setTileLoadFunction',ol.source.TileArcGISRest.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,'setTileUrlFunction',ol.source.TileArcGISRest.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,'setUrl',ol.source.TileArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.TileArcGISRest.prototype,'setUrls',ol.source.TileArcGISRest.prototype.setUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getTileGrid',ol.source.TileArcGISRest.prototype.getTileGrid);goog.exportProperty(ol.source.TileArcGISRest.prototype,'refresh',ol.source.TileArcGISRest.prototype.refresh);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getAttributions',ol.source.TileArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getLogo',ol.source.TileArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getProjection',ol.source.TileArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getState',ol.source.TileArcGISRest.prototype.getState);goog.exportProperty(ol.source.TileArcGISRest.prototype,'setAttributions',ol.source.TileArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,'get',ol.source.TileArcGISRest.prototype.get);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getKeys',ol.source.TileArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getProperties',ol.source.TileArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,'set',ol.source.TileArcGISRest.prototype.set);goog.exportProperty(ol.source.TileArcGISRest.prototype,'setProperties',ol.source.TileArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,'unset',ol.source.TileArcGISRest.prototype.unset);goog.exportProperty(ol.source.TileArcGISRest.prototype,'changed',ol.source.TileArcGISRest.prototype.changed);goog.exportProperty(ol.source.TileArcGISRest.prototype,'dispatchEvent',ol.source.TileArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.TileArcGISRest.prototype,'getRevision',ol.source.TileArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.TileArcGISRest.prototype,'on',ol.source.TileArcGISRest.prototype.on);goog.exportProperty(ol.source.TileArcGISRest.prototype,'once',ol.source.TileArcGISRest.prototype.once);goog.exportProperty(ol.source.TileArcGISRest.prototype,'un',ol.source.TileArcGISRest.prototype.un);goog.exportProperty(ol.source.TileDebug.prototype,'getTileGrid',ol.source.TileDebug.prototype.getTileGrid);goog.exportProperty(ol.source.TileDebug.prototype,'refresh',ol.source.TileDebug.prototype.refresh);goog.exportProperty(ol.source.TileDebug.prototype,'getAttributions',ol.source.TileDebug.prototype.getAttributions);goog.exportProperty(ol.source.TileDebug.prototype,'getLogo',ol.source.TileDebug.prototype.getLogo);goog.exportProperty(ol.source.TileDebug.prototype,'getProjection',ol.source.TileDebug.prototype.getProjection);goog.exportProperty(ol.source.TileDebug.prototype,'getState',ol.source.TileDebug.prototype.getState);goog.exportProperty(ol.source.TileDebug.prototype,'setAttributions',ol.source.TileDebug.prototype.setAttributions);goog.exportProperty(ol.source.TileDebug.prototype,'get',ol.source.TileDebug.prototype.get);goog.exportProperty(ol.source.TileDebug.prototype,'getKeys',ol.source.TileDebug.prototype.getKeys);goog.exportProperty(ol.source.TileDebug.prototype,'getProperties',ol.source.TileDebug.prototype.getProperties);goog.exportProperty(ol.source.TileDebug.prototype,'set',ol.source.TileDebug.prototype.set);goog.exportProperty(ol.source.TileDebug.prototype,'setProperties',ol.source.TileDebug.prototype.setProperties);goog.exportProperty(ol.source.TileDebug.prototype,'unset',ol.source.TileDebug.prototype.unset);goog.exportProperty(ol.source.TileDebug.prototype,'changed',ol.source.TileDebug.prototype.changed);goog.exportProperty(ol.source.TileDebug.prototype,'dispatchEvent',ol.source.TileDebug.prototype.dispatchEvent);goog.exportProperty(ol.source.TileDebug.prototype,'getRevision',ol.source.TileDebug.prototype.getRevision);goog.exportProperty(ol.source.TileDebug.prototype,'on',ol.source.TileDebug.prototype.on);goog.exportProperty(ol.source.TileDebug.prototype,'once',ol.source.TileDebug.prototype.once);goog.exportProperty(ol.source.TileDebug.prototype,'un',ol.source.TileDebug.prototype.un);goog.exportProperty(ol.source.TileJSON.prototype,'setRenderReprojectionEdges',ol.source.TileJSON.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileJSON.prototype,'setTileGridForProjection',ol.source.TileJSON.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileJSON.prototype,'getTileLoadFunction',ol.source.TileJSON.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,'getTileUrlFunction',ol.source.TileJSON.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,'getUrls',ol.source.TileJSON.prototype.getUrls);goog.exportProperty(ol.source.TileJSON.prototype,'setTileLoadFunction',ol.source.TileJSON.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,'setTileUrlFunction',ol.source.TileJSON.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,'setUrl',ol.source.TileJSON.prototype.setUrl);goog.exportProperty(ol.source.TileJSON.prototype,'setUrls',ol.source.TileJSON.prototype.setUrls);goog.exportProperty(ol.source.TileJSON.prototype,'getTileGrid',ol.source.TileJSON.prototype.getTileGrid);goog.exportProperty(ol.source.TileJSON.prototype,'refresh',ol.source.TileJSON.prototype.refresh);goog.exportProperty(ol.source.TileJSON.prototype,'getAttributions',ol.source.TileJSON.prototype.getAttributions);goog.exportProperty(ol.source.TileJSON.prototype,'getLogo',ol.source.TileJSON.prototype.getLogo);goog.exportProperty(ol.source.TileJSON.prototype,'getProjection',ol.source.TileJSON.prototype.getProjection);goog.exportProperty(ol.source.TileJSON.prototype,'getState',ol.source.TileJSON.prototype.getState);goog.exportProperty(ol.source.TileJSON.prototype,'setAttributions',ol.source.TileJSON.prototype.setAttributions);goog.exportProperty(ol.source.TileJSON.prototype,'get',ol.source.TileJSON.prototype.get);goog.exportProperty(ol.source.TileJSON.prototype,'getKeys',ol.source.TileJSON.prototype.getKeys);goog.exportProperty(ol.source.TileJSON.prototype,'getProperties',ol.source.TileJSON.prototype.getProperties);goog.exportProperty(ol.source.TileJSON.prototype,'set',ol.source.TileJSON.prototype.set);goog.exportProperty(ol.source.TileJSON.prototype,'setProperties',ol.source.TileJSON.prototype.setProperties);goog.exportProperty(ol.source.TileJSON.prototype,'unset',ol.source.TileJSON.prototype.unset);goog.exportProperty(ol.source.TileJSON.prototype,'changed',ol.source.TileJSON.prototype.changed);goog.exportProperty(ol.source.TileJSON.prototype,'dispatchEvent',ol.source.TileJSON.prototype.dispatchEvent);goog.exportProperty(ol.source.TileJSON.prototype,'getRevision',ol.source.TileJSON.prototype.getRevision);goog.exportProperty(ol.source.TileJSON.prototype,'on',ol.source.TileJSON.prototype.on);goog.exportProperty(ol.source.TileJSON.prototype,'once',ol.source.TileJSON.prototype.once);goog.exportProperty(ol.source.TileJSON.prototype,'un',ol.source.TileJSON.prototype.un);goog.exportProperty(ol.source.TileUTFGrid.prototype,'getTileGrid',ol.source.TileUTFGrid.prototype.getTileGrid);goog.exportProperty(ol.source.TileUTFGrid.prototype,'refresh',ol.source.TileUTFGrid.prototype.refresh);goog.exportProperty(ol.source.TileUTFGrid.prototype,'getAttributions',ol.source.TileUTFGrid.prototype.getAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,'getLogo',ol.source.TileUTFGrid.prototype.getLogo);goog.exportProperty(ol.source.TileUTFGrid.prototype,'getProjection',ol.source.TileUTFGrid.prototype.getProjection);goog.exportProperty(ol.source.TileUTFGrid.prototype,'getState',ol.source.TileUTFGrid.prototype.getState);goog.exportProperty(ol.source.TileUTFGrid.prototype,'setAttributions',ol.source.TileUTFGrid.prototype.setAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,'get',ol.source.TileUTFGrid.prototype.get);goog.exportProperty(ol.source.TileUTFGrid.prototype,'getKeys',ol.source.TileUTFGrid.prototype.getKeys);goog.exportProperty(ol.source.TileUTFGrid.prototype,'getProperties',ol.source.TileUTFGrid.prototype.getProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,'set',ol.source.TileUTFGrid.prototype.set);goog.exportProperty(ol.source.TileUTFGrid.prototype,'setProperties',ol.source.TileUTFGrid.prototype.setProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,'unset',ol.source.TileUTFGrid.prototype.unset);goog.exportProperty(ol.source.TileUTFGrid.prototype,'changed',ol.source.TileUTFGrid.prototype.changed);goog.exportProperty(ol.source.TileUTFGrid.prototype,'dispatchEvent',ol.source.TileUTFGrid.prototype.dispatchEvent);goog.exportProperty(ol.source.TileUTFGrid.prototype,'getRevision',ol.source.TileUTFGrid.prototype.getRevision);goog.exportProperty(ol.source.TileUTFGrid.prototype,'on',ol.source.TileUTFGrid.prototype.on);goog.exportProperty(ol.source.TileUTFGrid.prototype,'once',ol.source.TileUTFGrid.prototype.once);goog.exportProperty(ol.source.TileUTFGrid.prototype,'un',ol.source.TileUTFGrid.prototype.un);goog.exportProperty(ol.source.TileWMS.prototype,'setRenderReprojectionEdges',ol.source.TileWMS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileWMS.prototype,'setTileGridForProjection',ol.source.TileWMS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileWMS.prototype,'getTileLoadFunction',ol.source.TileWMS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,'getTileUrlFunction',ol.source.TileWMS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,'getUrls',ol.source.TileWMS.prototype.getUrls);goog.exportProperty(ol.source.TileWMS.prototype,'setTileLoadFunction',ol.source.TileWMS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,'setTileUrlFunction',ol.source.TileWMS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,'setUrl',ol.source.TileWMS.prototype.setUrl);goog.exportProperty(ol.source.TileWMS.prototype,'setUrls',ol.source.TileWMS.prototype.setUrls);goog.exportProperty(ol.source.TileWMS.prototype,'getTileGrid',ol.source.TileWMS.prototype.getTileGrid);goog.exportProperty(ol.source.TileWMS.prototype,'refresh',ol.source.TileWMS.prototype.refresh);goog.exportProperty(ol.source.TileWMS.prototype,'getAttributions',ol.source.TileWMS.prototype.getAttributions);goog.exportProperty(ol.source.TileWMS.prototype,'getLogo',ol.source.TileWMS.prototype.getLogo);goog.exportProperty(ol.source.TileWMS.prototype,'getProjection',ol.source.TileWMS.prototype.getProjection);goog.exportProperty(ol.source.TileWMS.prototype,'getState',ol.source.TileWMS.prototype.getState);goog.exportProperty(ol.source.TileWMS.prototype,'setAttributions',ol.source.TileWMS.prototype.setAttributions);goog.exportProperty(ol.source.TileWMS.prototype,'get',ol.source.TileWMS.prototype.get);goog.exportProperty(ol.source.TileWMS.prototype,'getKeys',ol.source.TileWMS.prototype.getKeys);goog.exportProperty(ol.source.TileWMS.prototype,'getProperties',ol.source.TileWMS.prototype.getProperties);goog.exportProperty(ol.source.TileWMS.prototype,'set',ol.source.TileWMS.prototype.set);goog.exportProperty(ol.source.TileWMS.prototype,'setProperties',ol.source.TileWMS.prototype.setProperties);goog.exportProperty(ol.source.TileWMS.prototype,'unset',ol.source.TileWMS.prototype.unset);goog.exportProperty(ol.source.TileWMS.prototype,'changed',ol.source.TileWMS.prototype.changed);goog.exportProperty(ol.source.TileWMS.prototype,'dispatchEvent',ol.source.TileWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.TileWMS.prototype,'getRevision',ol.source.TileWMS.prototype.getRevision);goog.exportProperty(ol.source.TileWMS.prototype,'on',ol.source.TileWMS.prototype.on);goog.exportProperty(ol.source.TileWMS.prototype,'once',ol.source.TileWMS.prototype.once);goog.exportProperty(ol.source.TileWMS.prototype,'un',ol.source.TileWMS.prototype.un);goog.exportProperty(ol.source.Vector.Event.prototype,'type',ol.source.Vector.Event.prototype.type);goog.exportProperty(ol.source.Vector.Event.prototype,'target',ol.source.Vector.Event.prototype.target);goog.exportProperty(ol.source.Vector.Event.prototype,'preventDefault',ol.source.Vector.Event.prototype.preventDefault);goog.exportProperty(ol.source.Vector.Event.prototype,'stopPropagation',ol.source.Vector.Event.prototype.stopPropagation);goog.exportProperty(ol.source.VectorTile.prototype,'getTileLoadFunction',ol.source.VectorTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,'getTileUrlFunction',ol.source.VectorTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,'getUrls',ol.source.VectorTile.prototype.getUrls);goog.exportProperty(ol.source.VectorTile.prototype,'setTileLoadFunction',ol.source.VectorTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,'setTileUrlFunction',ol.source.VectorTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,'setUrl',ol.source.VectorTile.prototype.setUrl);goog.exportProperty(ol.source.VectorTile.prototype,'setUrls',ol.source.VectorTile.prototype.setUrls);goog.exportProperty(ol.source.VectorTile.prototype,'getTileGrid',ol.source.VectorTile.prototype.getTileGrid);goog.exportProperty(ol.source.VectorTile.prototype,'refresh',ol.source.VectorTile.prototype.refresh);goog.exportProperty(ol.source.VectorTile.prototype,'getAttributions',ol.source.VectorTile.prototype.getAttributions);goog.exportProperty(ol.source.VectorTile.prototype,'getLogo',ol.source.VectorTile.prototype.getLogo);goog.exportProperty(ol.source.VectorTile.prototype,'getProjection',ol.source.VectorTile.prototype.getProjection);goog.exportProperty(ol.source.VectorTile.prototype,'getState',ol.source.VectorTile.prototype.getState);goog.exportProperty(ol.source.VectorTile.prototype,'setAttributions',ol.source.VectorTile.prototype.setAttributions);goog.exportProperty(ol.source.VectorTile.prototype,'get',ol.source.VectorTile.prototype.get);goog.exportProperty(ol.source.VectorTile.prototype,'getKeys',ol.source.VectorTile.prototype.getKeys);goog.exportProperty(ol.source.VectorTile.prototype,'getProperties',ol.source.VectorTile.prototype.getProperties);goog.exportProperty(ol.source.VectorTile.prototype,'set',ol.source.VectorTile.prototype.set);goog.exportProperty(ol.source.VectorTile.prototype,'setProperties',ol.source.VectorTile.prototype.setProperties);goog.exportProperty(ol.source.VectorTile.prototype,'unset',ol.source.VectorTile.prototype.unset);goog.exportProperty(ol.source.VectorTile.prototype,'changed',ol.source.VectorTile.prototype.changed);goog.exportProperty(ol.source.VectorTile.prototype,'dispatchEvent',ol.source.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.source.VectorTile.prototype,'getRevision',ol.source.VectorTile.prototype.getRevision);goog.exportProperty(ol.source.VectorTile.prototype,'on',ol.source.VectorTile.prototype.on);goog.exportProperty(ol.source.VectorTile.prototype,'once',ol.source.VectorTile.prototype.once);goog.exportProperty(ol.source.VectorTile.prototype,'un',ol.source.VectorTile.prototype.un);goog.exportProperty(ol.source.WMTS.prototype,'setRenderReprojectionEdges',ol.source.WMTS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.WMTS.prototype,'setTileGridForProjection',ol.source.WMTS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.WMTS.prototype,'getTileLoadFunction',ol.source.WMTS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,'getTileUrlFunction',ol.source.WMTS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,'getUrls',ol.source.WMTS.prototype.getUrls);goog.exportProperty(ol.source.WMTS.prototype,'setTileLoadFunction',ol.source.WMTS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,'setTileUrlFunction',ol.source.WMTS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,'setUrl',ol.source.WMTS.prototype.setUrl);goog.exportProperty(ol.source.WMTS.prototype,'setUrls',ol.source.WMTS.prototype.setUrls);goog.exportProperty(ol.source.WMTS.prototype,'getTileGrid',ol.source.WMTS.prototype.getTileGrid);goog.exportProperty(ol.source.WMTS.prototype,'refresh',ol.source.WMTS.prototype.refresh);goog.exportProperty(ol.source.WMTS.prototype,'getAttributions',ol.source.WMTS.prototype.getAttributions);goog.exportProperty(ol.source.WMTS.prototype,'getLogo',ol.source.WMTS.prototype.getLogo);goog.exportProperty(ol.source.WMTS.prototype,'getProjection',ol.source.WMTS.prototype.getProjection);goog.exportProperty(ol.source.WMTS.prototype,'getState',ol.source.WMTS.prototype.getState);goog.exportProperty(ol.source.WMTS.prototype,'setAttributions',ol.source.WMTS.prototype.setAttributions);goog.exportProperty(ol.source.WMTS.prototype,'get',ol.source.WMTS.prototype.get);goog.exportProperty(ol.source.WMTS.prototype,'getKeys',ol.source.WMTS.prototype.getKeys);goog.exportProperty(ol.source.WMTS.prototype,'getProperties',ol.source.WMTS.prototype.getProperties);goog.exportProperty(ol.source.WMTS.prototype,'set',ol.source.WMTS.prototype.set);goog.exportProperty(ol.source.WMTS.prototype,'setProperties',ol.source.WMTS.prototype.setProperties);goog.exportProperty(ol.source.WMTS.prototype,'unset',ol.source.WMTS.prototype.unset);goog.exportProperty(ol.source.WMTS.prototype,'changed',ol.source.WMTS.prototype.changed);goog.exportProperty(ol.source.WMTS.prototype,'dispatchEvent',ol.source.WMTS.prototype.dispatchEvent);goog.exportProperty(ol.source.WMTS.prototype,'getRevision',ol.source.WMTS.prototype.getRevision);goog.exportProperty(ol.source.WMTS.prototype,'on',ol.source.WMTS.prototype.on);goog.exportProperty(ol.source.WMTS.prototype,'once',ol.source.WMTS.prototype.once);goog.exportProperty(ol.source.WMTS.prototype,'un',ol.source.WMTS.prototype.un);goog.exportProperty(ol.source.Zoomify.prototype,'setRenderReprojectionEdges',ol.source.Zoomify.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Zoomify.prototype,'setTileGridForProjection',ol.source.Zoomify.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Zoomify.prototype,'getTileLoadFunction',ol.source.Zoomify.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,'getTileUrlFunction',ol.source.Zoomify.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,'getUrls',ol.source.Zoomify.prototype.getUrls);goog.exportProperty(ol.source.Zoomify.prototype,'setTileLoadFunction',ol.source.Zoomify.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,'setTileUrlFunction',ol.source.Zoomify.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,'setUrl',ol.source.Zoomify.prototype.setUrl);goog.exportProperty(ol.source.Zoomify.prototype,'setUrls',ol.source.Zoomify.prototype.setUrls);goog.exportProperty(ol.source.Zoomify.prototype,'getTileGrid',ol.source.Zoomify.prototype.getTileGrid);goog.exportProperty(ol.source.Zoomify.prototype,'refresh',ol.source.Zoomify.prototype.refresh);goog.exportProperty(ol.source.Zoomify.prototype,'getAttributions',ol.source.Zoomify.prototype.getAttributions);goog.exportProperty(ol.source.Zoomify.prototype,'getLogo',ol.source.Zoomify.prototype.getLogo);goog.exportProperty(ol.source.Zoomify.prototype,'getProjection',ol.source.Zoomify.prototype.getProjection);goog.exportProperty(ol.source.Zoomify.prototype,'getState',ol.source.Zoomify.prototype.getState);goog.exportProperty(ol.source.Zoomify.prototype,'setAttributions',ol.source.Zoomify.prototype.setAttributions);goog.exportProperty(ol.source.Zoomify.prototype,'get',ol.source.Zoomify.prototype.get);goog.exportProperty(ol.source.Zoomify.prototype,'getKeys',ol.source.Zoomify.prototype.getKeys);goog.exportProperty(ol.source.Zoomify.prototype,'getProperties',ol.source.Zoomify.prototype.getProperties);goog.exportProperty(ol.source.Zoomify.prototype,'set',ol.source.Zoomify.prototype.set);goog.exportProperty(ol.source.Zoomify.prototype,'setProperties',ol.source.Zoomify.prototype.setProperties);goog.exportProperty(ol.source.Zoomify.prototype,'unset',ol.source.Zoomify.prototype.unset);goog.exportProperty(ol.source.Zoomify.prototype,'changed',ol.source.Zoomify.prototype.changed);goog.exportProperty(ol.source.Zoomify.prototype,'dispatchEvent',ol.source.Zoomify.prototype.dispatchEvent);goog.exportProperty(ol.source.Zoomify.prototype,'getRevision',ol.source.Zoomify.prototype.getRevision);goog.exportProperty(ol.source.Zoomify.prototype,'on',ol.source.Zoomify.prototype.on);goog.exportProperty(ol.source.Zoomify.prototype,'once',ol.source.Zoomify.prototype.once);goog.exportProperty(ol.source.Zoomify.prototype,'un',ol.source.Zoomify.prototype.un);goog.exportProperty(ol.reproj.Tile.prototype,'getTileCoord',ol.reproj.Tile.prototype.getTileCoord);goog.exportProperty(ol.reproj.Tile.prototype,'load',ol.reproj.Tile.prototype.load);goog.exportProperty(ol.renderer.Layer.prototype,'changed',ol.renderer.Layer.prototype.changed);goog.exportProperty(ol.renderer.Layer.prototype,'dispatchEvent',ol.renderer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.Layer.prototype,'getRevision',ol.renderer.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.Layer.prototype,'on',ol.renderer.Layer.prototype.on);goog.exportProperty(ol.renderer.Layer.prototype,'once',ol.renderer.Layer.prototype.once);goog.exportProperty(ol.renderer.Layer.prototype,'un',ol.renderer.Layer.prototype.un);goog.exportProperty(ol.renderer.webgl.Layer.prototype,'changed',ol.renderer.webgl.Layer.prototype.changed);goog.exportProperty(ol.renderer.webgl.Layer.prototype,'dispatchEvent',ol.renderer.webgl.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.Layer.prototype,'getRevision',ol.renderer.webgl.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.Layer.prototype,'on',ol.renderer.webgl.Layer.prototype.on);goog.exportProperty(ol.renderer.webgl.Layer.prototype,'once',ol.renderer.webgl.Layer.prototype.once);goog.exportProperty(ol.renderer.webgl.Layer.prototype,'un',ol.renderer.webgl.Layer.prototype.un);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,'changed',ol.renderer.webgl.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,'dispatchEvent',ol.renderer.webgl.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,'getRevision',ol.renderer.webgl.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,'on',ol.renderer.webgl.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,'once',ol.renderer.webgl.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,'un',ol.renderer.webgl.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,'changed',ol.renderer.webgl.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,'dispatchEvent',ol.renderer.webgl.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,'getRevision',ol.renderer.webgl.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,'on',ol.renderer.webgl.TileLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,'once',ol.renderer.webgl.TileLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,'un',ol.renderer.webgl.TileLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,'changed',ol.renderer.webgl.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,'dispatchEvent',ol.renderer.webgl.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,'getRevision',ol.renderer.webgl.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,'on',ol.renderer.webgl.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,'once',ol.renderer.webgl.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,'un',ol.renderer.webgl.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.Layer.prototype,'changed',ol.renderer.canvas.Layer.prototype.changed);goog.exportProperty(ol.renderer.canvas.Layer.prototype,'dispatchEvent',ol.renderer.canvas.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.Layer.prototype,'getRevision',ol.renderer.canvas.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.Layer.prototype,'on',ol.renderer.canvas.Layer.prototype.on);goog.exportProperty(ol.renderer.canvas.Layer.prototype,'once',ol.renderer.canvas.Layer.prototype.once);goog.exportProperty(ol.renderer.canvas.Layer.prototype,'un',ol.renderer.canvas.Layer.prototype.un);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,'changed',ol.renderer.canvas.IntermediateCanvas.prototype.changed);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,'dispatchEvent',ol.renderer.canvas.IntermediateCanvas.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,'getRevision',ol.renderer.canvas.IntermediateCanvas.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,'on',ol.renderer.canvas.IntermediateCanvas.prototype.on);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,'once',ol.renderer.canvas.IntermediateCanvas.prototype.once);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,'un',ol.renderer.canvas.IntermediateCanvas.prototype.un);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,'changed',ol.renderer.canvas.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,'dispatchEvent',ol.renderer.canvas.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,'getRevision',ol.renderer.canvas.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,'on',ol.renderer.canvas.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,'once',ol.renderer.canvas.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,'un',ol.renderer.canvas.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,'changed',ol.renderer.canvas.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,'dispatchEvent',ol.renderer.canvas.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,'getRevision',ol.renderer.canvas.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,'on',ol.renderer.canvas.TileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,'once',ol.renderer.canvas.TileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,'un',ol.renderer.canvas.TileLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,'changed',ol.renderer.canvas.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,'dispatchEvent',ol.renderer.canvas.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,'getRevision',ol.renderer.canvas.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,'on',ol.renderer.canvas.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,'once',ol.renderer.canvas.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,'un',ol.renderer.canvas.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,'changed',ol.renderer.canvas.VectorTileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,'dispatchEvent',ol.renderer.canvas.VectorTileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,'getRevision',ol.renderer.canvas.VectorTileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,'on',ol.renderer.canvas.VectorTileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,'once',ol.renderer.canvas.VectorTileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,'un',ol.renderer.canvas.VectorTileLayer.prototype.un);goog.exportProperty(ol.render.Event.prototype,'type',ol.render.Event.prototype.type);goog.exportProperty(ol.render.Event.prototype,'target',ol.render.Event.prototype.target);goog.exportProperty(ol.render.Event.prototype,'preventDefault',ol.render.Event.prototype.preventDefault);goog.exportProperty(ol.render.Event.prototype,'stopPropagation',ol.render.Event.prototype.stopPropagation);goog.exportProperty(ol.pointer.PointerEvent.prototype,'type',ol.pointer.PointerEvent.prototype.type);goog.exportProperty(ol.pointer.PointerEvent.prototype,'target',ol.pointer.PointerEvent.prototype.target);goog.exportProperty(ol.pointer.PointerEvent.prototype,'preventDefault',ol.pointer.PointerEvent.prototype.preventDefault);goog.exportProperty(ol.pointer.PointerEvent.prototype,'stopPropagation',ol.pointer.PointerEvent.prototype.stopPropagation);goog.exportProperty(ol.layer.Base.prototype,'get',ol.layer.Base.prototype.get);goog.exportProperty(ol.layer.Base.prototype,'getKeys',ol.layer.Base.prototype.getKeys);goog.exportProperty(ol.layer.Base.prototype,'getProperties',ol.layer.Base.prototype.getProperties);goog.exportProperty(ol.layer.Base.prototype,'set',ol.layer.Base.prototype.set);goog.exportProperty(ol.layer.Base.prototype,'setProperties',ol.layer.Base.prototype.setProperties);goog.exportProperty(ol.layer.Base.prototype,'unset',ol.layer.Base.prototype.unset);goog.exportProperty(ol.layer.Base.prototype,'changed',ol.layer.Base.prototype.changed);goog.exportProperty(ol.layer.Base.prototype,'dispatchEvent',ol.layer.Base.prototype.dispatchEvent);goog.exportProperty(ol.layer.Base.prototype,'getRevision',ol.layer.Base.prototype.getRevision);goog.exportProperty(ol.layer.Base.prototype,'on',ol.layer.Base.prototype.on);goog.exportProperty(ol.layer.Base.prototype,'once',ol.layer.Base.prototype.once);goog.exportProperty(ol.layer.Base.prototype,'un',ol.layer.Base.prototype.un);goog.exportProperty(ol.layer.Group.prototype,'getExtent',ol.layer.Group.prototype.getExtent);goog.exportProperty(ol.layer.Group.prototype,'getMaxResolution',ol.layer.Group.prototype.getMaxResolution);goog.exportProperty(ol.layer.Group.prototype,'getMinResolution',ol.layer.Group.prototype.getMinResolution);goog.exportProperty(ol.layer.Group.prototype,'getOpacity',ol.layer.Group.prototype.getOpacity);goog.exportProperty(ol.layer.Group.prototype,'getVisible',ol.layer.Group.prototype.getVisible);goog.exportProperty(ol.layer.Group.prototype,'getZIndex',ol.layer.Group.prototype.getZIndex);goog.exportProperty(ol.layer.Group.prototype,'setExtent',ol.layer.Group.prototype.setExtent);goog.exportProperty(ol.layer.Group.prototype,'setMaxResolution',ol.layer.Group.prototype.setMaxResolution);goog.exportProperty(ol.layer.Group.prototype,'setMinResolution',ol.layer.Group.prototype.setMinResolution);goog.exportProperty(ol.layer.Group.prototype,'setOpacity',ol.layer.Group.prototype.setOpacity);goog.exportProperty(ol.layer.Group.prototype,'setVisible',ol.layer.Group.prototype.setVisible);goog.exportProperty(ol.layer.Group.prototype,'setZIndex',ol.layer.Group.prototype.setZIndex);goog.exportProperty(ol.layer.Group.prototype,'get',ol.layer.Group.prototype.get);goog.exportProperty(ol.layer.Group.prototype,'getKeys',ol.layer.Group.prototype.getKeys);goog.exportProperty(ol.layer.Group.prototype,'getProperties',ol.layer.Group.prototype.getProperties);goog.exportProperty(ol.layer.Group.prototype,'set',ol.layer.Group.prototype.set);goog.exportProperty(ol.layer.Group.prototype,'setProperties',ol.layer.Group.prototype.setProperties);goog.exportProperty(ol.layer.Group.prototype,'unset',ol.layer.Group.prototype.unset);goog.exportProperty(ol.layer.Group.prototype,'changed',ol.layer.Group.prototype.changed);goog.exportProperty(ol.layer.Group.prototype,'dispatchEvent',ol.layer.Group.prototype.dispatchEvent);goog.exportProperty(ol.layer.Group.prototype,'getRevision',ol.layer.Group.prototype.getRevision);goog.exportProperty(ol.layer.Group.prototype,'on',ol.layer.Group.prototype.on);goog.exportProperty(ol.layer.Group.prototype,'once',ol.layer.Group.prototype.once);goog.exportProperty(ol.layer.Group.prototype,'un',ol.layer.Group.prototype.un);goog.exportProperty(ol.layer.Layer.prototype,'getExtent',ol.layer.Layer.prototype.getExtent);goog.exportProperty(ol.layer.Layer.prototype,'getMaxResolution',ol.layer.Layer.prototype.getMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,'getMinResolution',ol.layer.Layer.prototype.getMinResolution);goog.exportProperty(ol.layer.Layer.prototype,'getOpacity',ol.layer.Layer.prototype.getOpacity);goog.exportProperty(ol.layer.Layer.prototype,'getVisible',ol.layer.Layer.prototype.getVisible);goog.exportProperty(ol.layer.Layer.prototype,'getZIndex',ol.layer.Layer.prototype.getZIndex);goog.exportProperty(ol.layer.Layer.prototype,'setExtent',ol.layer.Layer.prototype.setExtent);goog.exportProperty(ol.layer.Layer.prototype,'setMaxResolution',ol.layer.Layer.prototype.setMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,'setMinResolution',ol.layer.Layer.prototype.setMinResolution);goog.exportProperty(ol.layer.Layer.prototype,'setOpacity',ol.layer.Layer.prototype.setOpacity);goog.exportProperty(ol.layer.Layer.prototype,'setVisible',ol.layer.Layer.prototype.setVisible);goog.exportProperty(ol.layer.Layer.prototype,'setZIndex',ol.layer.Layer.prototype.setZIndex);goog.exportProperty(ol.layer.Layer.prototype,'get',ol.layer.Layer.prototype.get);goog.exportProperty(ol.layer.Layer.prototype,'getKeys',ol.layer.Layer.prototype.getKeys);goog.exportProperty(ol.layer.Layer.prototype,'getProperties',ol.layer.Layer.prototype.getProperties);goog.exportProperty(ol.layer.Layer.prototype,'set',ol.layer.Layer.prototype.set);goog.exportProperty(ol.layer.Layer.prototype,'setProperties',ol.layer.Layer.prototype.setProperties);goog.exportProperty(ol.layer.Layer.prototype,'unset',ol.layer.Layer.prototype.unset);goog.exportProperty(ol.layer.Layer.prototype,'changed',ol.layer.Layer.prototype.changed);goog.exportProperty(ol.layer.Layer.prototype,'dispatchEvent',ol.layer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.layer.Layer.prototype,'getRevision',ol.layer.Layer.prototype.getRevision);goog.exportProperty(ol.layer.Layer.prototype,'on',ol.layer.Layer.prototype.on);goog.exportProperty(ol.layer.Layer.prototype,'once',ol.layer.Layer.prototype.once);goog.exportProperty(ol.layer.Layer.prototype,'un',ol.layer.Layer.prototype.un);goog.exportProperty(ol.layer.Vector.prototype,'setMap',ol.layer.Vector.prototype.setMap);goog.exportProperty(ol.layer.Vector.prototype,'setSource',ol.layer.Vector.prototype.setSource);goog.exportProperty(ol.layer.Vector.prototype,'getExtent',ol.layer.Vector.prototype.getExtent);goog.exportProperty(ol.layer.Vector.prototype,'getMaxResolution',ol.layer.Vector.prototype.getMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,'getMinResolution',ol.layer.Vector.prototype.getMinResolution);goog.exportProperty(ol.layer.Vector.prototype,'getOpacity',ol.layer.Vector.prototype.getOpacity);goog.exportProperty(ol.layer.Vector.prototype,'getVisible',ol.layer.Vector.prototype.getVisible);goog.exportProperty(ol.layer.Vector.prototype,'getZIndex',ol.layer.Vector.prototype.getZIndex);goog.exportProperty(ol.layer.Vector.prototype,'setExtent',ol.layer.Vector.prototype.setExtent);goog.exportProperty(ol.layer.Vector.prototype,'setMaxResolution',ol.layer.Vector.prototype.setMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,'setMinResolution',ol.layer.Vector.prototype.setMinResolution);goog.exportProperty(ol.layer.Vector.prototype,'setOpacity',ol.layer.Vector.prototype.setOpacity);goog.exportProperty(ol.layer.Vector.prototype,'setVisible',ol.layer.Vector.prototype.setVisible);goog.exportProperty(ol.layer.Vector.prototype,'setZIndex',ol.layer.Vector.prototype.setZIndex);goog.exportProperty(ol.layer.Vector.prototype,'get',ol.layer.Vector.prototype.get);goog.exportProperty(ol.layer.Vector.prototype,'getKeys',ol.layer.Vector.prototype.getKeys);goog.exportProperty(ol.layer.Vector.prototype,'getProperties',ol.layer.Vector.prototype.getProperties);goog.exportProperty(ol.layer.Vector.prototype,'set',ol.layer.Vector.prototype.set);goog.exportProperty(ol.layer.Vector.prototype,'setProperties',ol.layer.Vector.prototype.setProperties);goog.exportProperty(ol.layer.Vector.prototype,'unset',ol.layer.Vector.prototype.unset);goog.exportProperty(ol.layer.Vector.prototype,'changed',ol.layer.Vector.prototype.changed);goog.exportProperty(ol.layer.Vector.prototype,'dispatchEvent',ol.layer.Vector.prototype.dispatchEvent);goog.exportProperty(ol.layer.Vector.prototype,'getRevision',ol.layer.Vector.prototype.getRevision);goog.exportProperty(ol.layer.Vector.prototype,'on',ol.layer.Vector.prototype.on);goog.exportProperty(ol.layer.Vector.prototype,'once',ol.layer.Vector.prototype.once);goog.exportProperty(ol.layer.Vector.prototype,'un',ol.layer.Vector.prototype.un);goog.exportProperty(ol.layer.Heatmap.prototype,'getSource',ol.layer.Heatmap.prototype.getSource);goog.exportProperty(ol.layer.Heatmap.prototype,'getStyle',ol.layer.Heatmap.prototype.getStyle);goog.exportProperty(ol.layer.Heatmap.prototype,'getStyleFunction',ol.layer.Heatmap.prototype.getStyleFunction);goog.exportProperty(ol.layer.Heatmap.prototype,'setStyle',ol.layer.Heatmap.prototype.setStyle);goog.exportProperty(ol.layer.Heatmap.prototype,'setMap',ol.layer.Heatmap.prototype.setMap);goog.exportProperty(ol.layer.Heatmap.prototype,'setSource',ol.layer.Heatmap.prototype.setSource);goog.exportProperty(ol.layer.Heatmap.prototype,'getExtent',ol.layer.Heatmap.prototype.getExtent);goog.exportProperty(ol.layer.Heatmap.prototype,'getMaxResolution',ol.layer.Heatmap.prototype.getMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,'getMinResolution',ol.layer.Heatmap.prototype.getMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,'getOpacity',ol.layer.Heatmap.prototype.getOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,'getVisible',ol.layer.Heatmap.prototype.getVisible);goog.exportProperty(ol.layer.Heatmap.prototype,'getZIndex',ol.layer.Heatmap.prototype.getZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,'setExtent',ol.layer.Heatmap.prototype.setExtent);goog.exportProperty(ol.layer.Heatmap.prototype,'setMaxResolution',ol.layer.Heatmap.prototype.setMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,'setMinResolution',ol.layer.Heatmap.prototype.setMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,'setOpacity',ol.layer.Heatmap.prototype.setOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,'setVisible',ol.layer.Heatmap.prototype.setVisible);goog.exportProperty(ol.layer.Heatmap.prototype,'setZIndex',ol.layer.Heatmap.prototype.setZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,'get',ol.layer.Heatmap.prototype.get);goog.exportProperty(ol.layer.Heatmap.prototype,'getKeys',ol.layer.Heatmap.prototype.getKeys);goog.exportProperty(ol.layer.Heatmap.prototype,'getProperties',ol.layer.Heatmap.prototype.getProperties);goog.exportProperty(ol.layer.Heatmap.prototype,'set',ol.layer.Heatmap.prototype.set);goog.exportProperty(ol.layer.Heatmap.prototype,'setProperties',ol.layer.Heatmap.prototype.setProperties);goog.exportProperty(ol.layer.Heatmap.prototype,'unset',ol.layer.Heatmap.prototype.unset);goog.exportProperty(ol.layer.Heatmap.prototype,'changed',ol.layer.Heatmap.prototype.changed);goog.exportProperty(ol.layer.Heatmap.prototype,'dispatchEvent',ol.layer.Heatmap.prototype.dispatchEvent);goog.exportProperty(ol.layer.Heatmap.prototype,'getRevision',ol.layer.Heatmap.prototype.getRevision);goog.exportProperty(ol.layer.Heatmap.prototype,'on',ol.layer.Heatmap.prototype.on);goog.exportProperty(ol.layer.Heatmap.prototype,'once',ol.layer.Heatmap.prototype.once);goog.exportProperty(ol.layer.Heatmap.prototype,'un',ol.layer.Heatmap.prototype.un);goog.exportProperty(ol.layer.Image.prototype,'setMap',ol.layer.Image.prototype.setMap);goog.exportProperty(ol.layer.Image.prototype,'setSource',ol.layer.Image.prototype.setSource);goog.exportProperty(ol.layer.Image.prototype,'getExtent',ol.layer.Image.prototype.getExtent);goog.exportProperty(ol.layer.Image.prototype,'getMaxResolution',ol.layer.Image.prototype.getMaxResolution);goog.exportProperty(ol.layer.Image.prototype,'getMinResolution',ol.layer.Image.prototype.getMinResolution);goog.exportProperty(ol.layer.Image.prototype,'getOpacity',ol.layer.Image.prototype.getOpacity);goog.exportProperty(ol.layer.Image.prototype,'getVisible',ol.layer.Image.prototype.getVisible);goog.exportProperty(ol.layer.Image.prototype,'getZIndex',ol.layer.Image.prototype.getZIndex);goog.exportProperty(ol.layer.Image.prototype,'setExtent',ol.layer.Image.prototype.setExtent);goog.exportProperty(ol.layer.Image.prototype,'setMaxResolution',ol.layer.Image.prototype.setMaxResolution);goog.exportProperty(ol.layer.Image.prototype,'setMinResolution',ol.layer.Image.prototype.setMinResolution);goog.exportProperty(ol.layer.Image.prototype,'setOpacity',ol.layer.Image.prototype.setOpacity);goog.exportProperty(ol.layer.Image.prototype,'setVisible',ol.layer.Image.prototype.setVisible);goog.exportProperty(ol.layer.Image.prototype,'setZIndex',ol.layer.Image.prototype.setZIndex);goog.exportProperty(ol.layer.Image.prototype,'get',ol.layer.Image.prototype.get);goog.exportProperty(ol.layer.Image.prototype,'getKeys',ol.layer.Image.prototype.getKeys);goog.exportProperty(ol.layer.Image.prototype,'getProperties',ol.layer.Image.prototype.getProperties);goog.exportProperty(ol.layer.Image.prototype,'set',ol.layer.Image.prototype.set);goog.exportProperty(ol.layer.Image.prototype,'setProperties',ol.layer.Image.prototype.setProperties);goog.exportProperty(ol.layer.Image.prototype,'unset',ol.layer.Image.prototype.unset);goog.exportProperty(ol.layer.Image.prototype,'changed',ol.layer.Image.prototype.changed);goog.exportProperty(ol.layer.Image.prototype,'dispatchEvent',ol.layer.Image.prototype.dispatchEvent);goog.exportProperty(ol.layer.Image.prototype,'getRevision',ol.layer.Image.prototype.getRevision);goog.exportProperty(ol.layer.Image.prototype,'on',ol.layer.Image.prototype.on);goog.exportProperty(ol.layer.Image.prototype,'once',ol.layer.Image.prototype.once);goog.exportProperty(ol.layer.Image.prototype,'un',ol.layer.Image.prototype.un);goog.exportProperty(ol.layer.Tile.prototype,'setMap',ol.layer.Tile.prototype.setMap);goog.exportProperty(ol.layer.Tile.prototype,'setSource',ol.layer.Tile.prototype.setSource);goog.exportProperty(ol.layer.Tile.prototype,'getExtent',ol.layer.Tile.prototype.getExtent);goog.exportProperty(ol.layer.Tile.prototype,'getMaxResolution',ol.layer.Tile.prototype.getMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,'getMinResolution',ol.layer.Tile.prototype.getMinResolution);goog.exportProperty(ol.layer.Tile.prototype,'getOpacity',ol.layer.Tile.prototype.getOpacity);goog.exportProperty(ol.layer.Tile.prototype,'getVisible',ol.layer.Tile.prototype.getVisible);goog.exportProperty(ol.layer.Tile.prototype,'getZIndex',ol.layer.Tile.prototype.getZIndex);goog.exportProperty(ol.layer.Tile.prototype,'setExtent',ol.layer.Tile.prototype.setExtent);goog.exportProperty(ol.layer.Tile.prototype,'setMaxResolution',ol.layer.Tile.prototype.setMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,'setMinResolution',ol.layer.Tile.prototype.setMinResolution);goog.exportProperty(ol.layer.Tile.prototype,'setOpacity',ol.layer.Tile.prototype.setOpacity);goog.exportProperty(ol.layer.Tile.prototype,'setVisible',ol.layer.Tile.prototype.setVisible);goog.exportProperty(ol.layer.Tile.prototype,'setZIndex',ol.layer.Tile.prototype.setZIndex);goog.exportProperty(ol.layer.Tile.prototype,'get',ol.layer.Tile.prototype.get);goog.exportProperty(ol.layer.Tile.prototype,'getKeys',ol.layer.Tile.prototype.getKeys);goog.exportProperty(ol.layer.Tile.prototype,'getProperties',ol.layer.Tile.prototype.getProperties);goog.exportProperty(ol.layer.Tile.prototype,'set',ol.layer.Tile.prototype.set);goog.exportProperty(ol.layer.Tile.prototype,'setProperties',ol.layer.Tile.prototype.setProperties);goog.exportProperty(ol.layer.Tile.prototype,'unset',ol.layer.Tile.prototype.unset);goog.exportProperty(ol.layer.Tile.prototype,'changed',ol.layer.Tile.prototype.changed);goog.exportProperty(ol.layer.Tile.prototype,'dispatchEvent',ol.layer.Tile.prototype.dispatchEvent);goog.exportProperty(ol.layer.Tile.prototype,'getRevision',ol.layer.Tile.prototype.getRevision);goog.exportProperty(ol.layer.Tile.prototype,'on',ol.layer.Tile.prototype.on);goog.exportProperty(ol.layer.Tile.prototype,'once',ol.layer.Tile.prototype.once);goog.exportProperty(ol.layer.Tile.prototype,'un',ol.layer.Tile.prototype.un);goog.exportProperty(ol.layer.VectorTile.prototype,'getStyle',ol.layer.VectorTile.prototype.getStyle);goog.exportProperty(ol.layer.VectorTile.prototype,'getStyleFunction',ol.layer.VectorTile.prototype.getStyleFunction);goog.exportProperty(ol.layer.VectorTile.prototype,'setStyle',ol.layer.VectorTile.prototype.setStyle);goog.exportProperty(ol.layer.VectorTile.prototype,'setMap',ol.layer.VectorTile.prototype.setMap);goog.exportProperty(ol.layer.VectorTile.prototype,'setSource',ol.layer.VectorTile.prototype.setSource);goog.exportProperty(ol.layer.VectorTile.prototype,'getExtent',ol.layer.VectorTile.prototype.getExtent);goog.exportProperty(ol.layer.VectorTile.prototype,'getMaxResolution',ol.layer.VectorTile.prototype.getMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,'getMinResolution',ol.layer.VectorTile.prototype.getMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,'getOpacity',ol.layer.VectorTile.prototype.getOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,'getVisible',ol.layer.VectorTile.prototype.getVisible);goog.exportProperty(ol.layer.VectorTile.prototype,'getZIndex',ol.layer.VectorTile.prototype.getZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,'setExtent',ol.layer.VectorTile.prototype.setExtent);goog.exportProperty(ol.layer.VectorTile.prototype,'setMaxResolution',ol.layer.VectorTile.prototype.setMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,'setMinResolution',ol.layer.VectorTile.prototype.setMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,'setOpacity',ol.layer.VectorTile.prototype.setOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,'setVisible',ol.layer.VectorTile.prototype.setVisible);goog.exportProperty(ol.layer.VectorTile.prototype,'setZIndex',ol.layer.VectorTile.prototype.setZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,'get',ol.layer.VectorTile.prototype.get);goog.exportProperty(ol.layer.VectorTile.prototype,'getKeys',ol.layer.VectorTile.prototype.getKeys);goog.exportProperty(ol.layer.VectorTile.prototype,'getProperties',ol.layer.VectorTile.prototype.getProperties);goog.exportProperty(ol.layer.VectorTile.prototype,'set',ol.layer.VectorTile.prototype.set);goog.exportProperty(ol.layer.VectorTile.prototype,'setProperties',ol.layer.VectorTile.prototype.setProperties);goog.exportProperty(ol.layer.VectorTile.prototype,'unset',ol.layer.VectorTile.prototype.unset);goog.exportProperty(ol.layer.VectorTile.prototype,'changed',ol.layer.VectorTile.prototype.changed);goog.exportProperty(ol.layer.VectorTile.prototype,'dispatchEvent',ol.layer.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.layer.VectorTile.prototype,'getRevision',ol.layer.VectorTile.prototype.getRevision);goog.exportProperty(ol.layer.VectorTile.prototype,'on',ol.layer.VectorTile.prototype.on);goog.exportProperty(ol.layer.VectorTile.prototype,'once',ol.layer.VectorTile.prototype.once);goog.exportProperty(ol.layer.VectorTile.prototype,'un',ol.layer.VectorTile.prototype.un);goog.exportProperty(ol.interaction.Interaction.prototype,'get',ol.interaction.Interaction.prototype.get);goog.exportProperty(ol.interaction.Interaction.prototype,'getKeys',ol.interaction.Interaction.prototype.getKeys);goog.exportProperty(ol.interaction.Interaction.prototype,'getProperties',ol.interaction.Interaction.prototype.getProperties);goog.exportProperty(ol.interaction.Interaction.prototype,'set',ol.interaction.Interaction.prototype.set);goog.exportProperty(ol.interaction.Interaction.prototype,'setProperties',ol.interaction.Interaction.prototype.setProperties);goog.exportProperty(ol.interaction.Interaction.prototype,'unset',ol.interaction.Interaction.prototype.unset);goog.exportProperty(ol.interaction.Interaction.prototype,'changed',ol.interaction.Interaction.prototype.changed);goog.exportProperty(ol.interaction.Interaction.prototype,'dispatchEvent',ol.interaction.Interaction.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Interaction.prototype,'getRevision',ol.interaction.Interaction.prototype.getRevision);goog.exportProperty(ol.interaction.Interaction.prototype,'on',ol.interaction.Interaction.prototype.on);goog.exportProperty(ol.interaction.Interaction.prototype,'once',ol.interaction.Interaction.prototype.once);goog.exportProperty(ol.interaction.Interaction.prototype,'un',ol.interaction.Interaction.prototype.un);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'getActive',ol.interaction.DoubleClickZoom.prototype.getActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'getMap',ol.interaction.DoubleClickZoom.prototype.getMap);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'setActive',ol.interaction.DoubleClickZoom.prototype.setActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'get',ol.interaction.DoubleClickZoom.prototype.get);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'getKeys',ol.interaction.DoubleClickZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'getProperties',ol.interaction.DoubleClickZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'set',ol.interaction.DoubleClickZoom.prototype.set);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'setProperties',ol.interaction.DoubleClickZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'unset',ol.interaction.DoubleClickZoom.prototype.unset);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'changed',ol.interaction.DoubleClickZoom.prototype.changed);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'dispatchEvent',ol.interaction.DoubleClickZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'getRevision',ol.interaction.DoubleClickZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'on',ol.interaction.DoubleClickZoom.prototype.on);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'once',ol.interaction.DoubleClickZoom.prototype.once);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,'un',ol.interaction.DoubleClickZoom.prototype.un);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'getActive',ol.interaction.DragAndDrop.prototype.getActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'getMap',ol.interaction.DragAndDrop.prototype.getMap);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'setActive',ol.interaction.DragAndDrop.prototype.setActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'get',ol.interaction.DragAndDrop.prototype.get);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'getKeys',ol.interaction.DragAndDrop.prototype.getKeys);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'getProperties',ol.interaction.DragAndDrop.prototype.getProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'set',ol.interaction.DragAndDrop.prototype.set);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'setProperties',ol.interaction.DragAndDrop.prototype.setProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'unset',ol.interaction.DragAndDrop.prototype.unset);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'changed',ol.interaction.DragAndDrop.prototype.changed);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'dispatchEvent',ol.interaction.DragAndDrop.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'getRevision',ol.interaction.DragAndDrop.prototype.getRevision);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'on',ol.interaction.DragAndDrop.prototype.on);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'once',ol.interaction.DragAndDrop.prototype.once);goog.exportProperty(ol.interaction.DragAndDrop.prototype,'un',ol.interaction.DragAndDrop.prototype.un);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,'type',ol.interaction.DragAndDrop.Event.prototype.type);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,'target',ol.interaction.DragAndDrop.Event.prototype.target);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,'preventDefault',ol.interaction.DragAndDrop.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,'stopPropagation',ol.interaction.DragAndDrop.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Pointer.prototype,'getActive',ol.interaction.Pointer.prototype.getActive);goog.exportProperty(ol.interaction.Pointer.prototype,'getMap',ol.interaction.Pointer.prototype.getMap);goog.exportProperty(ol.interaction.Pointer.prototype,'setActive',ol.interaction.Pointer.prototype.setActive);goog.exportProperty(ol.interaction.Pointer.prototype,'get',ol.interaction.Pointer.prototype.get);goog.exportProperty(ol.interaction.Pointer.prototype,'getKeys',ol.interaction.Pointer.prototype.getKeys);goog.exportProperty(ol.interaction.Pointer.prototype,'getProperties',ol.interaction.Pointer.prototype.getProperties);goog.exportProperty(ol.interaction.Pointer.prototype,'set',ol.interaction.Pointer.prototype.set);goog.exportProperty(ol.interaction.Pointer.prototype,'setProperties',ol.interaction.Pointer.prototype.setProperties);goog.exportProperty(ol.interaction.Pointer.prototype,'unset',ol.interaction.Pointer.prototype.unset);goog.exportProperty(ol.interaction.Pointer.prototype,'changed',ol.interaction.Pointer.prototype.changed);goog.exportProperty(ol.interaction.Pointer.prototype,'dispatchEvent',ol.interaction.Pointer.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Pointer.prototype,'getRevision',ol.interaction.Pointer.prototype.getRevision);goog.exportProperty(ol.interaction.Pointer.prototype,'on',ol.interaction.Pointer.prototype.on);goog.exportProperty(ol.interaction.Pointer.prototype,'once',ol.interaction.Pointer.prototype.once);goog.exportProperty(ol.interaction.Pointer.prototype,'un',ol.interaction.Pointer.prototype.un);goog.exportProperty(ol.interaction.DragBox.prototype,'getActive',ol.interaction.DragBox.prototype.getActive);goog.exportProperty(ol.interaction.DragBox.prototype,'getMap',ol.interaction.DragBox.prototype.getMap);goog.exportProperty(ol.interaction.DragBox.prototype,'setActive',ol.interaction.DragBox.prototype.setActive);goog.exportProperty(ol.interaction.DragBox.prototype,'get',ol.interaction.DragBox.prototype.get);goog.exportProperty(ol.interaction.DragBox.prototype,'getKeys',ol.interaction.DragBox.prototype.getKeys);goog.exportProperty(ol.interaction.DragBox.prototype,'getProperties',ol.interaction.DragBox.prototype.getProperties);goog.exportProperty(ol.interaction.DragBox.prototype,'set',ol.interaction.DragBox.prototype.set);goog.exportProperty(ol.interaction.DragBox.prototype,'setProperties',ol.interaction.DragBox.prototype.setProperties);goog.exportProperty(ol.interaction.DragBox.prototype,'unset',ol.interaction.DragBox.prototype.unset);goog.exportProperty(ol.interaction.DragBox.prototype,'changed',ol.interaction.DragBox.prototype.changed);goog.exportProperty(ol.interaction.DragBox.prototype,'dispatchEvent',ol.interaction.DragBox.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragBox.prototype,'getRevision',ol.interaction.DragBox.prototype.getRevision);goog.exportProperty(ol.interaction.DragBox.prototype,'on',ol.interaction.DragBox.prototype.on);goog.exportProperty(ol.interaction.DragBox.prototype,'once',ol.interaction.DragBox.prototype.once);goog.exportProperty(ol.interaction.DragBox.prototype,'un',ol.interaction.DragBox.prototype.un);goog.exportProperty(ol.interaction.DragBox.Event.prototype,'type',ol.interaction.DragBox.Event.prototype.type);goog.exportProperty(ol.interaction.DragBox.Event.prototype,'target',ol.interaction.DragBox.Event.prototype.target);goog.exportProperty(ol.interaction.DragBox.Event.prototype,'preventDefault',ol.interaction.DragBox.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.DragBox.Event.prototype,'stopPropagation',ol.interaction.DragBox.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.DragPan.prototype,'getActive',ol.interaction.DragPan.prototype.getActive);goog.exportProperty(ol.interaction.DragPan.prototype,'getMap',ol.interaction.DragPan.prototype.getMap);goog.exportProperty(ol.interaction.DragPan.prototype,'setActive',ol.interaction.DragPan.prototype.setActive);goog.exportProperty(ol.interaction.DragPan.prototype,'get',ol.interaction.DragPan.prototype.get);goog.exportProperty(ol.interaction.DragPan.prototype,'getKeys',ol.interaction.DragPan.prototype.getKeys);goog.exportProperty(ol.interaction.DragPan.prototype,'getProperties',ol.interaction.DragPan.prototype.getProperties);goog.exportProperty(ol.interaction.DragPan.prototype,'set',ol.interaction.DragPan.prototype.set);goog.exportProperty(ol.interaction.DragPan.prototype,'setProperties',ol.interaction.DragPan.prototype.setProperties);goog.exportProperty(ol.interaction.DragPan.prototype,'unset',ol.interaction.DragPan.prototype.unset);goog.exportProperty(ol.interaction.DragPan.prototype,'changed',ol.interaction.DragPan.prototype.changed);goog.exportProperty(ol.interaction.DragPan.prototype,'dispatchEvent',ol.interaction.DragPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragPan.prototype,'getRevision',ol.interaction.DragPan.prototype.getRevision);goog.exportProperty(ol.interaction.DragPan.prototype,'on',ol.interaction.DragPan.prototype.on);goog.exportProperty(ol.interaction.DragPan.prototype,'once',ol.interaction.DragPan.prototype.once);goog.exportProperty(ol.interaction.DragPan.prototype,'un',ol.interaction.DragPan.prototype.un);goog.exportProperty(ol.interaction.DragRotate.prototype,'getActive',ol.interaction.DragRotate.prototype.getActive);goog.exportProperty(ol.interaction.DragRotate.prototype,'getMap',ol.interaction.DragRotate.prototype.getMap);goog.exportProperty(ol.interaction.DragRotate.prototype,'setActive',ol.interaction.DragRotate.prototype.setActive);goog.exportProperty(ol.interaction.DragRotate.prototype,'get',ol.interaction.DragRotate.prototype.get);goog.exportProperty(ol.interaction.DragRotate.prototype,'getKeys',ol.interaction.DragRotate.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotate.prototype,'getProperties',ol.interaction.DragRotate.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,'set',ol.interaction.DragRotate.prototype.set);goog.exportProperty(ol.interaction.DragRotate.prototype,'setProperties',ol.interaction.DragRotate.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,'unset',ol.interaction.DragRotate.prototype.unset);goog.exportProperty(ol.interaction.DragRotate.prototype,'changed',ol.interaction.DragRotate.prototype.changed);goog.exportProperty(ol.interaction.DragRotate.prototype,'dispatchEvent',ol.interaction.DragRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotate.prototype,'getRevision',ol.interaction.DragRotate.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotate.prototype,'on',ol.interaction.DragRotate.prototype.on);goog.exportProperty(ol.interaction.DragRotate.prototype,'once',ol.interaction.DragRotate.prototype.once);goog.exportProperty(ol.interaction.DragRotate.prototype,'un',ol.interaction.DragRotate.prototype.un);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'getActive',ol.interaction.DragRotateAndZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'getMap',ol.interaction.DragRotateAndZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'setActive',ol.interaction.DragRotateAndZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'get',ol.interaction.DragRotateAndZoom.prototype.get);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'getKeys',ol.interaction.DragRotateAndZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'getProperties',ol.interaction.DragRotateAndZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'set',ol.interaction.DragRotateAndZoom.prototype.set);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'setProperties',ol.interaction.DragRotateAndZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'unset',ol.interaction.DragRotateAndZoom.prototype.unset);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'changed',ol.interaction.DragRotateAndZoom.prototype.changed);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'dispatchEvent',ol.interaction.DragRotateAndZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'getRevision',ol.interaction.DragRotateAndZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'on',ol.interaction.DragRotateAndZoom.prototype.on);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'once',ol.interaction.DragRotateAndZoom.prototype.once);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,'un',ol.interaction.DragRotateAndZoom.prototype.un);goog.exportProperty(ol.interaction.DragZoom.prototype,'getGeometry',ol.interaction.DragZoom.prototype.getGeometry);goog.exportProperty(ol.interaction.DragZoom.prototype,'getActive',ol.interaction.DragZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragZoom.prototype,'getMap',ol.interaction.DragZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragZoom.prototype,'setActive',ol.interaction.DragZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragZoom.prototype,'get',ol.interaction.DragZoom.prototype.get);goog.exportProperty(ol.interaction.DragZoom.prototype,'getKeys',ol.interaction.DragZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragZoom.prototype,'getProperties',ol.interaction.DragZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,'set',ol.interaction.DragZoom.prototype.set);goog.exportProperty(ol.interaction.DragZoom.prototype,'setProperties',ol.interaction.DragZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,'unset',ol.interaction.DragZoom.prototype.unset);goog.exportProperty(ol.interaction.DragZoom.prototype,'changed',ol.interaction.DragZoom.prototype.changed);goog.exportProperty(ol.interaction.DragZoom.prototype,'dispatchEvent',ol.interaction.DragZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragZoom.prototype,'getRevision',ol.interaction.DragZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragZoom.prototype,'on',ol.interaction.DragZoom.prototype.on);goog.exportProperty(ol.interaction.DragZoom.prototype,'once',ol.interaction.DragZoom.prototype.once);goog.exportProperty(ol.interaction.DragZoom.prototype,'un',ol.interaction.DragZoom.prototype.un);goog.exportProperty(ol.interaction.Draw.prototype,'getActive',ol.interaction.Draw.prototype.getActive);goog.exportProperty(ol.interaction.Draw.prototype,'getMap',ol.interaction.Draw.prototype.getMap);goog.exportProperty(ol.interaction.Draw.prototype,'setActive',ol.interaction.Draw.prototype.setActive);goog.exportProperty(ol.interaction.Draw.prototype,'get',ol.interaction.Draw.prototype.get);goog.exportProperty(ol.interaction.Draw.prototype,'getKeys',ol.interaction.Draw.prototype.getKeys);goog.exportProperty(ol.interaction.Draw.prototype,'getProperties',ol.interaction.Draw.prototype.getProperties);goog.exportProperty(ol.interaction.Draw.prototype,'set',ol.interaction.Draw.prototype.set);goog.exportProperty(ol.interaction.Draw.prototype,'setProperties',ol.interaction.Draw.prototype.setProperties);goog.exportProperty(ol.interaction.Draw.prototype,'unset',ol.interaction.Draw.prototype.unset);goog.exportProperty(ol.interaction.Draw.prototype,'changed',ol.interaction.Draw.prototype.changed);goog.exportProperty(ol.interaction.Draw.prototype,'dispatchEvent',ol.interaction.Draw.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Draw.prototype,'getRevision',ol.interaction.Draw.prototype.getRevision);goog.exportProperty(ol.interaction.Draw.prototype,'on',ol.interaction.Draw.prototype.on);goog.exportProperty(ol.interaction.Draw.prototype,'once',ol.interaction.Draw.prototype.once);goog.exportProperty(ol.interaction.Draw.prototype,'un',ol.interaction.Draw.prototype.un);goog.exportProperty(ol.interaction.Draw.Event.prototype,'type',ol.interaction.Draw.Event.prototype.type);goog.exportProperty(ol.interaction.Draw.Event.prototype,'target',ol.interaction.Draw.Event.prototype.target);goog.exportProperty(ol.interaction.Draw.Event.prototype,'preventDefault',ol.interaction.Draw.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Draw.Event.prototype,'stopPropagation',ol.interaction.Draw.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Extent.prototype,'getActive',ol.interaction.Extent.prototype.getActive);goog.exportProperty(ol.interaction.Extent.prototype,'getMap',ol.interaction.Extent.prototype.getMap);goog.exportProperty(ol.interaction.Extent.prototype,'setActive',ol.interaction.Extent.prototype.setActive);goog.exportProperty(ol.interaction.Extent.prototype,'get',ol.interaction.Extent.prototype.get);goog.exportProperty(ol.interaction.Extent.prototype,'getKeys',ol.interaction.Extent.prototype.getKeys);goog.exportProperty(ol.interaction.Extent.prototype,'getProperties',ol.interaction.Extent.prototype.getProperties);goog.exportProperty(ol.interaction.Extent.prototype,'set',ol.interaction.Extent.prototype.set);goog.exportProperty(ol.interaction.Extent.prototype,'setProperties',ol.interaction.Extent.prototype.setProperties);goog.exportProperty(ol.interaction.Extent.prototype,'unset',ol.interaction.Extent.prototype.unset);goog.exportProperty(ol.interaction.Extent.prototype,'changed',ol.interaction.Extent.prototype.changed);goog.exportProperty(ol.interaction.Extent.prototype,'dispatchEvent',ol.interaction.Extent.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Extent.prototype,'getRevision',ol.interaction.Extent.prototype.getRevision);goog.exportProperty(ol.interaction.Extent.prototype,'on',ol.interaction.Extent.prototype.on);goog.exportProperty(ol.interaction.Extent.prototype,'once',ol.interaction.Extent.prototype.once);goog.exportProperty(ol.interaction.Extent.prototype,'un',ol.interaction.Extent.prototype.un);goog.exportProperty(ol.interaction.Extent.Event.prototype,'type',ol.interaction.Extent.Event.prototype.type);goog.exportProperty(ol.interaction.Extent.Event.prototype,'target',ol.interaction.Extent.Event.prototype.target);goog.exportProperty(ol.interaction.Extent.Event.prototype,'preventDefault',ol.interaction.Extent.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Extent.Event.prototype,'stopPropagation',ol.interaction.Extent.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'getActive',ol.interaction.KeyboardPan.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'getMap',ol.interaction.KeyboardPan.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'setActive',ol.interaction.KeyboardPan.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'get',ol.interaction.KeyboardPan.prototype.get);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'getKeys',ol.interaction.KeyboardPan.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'getProperties',ol.interaction.KeyboardPan.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'set',ol.interaction.KeyboardPan.prototype.set);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'setProperties',ol.interaction.KeyboardPan.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'unset',ol.interaction.KeyboardPan.prototype.unset);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'changed',ol.interaction.KeyboardPan.prototype.changed);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'dispatchEvent',ol.interaction.KeyboardPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'getRevision',ol.interaction.KeyboardPan.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'on',ol.interaction.KeyboardPan.prototype.on);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'once',ol.interaction.KeyboardPan.prototype.once);goog.exportProperty(ol.interaction.KeyboardPan.prototype,'un',ol.interaction.KeyboardPan.prototype.un);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'getActive',ol.interaction.KeyboardZoom.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'getMap',ol.interaction.KeyboardZoom.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'setActive',ol.interaction.KeyboardZoom.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'get',ol.interaction.KeyboardZoom.prototype.get);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'getKeys',ol.interaction.KeyboardZoom.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'getProperties',ol.interaction.KeyboardZoom.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'set',ol.interaction.KeyboardZoom.prototype.set);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'setProperties',ol.interaction.KeyboardZoom.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'unset',ol.interaction.KeyboardZoom.prototype.unset);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'changed',ol.interaction.KeyboardZoom.prototype.changed);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'dispatchEvent',ol.interaction.KeyboardZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'getRevision',ol.interaction.KeyboardZoom.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'on',ol.interaction.KeyboardZoom.prototype.on);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'once',ol.interaction.KeyboardZoom.prototype.once);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,'un',ol.interaction.KeyboardZoom.prototype.un);goog.exportProperty(ol.interaction.Modify.prototype,'getActive',ol.interaction.Modify.prototype.getActive);goog.exportProperty(ol.interaction.Modify.prototype,'getMap',ol.interaction.Modify.prototype.getMap);goog.exportProperty(ol.interaction.Modify.prototype,'setActive',ol.interaction.Modify.prototype.setActive);goog.exportProperty(ol.interaction.Modify.prototype,'get',ol.interaction.Modify.prototype.get);goog.exportProperty(ol.interaction.Modify.prototype,'getKeys',ol.interaction.Modify.prototype.getKeys);goog.exportProperty(ol.interaction.Modify.prototype,'getProperties',ol.interaction.Modify.prototype.getProperties);goog.exportProperty(ol.interaction.Modify.prototype,'set',ol.interaction.Modify.prototype.set);goog.exportProperty(ol.interaction.Modify.prototype,'setProperties',ol.interaction.Modify.prototype.setProperties);goog.exportProperty(ol.interaction.Modify.prototype,'unset',ol.interaction.Modify.prototype.unset);goog.exportProperty(ol.interaction.Modify.prototype,'changed',ol.interaction.Modify.prototype.changed);goog.exportProperty(ol.interaction.Modify.prototype,'dispatchEvent',ol.interaction.Modify.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Modify.prototype,'getRevision',ol.interaction.Modify.prototype.getRevision);goog.exportProperty(ol.interaction.Modify.prototype,'on',ol.interaction.Modify.prototype.on);goog.exportProperty(ol.interaction.Modify.prototype,'once',ol.interaction.Modify.prototype.once);goog.exportProperty(ol.interaction.Modify.prototype,'un',ol.interaction.Modify.prototype.un);goog.exportProperty(ol.interaction.Modify.Event.prototype,'type',ol.interaction.Modify.Event.prototype.type);goog.exportProperty(ol.interaction.Modify.Event.prototype,'target',ol.interaction.Modify.Event.prototype.target);goog.exportProperty(ol.interaction.Modify.Event.prototype,'preventDefault',ol.interaction.Modify.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Modify.Event.prototype,'stopPropagation',ol.interaction.Modify.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'getActive',ol.interaction.MouseWheelZoom.prototype.getActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'getMap',ol.interaction.MouseWheelZoom.prototype.getMap);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'setActive',ol.interaction.MouseWheelZoom.prototype.setActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'get',ol.interaction.MouseWheelZoom.prototype.get);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'getKeys',ol.interaction.MouseWheelZoom.prototype.getKeys);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'getProperties',ol.interaction.MouseWheelZoom.prototype.getProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'set',ol.interaction.MouseWheelZoom.prototype.set);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'setProperties',ol.interaction.MouseWheelZoom.prototype.setProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'unset',ol.interaction.MouseWheelZoom.prototype.unset);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'changed',ol.interaction.MouseWheelZoom.prototype.changed);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'dispatchEvent',ol.interaction.MouseWheelZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'getRevision',ol.interaction.MouseWheelZoom.prototype.getRevision);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'on',ol.interaction.MouseWheelZoom.prototype.on);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'once',ol.interaction.MouseWheelZoom.prototype.once);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,'un',ol.interaction.MouseWheelZoom.prototype.un);goog.exportProperty(ol.interaction.PinchRotate.prototype,'getActive',ol.interaction.PinchRotate.prototype.getActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,'getMap',ol.interaction.PinchRotate.prototype.getMap);goog.exportProperty(ol.interaction.PinchRotate.prototype,'setActive',ol.interaction.PinchRotate.prototype.setActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,'get',ol.interaction.PinchRotate.prototype.get);goog.exportProperty(ol.interaction.PinchRotate.prototype,'getKeys',ol.interaction.PinchRotate.prototype.getKeys);goog.exportProperty(ol.interaction.PinchRotate.prototype,'getProperties',ol.interaction.PinchRotate.prototype.getProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,'set',ol.interaction.PinchRotate.prototype.set);goog.exportProperty(ol.interaction.PinchRotate.prototype,'setProperties',ol.interaction.PinchRotate.prototype.setProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,'unset',ol.interaction.PinchRotate.prototype.unset);goog.exportProperty(ol.interaction.PinchRotate.prototype,'changed',ol.interaction.PinchRotate.prototype.changed);goog.exportProperty(ol.interaction.PinchRotate.prototype,'dispatchEvent',ol.interaction.PinchRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchRotate.prototype,'getRevision',ol.interaction.PinchRotate.prototype.getRevision);goog.exportProperty(ol.interaction.PinchRotate.prototype,'on',ol.interaction.PinchRotate.prototype.on);goog.exportProperty(ol.interaction.PinchRotate.prototype,'once',ol.interaction.PinchRotate.prototype.once);goog.exportProperty(ol.interaction.PinchRotate.prototype,'un',ol.interaction.PinchRotate.prototype.un);goog.exportProperty(ol.interaction.PinchZoom.prototype,'getActive',ol.interaction.PinchZoom.prototype.getActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,'getMap',ol.interaction.PinchZoom.prototype.getMap);goog.exportProperty(ol.interaction.PinchZoom.prototype,'setActive',ol.interaction.PinchZoom.prototype.setActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,'get',ol.interaction.PinchZoom.prototype.get);goog.exportProperty(ol.interaction.PinchZoom.prototype,'getKeys',ol.interaction.PinchZoom.prototype.getKeys);goog.exportProperty(ol.interaction.PinchZoom.prototype,'getProperties',ol.interaction.PinchZoom.prototype.getProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,'set',ol.interaction.PinchZoom.prototype.set);goog.exportProperty(ol.interaction.PinchZoom.prototype,'setProperties',ol.interaction.PinchZoom.prototype.setProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,'unset',ol.interaction.PinchZoom.prototype.unset);goog.exportProperty(ol.interaction.PinchZoom.prototype,'changed',ol.interaction.PinchZoom.prototype.changed);goog.exportProperty(ol.interaction.PinchZoom.prototype,'dispatchEvent',ol.interaction.PinchZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchZoom.prototype,'getRevision',ol.interaction.PinchZoom.prototype.getRevision);goog.exportProperty(ol.interaction.PinchZoom.prototype,'on',ol.interaction.PinchZoom.prototype.on);goog.exportProperty(ol.interaction.PinchZoom.prototype,'once',ol.interaction.PinchZoom.prototype.once);goog.exportProperty(ol.interaction.PinchZoom.prototype,'un',ol.interaction.PinchZoom.prototype.un);goog.exportProperty(ol.interaction.Select.prototype,'getActive',ol.interaction.Select.prototype.getActive);goog.exportProperty(ol.interaction.Select.prototype,'getMap',ol.interaction.Select.prototype.getMap);goog.exportProperty(ol.interaction.Select.prototype,'setActive',ol.interaction.Select.prototype.setActive);goog.exportProperty(ol.interaction.Select.prototype,'get',ol.interaction.Select.prototype.get);goog.exportProperty(ol.interaction.Select.prototype,'getKeys',ol.interaction.Select.prototype.getKeys);goog.exportProperty(ol.interaction.Select.prototype,'getProperties',ol.interaction.Select.prototype.getProperties);goog.exportProperty(ol.interaction.Select.prototype,'set',ol.interaction.Select.prototype.set);goog.exportProperty(ol.interaction.Select.prototype,'setProperties',ol.interaction.Select.prototype.setProperties);goog.exportProperty(ol.interaction.Select.prototype,'unset',ol.interaction.Select.prototype.unset);goog.exportProperty(ol.interaction.Select.prototype,'changed',ol.interaction.Select.prototype.changed);goog.exportProperty(ol.interaction.Select.prototype,'dispatchEvent',ol.interaction.Select.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Select.prototype,'getRevision',ol.interaction.Select.prototype.getRevision);goog.exportProperty(ol.interaction.Select.prototype,'on',ol.interaction.Select.prototype.on);goog.exportProperty(ol.interaction.Select.prototype,'once',ol.interaction.Select.prototype.once);goog.exportProperty(ol.interaction.Select.prototype,'un',ol.interaction.Select.prototype.un);goog.exportProperty(ol.interaction.Select.Event.prototype,'type',ol.interaction.Select.Event.prototype.type);goog.exportProperty(ol.interaction.Select.Event.prototype,'target',ol.interaction.Select.Event.prototype.target);goog.exportProperty(ol.interaction.Select.Event.prototype,'preventDefault',ol.interaction.Select.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Select.Event.prototype,'stopPropagation',ol.interaction.Select.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Snap.prototype,'getActive',ol.interaction.Snap.prototype.getActive);goog.exportProperty(ol.interaction.Snap.prototype,'getMap',ol.interaction.Snap.prototype.getMap);goog.exportProperty(ol.interaction.Snap.prototype,'setActive',ol.interaction.Snap.prototype.setActive);goog.exportProperty(ol.interaction.Snap.prototype,'get',ol.interaction.Snap.prototype.get);goog.exportProperty(ol.interaction.Snap.prototype,'getKeys',ol.interaction.Snap.prototype.getKeys);goog.exportProperty(ol.interaction.Snap.prototype,'getProperties',ol.interaction.Snap.prototype.getProperties);goog.exportProperty(ol.interaction.Snap.prototype,'set',ol.interaction.Snap.prototype.set);goog.exportProperty(ol.interaction.Snap.prototype,'setProperties',ol.interaction.Snap.prototype.setProperties);goog.exportProperty(ol.interaction.Snap.prototype,'unset',ol.interaction.Snap.prototype.unset);goog.exportProperty(ol.interaction.Snap.prototype,'changed',ol.interaction.Snap.prototype.changed);goog.exportProperty(ol.interaction.Snap.prototype,'dispatchEvent',ol.interaction.Snap.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Snap.prototype,'getRevision',ol.interaction.Snap.prototype.getRevision);goog.exportProperty(ol.interaction.Snap.prototype,'on',ol.interaction.Snap.prototype.on);goog.exportProperty(ol.interaction.Snap.prototype,'once',ol.interaction.Snap.prototype.once);goog.exportProperty(ol.interaction.Snap.prototype,'un',ol.interaction.Snap.prototype.un);goog.exportProperty(ol.interaction.Translate.prototype,'getActive',ol.interaction.Translate.prototype.getActive);goog.exportProperty(ol.interaction.Translate.prototype,'getMap',ol.interaction.Translate.prototype.getMap);goog.exportProperty(ol.interaction.Translate.prototype,'setActive',ol.interaction.Translate.prototype.setActive);goog.exportProperty(ol.interaction.Translate.prototype,'get',ol.interaction.Translate.prototype.get);goog.exportProperty(ol.interaction.Translate.prototype,'getKeys',ol.interaction.Translate.prototype.getKeys);goog.exportProperty(ol.interaction.Translate.prototype,'getProperties',ol.interaction.Translate.prototype.getProperties);goog.exportProperty(ol.interaction.Translate.prototype,'set',ol.interaction.Translate.prototype.set);goog.exportProperty(ol.interaction.Translate.prototype,'setProperties',ol.interaction.Translate.prototype.setProperties);goog.exportProperty(ol.interaction.Translate.prototype,'unset',ol.interaction.Translate.prototype.unset);goog.exportProperty(ol.interaction.Translate.prototype,'changed',ol.interaction.Translate.prototype.changed);goog.exportProperty(ol.interaction.Translate.prototype,'dispatchEvent',ol.interaction.Translate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Translate.prototype,'getRevision',ol.interaction.Translate.prototype.getRevision);goog.exportProperty(ol.interaction.Translate.prototype,'on',ol.interaction.Translate.prototype.on);goog.exportProperty(ol.interaction.Translate.prototype,'once',ol.interaction.Translate.prototype.once);goog.exportProperty(ol.interaction.Translate.prototype,'un',ol.interaction.Translate.prototype.un);goog.exportProperty(ol.interaction.Translate.Event.prototype,'type',ol.interaction.Translate.Event.prototype.type);goog.exportProperty(ol.interaction.Translate.Event.prototype,'target',ol.interaction.Translate.Event.prototype.target);goog.exportProperty(ol.interaction.Translate.Event.prototype,'preventDefault',ol.interaction.Translate.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Translate.Event.prototype,'stopPropagation',ol.interaction.Translate.Event.prototype.stopPropagation);goog.exportProperty(ol.geom.Geometry.prototype,'get',ol.geom.Geometry.prototype.get);goog.exportProperty(ol.geom.Geometry.prototype,'getKeys',ol.geom.Geometry.prototype.getKeys);goog.exportProperty(ol.geom.Geometry.prototype,'getProperties',ol.geom.Geometry.prototype.getProperties);goog.exportProperty(ol.geom.Geometry.prototype,'set',ol.geom.Geometry.prototype.set);goog.exportProperty(ol.geom.Geometry.prototype,'setProperties',ol.geom.Geometry.prototype.setProperties);goog.exportProperty(ol.geom.Geometry.prototype,'unset',ol.geom.Geometry.prototype.unset);goog.exportProperty(ol.geom.Geometry.prototype,'changed',ol.geom.Geometry.prototype.changed);goog.exportProperty(ol.geom.Geometry.prototype,'dispatchEvent',ol.geom.Geometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.Geometry.prototype,'getRevision',ol.geom.Geometry.prototype.getRevision);goog.exportProperty(ol.geom.Geometry.prototype,'on',ol.geom.Geometry.prototype.on);goog.exportProperty(ol.geom.Geometry.prototype,'once',ol.geom.Geometry.prototype.once);goog.exportProperty(ol.geom.Geometry.prototype,'un',ol.geom.Geometry.prototype.un);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'getClosestPoint',ol.geom.SimpleGeometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'intersectsCoordinate',ol.geom.SimpleGeometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'getExtent',ol.geom.SimpleGeometry.prototype.getExtent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'rotate',ol.geom.SimpleGeometry.prototype.rotate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'scale',ol.geom.SimpleGeometry.prototype.scale);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'simplify',ol.geom.SimpleGeometry.prototype.simplify);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'transform',ol.geom.SimpleGeometry.prototype.transform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'get',ol.geom.SimpleGeometry.prototype.get);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'getKeys',ol.geom.SimpleGeometry.prototype.getKeys);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'getProperties',ol.geom.SimpleGeometry.prototype.getProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'set',ol.geom.SimpleGeometry.prototype.set);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'setProperties',ol.geom.SimpleGeometry.prototype.setProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'unset',ol.geom.SimpleGeometry.prototype.unset);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'changed',ol.geom.SimpleGeometry.prototype.changed);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'dispatchEvent',ol.geom.SimpleGeometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'getRevision',ol.geom.SimpleGeometry.prototype.getRevision);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'on',ol.geom.SimpleGeometry.prototype.on);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'once',ol.geom.SimpleGeometry.prototype.once);goog.exportProperty(ol.geom.SimpleGeometry.prototype,'un',ol.geom.SimpleGeometry.prototype.un);goog.exportProperty(ol.geom.Circle.prototype,'getFirstCoordinate',ol.geom.Circle.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Circle.prototype,'getLastCoordinate',ol.geom.Circle.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Circle.prototype,'getLayout',ol.geom.Circle.prototype.getLayout);goog.exportProperty(ol.geom.Circle.prototype,'rotate',ol.geom.Circle.prototype.rotate);goog.exportProperty(ol.geom.Circle.prototype,'scale',ol.geom.Circle.prototype.scale);goog.exportProperty(ol.geom.Circle.prototype,'getClosestPoint',ol.geom.Circle.prototype.getClosestPoint);goog.exportProperty(ol.geom.Circle.prototype,'intersectsCoordinate',ol.geom.Circle.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Circle.prototype,'getExtent',ol.geom.Circle.prototype.getExtent);goog.exportProperty(ol.geom.Circle.prototype,'simplify',ol.geom.Circle.prototype.simplify);goog.exportProperty(ol.geom.Circle.prototype,'get',ol.geom.Circle.prototype.get);goog.exportProperty(ol.geom.Circle.prototype,'getKeys',ol.geom.Circle.prototype.getKeys);goog.exportProperty(ol.geom.Circle.prototype,'getProperties',ol.geom.Circle.prototype.getProperties);goog.exportProperty(ol.geom.Circle.prototype,'set',ol.geom.Circle.prototype.set);goog.exportProperty(ol.geom.Circle.prototype,'setProperties',ol.geom.Circle.prototype.setProperties);goog.exportProperty(ol.geom.Circle.prototype,'unset',ol.geom.Circle.prototype.unset);goog.exportProperty(ol.geom.Circle.prototype,'changed',ol.geom.Circle.prototype.changed);goog.exportProperty(ol.geom.Circle.prototype,'dispatchEvent',ol.geom.Circle.prototype.dispatchEvent);goog.exportProperty(ol.geom.Circle.prototype,'getRevision',ol.geom.Circle.prototype.getRevision);goog.exportProperty(ol.geom.Circle.prototype,'on',ol.geom.Circle.prototype.on);goog.exportProperty(ol.geom.Circle.prototype,'once',ol.geom.Circle.prototype.once);goog.exportProperty(ol.geom.Circle.prototype,'un',ol.geom.Circle.prototype.un);goog.exportProperty(ol.geom.GeometryCollection.prototype,'getClosestPoint',ol.geom.GeometryCollection.prototype.getClosestPoint);goog.exportProperty(ol.geom.GeometryCollection.prototype,'intersectsCoordinate',ol.geom.GeometryCollection.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.GeometryCollection.prototype,'getExtent',ol.geom.GeometryCollection.prototype.getExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,'rotate',ol.geom.GeometryCollection.prototype.rotate);goog.exportProperty(ol.geom.GeometryCollection.prototype,'scale',ol.geom.GeometryCollection.prototype.scale);goog.exportProperty(ol.geom.GeometryCollection.prototype,'simplify',ol.geom.GeometryCollection.prototype.simplify);goog.exportProperty(ol.geom.GeometryCollection.prototype,'transform',ol.geom.GeometryCollection.prototype.transform);goog.exportProperty(ol.geom.GeometryCollection.prototype,'get',ol.geom.GeometryCollection.prototype.get);goog.exportProperty(ol.geom.GeometryCollection.prototype,'getKeys',ol.geom.GeometryCollection.prototype.getKeys);goog.exportProperty(ol.geom.GeometryCollection.prototype,'getProperties',ol.geom.GeometryCollection.prototype.getProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,'set',ol.geom.GeometryCollection.prototype.set);goog.exportProperty(ol.geom.GeometryCollection.prototype,'setProperties',ol.geom.GeometryCollection.prototype.setProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,'unset',ol.geom.GeometryCollection.prototype.unset);goog.exportProperty(ol.geom.GeometryCollection.prototype,'changed',ol.geom.GeometryCollection.prototype.changed);goog.exportProperty(ol.geom.GeometryCollection.prototype,'dispatchEvent',ol.geom.GeometryCollection.prototype.dispatchEvent);goog.exportProperty(ol.geom.GeometryCollection.prototype,'getRevision',ol.geom.GeometryCollection.prototype.getRevision);goog.exportProperty(ol.geom.GeometryCollection.prototype,'on',ol.geom.GeometryCollection.prototype.on);goog.exportProperty(ol.geom.GeometryCollection.prototype,'once',ol.geom.GeometryCollection.prototype.once);goog.exportProperty(ol.geom.GeometryCollection.prototype,'un',ol.geom.GeometryCollection.prototype.un);goog.exportProperty(ol.geom.LinearRing.prototype,'getFirstCoordinate',ol.geom.LinearRing.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,'getLastCoordinate',ol.geom.LinearRing.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,'getLayout',ol.geom.LinearRing.prototype.getLayout);goog.exportProperty(ol.geom.LinearRing.prototype,'rotate',ol.geom.LinearRing.prototype.rotate);goog.exportProperty(ol.geom.LinearRing.prototype,'scale',ol.geom.LinearRing.prototype.scale);goog.exportProperty(ol.geom.LinearRing.prototype,'getClosestPoint',ol.geom.LinearRing.prototype.getClosestPoint);goog.exportProperty(ol.geom.LinearRing.prototype,'intersectsCoordinate',ol.geom.LinearRing.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,'getExtent',ol.geom.LinearRing.prototype.getExtent);goog.exportProperty(ol.geom.LinearRing.prototype,'simplify',ol.geom.LinearRing.prototype.simplify);goog.exportProperty(ol.geom.LinearRing.prototype,'transform',ol.geom.LinearRing.prototype.transform);goog.exportProperty(ol.geom.LinearRing.prototype,'get',ol.geom.LinearRing.prototype.get);goog.exportProperty(ol.geom.LinearRing.prototype,'getKeys',ol.geom.LinearRing.prototype.getKeys);goog.exportProperty(ol.geom.LinearRing.prototype,'getProperties',ol.geom.LinearRing.prototype.getProperties);goog.exportProperty(ol.geom.LinearRing.prototype,'set',ol.geom.LinearRing.prototype.set);goog.exportProperty(ol.geom.LinearRing.prototype,'setProperties',ol.geom.LinearRing.prototype.setProperties);goog.exportProperty(ol.geom.LinearRing.prototype,'unset',ol.geom.LinearRing.prototype.unset);goog.exportProperty(ol.geom.LinearRing.prototype,'changed',ol.geom.LinearRing.prototype.changed);goog.exportProperty(ol.geom.LinearRing.prototype,'dispatchEvent',ol.geom.LinearRing.prototype.dispatchEvent);goog.exportProperty(ol.geom.LinearRing.prototype,'getRevision',ol.geom.LinearRing.prototype.getRevision);goog.exportProperty(ol.geom.LinearRing.prototype,'on',ol.geom.LinearRing.prototype.on);goog.exportProperty(ol.geom.LinearRing.prototype,'once',ol.geom.LinearRing.prototype.once);goog.exportProperty(ol.geom.LinearRing.prototype,'un',ol.geom.LinearRing.prototype.un);goog.exportProperty(ol.geom.LineString.prototype,'getFirstCoordinate',ol.geom.LineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LineString.prototype,'getLastCoordinate',ol.geom.LineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LineString.prototype,'getLayout',ol.geom.LineString.prototype.getLayout);goog.exportProperty(ol.geom.LineString.prototype,'rotate',ol.geom.LineString.prototype.rotate);goog.exportProperty(ol.geom.LineString.prototype,'scale',ol.geom.LineString.prototype.scale);goog.exportProperty(ol.geom.LineString.prototype,'getClosestPoint',ol.geom.LineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.LineString.prototype,'intersectsCoordinate',ol.geom.LineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LineString.prototype,'getExtent',ol.geom.LineString.prototype.getExtent);goog.exportProperty(ol.geom.LineString.prototype,'simplify',ol.geom.LineString.prototype.simplify);goog.exportProperty(ol.geom.LineString.prototype,'transform',ol.geom.LineString.prototype.transform);goog.exportProperty(ol.geom.LineString.prototype,'get',ol.geom.LineString.prototype.get);goog.exportProperty(ol.geom.LineString.prototype,'getKeys',ol.geom.LineString.prototype.getKeys);goog.exportProperty(ol.geom.LineString.prototype,'getProperties',ol.geom.LineString.prototype.getProperties);goog.exportProperty(ol.geom.LineString.prototype,'set',ol.geom.LineString.prototype.set);goog.exportProperty(ol.geom.LineString.prototype,'setProperties',ol.geom.LineString.prototype.setProperties);goog.exportProperty(ol.geom.LineString.prototype,'unset',ol.geom.LineString.prototype.unset);goog.exportProperty(ol.geom.LineString.prototype,'changed',ol.geom.LineString.prototype.changed);goog.exportProperty(ol.geom.LineString.prototype,'dispatchEvent',ol.geom.LineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.LineString.prototype,'getRevision',ol.geom.LineString.prototype.getRevision);goog.exportProperty(ol.geom.LineString.prototype,'on',ol.geom.LineString.prototype.on);goog.exportProperty(ol.geom.LineString.prototype,'once',ol.geom.LineString.prototype.once);goog.exportProperty(ol.geom.LineString.prototype,'un',ol.geom.LineString.prototype.un);goog.exportProperty(ol.geom.MultiLineString.prototype,'getFirstCoordinate',ol.geom.MultiLineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,'getLastCoordinate',ol.geom.MultiLineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,'getLayout',ol.geom.MultiLineString.prototype.getLayout);goog.exportProperty(ol.geom.MultiLineString.prototype,'rotate',ol.geom.MultiLineString.prototype.rotate);goog.exportProperty(ol.geom.MultiLineString.prototype,'scale',ol.geom.MultiLineString.prototype.scale);goog.exportProperty(ol.geom.MultiLineString.prototype,'getClosestPoint',ol.geom.MultiLineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiLineString.prototype,'intersectsCoordinate',ol.geom.MultiLineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,'getExtent',ol.geom.MultiLineString.prototype.getExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,'simplify',ol.geom.MultiLineString.prototype.simplify);goog.exportProperty(ol.geom.MultiLineString.prototype,'transform',ol.geom.MultiLineString.prototype.transform);goog.exportProperty(ol.geom.MultiLineString.prototype,'get',ol.geom.MultiLineString.prototype.get);goog.exportProperty(ol.geom.MultiLineString.prototype,'getKeys',ol.geom.MultiLineString.prototype.getKeys);goog.exportProperty(ol.geom.MultiLineString.prototype,'getProperties',ol.geom.MultiLineString.prototype.getProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,'set',ol.geom.MultiLineString.prototype.set);goog.exportProperty(ol.geom.MultiLineString.prototype,'setProperties',ol.geom.MultiLineString.prototype.setProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,'unset',ol.geom.MultiLineString.prototype.unset);goog.exportProperty(ol.geom.MultiLineString.prototype,'changed',ol.geom.MultiLineString.prototype.changed);goog.exportProperty(ol.geom.MultiLineString.prototype,'dispatchEvent',ol.geom.MultiLineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiLineString.prototype,'getRevision',ol.geom.MultiLineString.prototype.getRevision);goog.exportProperty(ol.geom.MultiLineString.prototype,'on',ol.geom.MultiLineString.prototype.on);goog.exportProperty(ol.geom.MultiLineString.prototype,'once',ol.geom.MultiLineString.prototype.once);goog.exportProperty(ol.geom.MultiLineString.prototype,'un',ol.geom.MultiLineString.prototype.un);goog.exportProperty(ol.geom.MultiPoint.prototype,'getFirstCoordinate',ol.geom.MultiPoint.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,'getLastCoordinate',ol.geom.MultiPoint.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,'getLayout',ol.geom.MultiPoint.prototype.getLayout);goog.exportProperty(ol.geom.MultiPoint.prototype,'rotate',ol.geom.MultiPoint.prototype.rotate);goog.exportProperty(ol.geom.MultiPoint.prototype,'scale',ol.geom.MultiPoint.prototype.scale);goog.exportProperty(ol.geom.MultiPoint.prototype,'getClosestPoint',ol.geom.MultiPoint.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,'intersectsCoordinate',ol.geom.MultiPoint.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,'getExtent',ol.geom.MultiPoint.prototype.getExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,'simplify',ol.geom.MultiPoint.prototype.simplify);goog.exportProperty(ol.geom.MultiPoint.prototype,'transform',ol.geom.MultiPoint.prototype.transform);goog.exportProperty(ol.geom.MultiPoint.prototype,'get',ol.geom.MultiPoint.prototype.get);goog.exportProperty(ol.geom.MultiPoint.prototype,'getKeys',ol.geom.MultiPoint.prototype.getKeys);goog.exportProperty(ol.geom.MultiPoint.prototype,'getProperties',ol.geom.MultiPoint.prototype.getProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,'set',ol.geom.MultiPoint.prototype.set);goog.exportProperty(ol.geom.MultiPoint.prototype,'setProperties',ol.geom.MultiPoint.prototype.setProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,'unset',ol.geom.MultiPoint.prototype.unset);goog.exportProperty(ol.geom.MultiPoint.prototype,'changed',ol.geom.MultiPoint.prototype.changed);goog.exportProperty(ol.geom.MultiPoint.prototype,'dispatchEvent',ol.geom.MultiPoint.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPoint.prototype,'getRevision',ol.geom.MultiPoint.prototype.getRevision);goog.exportProperty(ol.geom.MultiPoint.prototype,'on',ol.geom.MultiPoint.prototype.on);goog.exportProperty(ol.geom.MultiPoint.prototype,'once',ol.geom.MultiPoint.prototype.once);goog.exportProperty(ol.geom.MultiPoint.prototype,'un',ol.geom.MultiPoint.prototype.un);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getFirstCoordinate',ol.geom.MultiPolygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getLastCoordinate',ol.geom.MultiPolygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getLayout',ol.geom.MultiPolygon.prototype.getLayout);goog.exportProperty(ol.geom.MultiPolygon.prototype,'rotate',ol.geom.MultiPolygon.prototype.rotate);goog.exportProperty(ol.geom.MultiPolygon.prototype,'scale',ol.geom.MultiPolygon.prototype.scale);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getClosestPoint',ol.geom.MultiPolygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPolygon.prototype,'intersectsCoordinate',ol.geom.MultiPolygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getExtent',ol.geom.MultiPolygon.prototype.getExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,'simplify',ol.geom.MultiPolygon.prototype.simplify);goog.exportProperty(ol.geom.MultiPolygon.prototype,'transform',ol.geom.MultiPolygon.prototype.transform);goog.exportProperty(ol.geom.MultiPolygon.prototype,'get',ol.geom.MultiPolygon.prototype.get);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getKeys',ol.geom.MultiPolygon.prototype.getKeys);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getProperties',ol.geom.MultiPolygon.prototype.getProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,'set',ol.geom.MultiPolygon.prototype.set);goog.exportProperty(ol.geom.MultiPolygon.prototype,'setProperties',ol.geom.MultiPolygon.prototype.setProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,'unset',ol.geom.MultiPolygon.prototype.unset);goog.exportProperty(ol.geom.MultiPolygon.prototype,'changed',ol.geom.MultiPolygon.prototype.changed);goog.exportProperty(ol.geom.MultiPolygon.prototype,'dispatchEvent',ol.geom.MultiPolygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPolygon.prototype,'getRevision',ol.geom.MultiPolygon.prototype.getRevision);goog.exportProperty(ol.geom.MultiPolygon.prototype,'on',ol.geom.MultiPolygon.prototype.on);goog.exportProperty(ol.geom.MultiPolygon.prototype,'once',ol.geom.MultiPolygon.prototype.once);goog.exportProperty(ol.geom.MultiPolygon.prototype,'un',ol.geom.MultiPolygon.prototype.un);goog.exportProperty(ol.geom.Point.prototype,'getFirstCoordinate',ol.geom.Point.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Point.prototype,'getLastCoordinate',ol.geom.Point.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Point.prototype,'getLayout',ol.geom.Point.prototype.getLayout);goog.exportProperty(ol.geom.Point.prototype,'rotate',ol.geom.Point.prototype.rotate);goog.exportProperty(ol.geom.Point.prototype,'scale',ol.geom.Point.prototype.scale);goog.exportProperty(ol.geom.Point.prototype,'getClosestPoint',ol.geom.Point.prototype.getClosestPoint);goog.exportProperty(ol.geom.Point.prototype,'intersectsCoordinate',ol.geom.Point.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Point.prototype,'getExtent',ol.geom.Point.prototype.getExtent);goog.exportProperty(ol.geom.Point.prototype,'simplify',ol.geom.Point.prototype.simplify);goog.exportProperty(ol.geom.Point.prototype,'transform',ol.geom.Point.prototype.transform);goog.exportProperty(ol.geom.Point.prototype,'get',ol.geom.Point.prototype.get);goog.exportProperty(ol.geom.Point.prototype,'getKeys',ol.geom.Point.prototype.getKeys);goog.exportProperty(ol.geom.Point.prototype,'getProperties',ol.geom.Point.prototype.getProperties);goog.exportProperty(ol.geom.Point.prototype,'set',ol.geom.Point.prototype.set);goog.exportProperty(ol.geom.Point.prototype,'setProperties',ol.geom.Point.prototype.setProperties);goog.exportProperty(ol.geom.Point.prototype,'unset',ol.geom.Point.prototype.unset);goog.exportProperty(ol.geom.Point.prototype,'changed',ol.geom.Point.prototype.changed);goog.exportProperty(ol.geom.Point.prototype,'dispatchEvent',ol.geom.Point.prototype.dispatchEvent);goog.exportProperty(ol.geom.Point.prototype,'getRevision',ol.geom.Point.prototype.getRevision);goog.exportProperty(ol.geom.Point.prototype,'on',ol.geom.Point.prototype.on);goog.exportProperty(ol.geom.Point.prototype,'once',ol.geom.Point.prototype.once);goog.exportProperty(ol.geom.Point.prototype,'un',ol.geom.Point.prototype.un);goog.exportProperty(ol.geom.Polygon.prototype,'getFirstCoordinate',ol.geom.Polygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,'getLastCoordinate',ol.geom.Polygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,'getLayout',ol.geom.Polygon.prototype.getLayout);goog.exportProperty(ol.geom.Polygon.prototype,'rotate',ol.geom.Polygon.prototype.rotate);goog.exportProperty(ol.geom.Polygon.prototype,'scale',ol.geom.Polygon.prototype.scale);goog.exportProperty(ol.geom.Polygon.prototype,'getClosestPoint',ol.geom.Polygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.Polygon.prototype,'intersectsCoordinate',ol.geom.Polygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,'getExtent',ol.geom.Polygon.prototype.getExtent);goog.exportProperty(ol.geom.Polygon.prototype,'simplify',ol.geom.Polygon.prototype.simplify);goog.exportProperty(ol.geom.Polygon.prototype,'transform',ol.geom.Polygon.prototype.transform);goog.exportProperty(ol.geom.Polygon.prototype,'get',ol.geom.Polygon.prototype.get);goog.exportProperty(ol.geom.Polygon.prototype,'getKeys',ol.geom.Polygon.prototype.getKeys);goog.exportProperty(ol.geom.Polygon.prototype,'getProperties',ol.geom.Polygon.prototype.getProperties);goog.exportProperty(ol.geom.Polygon.prototype,'set',ol.geom.Polygon.prototype.set);goog.exportProperty(ol.geom.Polygon.prototype,'setProperties',ol.geom.Polygon.prototype.setProperties);goog.exportProperty(ol.geom.Polygon.prototype,'unset',ol.geom.Polygon.prototype.unset);goog.exportProperty(ol.geom.Polygon.prototype,'changed',ol.geom.Polygon.prototype.changed);goog.exportProperty(ol.geom.Polygon.prototype,'dispatchEvent',ol.geom.Polygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.Polygon.prototype,'getRevision',ol.geom.Polygon.prototype.getRevision);goog.exportProperty(ol.geom.Polygon.prototype,'on',ol.geom.Polygon.prototype.on);goog.exportProperty(ol.geom.Polygon.prototype,'once',ol.geom.Polygon.prototype.once);goog.exportProperty(ol.geom.Polygon.prototype,'un',ol.geom.Polygon.prototype.un);goog.exportProperty(ol.format.GML.prototype,'readFeatures',ol.format.GML.prototype.readFeatures);goog.exportProperty(ol.format.GML2.prototype,'readFeatures',ol.format.GML2.prototype.readFeatures);goog.exportProperty(ol.format.GML3.prototype,'readFeatures',ol.format.GML3.prototype.readFeatures);goog.exportProperty(ol.control.Control.prototype,'get',ol.control.Control.prototype.get);goog.exportProperty(ol.control.Control.prototype,'getKeys',ol.control.Control.prototype.getKeys);goog.exportProperty(ol.control.Control.prototype,'getProperties',ol.control.Control.prototype.getProperties);goog.exportProperty(ol.control.Control.prototype,'set',ol.control.Control.prototype.set);goog.exportProperty(ol.control.Control.prototype,'setProperties',ol.control.Control.prototype.setProperties);goog.exportProperty(ol.control.Control.prototype,'unset',ol.control.Control.prototype.unset);goog.exportProperty(ol.control.Control.prototype,'changed',ol.control.Control.prototype.changed);goog.exportProperty(ol.control.Control.prototype,'dispatchEvent',ol.control.Control.prototype.dispatchEvent);goog.exportProperty(ol.control.Control.prototype,'getRevision',ol.control.Control.prototype.getRevision);goog.exportProperty(ol.control.Control.prototype,'on',ol.control.Control.prototype.on);goog.exportProperty(ol.control.Control.prototype,'once',ol.control.Control.prototype.once);goog.exportProperty(ol.control.Control.prototype,'un',ol.control.Control.prototype.un);goog.exportProperty(ol.control.Attribution.prototype,'getMap',ol.control.Attribution.prototype.getMap);goog.exportProperty(ol.control.Attribution.prototype,'setMap',ol.control.Attribution.prototype.setMap);goog.exportProperty(ol.control.Attribution.prototype,'setTarget',ol.control.Attribution.prototype.setTarget);goog.exportProperty(ol.control.Attribution.prototype,'get',ol.control.Attribution.prototype.get);goog.exportProperty(ol.control.Attribution.prototype,'getKeys',ol.control.Attribution.prototype.getKeys);goog.exportProperty(ol.control.Attribution.prototype,'getProperties',ol.control.Attribution.prototype.getProperties);goog.exportProperty(ol.control.Attribution.prototype,'set',ol.control.Attribution.prototype.set);goog.exportProperty(ol.control.Attribution.prototype,'setProperties',ol.control.Attribution.prototype.setProperties);goog.exportProperty(ol.control.Attribution.prototype,'unset',ol.control.Attribution.prototype.unset);goog.exportProperty(ol.control.Attribution.prototype,'changed',ol.control.Attribution.prototype.changed);goog.exportProperty(ol.control.Attribution.prototype,'dispatchEvent',ol.control.Attribution.prototype.dispatchEvent);goog.exportProperty(ol.control.Attribution.prototype,'getRevision',ol.control.Attribution.prototype.getRevision);goog.exportProperty(ol.control.Attribution.prototype,'on',ol.control.Attribution.prototype.on);goog.exportProperty(ol.control.Attribution.prototype,'once',ol.control.Attribution.prototype.once);goog.exportProperty(ol.control.Attribution.prototype,'un',ol.control.Attribution.prototype.un);goog.exportProperty(ol.control.FullScreen.prototype,'getMap',ol.control.FullScreen.prototype.getMap);goog.exportProperty(ol.control.FullScreen.prototype,'setMap',ol.control.FullScreen.prototype.setMap);goog.exportProperty(ol.control.FullScreen.prototype,'setTarget',ol.control.FullScreen.prototype.setTarget);goog.exportProperty(ol.control.FullScreen.prototype,'get',ol.control.FullScreen.prototype.get);goog.exportProperty(ol.control.FullScreen.prototype,'getKeys',ol.control.FullScreen.prototype.getKeys);goog.exportProperty(ol.control.FullScreen.prototype,'getProperties',ol.control.FullScreen.prototype.getProperties);goog.exportProperty(ol.control.FullScreen.prototype,'set',ol.control.FullScreen.prototype.set);goog.exportProperty(ol.control.FullScreen.prototype,'setProperties',ol.control.FullScreen.prototype.setProperties);goog.exportProperty(ol.control.FullScreen.prototype,'unset',ol.control.FullScreen.prototype.unset);goog.exportProperty(ol.control.FullScreen.prototype,'changed',ol.control.FullScreen.prototype.changed);goog.exportProperty(ol.control.FullScreen.prototype,'dispatchEvent',ol.control.FullScreen.prototype.dispatchEvent);goog.exportProperty(ol.control.FullScreen.prototype,'getRevision',ol.control.FullScreen.prototype.getRevision);goog.exportProperty(ol.control.FullScreen.prototype,'on',ol.control.FullScreen.prototype.on);goog.exportProperty(ol.control.FullScreen.prototype,'once',ol.control.FullScreen.prototype.once);goog.exportProperty(ol.control.FullScreen.prototype,'un',ol.control.FullScreen.prototype.un);goog.exportProperty(ol.control.MousePosition.prototype,'getMap',ol.control.MousePosition.prototype.getMap);goog.exportProperty(ol.control.MousePosition.prototype,'setMap',ol.control.MousePosition.prototype.setMap);goog.exportProperty(ol.control.MousePosition.prototype,'setTarget',ol.control.MousePosition.prototype.setTarget);goog.exportProperty(ol.control.MousePosition.prototype,'get',ol.control.MousePosition.prototype.get);goog.exportProperty(ol.control.MousePosition.prototype,'getKeys',ol.control.MousePosition.prototype.getKeys);goog.exportProperty(ol.control.MousePosition.prototype,'getProperties',ol.control.MousePosition.prototype.getProperties);goog.exportProperty(ol.control.MousePosition.prototype,'set',ol.control.MousePosition.prototype.set);goog.exportProperty(ol.control.MousePosition.prototype,'setProperties',ol.control.MousePosition.prototype.setProperties);goog.exportProperty(ol.control.MousePosition.prototype,'unset',ol.control.MousePosition.prototype.unset);goog.exportProperty(ol.control.MousePosition.prototype,'changed',ol.control.MousePosition.prototype.changed);goog.exportProperty(ol.control.MousePosition.prototype,'dispatchEvent',ol.control.MousePosition.prototype.dispatchEvent);goog.exportProperty(ol.control.MousePosition.prototype,'getRevision',ol.control.MousePosition.prototype.getRevision);goog.exportProperty(ol.control.MousePosition.prototype,'on',ol.control.MousePosition.prototype.on);goog.exportProperty(ol.control.MousePosition.prototype,'once',ol.control.MousePosition.prototype.once);goog.exportProperty(ol.control.MousePosition.prototype,'un',ol.control.MousePosition.prototype.un);goog.exportProperty(ol.control.OverviewMap.prototype,'getMap',ol.control.OverviewMap.prototype.getMap);goog.exportProperty(ol.control.OverviewMap.prototype,'setMap',ol.control.OverviewMap.prototype.setMap);goog.exportProperty(ol.control.OverviewMap.prototype,'setTarget',ol.control.OverviewMap.prototype.setTarget);goog.exportProperty(ol.control.OverviewMap.prototype,'get',ol.control.OverviewMap.prototype.get);goog.exportProperty(ol.control.OverviewMap.prototype,'getKeys',ol.control.OverviewMap.prototype.getKeys);goog.exportProperty(ol.control.OverviewMap.prototype,'getProperties',ol.control.OverviewMap.prototype.getProperties);goog.exportProperty(ol.control.OverviewMap.prototype,'set',ol.control.OverviewMap.prototype.set);goog.exportProperty(ol.control.OverviewMap.prototype,'setProperties',ol.control.OverviewMap.prototype.setProperties);goog.exportProperty(ol.control.OverviewMap.prototype,'unset',ol.control.OverviewMap.prototype.unset);goog.exportProperty(ol.control.OverviewMap.prototype,'changed',ol.control.OverviewMap.prototype.changed);goog.exportProperty(ol.control.OverviewMap.prototype,'dispatchEvent',ol.control.OverviewMap.prototype.dispatchEvent);goog.exportProperty(ol.control.OverviewMap.prototype,'getRevision',ol.control.OverviewMap.prototype.getRevision);goog.exportProperty(ol.control.OverviewMap.prototype,'on',ol.control.OverviewMap.prototype.on);goog.exportProperty(ol.control.OverviewMap.prototype,'once',ol.control.OverviewMap.prototype.once);goog.exportProperty(ol.control.OverviewMap.prototype,'un',ol.control.OverviewMap.prototype.un);goog.exportProperty(ol.control.Rotate.prototype,'getMap',ol.control.Rotate.prototype.getMap);goog.exportProperty(ol.control.Rotate.prototype,'setMap',ol.control.Rotate.prototype.setMap);goog.exportProperty(ol.control.Rotate.prototype,'setTarget',ol.control.Rotate.prototype.setTarget);goog.exportProperty(ol.control.Rotate.prototype,'get',ol.control.Rotate.prototype.get);goog.exportProperty(ol.control.Rotate.prototype,'getKeys',ol.control.Rotate.prototype.getKeys);goog.exportProperty(ol.control.Rotate.prototype,'getProperties',ol.control.Rotate.prototype.getProperties);goog.exportProperty(ol.control.Rotate.prototype,'set',ol.control.Rotate.prototype.set);goog.exportProperty(ol.control.Rotate.prototype,'setProperties',ol.control.Rotate.prototype.setProperties);goog.exportProperty(ol.control.Rotate.prototype,'unset',ol.control.Rotate.prototype.unset);goog.exportProperty(ol.control.Rotate.prototype,'changed',ol.control.Rotate.prototype.changed);goog.exportProperty(ol.control.Rotate.prototype,'dispatchEvent',ol.control.Rotate.prototype.dispatchEvent);goog.exportProperty(ol.control.Rotate.prototype,'getRevision',ol.control.Rotate.prototype.getRevision);goog.exportProperty(ol.control.Rotate.prototype,'on',ol.control.Rotate.prototype.on);goog.exportProperty(ol.control.Rotate.prototype,'once',ol.control.Rotate.prototype.once);goog.exportProperty(ol.control.Rotate.prototype,'un',ol.control.Rotate.prototype.un);goog.exportProperty(ol.control.ScaleLine.prototype,'getMap',ol.control.ScaleLine.prototype.getMap);goog.exportProperty(ol.control.ScaleLine.prototype,'setMap',ol.control.ScaleLine.prototype.setMap);goog.exportProperty(ol.control.ScaleLine.prototype,'setTarget',ol.control.ScaleLine.prototype.setTarget);goog.exportProperty(ol.control.ScaleLine.prototype,'get',ol.control.ScaleLine.prototype.get);goog.exportProperty(ol.control.ScaleLine.prototype,'getKeys',ol.control.ScaleLine.prototype.getKeys);goog.exportProperty(ol.control.ScaleLine.prototype,'getProperties',ol.control.ScaleLine.prototype.getProperties);goog.exportProperty(ol.control.ScaleLine.prototype,'set',ol.control.ScaleLine.prototype.set);goog.exportProperty(ol.control.ScaleLine.prototype,'setProperties',ol.control.ScaleLine.prototype.setProperties);goog.exportProperty(ol.control.ScaleLine.prototype,'unset',ol.control.ScaleLine.prototype.unset);goog.exportProperty(ol.control.ScaleLine.prototype,'changed',ol.control.ScaleLine.prototype.changed);goog.exportProperty(ol.control.ScaleLine.prototype,'dispatchEvent',ol.control.ScaleLine.prototype.dispatchEvent);goog.exportProperty(ol.control.ScaleLine.prototype,'getRevision',ol.control.ScaleLine.prototype.getRevision);goog.exportProperty(ol.control.ScaleLine.prototype,'on',ol.control.ScaleLine.prototype.on);goog.exportProperty(ol.control.ScaleLine.prototype,'once',ol.control.ScaleLine.prototype.once);goog.exportProperty(ol.control.ScaleLine.prototype,'un',ol.control.ScaleLine.prototype.un);goog.exportProperty(ol.control.Zoom.prototype,'getMap',ol.control.Zoom.prototype.getMap);goog.exportProperty(ol.control.Zoom.prototype,'setMap',ol.control.Zoom.prototype.setMap);goog.exportProperty(ol.control.Zoom.prototype,'setTarget',ol.control.Zoom.prototype.setTarget);goog.exportProperty(ol.control.Zoom.prototype,'get',ol.control.Zoom.prototype.get);goog.exportProperty(ol.control.Zoom.prototype,'getKeys',ol.control.Zoom.prototype.getKeys);goog.exportProperty(ol.control.Zoom.prototype,'getProperties',ol.control.Zoom.prototype.getProperties);goog.exportProperty(ol.control.Zoom.prototype,'set',ol.control.Zoom.prototype.set);goog.exportProperty(ol.control.Zoom.prototype,'setProperties',ol.control.Zoom.prototype.setProperties);goog.exportProperty(ol.control.Zoom.prototype,'unset',ol.control.Zoom.prototype.unset);goog.exportProperty(ol.control.Zoom.prototype,'changed',ol.control.Zoom.prototype.changed);goog.exportProperty(ol.control.Zoom.prototype,'dispatchEvent',ol.control.Zoom.prototype.dispatchEvent);goog.exportProperty(ol.control.Zoom.prototype,'getRevision',ol.control.Zoom.prototype.getRevision);goog.exportProperty(ol.control.Zoom.prototype,'on',ol.control.Zoom.prototype.on);goog.exportProperty(ol.control.Zoom.prototype,'once',ol.control.Zoom.prototype.once);goog.exportProperty(ol.control.Zoom.prototype,'un',ol.control.Zoom.prototype.un);goog.exportProperty(ol.control.ZoomSlider.prototype,'getMap',ol.control.ZoomSlider.prototype.getMap);goog.exportProperty(ol.control.ZoomSlider.prototype,'setMap',ol.control.ZoomSlider.prototype.setMap);goog.exportProperty(ol.control.ZoomSlider.prototype,'setTarget',ol.control.ZoomSlider.prototype.setTarget);goog.exportProperty(ol.control.ZoomSlider.prototype,'get',ol.control.ZoomSlider.prototype.get);goog.exportProperty(ol.control.ZoomSlider.prototype,'getKeys',ol.control.ZoomSlider.prototype.getKeys);goog.exportProperty(ol.control.ZoomSlider.prototype,'getProperties',ol.control.ZoomSlider.prototype.getProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,'set',ol.control.ZoomSlider.prototype.set);goog.exportProperty(ol.control.ZoomSlider.prototype,'setProperties',ol.control.ZoomSlider.prototype.setProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,'unset',ol.control.ZoomSlider.prototype.unset);goog.exportProperty(ol.control.ZoomSlider.prototype,'changed',ol.control.ZoomSlider.prototype.changed);goog.exportProperty(ol.control.ZoomSlider.prototype,'dispatchEvent',ol.control.ZoomSlider.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomSlider.prototype,'getRevision',ol.control.ZoomSlider.prototype.getRevision);goog.exportProperty(ol.control.ZoomSlider.prototype,'on',ol.control.ZoomSlider.prototype.on);goog.exportProperty(ol.control.ZoomSlider.prototype,'once',ol.control.ZoomSlider.prototype.once);goog.exportProperty(ol.control.ZoomSlider.prototype,'un',ol.control.ZoomSlider.prototype.un);goog.exportProperty(ol.control.ZoomToExtent.prototype,'getMap',ol.control.ZoomToExtent.prototype.getMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,'setMap',ol.control.ZoomToExtent.prototype.setMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,'setTarget',ol.control.ZoomToExtent.prototype.setTarget);goog.exportProperty(ol.control.ZoomToExtent.prototype,'get',ol.control.ZoomToExtent.prototype.get);goog.exportProperty(ol.control.ZoomToExtent.prototype,'getKeys',ol.control.ZoomToExtent.prototype.getKeys);goog.exportProperty(ol.control.ZoomToExtent.prototype,'getProperties',ol.control.ZoomToExtent.prototype.getProperties);goog.exportProperty(ol.control.ZoomToExtent.prototype,'set',ol.control.ZoomToExtent.prototype.set);goog.exportProperty(ol.control.ZoomToExtent.prototype,'setProperties',ol.control.ZoomToExtent.prototype.setProperties);goog.exportProperty(ol.control.ZoomToExtent.prototype,'unset',ol.control.ZoomToExtent.prototype.unset);goog.exportProperty(ol.control.ZoomToExtent.prototype,'changed',ol.control.ZoomToExtent.prototype.changed);goog.exportProperty(ol.control.ZoomToExtent.prototype,'dispatchEvent',ol.control.ZoomToExtent.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomToExtent.prototype,'getRevision',ol.control.ZoomToExtent.prototype.getRevision);goog.exportProperty(ol.control.ZoomToExtent.prototype,'on',ol.control.ZoomToExtent.prototype.on);goog.exportProperty(ol.control.ZoomToExtent.prototype,'once',ol.control.ZoomToExtent.prototype.once);goog.exportProperty(ol.control.ZoomToExtent.prototype,'un',ol.control.ZoomToExtent.prototype.un);ol.VERSION='v4.6.5';OPENLAYERS.ol=ol;return OPENLAYERS.ol});